/*! For license information please see background.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=179)}([function(e,t,n){(function(e,r){var o;(function(){var a,i="Expected a function",s="__lodash_hash_undefined__",u="__lodash_placeholder__",c=16,l=32,p=64,d=128,f=256,h=1/0,g=9007199254740991,m=NaN,y=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",p],["rearg",f]],_="[object Arguments]",b="[object Array]",E="[object Boolean]",w="[object Date]",S="[object Error]",C="[object Function]",T="[object GeneratorFunction]",I="[object Map]",O="[object Number]",A="[object Object]",R="[object Promise]",P="[object RegExp]",D="[object Set]",x="[object String]",N="[object Symbol]",k="[object WeakMap]",M="[object ArrayBuffer]",L="[object DataView]",U="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",W="[object Int32Array]",V="[object Uint8Array]",H="[object Uint8ClampedArray]",q="[object Uint16Array]",K="[object Uint32Array]",G=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,J=RegExp(Y.source),Q=RegExp(X.source),Z=/<%-([\s\S]+?)%>/g,ee=/<%([\s\S]+?)%>/g,te=/<%=([\s\S]+?)%>/g,ne=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(ae.source),se=/^\s+/,ue=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,pe=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,_e=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,Ee=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ie="\\u2700-\\u27bf",Oe="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Re="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['’]",xe="[\\ud800-\\udfff]",Ne="["+Pe+"]",ke="["+Te+"]",Me="\\d+",Le="[\\u2700-\\u27bf]",Ue="["+Oe+"]",je="[^\\ud800-\\udfff"+Pe+Me+Ie+Oe+Ae+"]",Fe="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ae+"]",qe="(?:"+Ue+"|"+je+")",Ke="(?:"+He+"|"+je+")",Ge="(?:['’](?:d|ll|m|re|s|t|ve))?",ze="(?:['’](?:D|LL|M|RE|S|T|VE))?",$e="(?:"+ke+"|"+Fe+")"+"?",Ye="[\\ufe0e\\ufe0f]?",Xe=Ye+$e+("(?:\\u200d(?:"+[Be,We,Ve].join("|")+")"+Ye+$e+")*"),Je="(?:"+[Le,We,Ve].join("|")+")"+Xe,Qe="(?:"+[Be+ke+"?",ke,We,Ve,xe].join("|")+")",Ze=RegExp(De,"g"),et=RegExp(ke,"g"),tt=RegExp(Fe+"(?="+Fe+")|"+Qe+Xe,"g"),nt=RegExp([He+"?"+Ue+"+"+Ge+"(?="+[Ne,He,"$"].join("|")+")",Ke+"+"+ze+"(?="+[Ne,He+qe,"$"].join("|")+")",He+"?"+qe+"+"+Ge,He+"+"+ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Je].join("|"),"g"),rt=RegExp("[\\u200d\\ud800-\\udfff"+Te+Re+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,st={};st[U]=st[j]=st[F]=st[B]=st[W]=st[V]=st[H]=st[q]=st[K]=!0,st[_]=st[b]=st[M]=st[E]=st[L]=st[w]=st[S]=st[C]=st[I]=st[O]=st[A]=st[P]=st[D]=st[x]=st[k]=!1;var ut={};ut[_]=ut[b]=ut[M]=ut[L]=ut[E]=ut[w]=ut[U]=ut[j]=ut[F]=ut[B]=ut[W]=ut[I]=ut[O]=ut[A]=ut[P]=ut[D]=ut[x]=ut[N]=ut[V]=ut[H]=ut[q]=ut[K]=!0,ut[S]=ut[C]=ut[k]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,pt=parseInt,dt="object"==typeof e&&e&&e.Object===Object&&e,ft="object"==typeof self&&self&&self.Object===Object&&self,ht=dt||ft||Function("return this")(),gt=t&&!t.nodeType&&t,mt=gt&&"object"==typeof r&&r&&!r.nodeType&&r,yt=mt&&mt.exports===gt,vt=yt&&dt.process,_t=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(e){}}(),bt=_t&&_t.isArrayBuffer,Et=_t&&_t.isDate,wt=_t&&_t.isMap,St=_t&&_t.isRegExp,Ct=_t&&_t.isSet,Tt=_t&&_t.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t,n,r){for(var o=-1,a=null==e?0:e.length;++o<a;){var i=e[o];t(r,i,n(i),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}function xt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function kt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Mt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Lt(e,t,n,r){var o=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++o]);++o<a;)n=t(n,e[o],o,e);return n}function Ut(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Gt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Wt(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}function Vt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Wt(e,qt,n)}function Ht(e,t,n,r){for(var o=n-1,a=e.length;++o<a;)if(r(e[o],t))return o;return-1}function qt(e){return e!=e}function Kt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:m}function Gt(e){return function(t){return null==t?a:t[e]}}function zt(e){return function(t){return null==e?a:e[t]}}function $t(e,t,n,r,o){return o(e,(function(e,o,a){n=r?(r=!1,e):t(n,e,o,a)})),n}function Yt(e,t){for(var n,r=-1,o=e.length;++r<o;){var i=t(e[r]);i!==a&&(n=n===a?i:n+i)}return n}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,mn(e)+1).replace(se,""):e}function Qt(e){return function(t){return e(t)}}function Zt(e,t){return kt(t,(function(t){return e[t]}))}function en(e,t){return e.has(t)}function tn(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var on=zt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=zt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ct[e]}function un(e){return rt.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function pn(e,t){for(var n=-1,r=e.length,o=0,a=[];++n<r;){var i=e[n];i!==t&&i!==u||(e[n]=u,a[o++]=n)}return a}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return un(e)?function(e){var t=tt.lastIndex=0;for(;tt.test(e);)++t;return t}(e):Ft(e)}function gn(e){return un(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var yn=zt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var n,r=(t=null==t?ht:vn.defaults(ht.Object(),t,vn.pick(ht,at))).Array,o=t.Date,ue=t.Error,Te=t.Function,Ie=t.Math,Oe=t.Object,Ae=t.RegExp,Re=t.String,Pe=t.TypeError,De=r.prototype,xe=Te.prototype,Ne=Oe.prototype,ke=t["__core-js_shared__"],Me=xe.toString,Le=Ne.hasOwnProperty,Ue=0,je=(n=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Ne.toString,Be=Me.call(Oe),We=ht._,Ve=Ae("^"+Me.call(Le).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=yt?t.Buffer:a,qe=t.Symbol,Ke=t.Uint8Array,Ge=He?He.allocUnsafe:a,ze=ln(Oe.getPrototypeOf,Oe),$e=Oe.create,Ye=Ne.propertyIsEnumerable,Xe=De.splice,Je=qe?qe.isConcatSpreadable:a,Qe=qe?qe.iterator:a,tt=qe?qe.toStringTag:a,rt=function(){try{var e=ha(Oe,"defineProperty");return e({},"",{}),e}catch(e){}}(),ct=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,dt=o&&o.now!==ht.Date.now&&o.now,ft=t.setTimeout!==ht.setTimeout&&t.setTimeout,gt=Ie.ceil,mt=Ie.floor,vt=Oe.getOwnPropertySymbols,_t=He?He.isBuffer:a,Ft=t.isFinite,zt=De.join,_n=ln(Oe.keys,Oe),bn=Ie.max,En=Ie.min,wn=o.now,Sn=t.parseInt,Cn=Ie.random,Tn=De.reverse,In=ha(t,"DataView"),On=ha(t,"Map"),An=ha(t,"Promise"),Rn=ha(t,"Set"),Pn=ha(t,"WeakMap"),Dn=ha(Oe,"create"),xn=Pn&&new Pn,Nn={},kn=Wa(In),Mn=Wa(On),Ln=Wa(An),Un=Wa(Rn),jn=Wa(Pn),Fn=qe?qe.prototype:a,Bn=Fn?Fn.valueOf:a,Wn=Fn?Fn.toString:a;function Vn(e){if(os(e)&&!zi(e)&&!(e instanceof Gn)){if(e instanceof Kn)return e;if(Le.call(e,"__wrapped__"))return Va(e)}return new Kn(e)}var Hn=function(){function e(){}return function(t){if(!rs(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=a,n}}();function qn(){}function Kn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Jn(e){var t=this.__data__=new $n(e);this.size=t.size}function Qn(e,t){var n=zi(e),r=!n&&Gi(e),o=!n&&!r&&Ji(e),a=!n&&!r&&!o&&ds(e),i=n||r||o||a,s=i?Xt(e.length,Re):[],u=s.length;for(var c in e)!t&&!Le.call(e,c)||i&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ea(c,u))||s.push(c);return s}function Zn(e){var t=e.length;return t?e[Xr(0,t-1)]:a}function er(e,t){return ja(xo(e),cr(t,0,e.length))}function tr(e){return ja(xo(e))}function nr(e,t,n){(n!==a&&!Hi(e[t],n)||n===a&&!(t in e))&&sr(e,t,n)}function rr(e,t,n){var r=e[t];Le.call(e,t)&&Hi(r,n)&&(n!==a||t in e)||sr(e,t,n)}function or(e,t){for(var n=e.length;n--;)if(Hi(e[n][0],t))return n;return-1}function ar(e,t,n,r){return hr(e,(function(e,o,a){t(r,e,n(e),a)})),r}function ir(e,t){return e&&No(t,ks(t),e)}function sr(e,t,n){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var n=-1,o=t.length,i=r(o),s=null==e;++n<o;)i[n]=s?a:Rs(e,t[n]);return i}function cr(e,t,n){return e==e&&(n!==a&&(e=e<=n?e:n),t!==a&&(e=e>=t?e:t)),e}function lr(e,t,n,r,o,i){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=o?n(e,r,o,i):n(e)),s!==a)return s;if(!rs(e))return e;var p=zi(e);if(p){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return xo(e,s)}else{var d=ya(e),f=d==C||d==T;if(Ji(e))return Io(e,u);if(d==A||d==_||f&&!o){if(s=c||f?{}:_a(e),!u)return c?function(e,t){return No(e,ma(e),t)}(e,function(e,t){return e&&No(t,Ms(t),e)}(s,e)):function(e,t){return No(e,ga(e),t)}(e,ir(s,e))}else{if(!ut[d])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case M:return Oo(e);case E:case w:return new r(+e);case L:return function(e,t){var n=t?Oo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case U:case j:case F:case B:case W:case V:case H:case q:case K:return Ao(e,n);case I:return new r;case O:case x:return new r(e);case P:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case D:return new r;case N:return o=e,Bn?Oe(Bn.call(o)):{}}var o}(e,d,u)}}i||(i=new Jn);var h=i.get(e);if(h)return h;i.set(e,s),cs(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,i))})):as(e)&&e.forEach((function(r,o){s.set(o,lr(r,t,n,o,e,i))}));var g=p?a:(l?c?sa:ia:c?Ms:ks)(e);return At(g||e,(function(r,o){g&&(r=e[o=r]),rr(s,o,lr(r,t,n,o,e,i))})),s}function pr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Oe(e);r--;){var o=n[r],i=t[o],s=e[o];if(s===a&&!(o in e)||!i(s))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Pe(i);return ka((function(){e.apply(a,n)}),t)}function fr(e,t,n,r){var o=-1,a=xt,i=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=kt(t,Qt(n))),r?(a=Nt,i=!1):t.length>=200&&(a=en,i=!1,t=new Xn(t));e:for(;++o<s;){var l=e[o],p=null==n?l:n(l);if(l=r||0!==l?l:0,i&&p==p){for(var d=c;d--;)if(t[d]===p)continue e;u.push(l)}else a(t,p,r)||u.push(l)}return u}Vn.templateSettings={escape:Z,evaluate:ee,interpolate:te,variable:"",imports:{_:Vn}},Vn.prototype=qn.prototype,Vn.prototype.constructor=Vn,Kn.prototype=Hn(qn.prototype),Kn.prototype.constructor=Kn,Gn.prototype=Hn(qn.prototype),Gn.prototype.constructor=Gn,zn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zn.prototype.get=function(e){var t=this.__data__;if(Dn){var n=t[e];return n===s?a:n}return Le.call(t,e)?t[e]:a},zn.prototype.has=function(e){var t=this.__data__;return Dn?t[e]!==a:Le.call(t,e)},zn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Dn&&t===a?s:t,this},$n.prototype.clear=function(){this.__data__=[],this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=or(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},$n.prototype.get=function(e){var t=this.__data__,n=or(t,e);return n<0?a:t[n][1]},$n.prototype.has=function(e){return or(this.__data__,e)>-1},$n.prototype.set=function(e,t){var n=this.__data__,r=or(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(On||$n),string:new zn}},Yn.prototype.delete=function(e){var t=da(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return da(this,e).get(e)},Yn.prototype.has=function(e){return da(this,e).has(e)},Yn.prototype.set=function(e,t){var n=da(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,s),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.clear=function(){this.__data__=new $n,this.size=0},Jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Jn.prototype.get=function(e){return this.__data__.get(e)},Jn.prototype.has=function(e){return this.__data__.has(e)},Jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $n){var r=n.__data__;if(!On||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var hr=Lo(wr),gr=Lo(Sr,!0);function mr(e,t){var n=!0;return hr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function yr(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(null!=s&&(u===a?s==s&&!ps(s):n(s,u)))var u=s,c=i}return c}function vr(e,t){var n=[];return hr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function _r(e,t,n,r,o){var a=-1,i=e.length;for(n||(n=ba),o||(o=[]);++a<i;){var s=e[a];t>0&&n(s)?t>1?_r(s,t-1,n,r,o):Mt(o,s):r||(o[o.length]=s)}return o}var br=Uo(),Er=Uo(!0);function wr(e,t){return e&&br(e,t,ks)}function Sr(e,t){return e&&Er(e,t,ks)}function Cr(e,t){return Dt(t,(function(t){return es(e[t])}))}function Tr(e,t){for(var n=0,r=(t=wo(t,e)).length;null!=e&&n<r;)e=e[Ba(t[n++])];return n&&n==r?e:a}function Ir(e,t,n){var r=t(e);return zi(e)?r:Mt(r,n(e))}function Or(e){return null==e?e===a?"[object Undefined]":"[object Null]":tt&&tt in Oe(e)?function(e){var t=Le.call(e,tt),n=e[tt];try{e[tt]=a;var r=!0}catch(e){}var o=Fe.call(e);r&&(t?e[tt]=n:delete e[tt]);return o}(e):function(e){return Fe.call(e)}(e)}function Ar(e,t){return e>t}function Rr(e,t){return null!=e&&Le.call(e,t)}function Pr(e,t){return null!=e&&t in Oe(e)}function Dr(e,t,n){for(var o=n?Nt:xt,i=e[0].length,s=e.length,u=s,c=r(s),l=1/0,p=[];u--;){var d=e[u];u&&t&&(d=kt(d,Qt(t))),l=En(d.length,l),c[u]=!n&&(t||i>=120&&d.length>=120)?new Xn(u&&d):a}d=e[0];var f=-1,h=c[0];e:for(;++f<i&&p.length<l;){var g=d[f],m=t?t(g):g;if(g=n||0!==g?g:0,!(h?en(h,m):o(p,m,n))){for(u=s;--u;){var y=c[u];if(!(y?en(y,m):o(e[u],m,n)))continue e}h&&h.push(m),p.push(g)}}return p}function xr(e,t,n){var r=null==(e=Pa(e,t=wo(t,e)))?e:e[Ba(Za(t))];return null==r?a:It(r,e,n)}function Nr(e){return os(e)&&Or(e)==_}function kr(e,t,n,r,o){return e===t||(null==e||null==t||!os(e)&&!os(t)?e!=e&&t!=t:function(e,t,n,r,o,i){var s=zi(e),u=zi(t),c=s?b:ya(e),l=u?b:ya(t),p=(c=c==_?A:c)==A,d=(l=l==_?A:l)==A,f=c==l;if(f&&Ji(e)){if(!Ji(t))return!1;s=!0,p=!1}if(f&&!p)return i||(i=new Jn),s||ds(e)?oa(e,t,n,r,o,i):function(e,t,n,r,o,a,i){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!a(new Ke(e),new Ke(t)));case E:case w:case O:return Hi(+e,+t);case S:return e.name==t.name&&e.message==t.message;case P:case x:return e==t+"";case I:var s=cn;case D:var u=1&r;if(s||(s=dn),e.size!=t.size&&!u)return!1;var c=i.get(e);if(c)return c==t;r|=2,i.set(e,t);var l=oa(s(e),s(t),r,o,a,i);return i.delete(e),l;case N:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,c,n,r,o,i);if(!(1&n)){var h=p&&Le.call(e,"__wrapped__"),g=d&&Le.call(t,"__wrapped__");if(h||g){var m=h?e.value():e,y=g?t.value():t;return i||(i=new Jn),o(m,y,n,r,i)}}if(!f)return!1;return i||(i=new Jn),function(e,t,n,r,o,i){var s=1&n,u=ia(e),c=u.length,l=ia(t).length;if(c!=l&&!s)return!1;var p=c;for(;p--;){var d=u[p];if(!(s?d in t:Le.call(t,d)))return!1}var f=i.get(e),h=i.get(t);if(f&&h)return f==t&&h==e;var g=!0;i.set(e,t),i.set(t,e);var m=s;for(;++p<c;){var y=e[d=u[p]],v=t[d];if(r)var _=s?r(v,y,d,t,e,i):r(y,v,d,e,t,i);if(!(_===a?y===v||o(y,v,n,r,i):_)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var b=e.constructor,E=t.constructor;b==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(g=!1)}return i.delete(e),i.delete(t),g}(e,t,n,r,o,i)}(e,t,n,r,kr,o))}function Mr(e,t,n,r){var o=n.length,i=o,s=!r;if(null==e)return!i;for(e=Oe(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){var c=(u=n[o])[0],l=e[c],p=u[1];if(s&&u[2]){if(l===a&&!(c in e))return!1}else{var d=new Jn;if(r)var f=r(l,p,c,e,t,d);if(!(f===a?kr(p,l,3,r,d):f))return!1}}return!0}function Lr(e){return!(!rs(e)||(t=e,je&&je in t))&&(es(e)?Ve:_e).test(Wa(e));var t}function Ur(e){return"function"==typeof e?e:null==e?iu:"object"==typeof e?zi(e)?Hr(e[0],e[1]):Vr(e):gu(e)}function jr(e){if(!Ia(e))return _n(e);var t=[];for(var n in Oe(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in Oe(e))t.push(n);return t}(e);var t=Ia(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function Wr(e,t){var n=-1,o=Yi(e)?r(e.length):[];return hr(e,(function(e,r,a){o[++n]=t(e,r,a)})),o}function Vr(e){var t=fa(e);return 1==t.length&&t[0][2]?Aa(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Hr(e,t){return Sa(e)&&Oa(t)?Aa(Ba(e),t):function(n){var r=Rs(n,e);return r===a&&r===t?Ps(n,e):kr(t,r,3)}}function qr(e,t,n,r,o){e!==t&&br(t,(function(i,s){if(o||(o=new Jn),rs(i))!function(e,t,n,r,o,i,s){var u=xa(e,n),c=xa(t,n),l=s.get(c);if(l)return void nr(e,n,l);var p=i?i(u,c,n+"",e,t,s):a,d=p===a;if(d){var f=zi(c),h=!f&&Ji(c),g=!f&&!h&&ds(c);p=c,f||h||g?zi(u)?p=u:Xi(u)?p=xo(u):h?(d=!1,p=Io(c,!0)):g?(d=!1,p=Ao(c,!0)):p=[]:ss(c)||Gi(c)?(p=u,Gi(u)?p=bs(u):rs(u)&&!es(u)||(p=_a(c))):d=!1}d&&(s.set(c,p),o(p,c,r,i,s),s.delete(c));nr(e,n,p)}(e,t,s,n,qr,r,o);else{var u=r?r(xa(e,s),i,s+"",e,t,o):a;u===a&&(u=i),nr(e,s,u)}}),Ms)}function Kr(e,t){var n=e.length;if(n)return Ea(t+=t<0?n:0,n)?e[t]:a}function Gr(e,t,n){t=t.length?kt(t,(function(e){return zi(e)?function(t){return Tr(t,1===e.length?e[0]:e)}:e})):[iu];var r=-1;t=kt(t,Qt(pa()));var o=Wr(e,(function(e,n,o){var a=kt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,a=t.criteria,i=o.length,s=n.length;for(;++r<i;){var u=Ro(o[r],a[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function zr(e,t,n){for(var r=-1,o=t.length,a={};++r<o;){var i=t[r],s=Tr(e,i);n(s,i)&&to(a,wo(i,e),s)}return a}function $r(e,t,n,r){var o=r?Ht:Vt,a=-1,i=t.length,s=e;for(e===t&&(t=xo(t)),n&&(s=kt(e,Qt(n)));++a<i;)for(var u=0,c=t[a],l=n?n(c):c;(u=o(s,l,u,r))>-1;)s!==e&&Xe.call(s,u,1),Xe.call(e,u,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==a){var a=o;Ea(o)?Xe.call(e,o,1):ho(e,o)}}return e}function Xr(e,t){return e+mt(Cn()*(t-e+1))}function Jr(e,t){var n="";if(!e||t<1||t>g)return n;do{t%2&&(n+=e),(t=mt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Ma(Ra(e,t,iu),e+"")}function Zr(e){return Zn(Hs(e))}function eo(e,t){var n=Hs(e);return ja(n,cr(t,0,n.length))}function to(e,t,n,r){if(!rs(e))return e;for(var o=-1,i=(t=wo(t,e)).length,s=i-1,u=e;null!=u&&++o<i;){var c=Ba(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var p=u[c];(l=r?r(p,c,u):a)===a&&(l=rs(p)?p:Ea(t[o+1])?[]:{})}rr(u,c,l),u=u[c]}return e}var no=xn?function(e,t){return xn.set(e,t),e}:iu,ro=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:ru(t),writable:!0})}:iu;function oo(e){return ja(Hs(e))}function ao(e,t,n){var o=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=r(a);++o<a;)i[o]=e[o+t];return i}function io(e,t){var n;return hr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function so(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var a=r+o>>>1,i=e[a];null!==i&&!ps(i)&&(n?i<=t:i<t)?r=a+1:o=a}return o}return uo(e,t,iu,n)}function uo(e,t,n,r){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var s=(t=n(t))!=t,u=null===t,c=ps(t),l=t===a;o<i;){var p=mt((o+i)/2),d=n(e[p]),f=d!==a,h=null===d,g=d==d,m=ps(d);if(s)var y=r||g;else y=l?g&&(r||f):u?g&&f&&(r||!h):c?g&&f&&!h&&(r||!m):!h&&!m&&(r?d<=t:d<t);y?o=p+1:i=p}return En(i,4294967294)}function co(e,t){for(var n=-1,r=e.length,o=0,a=[];++n<r;){var i=e[n],s=t?t(i):i;if(!n||!Hi(s,u)){var u=s;a[o++]=0===i?0:i}}return a}function lo(e){return"number"==typeof e?e:ps(e)?m:+e}function po(e){if("string"==typeof e)return e;if(zi(e))return kt(e,po)+"";if(ps(e))return Wn?Wn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fo(e,t,n){var r=-1,o=xt,a=e.length,i=!0,s=[],u=s;if(n)i=!1,o=Nt;else if(a>=200){var c=t?null:Qo(e);if(c)return dn(c);i=!1,o=en,u=new Xn}else u=t?[]:s;e:for(;++r<a;){var l=e[r],p=t?t(l):l;if(l=n||0!==l?l:0,i&&p==p){for(var d=u.length;d--;)if(u[d]===p)continue e;t&&u.push(p),s.push(l)}else o(u,p,n)||(u!==s&&u.push(p),s.push(l))}return s}function ho(e,t){return null==(e=Pa(e,t=wo(t,e)))||delete e[Ba(Za(t))]}function go(e,t,n,r){return to(e,t,n(Tr(e,t)),r)}function mo(e,t,n,r){for(var o=e.length,a=r?o:-1;(r?a--:++a<o)&&t(e[a],a,e););return n?ao(e,r?0:a,r?a+1:o):ao(e,r?a+1:0,r?o:a)}function yo(e,t){var n=e;return n instanceof Gn&&(n=n.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),n)}function vo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var a=-1,i=r(o);++a<o;)for(var s=e[a],u=-1;++u<o;)u!=a&&(i[a]=fr(i[a]||s,e[u],t,n));return fo(_r(i,1),t,n)}function _o(e,t,n){for(var r=-1,o=e.length,i=t.length,s={};++r<o;){var u=r<i?t[r]:a;n(s,e[r],u)}return s}function bo(e){return Xi(e)?e:[]}function Eo(e){return"function"==typeof e?e:iu}function wo(e,t){return zi(e)?e:Sa(e,t)?[e]:Fa(Es(e))}var So=Qr;function Co(e,t,n){var r=e.length;return n=n===a?r:n,!t&&n>=r?e:ao(e,t,n)}var To=ct||function(e){return ht.clearTimeout(e)};function Io(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function Oo(e){var t=new e.constructor(e.byteLength);return new Ke(t).set(new Ke(e)),t}function Ao(e,t){var n=t?Oo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ro(e,t){if(e!==t){var n=e!==a,r=null===e,o=e==e,i=ps(e),s=t!==a,u=null===t,c=t==t,l=ps(t);if(!u&&!l&&!i&&e>t||i&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!l&&e<t||l&&n&&o&&!r&&!i||u&&n&&o||!s&&o||!c)return-1}return 0}function Po(e,t,n,o){for(var a=-1,i=e.length,s=n.length,u=-1,c=t.length,l=bn(i-s,0),p=r(c+l),d=!o;++u<c;)p[u]=t[u];for(;++a<s;)(d||a<i)&&(p[n[a]]=e[a]);for(;l--;)p[u++]=e[a++];return p}function Do(e,t,n,o){for(var a=-1,i=e.length,s=-1,u=n.length,c=-1,l=t.length,p=bn(i-u,0),d=r(p+l),f=!o;++a<p;)d[a]=e[a];for(var h=a;++c<l;)d[h+c]=t[c];for(;++s<u;)(f||a<i)&&(d[h+n[s]]=e[a++]);return d}function xo(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function No(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var u=t[i],c=r?r(n[u],e[u],u,n,e):a;c===a&&(c=e[u]),o?sr(n,u,c):rr(n,u,c)}return n}function ko(e,t){return function(n,r){var o=zi(n)?Ot:ar,a=t?t():{};return o(n,e,pa(r,2),a)}}function Mo(e){return Qr((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:a,s=o>2?n[2]:a;for(i=e.length>3&&"function"==typeof i?(o--,i):a,s&&wa(n[0],n[1],s)&&(i=o<3?a:i,o=1),t=Oe(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t}))}function Lo(e,t){return function(n,r){if(null==n)return n;if(!Yi(n))return e(n,r);for(var o=n.length,a=t?o:-1,i=Oe(n);(t?a--:++a<o)&&!1!==r(i[a],a,i););return n}}function Uo(e){return function(t,n,r){for(var o=-1,a=Oe(t),i=r(t),s=i.length;s--;){var u=i[e?s:++o];if(!1===n(a[u],u,a))break}return t}}function jo(e){return function(t){var n=un(t=Es(t))?gn(t):a,r=n?n[0]:t.charAt(0),o=n?Co(n,1).join(""):t.slice(1);return r[e]()+o}}function Fo(e){return function(t){return Lt(eu(Gs(t).replace(Ze,"")),e,"")}}function Bo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Hn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function Wo(e){return function(t,n,r){var o=Oe(t);if(!Yi(t)){var i=pa(n,3);t=ks(t),n=function(e){return i(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:a}}function Vo(e){return aa((function(t){var n=t.length,r=n,o=Kn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Pe(i);if(o&&!u&&"wrapper"==ca(s))var u=new Kn([],!0)}for(r=u?r:n;++r<n;){var c=ca(s=t[r]),l="wrapper"==c?ua(s):a;u=l&&Ca(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ca(l[0])].apply(u,l[3]):1==s.length&&Ca(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&zi(r))return u.plant(r).value();for(var o=0,a=n?t[o].apply(this,e):r;++o<n;)a=t[o].call(this,a);return a}}))}function Ho(e,t,n,o,i,s,u,c,l,p){var f=t&d,h=1&t,g=2&t,m=24&t,y=512&t,v=g?a:Bo(e);return function a(){for(var d=arguments.length,_=r(d),b=d;b--;)_[b]=arguments[b];if(m)var E=la(a),w=rn(_,E);if(o&&(_=Po(_,o,i,m)),s&&(_=Do(_,s,u,m)),d-=w,m&&d<p){var S=pn(_,E);return Xo(e,t,Ho,a.placeholder,n,_,S,c,l,p-d)}var C=h?n:this,T=g?C[e]:e;return d=_.length,c?_=Da(_,c):y&&d>1&&_.reverse(),f&&l<d&&(_.length=l),this&&this!==ht&&this instanceof a&&(T=v||Bo(T)),T.apply(C,_)}}function qo(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,o,a){t(r,n(e),o,a)})),r}(n,e,t(r),{})}}function Ko(e,t){return function(n,r){var o;if(n===a&&r===a)return t;if(n!==a&&(o=n),r!==a){if(o===a)return r;"string"==typeof n||"string"==typeof r?(n=po(n),r=po(r)):(n=lo(n),r=lo(r)),o=e(n,r)}return o}}function Go(e){return aa((function(t){return t=kt(t,Qt(pa())),Qr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function zo(e,t){var n=(t=t===a?" ":po(t)).length;if(n<2)return n?Jr(t,e):t;var r=Jr(t,gt(e/hn(t)));return un(t)?Co(gn(r),0,e).join(""):r.slice(0,e)}function $o(e){return function(t,n,o){return o&&"number"!=typeof o&&wa(t,n,o)&&(n=o=a),t=ms(t),n===a?(n=t,t=0):n=ms(n),function(e,t,n,o){for(var a=-1,i=bn(gt((t-e)/(n||1)),0),s=r(i);i--;)s[o?i:++a]=e,e+=n;return s}(t,n,o=o===a?t<n?1:-1:ms(o),e)}}function Yo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=_s(t),n=_s(n)),e(t,n)}}function Xo(e,t,n,r,o,i,s,u,c,d){var f=8&t;t|=f?l:p,4&(t&=~(f?p:l))||(t&=-4);var h=[e,t,o,f?i:a,f?s:a,f?a:i,f?a:s,u,c,d],g=n.apply(a,h);return Ca(e)&&Na(g,h),g.placeholder=r,La(g,e,t)}function Jo(e){var t=Ie[e];return function(e,n){if(e=_s(e),(n=null==n?0:En(ys(n),292))&&Ft(e)){var r=(Es(e)+"e").split("e");return+((r=(Es(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qo=Rn&&1/dn(new Rn([,-0]))[1]==h?function(e){return new Rn(e)}:pu;function Zo(e){return function(t){var n=ya(t);return n==I?cn(t):n==D?fn(t):function(e,t){return kt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function ea(e,t,n,o,s,h,g,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Pe(i);var v=o?o.length:0;if(v||(t&=-97,o=s=a),g=g===a?g:bn(ys(g),0),m=m===a?m:ys(m),v-=s?s.length:0,t&p){var _=o,b=s;o=s=a}var E=y?a:ua(e),w=[e,t,n,o,s,_,b,h,g,m];if(E&&function(e,t){var n=e[1],r=t[1],o=n|r,a=o<131,i=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!i)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Po(c,s,t[4]):s,e[4]=c?pn(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Do(c,s,t[6]):s,e[6]=c?pn(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&d&&(e[8]=null==e[8]?t[8]:En(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(w,E),e=w[0],t=w[1],n=w[2],o=w[3],s=w[4],!(m=w[9]=w[9]===a?y?0:e.length:bn(w[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==c?function(e,t,n){var o=Bo(e);return function i(){for(var s=arguments.length,u=r(s),c=s,l=la(i);c--;)u[c]=arguments[c];var p=s<3&&u[0]!==l&&u[s-1]!==l?[]:pn(u,l);return(s-=p.length)<n?Xo(e,t,Ho,i.placeholder,a,u,p,a,a,n-s):It(this&&this!==ht&&this instanceof i?o:e,this,u)}}(e,t,m):t!=l&&33!=t||s.length?Ho.apply(a,w):function(e,t,n,o){var a=1&t,i=Bo(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=o.length,p=r(l+u),d=this&&this!==ht&&this instanceof t?i:e;++c<l;)p[c]=o[c];for(;u--;)p[c++]=arguments[++s];return It(d,a?n:this,p)}}(e,t,n,o);else var S=function(e,t,n){var r=1&t,o=Bo(e);return function t(){return(this&&this!==ht&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return La((E?no:Na)(S,w),e,t)}function ta(e,t,n,r){return e===a||Hi(e,Ne[n])&&!Le.call(r,n)?t:e}function na(e,t,n,r,o,i){return rs(e)&&rs(t)&&(i.set(t,e),qr(e,t,a,na,i),i.delete(t)),e}function ra(e){return ss(e)?a:e}function oa(e,t,n,r,o,i){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=i.get(e),p=i.get(t);if(l&&p)return l==t&&p==e;var d=-1,f=!0,h=2&n?new Xn:a;for(i.set(e,t),i.set(t,e);++d<u;){var g=e[d],m=t[d];if(r)var y=s?r(m,g,d,t,e,i):r(g,m,d,e,t,i);if(y!==a){if(y)continue;f=!1;break}if(h){if(!jt(t,(function(e,t){if(!en(h,t)&&(g===e||o(g,e,n,r,i)))return h.push(t)}))){f=!1;break}}else if(g!==m&&!o(g,m,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f}function aa(e){return Ma(Ra(e,a,$a),e+"")}function ia(e){return Ir(e,ks,ga)}function sa(e){return Ir(e,Ms,ma)}var ua=xn?function(e){return xn.get(e)}:pu;function ca(e){for(var t=e.name+"",n=Nn[t],r=Le.call(Nn,t)?n.length:0;r--;){var o=n[r],a=o.func;if(null==a||a==e)return o.name}return t}function la(e){return(Le.call(Vn,"placeholder")?Vn:e).placeholder}function pa(){var e=Vn.iteratee||su;return e=e===su?Ur:e,arguments.length?e(arguments[0],arguments[1]):e}function da(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function fa(e){for(var t=ks(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Oa(o)]}return t}function ha(e,t){var n=function(e,t){return null==e?a:e[t]}(e,t);return Lr(n)?n:a}var ga=vt?function(e){return null==e?[]:(e=Oe(e),Dt(vt(e),(function(t){return Ye.call(e,t)})))}:vu,ma=vt?function(e){for(var t=[];e;)Mt(t,ga(e)),e=ze(e);return t}:vu,ya=Or;function va(e,t,n){for(var r=-1,o=(t=wo(t,e)).length,a=!1;++r<o;){var i=Ba(t[r]);if(!(a=null!=e&&n(e,i)))break;e=e[i]}return a||++r!=o?a:!!(o=null==e?0:e.length)&&ns(o)&&Ea(i,o)&&(zi(e)||Gi(e))}function _a(e){return"function"!=typeof e.constructor||Ia(e)?{}:Hn(ze(e))}function ba(e){return zi(e)||Gi(e)||!!(Je&&e&&e[Je])}function Ea(e,t){var n=typeof e;return!!(t=null==t?g:t)&&("number"==n||"symbol"!=n&&Ee.test(e))&&e>-1&&e%1==0&&e<t}function wa(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?Yi(n)&&Ea(t,n.length):"string"==r&&t in n)&&Hi(n[t],e)}function Sa(e,t){if(zi(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ps(e))||(re.test(e)||!ne.test(e)||null!=t&&e in Oe(t))}function Ca(e){var t=ca(e),n=Vn[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=ua(n);return!!r&&e===r[0]}(In&&ya(new In(new ArrayBuffer(1)))!=L||On&&ya(new On)!=I||An&&ya(An.resolve())!=R||Rn&&ya(new Rn)!=D||Pn&&ya(new Pn)!=k)&&(ya=function(e){var t=Or(e),n=t==A?e.constructor:a,r=n?Wa(n):"";if(r)switch(r){case kn:return L;case Mn:return I;case Ln:return R;case Un:return D;case jn:return k}return t});var Ta=ke?es:_u;function Ia(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function Oa(e){return e==e&&!rs(e)}function Aa(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==a||e in Oe(n)))}}function Ra(e,t,n){return t=bn(t===a?e.length-1:t,0),function(){for(var o=arguments,a=-1,i=bn(o.length-t,0),s=r(i);++a<i;)s[a]=o[t+a];a=-1;for(var u=r(t+1);++a<t;)u[a]=o[a];return u[t]=n(s),It(e,this,u)}}function Pa(e,t){return t.length<2?e:Tr(e,ao(t,0,-1))}function Da(e,t){for(var n=e.length,r=En(t.length,n),o=xo(e);r--;){var i=t[r];e[r]=Ea(i,n)?o[i]:a}return e}function xa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Na=Ua(no),ka=ft||function(e,t){return ht.setTimeout(e,t)},Ma=Ua(ro);function La(e,t,n){var r=t+"";return Ma(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(v,(function(n){var r="_."+n[0];t&n[1]&&!xt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(pe):[]}(r),n)))}function Ua(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function ja(e,t){var n=-1,r=e.length,o=r-1;for(t=t===a?r:t;++n<t;){var i=Xr(n,o),s=e[i];e[i]=e[n],e[n]=s}return e.length=t,e}var Fa=function(e){var t=Ui(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(oe,(function(e,n,r,o){t.push(r?o.replace(he,"$1"):n||e)})),t}));function Ba(e){if("string"==typeof e||ps(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wa(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Va(e){if(e instanceof Gn)return e.clone();var t=new Kn(e.__wrapped__,e.__chain__);return t.__actions__=xo(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ha=Qr((function(e,t){return Xi(e)?fr(e,_r(t,1,Xi,!0)):[]})),qa=Qr((function(e,t){var n=Za(t);return Xi(n)&&(n=a),Xi(e)?fr(e,_r(t,1,Xi,!0),pa(n,2)):[]})),Ka=Qr((function(e,t){var n=Za(t);return Xi(n)&&(n=a),Xi(e)?fr(e,_r(t,1,Xi,!0),a,n):[]}));function Ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ys(n);return o<0&&(o=bn(r+o,0)),Wt(e,pa(t,3),o)}function za(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==a&&(o=ys(n),o=n<0?bn(r+o,0):En(o,r-1)),Wt(e,pa(t,3),o,!0)}function $a(e){return(null==e?0:e.length)?_r(e,1):[]}function Ya(e){return e&&e.length?e[0]:a}var Xa=Qr((function(e){var t=kt(e,bo);return t.length&&t[0]===e[0]?Dr(t):[]})),Ja=Qr((function(e){var t=Za(e),n=kt(e,bo);return t===Za(n)?t=a:n.pop(),n.length&&n[0]===e[0]?Dr(n,pa(t,2)):[]})),Qa=Qr((function(e){var t=Za(e),n=kt(e,bo);return(t="function"==typeof t?t:a)&&n.pop(),n.length&&n[0]===e[0]?Dr(n,a,t):[]}));function Za(e){var t=null==e?0:e.length;return t?e[t-1]:a}var ei=Qr(ti);function ti(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}var ni=aa((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Yr(e,kt(t,(function(e){return Ea(e,n)?+e:e})).sort(Ro)),r}));function ri(e){return null==e?e:Tn.call(e)}var oi=Qr((function(e){return fo(_r(e,1,Xi,!0))})),ai=Qr((function(e){var t=Za(e);return Xi(t)&&(t=a),fo(_r(e,1,Xi,!0),pa(t,2))})),ii=Qr((function(e){var t=Za(e);return t="function"==typeof t?t:a,fo(_r(e,1,Xi,!0),a,t)}));function si(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Xi(e))return t=bn(e.length,t),!0})),Xt(t,(function(t){return kt(e,Gt(t))}))}function ui(e,t){if(!e||!e.length)return[];var n=si(e);return null==t?n:kt(n,(function(e){return It(t,a,e)}))}var ci=Qr((function(e,t){return Xi(e)?fr(e,t):[]})),li=Qr((function(e){return vo(Dt(e,Xi))})),pi=Qr((function(e){var t=Za(e);return Xi(t)&&(t=a),vo(Dt(e,Xi),pa(t,2))})),di=Qr((function(e){var t=Za(e);return t="function"==typeof t?t:a,vo(Dt(e,Xi),a,t)})),fi=Qr(si);var hi=Qr((function(e){var t=e.length,n=t>1?e[t-1]:a;return n="function"==typeof n?(e.pop(),n):a,ui(e,n)}));function gi(e){var t=Vn(e);return t.__chain__=!0,t}function mi(e,t){return t(e)}var yi=aa((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Gn&&Ea(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:mi,args:[o],thisArg:a}),new Kn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(a),e}))):this.thru(o)}));var vi=ko((function(e,t,n){Le.call(e,n)?++e[n]:sr(e,n,1)}));var _i=Wo(Ga),bi=Wo(za);function Ei(e,t){return(zi(e)?At:hr)(e,pa(t,3))}function wi(e,t){return(zi(e)?Rt:gr)(e,pa(t,3))}var Si=ko((function(e,t,n){Le.call(e,n)?e[n].push(t):sr(e,n,[t])}));var Ci=Qr((function(e,t,n){var o=-1,a="function"==typeof t,i=Yi(e)?r(e.length):[];return hr(e,(function(e){i[++o]=a?It(t,e,n):xr(e,t,n)})),i})),Ti=ko((function(e,t,n){sr(e,n,t)}));function Ii(e,t){return(zi(e)?kt:Wr)(e,pa(t,3))}var Oi=ko((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ai=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wa(e,t[0],t[1])?t=[]:n>2&&wa(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,_r(t,1),[])})),Ri=dt||function(){return ht.Date.now()};function Pi(e,t,n){return t=n?a:t,t=e&&null==t?e.length:t,ea(e,d,a,a,a,a,t)}function Di(e,t){var n;if("function"!=typeof t)throw new Pe(i);return e=ys(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=a),n}}var xi=Qr((function(e,t,n){var r=1;if(n.length){var o=pn(n,la(xi));r|=l}return ea(e,r,t,n,o)})),Ni=Qr((function(e,t,n){var r=3;if(n.length){var o=pn(n,la(Ni));r|=l}return ea(t,r,e,n,o)}));function ki(e,t,n){var r,o,s,u,c,l,p=0,d=!1,f=!1,h=!0;if("function"!=typeof e)throw new Pe(i);function g(t){var n=r,i=o;return r=o=a,p=t,u=e.apply(i,n)}function m(e){return p=e,c=ka(v,t),d?g(e):u}function y(e){var n=e-l;return l===a||n>=t||n<0||f&&e-p>=s}function v(){var e=Ri();if(y(e))return _(e);c=ka(v,function(e){var n=t-(e-l);return f?En(n,s-(e-p)):n}(e))}function _(e){return c=a,h&&r?g(e):(r=o=a,u)}function b(){var e=Ri(),n=y(e);if(r=arguments,o=this,l=e,n){if(c===a)return m(l);if(f)return To(c),c=ka(v,t),g(l)}return c===a&&(c=ka(v,t)),u}return t=_s(t)||0,rs(n)&&(d=!!n.leading,s=(f="maxWait"in n)?bn(_s(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),b.cancel=function(){c!==a&&To(c),p=0,r=l=o=c=a},b.flush=function(){return c===a?u:_(Ri())},b}var Mi=Qr((function(e,t){return dr(e,1,t)})),Li=Qr((function(e,t,n){return dr(e,_s(t)||0,n)}));function Ui(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(Ui.Cache||Yn),n}function ji(e){if("function"!=typeof e)throw new Pe(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ui.Cache=Yn;var Fi=So((function(e,t){var n=(t=1==t.length&&zi(t[0])?kt(t[0],Qt(pa())):kt(_r(t,1),Qt(pa()))).length;return Qr((function(r){for(var o=-1,a=En(r.length,n);++o<a;)r[o]=t[o].call(this,r[o]);return It(e,this,r)}))})),Bi=Qr((function(e,t){var n=pn(t,la(Bi));return ea(e,l,a,t,n)})),Wi=Qr((function(e,t){var n=pn(t,la(Wi));return ea(e,p,a,t,n)})),Vi=aa((function(e,t){return ea(e,f,a,a,a,t)}));function Hi(e,t){return e===t||e!=e&&t!=t}var qi=Yo(Ar),Ki=Yo((function(e,t){return e>=t})),Gi=Nr(function(){return arguments}())?Nr:function(e){return os(e)&&Le.call(e,"callee")&&!Ye.call(e,"callee")},zi=r.isArray,$i=bt?Qt(bt):function(e){return os(e)&&Or(e)==M};function Yi(e){return null!=e&&ns(e.length)&&!es(e)}function Xi(e){return os(e)&&Yi(e)}var Ji=_t||_u,Qi=Et?Qt(Et):function(e){return os(e)&&Or(e)==w};function Zi(e){if(!os(e))return!1;var t=Or(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=Or(e);return t==C||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==ys(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=g}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function os(e){return null!=e&&"object"==typeof e}var as=wt?Qt(wt):function(e){return os(e)&&ya(e)==I};function is(e){return"number"==typeof e||os(e)&&Or(e)==O}function ss(e){if(!os(e)||Or(e)!=A)return!1;var t=ze(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Be}var us=St?Qt(St):function(e){return os(e)&&Or(e)==P};var cs=Ct?Qt(Ct):function(e){return os(e)&&ya(e)==D};function ls(e){return"string"==typeof e||!zi(e)&&os(e)&&Or(e)==x}function ps(e){return"symbol"==typeof e||os(e)&&Or(e)==N}var ds=Tt?Qt(Tt):function(e){return os(e)&&ns(e.length)&&!!st[Or(e)]};var fs=Yo(Br),hs=Yo((function(e,t){return e<=t}));function gs(e){if(!e)return[];if(Yi(e))return ls(e)?gn(e):xo(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=ya(e);return(t==I?cn:t==D?dn:Hs)(e)}function ms(e){return e?(e=_s(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ys(e){var t=ms(e),n=t%1;return t==t?n?t-n:t:0}function vs(e){return e?cr(ys(e),0,y):0}function _s(e){if("number"==typeof e)return e;if(ps(e))return m;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ve.test(e);return n||be.test(e)?pt(e.slice(2),n?2:8):ye.test(e)?m:+e}function bs(e){return No(e,Ms(e))}function Es(e){return null==e?"":po(e)}var ws=Mo((function(e,t){if(Ia(t)||Yi(t))No(t,ks(t),e);else for(var n in t)Le.call(t,n)&&rr(e,n,t[n])})),Ss=Mo((function(e,t){No(t,Ms(t),e)})),Cs=Mo((function(e,t,n,r){No(t,Ms(t),e,r)})),Ts=Mo((function(e,t,n,r){No(t,ks(t),e,r)})),Is=aa(ur);var Os=Qr((function(e,t){e=Oe(e);var n=-1,r=t.length,o=r>2?t[2]:a;for(o&&wa(t[0],t[1],o)&&(r=1);++n<r;)for(var i=t[n],s=Ms(i),u=-1,c=s.length;++u<c;){var l=s[u],p=e[l];(p===a||Hi(p,Ne[l])&&!Le.call(e,l))&&(e[l]=i[l])}return e})),As=Qr((function(e){return e.push(a,na),It(Us,a,e)}));function Rs(e,t,n){var r=null==e?a:Tr(e,t);return r===a?n:r}function Ps(e,t){return null!=e&&va(e,t,Pr)}var Ds=qo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),ru(iu)),xs=qo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),pa),Ns=Qr(xr);function ks(e){return Yi(e)?Qn(e):jr(e)}function Ms(e){return Yi(e)?Qn(e,!0):Fr(e)}var Ls=Mo((function(e,t,n){qr(e,t,n)})),Us=Mo((function(e,t,n,r){qr(e,t,n,r)})),js=aa((function(e,t){var n={};if(null==e)return n;var r=!1;t=kt(t,(function(t){return t=wo(t,e),r||(r=t.length>1),t})),No(e,sa(e),n),r&&(n=lr(n,7,ra));for(var o=t.length;o--;)ho(n,t[o]);return n}));var Fs=aa((function(e,t){return null==e?{}:function(e,t){return zr(e,t,(function(t,n){return Ps(e,n)}))}(e,t)}));function Bs(e,t){if(null==e)return{};var n=kt(sa(e),(function(e){return[e]}));return t=pa(t),zr(e,n,(function(e,n){return t(e,n[0])}))}var Ws=Zo(ks),Vs=Zo(Ms);function Hs(e){return null==e?[]:Zt(e,ks(e))}var qs=Fo((function(e,t,n){return t=t.toLowerCase(),e+(n?Ks(t):t)}));function Ks(e){return Zs(Es(e).toLowerCase())}function Gs(e){return(e=Es(e))&&e.replace(we,on).replace(et,"")}var zs=Fo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),$s=Fo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=jo("toLowerCase");var Xs=Fo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Js=Fo((function(e,t,n){return e+(n?" ":"")+Zs(t)}));var Qs=Fo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zs=jo("toUpperCase");function eu(e,t,n){return e=Es(e),(t=n?a:t)===a?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var tu=Qr((function(e,t){try{return It(e,a,t)}catch(e){return Zi(e)?e:new ue(e)}})),nu=aa((function(e,t){return At(t,(function(t){t=Ba(t),sr(e,t,xi(e[t],e))})),e}));function ru(e){return function(){return e}}var ou=Vo(),au=Vo(!0);function iu(e){return e}function su(e){return Ur("function"==typeof e?e:lr(e,1))}var uu=Qr((function(e,t){return function(n){return xr(n,e,t)}})),cu=Qr((function(e,t){return function(n){return xr(e,n,t)}}));function lu(e,t,n){var r=ks(t),o=Cr(t,r);null!=n||rs(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Cr(t,ks(t)));var a=!(rs(n)&&"chain"in n&&!n.chain),i=es(e);return At(o,(function(n){var r=t[n];e[n]=r,i&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),o=n.__actions__=xo(this.__actions__);return o.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Mt([this.value()],arguments))})})),e}function pu(){}var du=Go(kt),fu=Go(Pt),hu=Go(jt);function gu(e){return Sa(e)?Gt(Ba(e)):function(e){return function(t){return Tr(t,e)}}(e)}var mu=$o(),yu=$o(!0);function vu(){return[]}function _u(){return!1}var bu=Ko((function(e,t){return e+t}),0),Eu=Jo("ceil"),wu=Ko((function(e,t){return e/t}),1),Su=Jo("floor");var Cu,Tu=Ko((function(e,t){return e*t}),1),Iu=Jo("round"),Ou=Ko((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new Pe(i);return e=ys(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Pi,Vn.assign=ws,Vn.assignIn=Ss,Vn.assignInWith=Cs,Vn.assignWith=Ts,Vn.at=Is,Vn.before=Di,Vn.bind=xi,Vn.bindAll=nu,Vn.bindKey=Ni,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return zi(e)?e:[e]},Vn.chain=gi,Vn.chunk=function(e,t,n){t=(n?wa(e,t,n):t===a)?1:bn(ys(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,s=0,u=r(gt(o/t));i<o;)u[s++]=ao(e,i,i+=t);return u},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var a=e[t];a&&(o[r++]=a)}return o},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Mt(zi(n)?xo(n):[n],_r(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=pa();return e=t?kt(e,(function(e){if("function"!=typeof e[1])throw new Pe(i);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var o=e[r];if(It(o[0],this,n))return It(o[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=ks(e);return function(n){return pr(n,e,t)}}(lr(e,1))},Vn.constant=ru,Vn.countBy=vi,Vn.create=function(e,t){var n=Hn(e);return null==t?n:ir(n,t)},Vn.curry=function e(t,n,r){var o=ea(t,8,a,a,a,a,a,n=r?a:n);return o.placeholder=e.placeholder,o},Vn.curryRight=function e(t,n,r){var o=ea(t,c,a,a,a,a,a,n=r?a:n);return o.placeholder=e.placeholder,o},Vn.debounce=ki,Vn.defaults=Os,Vn.defaultsDeep=As,Vn.defer=Mi,Vn.delay=Li,Vn.difference=Ha,Vn.differenceBy=qa,Vn.differenceWith=Ka,Vn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ao(e,(t=n||t===a?1:ys(t))<0?0:t,r):[]},Vn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ao(e,0,(t=r-(t=n||t===a?1:ys(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?mo(e,pa(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?mo(e,pa(t,3),!0):[]},Vn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wa(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ys(n))<0&&(n=-n>o?0:o+n),(r=r===a||r>o?o:ys(r))<0&&(r+=o),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Vn.filter=function(e,t){return(zi(e)?Dt:vr)(e,pa(t,3))},Vn.flatMap=function(e,t){return _r(Ii(e,t),1)},Vn.flatMapDeep=function(e,t){return _r(Ii(e,t),h)},Vn.flatMapDepth=function(e,t,n){return n=n===a?1:ys(n),_r(Ii(e,t),n)},Vn.flatten=$a,Vn.flattenDeep=function(e){return(null==e?0:e.length)?_r(e,h):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?_r(e,t=t===a?1:ys(t)):[]},Vn.flip=function(e){return ea(e,512)},Vn.flow=ou,Vn.flowRight=au,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Vn.functions=function(e){return null==e?[]:Cr(e,ks(e))},Vn.functionsIn=function(e){return null==e?[]:Cr(e,Ms(e))},Vn.groupBy=Si,Vn.initial=function(e){return(null==e?0:e.length)?ao(e,0,-1):[]},Vn.intersection=Xa,Vn.intersectionBy=Ja,Vn.intersectionWith=Qa,Vn.invert=Ds,Vn.invertBy=xs,Vn.invokeMap=Ci,Vn.iteratee=su,Vn.keyBy=Ti,Vn.keys=ks,Vn.keysIn=Ms,Vn.map=Ii,Vn.mapKeys=function(e,t){var n={};return t=pa(t,3),wr(e,(function(e,r,o){sr(n,t(e,r,o),e)})),n},Vn.mapValues=function(e,t){var n={};return t=pa(t,3),wr(e,(function(e,r,o){sr(n,r,t(e,r,o))})),n},Vn.matches=function(e){return Vr(lr(e,1))},Vn.matchesProperty=function(e,t){return Hr(e,lr(t,1))},Vn.memoize=Ui,Vn.merge=Ls,Vn.mergeWith=Us,Vn.method=uu,Vn.methodOf=cu,Vn.mixin=lu,Vn.negate=ji,Vn.nthArg=function(e){return e=ys(e),Qr((function(t){return Kr(t,e)}))},Vn.omit=js,Vn.omitBy=function(e,t){return Bs(e,ji(pa(t)))},Vn.once=function(e){return Di(2,e)},Vn.orderBy=function(e,t,n,r){return null==e?[]:(zi(t)||(t=null==t?[]:[t]),zi(n=r?a:n)||(n=null==n?[]:[n]),Gr(e,t,n))},Vn.over=du,Vn.overArgs=Fi,Vn.overEvery=fu,Vn.overSome=hu,Vn.partial=Bi,Vn.partialRight=Wi,Vn.partition=Oi,Vn.pick=Fs,Vn.pickBy=Bs,Vn.property=gu,Vn.propertyOf=function(e){return function(t){return null==e?a:Tr(e,t)}},Vn.pull=ei,Vn.pullAll=ti,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,pa(n,2)):e},Vn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,a,n):e},Vn.pullAt=ni,Vn.range=mu,Vn.rangeRight=yu,Vn.rearg=Vi,Vn.reject=function(e,t){return(zi(e)?Dt:vr)(e,ji(pa(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],a=e.length;for(t=pa(t,3);++r<a;){var i=e[r];t(i,r,e)&&(n.push(i),o.push(r))}return Yr(e,o),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new Pe(i);return Qr(e,t=t===a?t:ys(t))},Vn.reverse=ri,Vn.sampleSize=function(e,t,n){return t=(n?wa(e,t,n):t===a)?1:ys(t),(zi(e)?er:eo)(e,t)},Vn.set=function(e,t,n){return null==e?e:to(e,t,n)},Vn.setWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:to(e,t,n,r)},Vn.shuffle=function(e){return(zi(e)?tr:oo)(e)},Vn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wa(e,t,n)?(t=0,n=r):(t=null==t?0:ys(t),n=n===a?r:ys(n)),ao(e,t,n)):[]},Vn.sortBy=Ai,Vn.sortedUniq=function(e){return e&&e.length?co(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?co(e,pa(t,2)):[]},Vn.split=function(e,t,n){return n&&"number"!=typeof n&&wa(e,t,n)&&(t=n=a),(n=n===a?y:n>>>0)?(e=Es(e))&&("string"==typeof t||null!=t&&!us(t))&&!(t=po(t))&&un(e)?Co(gn(e),0,n):e.split(t,n):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new Pe(i);return t=null==t?0:bn(ys(t),0),Qr((function(n){var r=n[t],o=Co(n,0,t);return r&&Mt(o,r),It(e,this,o)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ao(e,1,t):[]},Vn.take=function(e,t,n){return e&&e.length?ao(e,0,(t=n||t===a?1:ys(t))<0?0:t):[]},Vn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ao(e,(t=r-(t=n||t===a?1:ys(t)))<0?0:t,r):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?mo(e,pa(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?mo(e,pa(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Pe(i);return rs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ki(e,t,{leading:r,maxWait:t,trailing:o})},Vn.thru=mi,Vn.toArray=gs,Vn.toPairs=Ws,Vn.toPairsIn=Vs,Vn.toPath=function(e){return zi(e)?kt(e,Ba):ps(e)?[e]:xo(Fa(Es(e)))},Vn.toPlainObject=bs,Vn.transform=function(e,t,n){var r=zi(e),o=r||Ji(e)||ds(e);if(t=pa(t,4),null==n){var a=e&&e.constructor;n=o?r?new a:[]:rs(e)&&es(a)?Hn(ze(e)):{}}return(o?At:wr)(e,(function(e,r,o){return t(n,e,r,o)})),n},Vn.unary=function(e){return Pi(e,1)},Vn.union=oi,Vn.unionBy=ai,Vn.unionWith=ii,Vn.uniq=function(e){return e&&e.length?fo(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?fo(e,pa(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?fo(e,a,t):[]},Vn.unset=function(e,t){return null==e||ho(e,t)},Vn.unzip=si,Vn.unzipWith=ui,Vn.update=function(e,t,n){return null==e?e:go(e,t,Eo(n))},Vn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:a,null==e?e:go(e,t,Eo(n),r)},Vn.values=Hs,Vn.valuesIn=function(e){return null==e?[]:Zt(e,Ms(e))},Vn.without=ci,Vn.words=eu,Vn.wrap=function(e,t){return Bi(Eo(t),e)},Vn.xor=li,Vn.xorBy=pi,Vn.xorWith=di,Vn.zip=fi,Vn.zipObject=function(e,t){return _o(e||[],t||[],rr)},Vn.zipObjectDeep=function(e,t){return _o(e||[],t||[],to)},Vn.zipWith=hi,Vn.entries=Ws,Vn.entriesIn=Vs,Vn.extend=Ss,Vn.extendWith=Cs,lu(Vn,Vn),Vn.add=bu,Vn.attempt=tu,Vn.camelCase=qs,Vn.capitalize=Ks,Vn.ceil=Eu,Vn.clamp=function(e,t,n){return n===a&&(n=t,t=a),n!==a&&(n=(n=_s(n))==n?n:0),t!==a&&(t=(t=_s(t))==t?t:0),cr(_s(e),t,n)},Vn.clone=function(e){return lr(e,4)},Vn.cloneDeep=function(e){return lr(e,5)},Vn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:a)},Vn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:a)},Vn.conformsTo=function(e,t){return null==t||pr(e,t,ks(t))},Vn.deburr=Gs,Vn.defaultTo=function(e,t){return null==e||e!=e?t:e},Vn.divide=wu,Vn.endsWith=function(e,t,n){e=Es(e),t=po(t);var r=e.length,o=n=n===a?r:cr(ys(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Vn.eq=Hi,Vn.escape=function(e){return(e=Es(e))&&Q.test(e)?e.replace(X,an):e},Vn.escapeRegExp=function(e){return(e=Es(e))&&ie.test(e)?e.replace(ae,"\\$&"):e},Vn.every=function(e,t,n){var r=zi(e)?Pt:mr;return n&&wa(e,t,n)&&(t=a),r(e,pa(t,3))},Vn.find=_i,Vn.findIndex=Ga,Vn.findKey=function(e,t){return Bt(e,pa(t,3),wr)},Vn.findLast=bi,Vn.findLastIndex=za,Vn.findLastKey=function(e,t){return Bt(e,pa(t,3),Sr)},Vn.floor=Su,Vn.forEach=Ei,Vn.forEachRight=wi,Vn.forIn=function(e,t){return null==e?e:br(e,pa(t,3),Ms)},Vn.forInRight=function(e,t){return null==e?e:Er(e,pa(t,3),Ms)},Vn.forOwn=function(e,t){return e&&wr(e,pa(t,3))},Vn.forOwnRight=function(e,t){return e&&Sr(e,pa(t,3))},Vn.get=Rs,Vn.gt=qi,Vn.gte=Ki,Vn.has=function(e,t){return null!=e&&va(e,t,Rr)},Vn.hasIn=Ps,Vn.head=Ya,Vn.identity=iu,Vn.includes=function(e,t,n,r){e=Yi(e)?e:Hs(e),n=n&&!r?ys(n):0;var o=e.length;return n<0&&(n=bn(o+n,0)),ls(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Vt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ys(n);return o<0&&(o=bn(r+o,0)),Vt(e,t,o)},Vn.inRange=function(e,t,n){return t=ms(t),n===a?(n=t,t=0):n=ms(n),function(e,t,n){return e>=En(t,n)&&e<bn(t,n)}(e=_s(e),t,n)},Vn.invoke=Ns,Vn.isArguments=Gi,Vn.isArray=zi,Vn.isArrayBuffer=$i,Vn.isArrayLike=Yi,Vn.isArrayLikeObject=Xi,Vn.isBoolean=function(e){return!0===e||!1===e||os(e)&&Or(e)==E},Vn.isBuffer=Ji,Vn.isDate=Qi,Vn.isElement=function(e){return os(e)&&1===e.nodeType&&!ss(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(Yi(e)&&(zi(e)||"string"==typeof e||"function"==typeof e.splice||Ji(e)||ds(e)||Gi(e)))return!e.length;var t=ya(e);if(t==I||t==D)return!e.size;if(Ia(e))return!jr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return kr(e,t)},Vn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:a)?n(e,t):a;return r===a?kr(e,t,a,n):!!r},Vn.isError=Zi,Vn.isFinite=function(e){return"number"==typeof e&&Ft(e)},Vn.isFunction=es,Vn.isInteger=ts,Vn.isLength=ns,Vn.isMap=as,Vn.isMatch=function(e,t){return e===t||Mr(e,t,fa(t))},Vn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:a,Mr(e,t,fa(t),n)},Vn.isNaN=function(e){return is(e)&&e!=+e},Vn.isNative=function(e){if(Ta(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=is,Vn.isObject=rs,Vn.isObjectLike=os,Vn.isPlainObject=ss,Vn.isRegExp=us,Vn.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=g},Vn.isSet=cs,Vn.isString=ls,Vn.isSymbol=ps,Vn.isTypedArray=ds,Vn.isUndefined=function(e){return e===a},Vn.isWeakMap=function(e){return os(e)&&ya(e)==k},Vn.isWeakSet=function(e){return os(e)&&"[object WeakSet]"==Or(e)},Vn.join=function(e,t){return null==e?"":zt.call(e,t)},Vn.kebabCase=zs,Vn.last=Za,Vn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==a&&(o=(o=ys(n))<0?bn(r+o,0):En(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Wt(e,qt,o,!0)},Vn.lowerCase=$s,Vn.lowerFirst=Ys,Vn.lt=fs,Vn.lte=hs,Vn.max=function(e){return e&&e.length?yr(e,iu,Ar):a},Vn.maxBy=function(e,t){return e&&e.length?yr(e,pa(t,2),Ar):a},Vn.mean=function(e){return Kt(e,iu)},Vn.meanBy=function(e,t){return Kt(e,pa(t,2))},Vn.min=function(e){return e&&e.length?yr(e,iu,Br):a},Vn.minBy=function(e,t){return e&&e.length?yr(e,pa(t,2),Br):a},Vn.stubArray=vu,Vn.stubFalse=_u,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=Tu,Vn.nth=function(e,t){return e&&e.length?Kr(e,ys(t)):a},Vn.noConflict=function(){return ht._===this&&(ht._=We),this},Vn.noop=pu,Vn.now=Ri,Vn.pad=function(e,t,n){e=Es(e);var r=(t=ys(t))?hn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return zo(mt(o),n)+e+zo(gt(o),n)},Vn.padEnd=function(e,t,n){e=Es(e);var r=(t=ys(t))?hn(e):0;return t&&r<t?e+zo(t-r,n):e},Vn.padStart=function(e,t,n){e=Es(e);var r=(t=ys(t))?hn(e):0;return t&&r<t?zo(t-r,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(Es(e).replace(se,""),t||0)},Vn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wa(e,t,n)&&(t=n=a),n===a&&("boolean"==typeof t?(n=t,t=a):"boolean"==typeof e&&(n=e,e=a)),e===a&&t===a?(e=0,t=1):(e=ms(e),t===a?(t=e,e=0):t=ms(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Cn();return En(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Xr(e,t)},Vn.reduce=function(e,t,n){var r=zi(e)?Lt:$t,o=arguments.length<3;return r(e,pa(t,4),n,o,hr)},Vn.reduceRight=function(e,t,n){var r=zi(e)?Ut:$t,o=arguments.length<3;return r(e,pa(t,4),n,o,gr)},Vn.repeat=function(e,t,n){return t=(n?wa(e,t,n):t===a)?1:ys(t),Jr(Es(e),t)},Vn.replace=function(){var e=arguments,t=Es(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,n){var r=-1,o=(t=wo(t,e)).length;for(o||(o=1,e=a);++r<o;){var i=null==e?a:e[Ba(t[r])];i===a&&(r=o,i=n),e=es(i)?i.call(e):i}return e},Vn.round=Iu,Vn.runInContext=e,Vn.sample=function(e){return(zi(e)?Zn:Zr)(e)},Vn.size=function(e){if(null==e)return 0;if(Yi(e))return ls(e)?hn(e):e.length;var t=ya(e);return t==I||t==D?e.size:jr(e).length},Vn.snakeCase=Xs,Vn.some=function(e,t,n){var r=zi(e)?jt:io;return n&&wa(e,t,n)&&(t=a),r(e,pa(t,3))},Vn.sortedIndex=function(e,t){return so(e,t)},Vn.sortedIndexBy=function(e,t,n){return uo(e,t,pa(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=so(e,t);if(r<n&&Hi(e[r],t))return r}return-1},Vn.sortedLastIndex=function(e,t){return so(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return uo(e,t,pa(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=so(e,t,!0)-1;if(Hi(e[n],t))return n}return-1},Vn.startCase=Js,Vn.startsWith=function(e,t,n){return e=Es(e),n=null==n?0:cr(ys(n),0,e.length),t=po(t),e.slice(n,n+t.length)==t},Vn.subtract=Ou,Vn.sum=function(e){return e&&e.length?Yt(e,iu):0},Vn.sumBy=function(e,t){return e&&e.length?Yt(e,pa(t,2)):0},Vn.template=function(e,t,n){var r=Vn.templateSettings;n&&wa(e,t,n)&&(t=a),e=Es(e),t=Cs({},t,r,ta);var o,i,s=Cs({},t.imports,r.imports,ta),u=ks(s),c=Zt(s,u),l=0,p=t.interpolate||Se,d="__p += '",f=Ae((t.escape||Se).source+"|"+p.source+"|"+(p===te?ge:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),h="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(f,(function(t,n,r,a,s,u){return r||(r=a),d+=e.slice(l,u).replace(Ce,sn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(i=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var g=Le.call(t,"variable")&&t.variable;if(g){if(fe.test(g))throw new ue("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(i?d.replace(G,""):d).replace(z,"$1").replace($,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=tu((function(){return Te(u,h+"return "+d).apply(a,c)}));if(m.source=d,Zi(m))throw m;return m},Vn.times=function(e,t){if((e=ys(e))<1||e>g)return[];var n=y,r=En(e,y);t=pa(t),e-=y;for(var o=Xt(r,t);++n<e;)t(n);return o},Vn.toFinite=ms,Vn.toInteger=ys,Vn.toLength=vs,Vn.toLower=function(e){return Es(e).toLowerCase()},Vn.toNumber=_s,Vn.toSafeInteger=function(e){return e?cr(ys(e),-9007199254740991,g):0===e?e:0},Vn.toString=Es,Vn.toUpper=function(e){return Es(e).toUpperCase()},Vn.trim=function(e,t,n){if((e=Es(e))&&(n||t===a))return Jt(e);if(!e||!(t=po(t)))return e;var r=gn(e),o=gn(t);return Co(r,tn(r,o),nn(r,o)+1).join("")},Vn.trimEnd=function(e,t,n){if((e=Es(e))&&(n||t===a))return e.slice(0,mn(e)+1);if(!e||!(t=po(t)))return e;var r=gn(e);return Co(r,0,nn(r,gn(t))+1).join("")},Vn.trimStart=function(e,t,n){if((e=Es(e))&&(n||t===a))return e.replace(se,"");if(!e||!(t=po(t)))return e;var r=gn(e);return Co(r,tn(r,gn(t))).join("")},Vn.truncate=function(e,t){var n=30,r="...";if(rs(t)){var o="separator"in t?t.separator:o;n="length"in t?ys(t.length):n,r="omission"in t?po(t.omission):r}var i=(e=Es(e)).length;if(un(e)){var s=gn(e);i=s.length}if(n>=i)return e;var u=n-hn(r);if(u<1)return r;var c=s?Co(s,0,u).join(""):e.slice(0,u);if(o===a)return c+r;if(s&&(u+=c.length-u),us(o)){if(e.slice(u).search(o)){var l,p=c;for(o.global||(o=Ae(o.source,Es(me.exec(o))+"g")),o.lastIndex=0;l=o.exec(p);)var d=l.index;c=c.slice(0,d===a?u:d)}}else if(e.indexOf(po(o),u)!=u){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},Vn.unescape=function(e){return(e=Es(e))&&J.test(e)?e.replace(Y,yn):e},Vn.uniqueId=function(e){var t=++Ue;return Es(e)+t},Vn.upperCase=Qs,Vn.upperFirst=Zs,Vn.each=Ei,Vn.eachRight=wi,Vn.first=Ya,lu(Vn,(Cu={},wr(Vn,(function(e,t){Le.call(Vn.prototype,t)||(Cu[t]=e)})),Cu),{chain:!1}),Vn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),At(["drop","take"],(function(e,t){Gn.prototype[e]=function(n){n=n===a?1:bn(ys(n),0);var r=this.__filtered__&&!t?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=En(n,r.__takeCount__):r.__views__.push({size:En(n,y),type:e+(r.__dir__<0?"Right":"")}),r},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:pa(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(iu)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return xr(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(ji(pa(e)))},Gn.prototype.slice=function(e,t){e=ys(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==a&&(n=(t=ys(t))<0?n.dropRight(-t):n.take(t-e)),n)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(y)},wr(Gn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Vn[r?"take"+("last"==t?"Right":""):t],i=r||/^find/.test(t);o&&(Vn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Gn,c=s[0],l=u||zi(t),p=function(e){var t=o.apply(Vn,Mt([e],s));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,f=!!this.__actions__.length,h=i&&!d,g=u&&!f;if(!i&&l){t=g?t:new Gn(this);var m=e.apply(t,s);return m.__actions__.push({func:mi,args:[p],thisArg:a}),new Kn(m,d)}return h&&g?e.apply(this,s):(m=this.thru(p),h?r?m.value()[0]:m.value():m)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(zi(o)?o:[],e)}return this[n]((function(n){return t.apply(zi(n)?n:[],e)}))}})),wr(Gn.prototype,(function(e,t){var n=Vn[t];if(n){var r=n.name+"";Le.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Ho(a,2).name]=[{name:"wrapper",func:a}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=xo(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=xo(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=xo(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=zi(e),r=t<0,o=n?e.length:0,a=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var a=n[r],i=a.size;switch(a.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=En(t,e+i);break;case"takeRight":e=bn(e,t-i)}}return{start:e,end:t}}(0,o,this.__views__),i=a.start,s=a.end,u=s-i,c=r?s:i-1,l=this.__iteratees__,p=l.length,d=0,f=En(u,this.__takeCount__);if(!n||!r&&o==u&&f==u)return yo(e,this.__actions__);var h=[];e:for(;u--&&d<f;){for(var g=-1,m=e[c+=t];++g<p;){var y=l[g],v=y.iteratee,_=y.type,b=v(m);if(2==_)m=b;else if(!b){if(1==_)continue e;break e}}h[d++]=m}return h},Vn.prototype.at=yi,Vn.prototype.chain=function(){return gi(this)},Vn.prototype.commit=function(){return new Kn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===a&&(this.__values__=gs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,n=this;n instanceof qn;){var r=Va(n);r.__index__=0,r.__values__=a,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:mi,args:[ri],thisArg:a}),new Kn(t,this.__chain__)}return this.thru(ri)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return yo(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,Qe&&(Vn.prototype[Qe]=function(){return this}),Vn}();ht._=vn,(o=function(){return vn}.call(t,n,t,r))===a||(r.exports=o)}).call(this)}).call(this,n(23),n(95)(e))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,a,i,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,i,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r=n(9);e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),r=Object.prototype.hasOwnProperty,o=1;o<arguments.length;o++){var a=arguments[o];if(null!=a){var i=Object(a);for(var s in i)r.call(i,s)&&(n[s]=i[s])}}return n}},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";var r=n(16),o=n(27),a=(n(10),n(67)),i=n(6),s=n(68),u=n(17),c=n(19),l=n(70),p=n(7),d=n(14),f=n(38),h=n(8),g=n(3),m=n(20),y=n(71),v=n(40),_=n(1),b=n(25),E=n(42),w=(n(43),n(2),r.ID_ATTRIBUTE_NAME),S={},C="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),T={},I={},O=[];function A(e){return e?9===e.nodeType?e.documentElement:e.firstChild:null}function R(e){var t=A(e);return t&&F.getID(t)}function P(e){return e&&e.getAttribute&&e.getAttribute(w)||""}function D(e,t){if(e){P(e)!==t&&_(!1);var n=F.findReactContainerForID(t);if(n&&y(n,e))return!0}return!1}var x=null;function N(e){var t=S[e];if(!t||!D(t,e))return!1;x=t}function k(e,t,n,r,o,i){a.useCreateElement&&(i=g({},i),9===n.nodeType?i[C]=n:i[C]=n.ownerDocument);var s=d.mountComponent(e,t,r,i);e._renderedComponent._topLevelWrapper=e,F._mountImageIntoNode(s,n,o,r)}function M(e,t,n,r,o){var a=h.ReactReconcileTransaction.getPooled(r);a.perform(k,null,e,t,n,a,r,o),h.ReactReconcileTransaction.release(a)}function L(e,t){for(d.unmountComponent(e),9===t.nodeType&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function U(e){var t=R(e);return!!t&&t!==u.getReactRootIDFromNodeID(t)}var j=function(){};j.prototype.isReactComponent={},j.prototype.render=function(){return this.props};var F={TopLevelWrapper:j,_instancesByReactRootID:T,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return F.scrollMonitor(n,(function(){f.enqueueElementInternal(e,t),r&&f.enqueueCallbackInternal(e,r)})),e},_registerComponent:function(e,t){(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)&&_(!1),o.ensureScrollValueMonitoring();var n=F.registerContainer(t);return T[n]=e,n},_renderNewRootComponent:function(e,t,n,r){var o=v(e,null),a=F._registerComponent(o,t);return h.batchedUpdates(M,o,a,t,n,r),o},renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||null==e._reactInternalInstance)&&_(!1),F._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){i.isValidElement(t)||_(!1);var o=new i(j,null,null,null,null,null,t),a=T[R(n)];if(a){var s=a._currentElement.props;if(E(s,t)){var u=a._renderedComponent.getPublicInstance(),c=r&&function(){r.call(u)};return F._updateRootComponent(a,o,n,c),u}F.unmountComponentAtNode(n)}var l=A(n),p=l&&!!P(l),d=U(n),f=p&&!a&&!d,h=F._renderNewRootComponent(o,n,f,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):m)._renderedComponent.getPublicInstance();return r&&r.call(h),h},render:function(e,t,n){return F._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=R(e);return t&&(t=u.getReactRootIDFromNodeID(t)),t||(t=u.createReactRootID()),I[t]=e,t},unmountComponentAtNode:function(e){(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)&&_(!1);var t=R(e),n=T[t];if(!n){U(e);var r=P(e);r&&u.getReactRootIDFromNodeID(r);return!1}return h.batchedUpdates(L,n,e),delete T[t],delete I[t],!0},findReactContainerForID:function(e){var t=u.getReactRootIDFromNodeID(e);return I[t]},findReactNodeByID:function(e){var t=F.findReactContainerForID(e);return F.findComponentRoot(t,e)},getFirstReactDOM:function(e){return function(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=P(e);if(t){var n,r=u.getReactRootIDFromNodeID(t),o=e;do{if(n=P(o),null==(o=o.parentNode))return null}while(n!==r);if(o===I[r])return e}}return null}(e)},findComponentRoot:function(e,t){var n=O,r=0,o=function(e){x=null,u.traverseAncestors(e,N);var t=x;return x=null,t}(t)||e;for(0,n[0]=o.firstChild,n.length=1;r<n.length;){for(var a,i=n[r++];i;){var s=F.getID(i);s?t===s?a=i:u.isAncestorIDOf(s,t)&&(n.length=r=0,n.push(i.firstChild)):n.push(i.firstChild),i=i.nextSibling}if(a)return n.length=0,a}n.length=0,_(!1)},_mountImageIntoNode:function(e,t,n,r){if((!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)&&_(!1),n){var o=A(t);if(l.canReuseMarkup(e,o))return;var a=o.getAttribute(l.CHECKSUM_ATTR_NAME);o.removeAttribute(l.CHECKSUM_ATTR_NAME);var i=o.outerHTML;o.setAttribute(l.CHECKSUM_ATTR_NAME,a);var s=e,u=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}(s,i);s.substring(u-20,u+20),i.substring(u-20,u+20);9===t.nodeType&&_(!1)}if(9===t.nodeType&&_(!1),r.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else b(t,e)},ownerDocumentContextKey:C,getReactRootID:R,getID:function(e){var t=P(e);if(t)if(S.hasOwnProperty(t)){var n=S[t];n!==e&&(D(n,t)&&_(!1),S[t]=e)}else S[t]=e;return t},setID:function(e,t){var n=P(e);n!==t&&delete S[n],e.setAttribute(w,t),S[t]=e},getNode:function(e){return S.hasOwnProperty(e)&&D(S[e],e)||(S[e]=F.findReactNodeByID(e)),S[e]},getNodeFromInstance:function(e){var t=c.get(e)._rootNodeID;return s.isNullComponentID(t)?null:(S.hasOwnProperty(t)&&D(S[t],t)||(S[t]=F.findReactNodeByID(t)),S[t])},isValid:D,purgeID:function(e){delete S[e]}};p.measureMethods(F,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=F},function(e,t,n){"use strict";var r=n(10),o=n(3),a=(n(28),"function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103),i={key:!0,ref:!0,__self:!0,__source:!0},s=function(e,t,n,r,o,i,s){return{$$typeof:a,type:e,key:t,ref:n,props:s,_owner:i}};s.createElement=function(e,t,n){var o,a={},u=null,c=null;if(null!=t)for(o in c=void 0===t.ref?null:t.ref,u=void 0===t.key?null:""+t.key,void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source,t)t.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(a[o]=t[o]);var l=arguments.length-2;if(1===l)a.children=n;else if(l>1){for(var p=Array(l),d=0;d<l;d++)p[d]=arguments[d+2];a.children=p}if(e&&e.defaultProps){var f=e.defaultProps;for(o in f)void 0===a[o]&&(a[o]=f[o])}return s(e,u,c,0,0,r.current,a)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceKey=function(e,t){return s(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},s.cloneAndReplaceProps=function(e,t){return s(e.type,e.key,e.ref,e._self,e._source,e._owner,t)},s.cloneElement=function(e,t,n){var a,u=o({},e.props),c=e.key,l=e.ref,p=(e._self,e._source,e._owner);if(null!=t)for(a in void 0!==t.ref&&(l=t.ref,p=r.current),void 0!==t.key&&(c=""+t.key),t)t.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(u[a]=t[a]);var d=arguments.length-2;if(1===d)u.children=n;else if(d>1){for(var f=Array(d),h=0;h<d;h++)f[h]=arguments[h+2];u.children=f}return s(e.type,c,l,0,0,p,u)},s.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},e.exports=s},function(e,t,n){"use strict";var r={enableMeasure:!1,storedMeasure:function(e,t,n){return n},measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){r.storedMeasure=e}}};e.exports=r},function(e,t,n){"use strict";var r=n(39),o=n(12),a=n(7),i=n(14),s=n(29),u=n(3),c=n(1),l=[],p=r.getPooled(),d=!1,f=null;function h(){b.ReactReconcileTransaction&&f||c(!1)}var g=[{initialize:function(){this.dirtyComponentsLength=l.length},close:function(){this.dirtyComponentsLength!==l.length?(l.splice(0,this.dirtyComponentsLength),_()):l.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];function m(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=r.getPooled(),this.reconcileTransaction=b.ReactReconcileTransaction.getPooled(!1)}function y(e,t){return e._mountOrder-t._mountOrder}function v(e){var t=e.dirtyComponentsLength;t!==l.length&&c(!1),l.sort(y);for(var n=0;n<t;n++){var r=l[n],o=r._pendingCallbacks;if(r._pendingCallbacks=null,i.performUpdateIfNecessary(r,e.reconcileTransaction),o)for(var a=0;a<o.length;a++)e.callbackQueue.enqueue(o[a],r.getPublicInstance())}}u(m.prototype,s.Mixin,{getTransactionWrappers:function(){return g},destructor:function(){this.dirtyComponentsLength=null,r.release(this.callbackQueue),this.callbackQueue=null,b.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return s.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),o.addPoolingTo(m);var _=function(){for(;l.length||d;){if(l.length){var e=m.getPooled();e.perform(v,null,e),m.release(e)}if(d){d=!1;var t=p;p=r.getPooled(),t.notifyAll(),r.release(t)}}};var b={ReactReconcileTransaction:null,batchedUpdates:function(e,t,n,r,o,a){h(),f.batchedUpdates(e,t,n,r,o,a)},enqueueUpdate:function e(t){h(),f.isBatchingUpdates?l.push(t):f.batchedUpdates(e,t)},flushBatchedUpdates:_=a.measure("ReactUpdates","flushBatchedUpdates",_),injection:{injectReconcileTransaction:function(e){e||c(!1),b.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||c(!1),"function"!=typeof e.batchedUpdates&&c(!1),"boolean"!=typeof e.isBatchingUpdates&&c(!1),f=e}},asap:function(e,t){f.isBatchingUpdates||c(!1),p.enqueue(e,t),d=!0}};e.exports=b},function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";e.exports={current:null}},function(e,t,n){"use strict";var r=n(24),o=r({bubbled:null,captured:null}),a={topLevelTypes:r({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),PropagationPhases:o};e.exports=a},function(e,t,n){"use strict";var r=n(1),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},a=function(e){var t=this;e instanceof t||r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},i=o,s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||i,n.poolSize||(n.poolSize=10),n.release=a,n},oneArgumentPooler:o,twoArgumentPooler:function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},threeArgumentPooler:function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},fourArgumentPooler:function(e,t,n,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r),a}return new o(e,t,n,r)},fiveArgumentPooler:function(e,t,n,r,o){var a=this;if(a.instancePool.length){var i=a.instancePool.pop();return a.call(i,e,t,n,r,o),i}return new a(e,t,n,r,o)}};e.exports=s},function(e,t,n){"use strict";e.exports=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null}},function(e,t,n){"use strict";var r=n(117);function o(){r.attachRefs(this,this._currentElement)}var a={mountComponent:function(e,t,n,r){var a=e.mountComponent(t,n,r);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(o,e),a},unmountComponent:function(e){r.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,a){var i=e._currentElement;if(t!==i||a!==e._context){var s=r.shouldUpdateRefs(i,t);s&&r.detachRefs(e,i),e.receiveComponent(t,n,a),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(o,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};e.exports=a},function(e,t,n){"use strict";var r=n(12),o=n(3),a=n(9),i=(n(2),{type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});function s(e,t,n,r){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;this.isDefaultPrevented=u?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}o(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),s.Interface=i,s.augmentClass=function(e,t){var n=this,a=Object.create(n.prototype);o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,r.addPoolingTo(e,r.fourArgumentPooler)},r.addPoolingTo(s,r.fourArgumentPooler),e.exports=s},function(e,t,n){"use strict";var r=n(1);function o(e,t){return(e&t)===t}var a={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=a,n=e.Properties||{},i=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},c=e.DOMPropertyNames||{},l=e.DOMMutationMethods||{};for(var p in e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute),n){s.properties.hasOwnProperty(p)&&r(!1);var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseAttribute:o(f,t.MUST_USE_ATTRIBUTE),mustUseProperty:o(f,t.MUST_USE_PROPERTY),hasSideEffects:o(f,t.HAS_SIDE_EFFECTS),hasBooleanValue:o(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:o(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:o(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:o(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.mustUseAttribute&&h.mustUseProperty&&r(!1),!h.mustUseProperty&&h.hasSideEffects&&r(!1),h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1||r(!1),u.hasOwnProperty(p)){var g=u[p];h.attributeName=g}i.hasOwnProperty(p)&&(h.attributeNamespace=i[p]),c.hasOwnProperty(p)&&(h.propertyName=c[p]),l.hasOwnProperty(p)&&(h.mutationMethod=l[p]),s.properties[p]=h}}},i={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){if((0,s._isCustomAttributeFunctions[t])(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=i[e];return r||(i[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:a};e.exports=s},function(e,t,n){"use strict";var r=n(69),o=n(1),a=".",i=a.length;function s(e,t){return e.charAt(t)===a||t===e.length}function u(e){return""===e||e.charAt(0)===a&&e.charAt(e.length-1)!==a}function c(e,t){return 0===t.indexOf(e)&&s(t,e.length)}function l(e){return e?e.substr(0,e.lastIndexOf(a)):""}function p(e,t){if(u(e)&&u(t)||o(!1),c(e,t)||o(!1),e===t)return e;var n;for(n=e.length+i;n<t.length&&!s(t,n);n++);return t.substr(0,n)}function d(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var r=0,a=0;a<=n;a++)if(s(e,a)&&s(t,a))r=a;else if(e.charAt(a)!==t.charAt(a))break;var i=e.substr(0,r);return u(i)||o(!1),i}function f(e,t,n,r,a,i){(e=e||"")===(t=t||"")&&o(!1);var s=c(t,e);s||c(e,t)||o(!1);for(var u=0,d=s?l:p,f=e;;f=d(f,t)){var h;if(a&&f===e||i&&f===t||(h=n(f,s,r)),!1===h||f===t)break;u++<1e4||o(!1)}}var h={createReactRootID:function(){return e=r.createReactRootIndex(),a+e.toString(36);var e},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===a&&e.length>1){var t=e.indexOf(a,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,o){var a=d(e,t);a!==e&&f(e,a,n,r,!1,!0),a!==t&&f(a,t,n,o,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(f("",e,t,n,!0,!1),f(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(f("",e,t,n,!0,!0),f(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){f("",e,t,n,!0,!1)},getFirstCommonAncestorID:d,_getNextDescendantID:p,isAncestorIDOf:c,SEPARATOR:a};e.exports=h},function(e,t,n){"use strict";var r=n(62),o=n(114),a=n(63),i=n(64),s=n(65),u=n(1),c=(n(2),{}),l=null,p=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},f=function(e){return p(e,!1)},h=null;var g={injection:{injectMount:o.injection.injectMount,injectInstanceHandle:function(e){h=e},getInstanceHandle:function(){return h},injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},eventNameDispatchConfigs:r.eventNameDispatchConfigs,registrationNameModules:r.registrationNameModules,putListener:function(e,t,n){"function"!=typeof n&&u(!1),(c[t]||(c[t]={}))[e]=n;var o=r.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=c[t];return n&&n[e]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var o=c[t];o&&delete o[e]},deleteAllListeners:function(e){for(var t in c)if(c[t][e]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete c[t][e]}},extractEvents:function(e,t,n,o,a){for(var s,u=r.plugins,c=0;c<u.length;c++){var l=u[c];if(l){var p=l.extractEvents(e,t,n,o,a);p&&(s=i(s,p))}}return s},enqueueEvents:function(e){e&&(l=i(l,e))},processEventQueue:function(e){var t=l;l=null,s(t,e?d:f),l&&u(!1),a.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};e.exports=g},function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=r},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(11),o=n(18),a=(n(2),n(64)),i=n(65),s=r.PropagationPhases,u=o.getListener;function c(e,t,n){var r=function(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return u(e,r)}(e,n,t?s.bubbled:s.captured);r&&(n._dispatchListeners=a(n._dispatchListeners,r),n._dispatchIDs=a(n._dispatchIDs,e))}function l(e){e&&e.dispatchConfig.phasedRegistrationNames&&o.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,c,e)}function p(e){e&&e.dispatchConfig.phasedRegistrationNames&&o.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,c,e)}function d(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=u(e,r);o&&(n._dispatchListeners=a(n._dispatchListeners,o),n._dispatchIDs=a(n._dispatchIDs,e))}}function f(e){e&&e.dispatchConfig.registrationName&&d(e.dispatchMarker,0,e)}var h={accumulateTwoPhaseDispatches:function(e){i(e,l)},accumulateTwoPhaseDispatchesSkipTarget:function(e){i(e,p)},accumulateDirectDispatches:function(e){i(e,f)},accumulateEnterLeaveDispatches:function(e,t,n,r){o.injection.getInstanceHandle().traverseEnterLeave(n,r,d,e,t)}};e.exports=h},function(e,t,n){"use strict";var r=n(15),o=n(44),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};function i(e,t,n,o){r.call(this,e,t,n,o)}r.augmentClass(i,a),e.exports=i},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(1);e.exports=function(e){var t,n={};for(t in e instanceof Object&&!Array.isArray(e)||r(!1),e)e.hasOwnProperty(t)&&(n[t]=t);return n}},function(e,t,n){"use strict";var r=n(4),o=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,i=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(i=function(e,t){MSApp.execUnsafeLocalFunction((function(){e.innerHTML=t}))}),r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(i=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&a.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}e.exports=i},function(e,t,n){"use strict";var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;function a(e){return r[e]}e.exports=function(e){return(""+e).replace(o,a)}},function(e,t,n){"use strict";var r=n(11),o=n(18),a=n(62),i=n(115),s=n(7),u=n(66),c=n(3),l=n(37),p={},d=!1,f=0,h={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2);var m=c({},i,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=e}},setEnabled:function(e){m.ReactEventListener&&m.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=function(e){return Object.prototype.hasOwnProperty.call(e,g)||(e[g]=f++,p[e[g]]={}),p[e[g]]}(n),i=a.registrationNameDependencies[e],s=r.topLevelTypes,u=0;u<i.length;u++){var c=i[u];o.hasOwnProperty(c)&&o[c]||(c===s.topWheel?l("wheel")?m.ReactEventListener.trapBubbledEvent(s.topWheel,"wheel",n):l("mousewheel")?m.ReactEventListener.trapBubbledEvent(s.topWheel,"mousewheel",n):m.ReactEventListener.trapBubbledEvent(s.topWheel,"DOMMouseScroll",n):c===s.topScroll?l("scroll",!0)?m.ReactEventListener.trapCapturedEvent(s.topScroll,"scroll",n):m.ReactEventListener.trapBubbledEvent(s.topScroll,"scroll",m.ReactEventListener.WINDOW_HANDLE):c===s.topFocus||c===s.topBlur?(l("focus",!0)?(m.ReactEventListener.trapCapturedEvent(s.topFocus,"focus",n),m.ReactEventListener.trapCapturedEvent(s.topBlur,"blur",n)):l("focusin")&&(m.ReactEventListener.trapBubbledEvent(s.topFocus,"focusin",n),m.ReactEventListener.trapBubbledEvent(s.topBlur,"focusout",n)),o[s.topBlur]=!0,o[s.topFocus]=!0):h.hasOwnProperty(c)&&m.ReactEventListener.trapBubbledEvent(c,h[c],n),o[c]=!0)}},trapBubbledEvent:function(e,t,n){return m.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return m.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!d){var e=u.refreshScrollValues;m.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});s.measureMethods(m,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),e.exports=m},function(e,t,n){"use strict";e.exports=!1},function(e,t,n){"use strict";var r=n(1),o={Mixin:{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,a,i,s,u){var c,l;this.isInTransaction()&&r(!1);try{this._isInTransaction=!0,c=!0,this.initializeAll(0),l=e.call(t,n,o,a,i,s,u),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return l},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var a,i=t[n],s=this.wrapperInitData[n];try{a=!0,s!==o.OBSERVED_ERROR&&i.close&&i.close.call(this,s),a=!1}finally{if(a)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}},OBSERVED_ERROR:{}};e.exports=o},function(e,t,n){"use strict";var r=n(24)({prop:null,context:null,childContext:null});e.exports=r},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(22),o=n(66),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:n(45),button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};function i(e,t,n,o){r.call(this,e,t,n,o)}r.augmentClass(i,a),e.exports=i},function(e,t,n){"use strict";var r=n(4),o=n(26),a=n(25),i=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(i=function(e,t){a(e,o(t))})),e.exports=i},function(e,t,n){"use strict";var r=n(16),o=n(7),a=n(113),i=(n(2),/^[a-zA-Z_][\w\.\-]*$/),s={},u={};function c(e){return!!u.hasOwnProperty(e)||!s.hasOwnProperty(e)&&(i.test(e)?(u[e]=!0,!0):(s[e]=!0,!1))}function l(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var p={createMarkupForID:function(e){return r.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){if(l(n,t))return"";var o=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?o+'=""':o+"="+a(t)}return r.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return c(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var o=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(o){var a=o.mutationMethod;if(a)a(e,n);else if(l(o,n))this.deleteValueForProperty(e,t);else if(o.mustUseAttribute){var i=o.attributeName,s=o.attributeNamespace;s?e.setAttributeNS(s,i,""+n):o.hasBooleanValue||o.hasOverloadedBooleanValue&&!0===n?e.setAttribute(i,""):e.setAttribute(i,""+n)}else{var u=o.propertyName;o.hasSideEffects&&""+e[u]==""+n||(e[u]=n)}}else r.isCustomAttribute(t)&&p.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){c(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(n){var o=n.mutationMethod;if(o)o(e,void 0);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var a=n.propertyName,i=r.getDefaultValueForProperty(e.nodeName,a);n.hasSideEffects&&""+e[a]===i||(e[a]=i)}}else r.isCustomAttribute(t)&&e.removeAttribute(t)}};o.measureMethods(p,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),e.exports=p},function(e,t,n){"use strict";var r=n(36),o=n(5),a={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:r.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){o.purgeID(e)}};e.exports=a},function(e,t,n){"use strict";var r=n(59),o=n(34),a=n(5),i=n(7),s=n(1),u={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},c={updatePropertyByID:function(e,t,n){var r=a.getNode(e);u.hasOwnProperty(t)&&s(!1),null!=n?o.setValueForProperty(r,t,n):o.deleteValueForProperty(r,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=a.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=a.getNode(e[n].parentID);r.processUpdates(e,t)}};i.measureMethods(c,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=c},function(e,t,n){"use strict";var r,o=n(4);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,a=n in document;if(!a){var i=document.createElement("div");i.setAttribute(n,"return;"),a="function"==typeof i[n]}return!a&&r&&"wheel"===e&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}},function(e,t,n){"use strict";n(10);var r=n(6),o=n(19),a=n(8),i=n(3),s=n(1);n(2);function u(e){a.enqueueUpdate(e)}function c(e,t){var n=o.get(e);return n||null}var l={isMounted:function(e){var t=o.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t){"function"!=typeof t&&s(!1);var n=c(e);if(!n)return null;n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],u(n)},enqueueCallbackInternal:function(e,t){"function"!=typeof t&&s(!1),e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],u(e)},enqueueForceUpdate:function(e){var t=c(e);t&&(t._pendingForceUpdate=!0,u(t))},enqueueReplaceState:function(e,t){var n=c(e);n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,u(n))},enqueueSetState:function(e,t){var n=c(e);n&&((n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),u(n))},enqueueSetProps:function(e,t){var n=c(e);n&&l.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n||s(!1);var o=n._pendingElement||n._currentElement,a=o.props,c=i({},a.props,t);n._pendingElement=r.cloneAndReplaceProps(o,r.cloneAndReplaceProps(a,c)),u(n)},enqueueReplaceProps:function(e,t){var n=c(e);n&&l.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n||s(!1);var o=n._pendingElement||n._currentElement,a=o.props;n._pendingElement=r.cloneAndReplaceProps(o,r.cloneAndReplaceProps(a,t)),u(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,u(e)}};e.exports=l},function(e,t,n){"use strict";var r=n(12),o=n(3),a=n(1);function i(){this._callbacks=null,this._contexts=null}o(i.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length&&a(!1),this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";var r=n(121),o=n(72),a=n(73),i=n(3),s=n(1),u=(n(2),function(){});function c(e){var t,n;if(null===e||!1===e)t=new o(c);else if("object"==typeof e){var r=e;(!r||"function"!=typeof r.type&&"string"!=typeof r.type)&&s(!1),"string"==typeof r.type?t=a.createInternalComponent(r):t="function"==typeof(n=r.type)&&void 0!==n.prototype&&"function"==typeof n.prototype.mountComponent&&"function"==typeof n.prototype.receiveComponent?new r.type(r):new u}else"string"==typeof e||"number"==typeof e?t=a.createInstanceForText(e):s(!1);return t.construct(e),t._mountIndex=0,t._mountImage=null,t}i(u.prototype,r.Mixin,{_instantiateReactComponent:c}),e.exports=c},function(e,t,n){"use strict";var r=n(1),o=!1,a={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o&&r(!1),a.unmountIDFromEnvironment=e.unmountIDFromEnvironment,a.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,a.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};e.exports=a},function(e,t,n){"use strict";e.exports=function(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var o=typeof e,a=typeof t;return"string"===o||"number"===o?"string"===a||"number"===a:"object"===a&&e.type===t.type&&e.key===t.key}},function(e,t,n){"use strict";n(3);var r=n(9),o=(n(2),r);e.exports=o},function(e,t,n){"use strict";e.exports=function(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}},function(e,t,n){"use strict";var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=r[e];return!!n&&!!t[n]}e.exports=function(e){return o}},function(e,t,n){"use strict";n(10);var r=n(19),o=n(5),a=n(1);n(2);e.exports=function(e){return null==e?null:1===e.nodeType?e:r.has(e)?o.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render&&a(!1),void a(!1))}},function(e,t,n){"use strict";var r=n(80),o=n(30),a=n(1),i=(n(2),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0});function s(e){null!=e.checkedLink&&null!=e.valueLink&&a(!1)}function u(e){s(e),(null!=e.value||null!=e.onChange)&&a(!1)}function c(e){s(e),(null!=e.checked||null!=e.onChange)&&a(!1)}var l={value:function(e,t,n){return!e[t]||i[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:r.func},p={};function d(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var f={checkPropTypes:function(e,t,n){for(var r in l){if(l.hasOwnProperty(r))var a=l[r](t,r,e,o.prop,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(a instanceof Error&&!(a.message in p)){p[a.message]=!0;d(n)}}},getValue:function(e){return e.valueLink?(u(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(c(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(u(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(c(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=f},function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.iterator;e.exports=function(e){var t=e&&(r&&e[r]||e["@@iterator"]);if("function"==typeof t)return t}},function(e,t,n){"use strict";n(10);var r=n(6),o=n(17),a=n(48),i=n(1),s=(n(2),o.SEPARATOR),u={"=":"=0",".":"=1",":":"=2"},c=/[=.:]/g;function l(e){return u[e]}function p(e,t){return e&&null!=e.key?d(e.key):t.toString(36)}function d(e){return"$"+(""+e).replace(c,l)}function f(e,t,n,o){var u,c=typeof e;if("undefined"!==c&&"boolean"!==c||(e=null),null===e||"string"===c||"number"===c||r.isValidElement(e))return n(o,e,""===t?s+p(e,0):t),1;var l=0,h=""===t?s:t+":";if(Array.isArray(e))for(var g=0;g<e.length;g++)l+=f(u=e[g],h+p(u,g),n,o);else{var m=a(e);if(m){var y,v=m.call(e);if(m!==e.entries)for(var _=0;!(y=v.next()).done;)l+=f(u=y.value,h+p(u,_++),n,o);else for(0;!(y=v.next()).done;){var b=y.value;b&&(l+=f(u=b[1],h+d(b[0])+":"+p(u,0),n,o))}}else if("object"===c){String(e);i(!1)}}return l}e.exports=function(e,t,n){return null==e?0:f(e,"",t,n)}},function(e,t,n){"use strict";e.exports=function(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}},function(e,t,n){"use strict";e.exports="0.14.9"},function(e,t,n){"use strict";(function(e,r){var o,a=n(92);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=Object(a.a)(o);t.a=i}).call(this,n(23),n(98)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"applyMiddleware",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"wrapStore",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"alias",{enumerable:!0,get:function(){return i.default}});var r=s(n(99)),o=s(n(102)),a=s(n(103)),i=s(n(105));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PORT_NAME=t.PATCH_STATE_TYPE=t.STATE_TYPE=t.DISPATCH_TYPE=void 0;t.DISPATCH_TYPE="chromex.dispatch";t.STATE_TYPE="chromex.state";t.PATCH_STATE_TYPE="chromex.patch_state";t.DEFAULT_PORT_NAME="chromex.port_name"},function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.withSerializer=t.withDeserializer=t.noop=void 0;var a=function(e){return e};t.noop=a;var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;return r({},e,e.payload?{payload:t(e.payload)}:{})},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2?arguments[2]:void 0;return n?function(r){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];return n.apply(void 0,[r].concat(a))?e.apply(void 0,[i(r,t)].concat(a)):e.apply(void 0,[r].concat(a))}:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return e.apply(void 0,[i(n,t)].concat(o))}};t.withDeserializer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return function(t){return function(n,r){return t(s(n,e,r))}}};t.withSerializer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];if(o.length<=n)throw new Error("Message in request could not be serialized. "+"Expected message in position ".concat(n," but only received ").concat(o.length," args."));return o[n]=i(o[n],e),t.apply(void 0,o)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIFF_STATUS_ARRAY_UPDATED=t.DIFF_STATUS_KEYS_UPDATED=t.DIFF_STATUS_REMOVED=t.DIFF_STATUS_UPDATED=void 0;t.DIFF_STATUS_UPDATED="updated";t.DIFF_STATUS_REMOVED="removed";t.DIFF_STATUS_KEYS_UPDATED="updated_keys";t.DIFF_STATUS_ARRAY_UPDATED="updated_array"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserAPI=function(){var e;try{e=self.chrome||self.browser||browser}catch(t){e=browser}if(!e)throw new Error("Browser API is not present");return e}},function(e,t,n){"use strict";var r=n(59),o=n(34),a=n(35),i=n(5),s=n(3),u=n(26),c=n(33),l=(n(43),function(e){});s(l.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){if(this._rootNodeID=e,t.useCreateElement){var r=n[i.ownerDocumentContextKey].createElement("span");return o.setAttributeForID(r,e),i.getID(r),c(r,this._stringText),r}var a=u(this._stringText);return t.renderToStaticMarkup?a:"<span "+o.createMarkupForID(e)+">"+a+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var o=i.getNode(this._rootNodeID);r.updateTextContent(o,n)}}},unmountComponent:function(){a.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=l},function(e,t,n){"use strict";var r=n(109),o=n(61),a=n(7),i=n(25),s=n(33),u=n(1);function c(e,t,n){var r=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,r)}var l={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,updateTextContent:s,processUpdates:function(e,t){for(var n,a,l=null,p=null,d=0;d<e.length;d++)if((n=e[d]).type===o.MOVE_EXISTING||n.type===o.REMOVE_NODE){var f=n.fromIndex,h=n.parentNode.childNodes[f],g=n.parentID;h||u(!1),(l=l||{})[g]=l[g]||[],l[g][f]=h,(p=p||[]).push(h)}if(a=t.length&&"string"==typeof t[0]?r.dangerouslyRenderMarkup(t):t,p)for(var m=0;m<p.length;m++)p[m].parentNode.removeChild(p[m]);for(var y=0;y<e.length;y++)switch((n=e[y]).type){case o.INSERT_MARKUP:c(n.parentNode,a[n.markupIndex],n.toIndex);break;case o.MOVE_EXISTING:c(n.parentNode,l[n.parentID][n.fromIndex],n.toIndex);break;case o.SET_MARKUP:i(n.parentNode,n.content);break;case o.TEXT_CONTENT:s(n.parentNode,n.content);case o.REMOVE_NODE:}}};a.measureMethods(l,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),e.exports=l},function(e,t,n){"use strict";var r=n(4),o=n(1),a=r.canUseDOM?document.createElement("div"):null,i={},s=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach((function(e){p[e]=l,i[e]=!0})),e.exports=function(e){return a||o(!1),p.hasOwnProperty(e)||(e="*"),i.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",i[e]=!a.firstChild),i[e]?p[e]:null}},function(e,t,n){"use strict";var r=n(24)({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=r},function(e,t,n){"use strict";var r=n(1),o=null,a={};function i(){if(o)for(var e in a){var t=a[e],n=o.indexOf(e);if(n>-1||r(!1),!c.plugins[n]){t.extractEvents||r(!1),c.plugins[n]=t;var i=t.eventTypes;for(var u in i)s(i[u],t,u)||r(!1)}}}function s(e,t,n){c.eventNameDispatchConfigs.hasOwnProperty(n)&&r(!1),c.eventNameDispatchConfigs[n]=e;var o=e.phasedRegistrationNames;if(o){for(var a in o){if(o.hasOwnProperty(a))u(o[a],t,n)}return!0}return!!e.registrationName&&(u(e.registrationName,t,n),!0)}function u(e,t,n){c.registrationNameModules[e]&&r(!1),c.registrationNameModules[e]=t,c.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){o&&r(!1),o=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];a.hasOwnProperty(n)&&a[n]===o||(a[n]&&r(!1),a[n]=o,t=!0)}t&&i()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return c.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=c.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){for(var e in o=null,a)a.hasOwnProperty(e)&&delete a[e];c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=c.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=c},function(e,t,n){"use strict";var r=null;function o(e,t,n,o){try{return t(n,o)}catch(e){return void(null===r&&(r=e))}}var a={invokeGuardedCallback:o,invokeGuardedCallbackWithCatch:o,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};e.exports=a},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){if(null==t&&r(!1),null==e)return t;var n=Array.isArray(e),o=Array.isArray(t);return n&&o?(e.push.apply(e,t),e):n?(e.push(t),e):o?[e].concat(t):[e,t]}},function(e,t,n){"use strict";e.exports=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}},function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};e.exports=r},function(e,t,n){"use strict";e.exports={useCreateElement:!1}},function(e,t,n){"use strict";var r={};var o={isNullComponentID:function(e){return!!r[e]},registerNullComponentID:function(e){r[e]=!0},deregisterNullComponentID:function(e){delete r[e]}};e.exports=o},function(e,t,n){"use strict";var r={createReactRootIndex:null,injection:{injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}}};e.exports=r},function(e,t,n){"use strict";var r=n(116),o=/\/?>/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};e.exports=a},function(e,t,n){"use strict";var r=n(119);e.exports=function(e,t){var n=!0;e:for(;n;){var o=e,a=t;if(n=!1,o&&a){if(o===a)return!0;if(r(o))return!1;if(r(a)){e=o,t=a.parentNode,n=!0;continue e}return o.contains?o.contains(a):!!o.compareDocumentPosition&&!!(16&o.compareDocumentPosition(a))}return!1}}},function(e,t,n){"use strict";var r,o=n(6),a=n(68),i=n(14),s={injectEmptyComponent:function(e){r=o.createElement(e)}};function u(){a.registerNullComponentID(this._rootNodeID)}var c=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(r)};n(3)(c.prototype,{construct:function(e){},mountComponent:function(e,t,n){return t.getReactMountReady().enqueue(u,this),this._rootNodeID=e,i.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){i.unmountComponent(this._renderedComponent),a.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),c.injection=s,e.exports=c},function(e,t,n){"use strict";var r=n(3),o=n(1),a=null,i={},s=null;var u={getComponentClassForElement:function(e){if("function"==typeof e.type)return e.type;var t=e.type,n=i[t];return null==n&&(i[t]=n=null(t)),n},createInternalComponent:function(e){return a||o(!1),new a(e.type,e.props)},createInstanceForText:function(e){return new s(e)},isTextComponent:function(e){return e instanceof s},injection:{injectGenericComponentClass:function(e){a=e},injectTextComponentClass:function(e){s=e},injectComponentClasses:function(e){r(i,e)}}};e.exports=u},function(e,t,n){"use strict";var r=n(122),o=n(126),a=n(127),i=n(128),s=n(129),u=n(4),c=n(130),l=n(131),p=n(35),d=n(77),f=n(132),h=n(58),g=n(148),m=n(150),y=n(17),v=n(5),_=n(151),b=n(154),E=n(155),w=n(156),S=n(164),C=!1;e.exports={inject:function(){C||(C=!0,m.EventEmitter.injectReactEventListener(g),m.EventPluginHub.injectEventPluginOrder(i),m.EventPluginHub.injectInstanceHandle(y),m.EventPluginHub.injectMount(v),m.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:w,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:b,BeforeInputEventPlugin:r}),m.NativeComponent.injectGenericComponentClass(f),m.NativeComponent.injectTextComponentClass(h),m.Class.injectMixin(l),m.DOMProperty.injectDOMPropertyConfig(c),m.DOMProperty.injectDOMPropertyConfig(S),m.EmptyComponent.injectEmptyComponent("noscript"),m.Updates.injectReconcileTransaction(_),m.Updates.injectBatchingStrategy(d),m.RootIndex.injectCreateReactRootIndex(u.canUseDOM?a.createReactRootIndex:E.createReactRootIndex),m.Component.injectEnvironment(p))}}},function(e,t,n){"use strict";var r=n(4),o=null;e.exports=function(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}},function(e,t,n){"use strict";var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&r[e.type]||"textarea"===t)}},function(e,t,n){"use strict";var r=n(8),o=n(29),a=n(3),i=n(9),s={initialize:i,close:function(){p.isBatchingUpdates=!1}},u=[{initialize:i,close:r.flushBatchedUpdates.bind(r)},s];function c(){this.reinitializeTransaction()}a(c.prototype,o.Mixin,{getTransactionWrappers:function(){return u}});var l=new c,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,a){var i=p.isBatchingUpdates;p.isBatchingUpdates=!0,i?e(t,n,r,o,a):l.perform(e,null,t,n,r,o,a)}};e.exports=p},function(e,t,n){"use strict";e.exports=function(e){try{e.focus()}catch(e){}}},function(e,t,n){"use strict";var r={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};var o=["Webkit","ms","Moz","O"];Object.keys(r).forEach((function(e){o.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));var a={isUnitlessNumber:r,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};e.exports=a},function(e,t,n){"use strict";var r=n(6),o=n(31),a=n(9),i=n(48),s="<<anonymous>>",u={array:l("array"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),any:c(a.thatReturns(null)),arrayOf:function(e){return c((function(t,n,r,a,i){var s=t[n];if(!Array.isArray(s)){var u=o[a],c=d(s);return new Error("Invalid "+u+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected an array.")}for(var l=0;l<s.length;l++){var p=e(s,l,r,a,i+"["+l+"]","SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(p instanceof Error)return p}return null}))},element:c((function(e,t,n,a,i){if(!r.isValidElement(e[t])){var s=o[a];return new Error("Invalid "+s+" `"+i+"` supplied to `"+n+"`, expected a single ReactElement.")}return null})),instanceOf:function(e){return c((function(t,n,r,a,i){if(!(t[n]instanceof e)){var u=o[a],c=e.name||s,l=(p=t[n]).constructor&&p.constructor.name?p.constructor.name:"<<anonymous>>";return new Error("Invalid "+u+" `"+i+"` of type `"+l+"` supplied to `"+r+"`, expected instance of `"+c+"`.")}var p;return null}))},node:c((function(e,t,n,r,a){if(!p(e[t])){var i=o[r];return new Error("Invalid "+i+" `"+a+"` supplied to `"+n+"`, expected a ReactNode.")}return null})),objectOf:function(e){return c((function(t,n,r,a,i){var s=t[n],u=d(s);if("object"!==u){var c=o[a];return new Error("Invalid "+c+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.")}for(var l in s)if(s.hasOwnProperty(l)){var p=e(s,l,r,a,i+"."+l,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(p instanceof Error)return p}return null}))},oneOf:function(e){if(!Array.isArray(e))return c((function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")}));return c((function(t,n,r,a,i){for(var s=t[n],u=0;u<e.length;u++)if(s===e[u])return null;var c=o[a],l=JSON.stringify(e);return new Error("Invalid "+c+" `"+i+"` of value `"+s+"` supplied to `"+r+"`, expected one of "+l+".")}))},oneOfType:function(e){if(!Array.isArray(e))return c((function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")}));return c((function(t,n,r,a,i){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,a,i,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return null;var u=o[a];return new Error("Invalid "+u+" `"+i+"` supplied to `"+r+"`.")}))},shape:function(e){return c((function(t,n,r,a,i){var s=t[n],u=d(s);if("object"!==u){var c=o[a];return new Error("Invalid "+c+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.")}for(var l in e){var p=e[l];if(p){var f=p(s,l,r,a,i+"."+l,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(f)return f}}return null}))}};function c(e){function t(t,n,r,a,i,u){if(a=a||s,u=u||r,null==n[r]){var c=o[i];return t?new Error("Required "+c+" `"+u+"` was not specified in `"+a+"`."):null}return e(n,r,a,i,u)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function l(e){return c((function(t,n,r,a,i){var s=t[n];if(d(s)!==e){var u=o[a],c=function(e){var t=d(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(s);return new Error("Invalid "+u+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected `"+e+"`.")}return null}))}function p(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(p);if(null===e||r.isValidElement(e))return!0;var t=i(e);if(!t)return!1;var n,o=t.call(e);if(t!==e.entries){for(;!(n=o.next()).done;)if(!p(n.value))return!1}else for(;!(n=o.next()).done;){var a=n.value;if(a&&!p(a[1]))return!1}return!0;default:return!1}}function d(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}e.exports=u},function(e,t,n){"use strict";var r=n(12),o=n(6),a=n(9),i=n(49),s=r.twoArgumentPooler,u=r.fourArgumentPooler,c=/\/(?!\/)/g;function l(e){return(""+e).replace(c,"//")}function p(e,t){this.func=e,this.context=t,this.count=0}function d(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function f(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function h(e,t,n){var r=e.result,i=e.keyPrefix,s=e.func,u=e.context,c=s.call(u,t,e.count++);Array.isArray(c)?g(c,r,n,a.thatReturnsArgument):null!=c&&(o.isValidElement(c)&&(c=o.cloneAndReplaceKey(c,i+(c!==t?l(c.key||"")+"/":"")+n)),r.push(c))}function g(e,t,n,r,o){var a="";null!=n&&(a=l(n)+"/");var s=f.getPooled(t,a,r,o);i(e,h,s),f.release(s)}function m(e,t,n){return null}p.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},r.addPoolingTo(p,s),f.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},r.addPoolingTo(f,u);var y={forEach:function(e,t,n){if(null==e)return e;var r=p.getPooled(t,n);i(e,d,r),p.release(r)},map:function(e,t,n){if(null==e)return e;var r=[];return g(e,r,null,t,n),r},mapIntoWithKeyPrefixInternal:g,count:function(e,t){return i(e,m,null)},toArray:function(e){var t=[];return g(e,t,null,a.thatReturnsArgument),t}};e.exports=y},function(e,t,n){"use strict";var r=n(47),o=n(5),a=n(8),i=n(3),s=(n(2),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2));function u(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=r.getValue(e);null!=t&&c(this,Boolean(e.multiple),t)}}function c(e,t,n){var r,a,i=o.getNode(e._rootNodeID).options;if(t){for(r={},a=0;a<n.length;a++)r[""+n[a]]=!0;for(a=0;a<i.length;a++){var s=r.hasOwnProperty(i[a].value);i[a].selected!==s&&(i[a].selected=s)}}else{for(r=""+n,a=0;a<i.length;a++)if(i[a].value===r)return void(i[a].selected=!0);i.length&&(i[0].selected=!0)}}var l={valueContextKey:s,getNativeProps:function(e,t,n){return i({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=r.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,onChange:p.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var r=i({},n);return r[s]=e._wrapperState.initialValue,r},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var o=r.getValue(t);null!=o?(e._wrapperState.pendingUpdate=!1,c(e,Boolean(t.multiple),o)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?c(e,Boolean(t.multiple),t.defaultValue):c(e,Boolean(t.multiple),t.multiple?[]:""))}};function p(e){var t=this._currentElement.props,n=r.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,a.asap(u,this),n}e.exports=l},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=r.bind(t),i=0;i<n.length;i++)if(!a(n[i])||e[n[i]]!==t[n[i]])return!1;return!0}},function(e,t,n){"use strict";var r=n(9),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=o},function(e,t,n){"use strict";var r=n(86),o=n(6),a=(n(30),n(31),n(87)),i=n(3),s=n(20),u=n(1),c=n(24),l=n(13),p=(n(2),l({mixins:null})),d=c({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),f=[];var h={mixins:d.DEFINE_MANY,statics:d.DEFINE_MANY,propTypes:d.DEFINE_MANY,contextTypes:d.DEFINE_MANY,childContextTypes:d.DEFINE_MANY,getDefaultProps:d.DEFINE_MANY_MERGED,getInitialState:d.DEFINE_MANY_MERGED,getChildContext:d.DEFINE_MANY_MERGED,render:d.DEFINE_ONCE,componentWillMount:d.DEFINE_MANY,componentDidMount:d.DEFINE_MANY,componentWillReceiveProps:d.DEFINE_MANY,shouldComponentUpdate:d.DEFINE_ONCE,componentWillUpdate:d.DEFINE_MANY,componentDidUpdate:d.DEFINE_MANY,componentWillUnmount:d.DEFINE_MANY,updateComponent:d.OVERRIDE_BASE},g={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)y(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=_(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=i({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n))n in g&&u(!1),n in e&&u(!1),e[n]=r}}(e,t)},autobind:function(){}};function m(e,t){var n=h.hasOwnProperty(t)?h[t]:null;w.hasOwnProperty(t)&&n!==d.OVERRIDE_BASE&&u(!1),e.hasOwnProperty(t)&&n!==d.DEFINE_MANY&&n!==d.DEFINE_MANY_MERGED&&u(!1)}function y(e,t){if(t){"function"==typeof t&&u(!1),o.isValidElement(t)&&u(!1);var n=e.prototype;for(var r in t.hasOwnProperty(p)&&g.mixins(e,t.mixins),t)if(t.hasOwnProperty(r)&&r!==p){var a=t[r];if(m(n,r),g.hasOwnProperty(r))g[r](e,a);else{var i=h.hasOwnProperty(r),s=n.hasOwnProperty(r);if("function"==typeof a&&!i&&!s&&!1!==t.autobind)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=a,n[r]=a;else if(s){var c=h[r];(!i||c!==d.DEFINE_MANY_MERGED&&c!==d.DEFINE_MANY)&&u(!1),c===d.DEFINE_MANY_MERGED?n[r]=_(n[r],a):c===d.DEFINE_MANY&&(n[r]=b(n[r],a))}else n[r]=a}}}}function v(e,t){for(var n in e&&t&&"object"==typeof e&&"object"==typeof t||u(!1),t)t.hasOwnProperty(n)&&(void 0!==e[n]&&u(!1),e[n]=t[n]);return e}function _(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return v(o,n),v(o,r),o}}function b(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function E(e,t){return t.bind(e)}var w={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},S=function(){};i(S.prototype,r.prototype,w);var C={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindMap&&function(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=E(e,n)}}(this),this.props=e,this.context=t,this.refs=s,this.updater=n||a,this.state=null;var r=this.getInitialState?this.getInitialState():null;("object"!=typeof r||Array.isArray(r))&&u(!1),this.state=r};for(var n in(t.prototype=new S).constructor=t,f.forEach(y.bind(null,t)),y(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render||u(!1),h)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){f.push(e)}}};e.exports=C},function(e,t,n){"use strict";var r=n(87),o=(n(28),n(20)),a=n(1);n(2);function i(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||r}i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&a(!1),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)},e.exports=i},function(e,t,n){"use strict";n(2);function r(e,t){0}var o={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r()},enqueueReplaceState:function(e,t){r()},enqueueSetState:function(e,t){r()},enqueueSetProps:function(e,t){r()},enqueueReplaceProps:function(e,t){r()}};e.exports=o},function(e,t,n){"use strict";var r=n(152),o=n(71),a=n(78),i=n(89);var s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=i();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t,n=i(),r=e.focusedElem,u=e.selectionRange;n!==r&&(t=r,o(document.documentElement,t))&&(s.hasSelectionCapabilities(r)&&s.setSelection(r,u),a(r))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,o=t.end;if(void 0===o&&(o=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(o,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var a=e.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",o-n),a.select()}else r.setOffsets(e,t)}};e.exports=s},function(e,t,n){"use strict";e.exports=function(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}},function(e,t,n){"use strict";var r=n(6),o=n(30),a=(n(31),n(10)),i=(n(28),n(48)),s=n(1);n(2);function u(){if(a.current){var e=a.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}var c={},l={};function p(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;(function(e,t,n){var r=u();if(!r){var o="string"==typeof n?n:n.displayName||n.name;o&&(r=" Check the top-level render call using <"+o+">.")}var i=c[e]||(c[e]={});if(i[r])return null;i[r]=!0;var s={parentOrOwner:r,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};t&&t._owner&&t._owner!==a.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+".")})("uniqueKey",e,t)}}function d(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var o=e[n];r.isValidElement(o)&&p(o,t)}else if(r.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var a=i(e);if(a&&a!==e.entries)for(var s,u=a.call(e);!(s=u.next()).done;)r.isValidElement(s.value)&&p(s.value,t)}}function f(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&function(e,t,n,r){for(var o in t)if(t.hasOwnProperty(o)){var a;try{"function"!=typeof t[o]&&s(!1),a=t[o](n,o,e,r,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}a instanceof Error&&!(a.message in l)&&(l[a.message]=!0,u())}}(n,t.propTypes,e.props,o.prop),t.getDefaultProps}}var h={createElement:function(e,t,n){var o="string"==typeof e||"function"==typeof e,a=r.createElement.apply(this,arguments);if(null==a)return a;if(o)for(var i=2;i<arguments.length;i++)d(arguments[i],e);return f(a),a},createFactory:function(e){var t=h.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var o=r.cloneElement.apply(this,arguments),a=2;a<arguments.length;a++)d(arguments[a],o.type);return f(o),o}};e.exports=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.repeat=function(e,t){return new Array(t+1).join(e)},o=t.pad=function(e,t){return r("0",t-e.toString().length)+e};t.formatTime=function(e){return o(e.getHours(),2)+":"+o(e.getMinutes(),2)+":"+o(e.getSeconds(),2)+"."+o(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(23))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.defaults=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(175),i=n(91),s=n(178),u=(r=s)&&r.__esModule?r:{default:r};function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({},u.default,e),n=t.logger,r=t.transformer,s=t.stateTransformer,c=t.errorTransformer,l=t.predicate,p=t.logErrors,d=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!"),e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n\n\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\n\nconst logger = createLogger({\n  // ...options\n});\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var f=[];return function(e){var n=e.getState;return function(e){return function(r){if("function"==typeof l&&!l(n,r))return e(r);var u={};f.push(u),u.started=i.timer.now(),u.startedTime=new Date,u.prevState=s(n()),u.action=r;var h=void 0;if(p)try{h=e(r)}catch(e){u.error=c(e)}else h=e(r);u.took=i.timer.now()-u.started,u.nextState=s(n());var g=t.diff&&"function"==typeof d?d(n,r):t.diff;if((0,a.printBuffer)(f,o({},t,{diff:g})),f.length=0,u.error)throw u.error;return h}}}}var l=c();t.defaults=u.default,t.logger=l,t.default=c,e.exports=t.default},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){self.yodules=self.yodules||{},yodules.LastPageHandler={init:function(e){const t=yodules.LastPageHandler,n=e.instance.validateUrl;t.class=class{constructor(){this._LPlist={},this._LPid=null,this._ct=chrome.tabs}getLPUrl(){return this._LPid&&this._LPlist[this._LPid]||""}getLPId(){return this._LPid||null}setLPId(e){return this._LPlist[e]&&(this._LPid=e),this}updateLPList(e){const t=e&&e.id,r=e.url;return t&&n(r)&&(this._LPlist[t]=r),this}updateLPIdFromActiveTab(e){return e&&e.id&&e.active&&this.setLPId(e.id),this}handleLP(e){const t=this.getLPUrl();return this.updateLPList(e),this.updateLPIdFromActiveTab(e),t}initOpenedTabs(){const e=chrome&&chrome.windows;if(!e)return;this._initTabs(e),e.onFocusChanged.addListener(this._cwonFocused.bind(this)),e.onRemoved.addListener(this._cwonRemoved.bind(this));const t=this._ct.onActivated?"onActivated":"onSelectionChanged";this._ct[t].addListener(this._onReselected.bind(this))}_initTabs(e){e.getAll({populate:!0},(e=>{for(let t=0;t<e.length;t++)for(let r=0;r<e[t].tabs.length;r++)n(e[t].tabs[r].url)&&(this.updateLPList(e[t].tabs[r]),e[t].focused&&e[t].tabs[r].active&&this.setLPId(e[t].tabs[r].id))}))}_cwonFocused(e){chrome.windows&&chrome.windows.WINDOW_ID_NONE!=e&&this._ct.query({windowId:e,active:!0},(e=>{e&&e[0]&&e[0].active&&this.setLPId(e[0].id)}))}_cwonRemoved(){this._ct.query({active:!0},(e=>{e&&e[0]&&this.setLPId(e[0].id)}))}_onReselected(e){this.setLPId(e.tabId)}},t.instance=new t.class,t.instance.initOpenedTabs()},deps:["Helpers"]},self.yodules=self.yodules||{},yodules.TabListeners={init:function(e,t,n,r){const o=yodules.TabListeners,a=n.instance,i=t.instance,s=r.instance,u=e.instance;o.class=class{constructor(){this.ct=chrome.tabs}addListeners(){this._onCreatedhandler=this._onCreated.bind(this),this._onReplacedhandler=this._onReplaced.bind(this),this._onUpdatedhandler=this._onUpdated.bind(this),this._onRemovedhandler=this._onRemoved.bind(this),this.ct.onUpdated.addListener(this._onUpdatedhandler),this.ct.onReplaced.addListener(this._onReplacedhandler),this.ct.onRemoved.addListener(this._onRemovedhandler),this.ct.onCreated.addListener(this._onCreatedhandler)}_onCreated(e){if(!e||!e.url)return;a.getById(e.id).setIsFr().setIsReplaced(!1);const t=e.openerTabId||i.getLPId();e.url.length&&a.hasById(t)&&e.url===a.getById(t).getUrl()?a.getById(e.id).addMeta("duplication"):e.url.length&&u.validateUrl(e.url)&&this.ct.query({url:e.url},(function(t){(t||[]).length>1&&a.getById(e.id).addMeta(["duplication","background_duplication"])})),"complete"!==e.status||e.openerTabId||a.getById(e.id).addMeta("reopening"),a.getById(e.id).setOpenerId(t),self.dispatchEvent(new CustomEvent("upnabla",{detail:{tabId:e.id,openerId:t}}))}_onUpdated(e,t,n){if(t&&"complete"===t.status){const t=a.getById(e);t.getIsReplaced()&&t.getIsAjax()&&t.setUrl(void 0).setIsReported(!1).setIsAjax(!1),t.getUrl()!==n.url&&t.setIsReported(!1),t.setReltype(void 0).setIsAjax().setTransitionType("ajax"),s.sendTrack(e),t.setIsReplaced(!1)}setTimeout((()=>{chrome.tabs.sendMessage(e,{message:"pageUrlChanged",url:t.url},(()=>chrome.runtime.lastError))}),10)}_onReplaced(e,t){a.getById(e).setIsReplaced().setId([e,t]),s.sendTrack(e)}_onRemoved(e){a.remove(e)}},o.instance=new o.class,o.instance.addListeners()},deps:["Helpers","LastPageHandler","Tablist","SendRequestForTab"]},self.yodules=self.yodules||{},yodules.WebRequestListeners={init:function(e,t,n){const r=yodules.WebRequestListeners,o=e.instance,a=t.instance.validateUrl,i=n.instance;r.class=class{constructor(){this.wr=chrome.webRequest,this.repertuar={types:["main_frame"],urls:["<all_urls>"]}}addListeners(){if(!this.wr)return;this.wr.onBeforeRequest.addListener(this._onBeforeRequest.bind(this),this.repertuar),this.wr.onBeforeRedirect.addListener(this._onBeforeRedirect.bind(this),this.repertuar);let e=["requestHeaders"];this.wr.OnBeforeSendHeadersOptions&&this.wr.OnBeforeSendHeadersOptions.hasOwnProperty("EXTRA_HEADERS")&&e.push("extraHeaders"),this.wr.onBeforeSendHeaders.addListener(this._onBeforeSendHeaders.bind(this),this.repertuar,e),this.wr.onHeadersReceived.addListener(this._onHeadersReceived.bind(this),this.repertuar),this.wr.onErrorOccurred.addListener(this._onErrorOccurred.bind(this),this.repertuar)}_onBeforeRequest(e){o.getById(e.tabId).setPrev(i.getLPUrl()),a(e.url)&&(o.getById(e.tabId).setUrl(void 0).setIsReported(!1).setIsAjax(!1),this._setHeadersOrigin(e))}_onBeforeRedirect(e){a(e.url)&&o.getById(e.tabId).addServerRedirects(e.url)}_onBeforeSendHeaders(e){return o.getById(e.tabId).setIsHh(),e.requestHeaders.some((t=>this._filterHeaders(t,e.tabId)))||o.getById(e.tabId).setHref(""),{requestHeaders:e.requestHeaders}}_filterHeaders(e,t){return/^Referer$/i.test(e.name)&&o.getById(t).setHref(e.value)}_setHeadersOrigin(e){const t=e&&e.originUrl;t&&o.getById(e.tabId).setOriginUrl(t)}_onHeadersReceived(e){o.getById(e.tabId).setIsHh()}_onErrorOccurred(e){try{o.getById(e.tabId)}catch(e){}}},r.instance=new r.class,r.instance.addListeners()},deps:["Tablist","Helpers","LastPageHandler"]},self.yodules=self.yodules||{},yodules.WindowListeners={init:function(e,t){const n=yodules.WindowListeners,r=t.instance,o=e.instance.validateUrl;n.class=class{addListeners(){return new Promise((e=>{chrome.windows.getAll({populate:!0},(function(t){for(let e=0;e<t.length;e++)for(let n=0;n<t[e].tabs.length;n++)o(t[e].tabs[n].url)&&r.getById(t[e].tabs[n].id).setUrl(t[e].tabs[n].url).setIsRestarting();e()}))}))}},n.instance=new n.class,n.instance.addListeners()},deps:["Helpers","Tablist"]},self.yodules=self.yodules||{},yodules.KeyStorage={init:function(){const e=yodules.KeyStorage;return e.class=class{constructor(){this._gid=null,this._startDate=null}initStates(){return this.storage=chrome.storage.local,this.guid().then((e=>{this._gid=e.ym_}))}storageGetGuid(e){if(e)return e.replace(/"/g,"");let t;t="";for(let e=0;e<9;e++)t+=this._getG();return this.storageSet(this._convertToObject("ym_",t)),t}storageGetter(e,t){const n="ym_";return t.includes(n)&&(e.ym_=this.storageGetGuid(e.ym_)),e}storageGet(e){return new Promise((t=>{this.storage.get(e,t)})).then((t=>this.storageGetter(t,e)))}storageSet(e){return new Promise((t=>{this.storage.set(e,t)}))}async guid(){return await this.storageGet(["ym_"])}get gid(){return this._gid}_getS(){return Date.now()}_getG(){return(65536*(1+Math.random(this._getS()+12))|0).toString(30).substring(1)}_convertToObject(e,t){let n={};return n[e]=t,n}},e.instance=new e.class,e.instance.initStates()}},self.yodules=self.yodules||{},yodules.PiiValueEncryptor={init:function(){const e=yodules.PiiValueEncryptor;async function t(e){const t=function(e){e=e.replace(/\r\n/g,"\n");const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[t.length]=r:r>127&&r<2048?(t[t.length]=r>>6|192,t[t.length]=63&r|128):(t[t.length]=r>>12|224,t[t.length]=r>>6&63|128,t[t.length]=63&r|128)}return new Uint8Array(t).buffer}(e),n=function(e){let t,n,r,o=new DataView(e),a="";for(t=0,n=o.byteLength;t<n;t+=1)r=o.getUint8(t).toString(16),r.length<2&&(r="0"+r),a+=r;return a}(await crypto.subtle.digest("SHA-256",t));return n}e.class=class{async encrypt(e){return e=function(e){return e+"61"*Math.PI}(e+=""),await t(e)}},e.instance=new e.class}},self.yodules=self.yodules||{},yodules.AbstractPiiFilter={init:function(){yodules.AbstractPiiFilter.class=class{constructor(e,t){this.setIsFinal(e),this.setWhitelist(t),this.cache=""}get isFinal(){return this._isFinal}setIsFinal(e){return this._isFinal=e,this}get whitelist(){return this._whitelist}set whitelist(e){this._whitelist=e}setWhitelist(e){return this._whitelist=e,this}get cache(){return this._cache}set cache(e){this._cache=e}get name(){return this._name}set name(e){this._name=e}get fields(){return this._fields}set fields(e){this._fields=e}processor(){return this.cache}decodeURIRecursive(e,t){t=t||0;var n=e;try{n=decodeURIComponent(e)}catch(e){return{decoded:n,decodedTimes:t}}return n.length<e.length?this.decodeURIRecursive(n,++t):{decoded:n,decodedTimes:t}}test(){}}}},self.yodules=self.yodules||{},yodules.UrlWhiteListFilter={init:function(e){yodules.UrlWhiteListFilter.class=class extends e.class{constructor(e,t){super(e,t),this.fields=["hostname"],this.test=this._test}_test(e,t,n,r){return"string"==typeof this.whitelist&&-1!=this.whitelist.split(",").indexOf(r)&&(this.cache=e,!0)}}},deps:["AbstractPiiFilter"]},self.yodules=self.yodules||{},yodules.UrlBlackListFilter={init:function(e,t,n){const r=yodules.UrlBlackListFilter,o=t.instance;n.instance,r.class=class extends e.class{constructor(e,t){super(e,t),this.fields=["pathname","search","hash"],this.blackList=t||{},this.chars={pathname:"/",search:"?",hash:"#"},this.needSplit=!1,this.test=this._test}get blackList(){return this._blacklist}set blackList(e){this._blacklist=e}get chars(){return this._chars}set chars(e){this._chars=e}get needSplit(){return this._needSplit}set needSplit(e){this._needSplit=e}async _test(e,t,n,r){if((this.chars[t]||"/")===e)return!1;let a=!1;const i=Object.keys(this.blackList);for(let e,n=0;n<i.length;n++)if(e=i[n],-1!==r.indexOf(this.blackList[e])){this.cache=(this.chars[t]||"/")+"Crypto"+await o.encrypt(e)+"otpyrC",a=!0;break}return a}}},deps:["AbstractPiiFilter","PiiValueEncryptor","Helpers"]},self.yodules=self.yodules||{},yodules.UrlParametersFilter={init:function(e,t,n){const r=yodules.UrlParametersFilter,o=n.instance,a=t.instance;r.class=class extends e.class{constructor(e,t,n,r){super(e,t),this.fields=["pathname","search","hash"],this.urlParams=n,this.pathes=r,this.cache=[],this.whitelist=t||{},this.needSplit=!0,this.test=this._test,this.processor=this._processor}get urlParams(){return this._urlparams}set urlParams(e){this._urlparams=e}get pathes(){return this._path}set pathes(e){this._path=e}get needSplit(){return this._needSplit}set needSplit(e){this._needSplit=e}preprocess(e){let t={pathname:"",search:""},n=e.indexOf("?");t.pathname=e.substring(1,n);let r=e.substring(n+1);return t.search=r.substring(0).split("&"),t}async try_to_test_serach(e){let t=e,n=null,r=null;if(-1===e.indexOf("="))return n=e,{data:t,result:!1};if(n=e.split("=")[0],r=e.split("=")[1],-1!=this.whitelist.split(",").indexOf(n))return{data:t,result:!1};let i=!1;return await o.asyncForEach(Object.keys(this.urlParams),(async e=>{try{if(-1==n.search(new RegExp(this.urlParams[e].kr)));else{let s=r,u=s.match(new RegExp(this.urlParams[e].vr,"g"));(!u||u&&!u.length)&&(s=this.decodeURIRecursive(r).decoded,u=s.match(new RegExp(this.urlParams[e].vr,"g"))),u&&u.length&&(t=n+"="+await o.asyncReplace(s,new RegExp(this.urlParams[e].vr),(async e=>"Crypto"+await a.encrypt(e)+"otpyrC")),i=!0),i=i||!1}}catch(e){}})),{data:t,result:i}}async try_to_test_pathname(e){let t=e.split("/"),n=t,r=Array.from(new Array(t.length),(()=>!1)),a=!1;for(let e=0;e<t.length;++e)await o.asyncForEach(Object.keys(this.pathes),(async i=>{try{r[e]||-1==t[e].search(new RegExp(this.pathes[i]))||(n[e]=await o.asyncReplace(t[e],new RegExp(this.pathes[i]),(async e=>"Crypto"+await((new Date).getTime()-Math.floor(1e6*Math.random()))+"otpyrC")),a=!0,r[e]=!0)}catch(e){}}));return this._path_cache=n.join("/"),a}async _test(e,t){this.cache=[],this._prefix="";let n=!1,r=[e],a="";if(this._path_cache="","hash"===t||"search"===t){if("hash"===t){let t=this.preprocess(e);r=t.search,a=t.pathname,this._path_cache=a,this._prefix="#"}await o.asyncForEach(r,(async e=>{let t=await this.try_to_test_serach(e);n|=t.result,this.cache.push(t.data)})),n|=await this.try_to_test_pathname(a)}else"pathname"===t&&(n=await this.try_to_test_pathname(e));return n}_processor(){let e=this._prefix+this._path_cache;if(this.cache&&1==this.cache.length)e+=this.cache;else if(this.cache.length>1){let t=this.cache.join("&");t="?"+t,e+=t}return e}}},deps:["AbstractPiiFilter","PiiValueEncryptor","Helpers"]},self.yodules=self.yodules||{},yodules.PiiFilter={init:function(e,t,n,r){const o=yodules.PiiFilter,a=e.class,i=n.class,s=t.class,u=r.instance,c={data:"e30=",version:0};o.class=class{constructor(){this.filters=[],this.setFilters(c||{})}setFilters(e){if(void 0===e)return;let t=JSON.parse(atob(e.data||"e30=")),n={};Object.keys(t.urlparams||{}).forEach((e=>{let r=t.urlparams[e].split("=");if(3!=r.length&&2!=r.length);else{let t=r[0],o=r[1];n[e]={kr:t,vr:o,t:r[2]}}})),t.urlparams_m=n;const r=[];try{"string"==typeof t.sitewhitelist&&r.push(new a(!0,t.sitewhitelist)),"object"==typeof t.blacklist&&Object.keys(t.blacklist).length&&r.push(new s(!0,t.blacklist)),"string"==typeof t.paramwhitelist&&"object"==typeof t.urlparams_m&&"object"==typeof t.paths&&Object.keys(t.paths).length&&r.push(new i(!1,t.paramwhitelist,t.urlparams_m,t.paths))}catch(e){}this.filters=r}async __processor(e){let t,n=[],r={fields:["protocol","hostname","port","pathname","search","hash","host","username","password"],data:{},href:function(){const{protocol:e,username:t,password:n,host:o,pathname:a,search:i,hash:s}=r.data;let u="";return e&&(u+=e+"//"),t&&(u+=n?`${t}:${n}@`:`${t}@`),o&&(u+=o),a&&(u+=a),i&&(u+=i),s&&(u+=s),u}};try{t=new URL(e)}catch(e){return}r.fields.forEach((function(e){t[e]&&""!==t[e]&&(r.data[e]=t[e])}));let o=!1;for(let e=0;e<this.filters.length;e+=1){let t=this.filters[e];if(await u.asyncForEach(t.fields,(async function(e){if(!r.data[e]||""===r.data[e])return;let a=[],i="search"===e&&(t._needSplit||!1);i?a=r.data[e].substring(1).split("&"):a.push(r.data[e]);let s=[];await u.asyncForEach(a,(async function(a){let i=await t.test(a,e,!1,r.data.hostname||"");i&&n.push(t._name),o=i||o,s.push(i?t.processor(a,e):a)})),r.data[e]=i?"?"+s.join("&"):s[0]})),o&&t.isFinal)break}return{string:r.href(),status:o,filters:n}}async clearUrl(e){try{let t=await this.__processor(e);return t&&t.status?t.string:e}catch(t){return e}}},o.instance=new o.class},deps:["UrlWhiteListFilter","UrlBlackListFilter","UrlParametersFilter","Helpers"]},self.yodules=self.yodules||{},yodules.WebNavigationListeners={init:function(e,t){const n=yodules.WebNavigationListeners,r=e.instance,o=t.instance;n.class=class{constructor(){this.wn=chrome.webNavigation}addListeners(){this.wn.onCommitted.addListener(this._onCommitted.bind(this))}_onCommitted(e){const t=(e=e||{}).tabId,n=e.transitionQualifiers;t&&0===e.frameId&&(r.getById(t).setTransitionType(e.transitionType).setTransitionQualifier(n),/client_redirect/.test(n)&&r.getById(t).addClientRedirects(e.url),o.sendTrack(t))}},n.instance=new n.class,n.instance.addListeners()},deps:["Tablist","SendRequestForTab"]},self.yodules=self.yodules||{},yodules.Ployder={init:function(e){const t=yodules.Ployder,n=e.instance;t.class=class{constructor(){this._ploys=[],this.limit=parseInt("6")}pushItem(e){if(!this.hasPloy(e))return this._ploys.push(e)}hasPloy(e){return e&&e.hasOwnProperty("type")&&!!this._ploys.find((t=>t.type===e.type&&JSON.stringify(e)===JSON.stringify(t)))}unshiftItem(e){return this._ploys.unshift(e),this}getAll(){return this._ploys}take(e=0){return 0===e?this.takeAll():this.getAll().splice(0,e)}takeAll(){return this._ploys.splice(0,this._ploys.length)}hasItems(){return this._ploys.length>0}_checkSerpResults(e,t){let n=!1;return e.filter((e=>"serp"!==e.type||(e.data.url!==t||n?(e.data.timestamp>Date.now()-5e3&&this.unshiftItem(e),!1):(delete e.data.url,delete e.data.timestamp,n=!0,!0))))}takeAndPack(e=null){let t=this.take(this.limit);return t=this._checkSerpResults(t,e),t.length?encodeURIComponent(JSON.stringify(t)):null}},t.instance=new t.class;const r=t.instance;n.onBeforeSend(((e,t)=>{r.hasItems()&&(t.lk=r.takeAndPack(t.subtrgt))}))},deps:["SendRequestForTab"]},self.yodules=self.yodules||{},yodules.PloyderHelper={init:function(e,t){const n=yodules.PloyderHelper;e.instance,t.instance,Object.values({}),n.class=class{},n.instance=new n.class},deps:["Ployder","Helpers"]},self.yodules=self.yodules||{},yodules.Toggler={init:function(){const e=yodules.Toggler,t=parseInt("1"),n="tym_";return e.class=class{constructor(){this.isOn=!0,this._load(),this.addListeners(),this._optTurnOnPromise=void 0}get isOn(){return this._isOn}set isOn(e){this._isOn=e}_save(){const e={};e.tym_=0|this.isOn,chrome.storage.local.set(e)}_load(){return new Promise((e=>{chrome.storage.local.get(n,(n=>{let r=n.tym_,o=parseInt(r);isNaN(o)?this.isOn=t:this.isOn=1===o,e()}))}))}_optTurnOn(){}turnOn(){this.isOn=!0,this._save(),this._optTurnOn()}turnOff(){this.isOn=!1,this._save()}_onMessage(e){e&&e.action&&("turnOn"===e.action?this.turnOn():"turnOff"===e.action&&this.turnOff())}addListeners(){chrome.runtime.onMessage.addListener(this._onMessage.bind(this))}whenOn(){if(this.isOn)return Promise.resolve(!0);if(this._optTurnOnPromise)return this._optTurnOnPromise;let e;return e=new Promise((t=>{this._optTurnOn=()=>{t(),delete this._optTurnOnPromise},this._optTurnOnPromise=e})),e}optin(){return this.turnOn(),this}optout(){return this.turnOff(),this}isopt(){return this.isOn}whenopt(){return this.whenOn()}},e.instance=new e.class,e.instance._load()}},self.yodules=self.yodules||{},yodules.ContentTypeHelper={init:function(e){const t=yodules.ContentTypeHelper,n=e.instance;t.class=class{constructor(){this._ctypes=[],this._eventName="upnabla"}registerCtype(e){e&&("string"==typeof e&&(e=[e]),Array.isArray(e)&&(this._ctypes=this._ctypes.concat(e.filter((e=>!this._ctypes.includes(e))))))}setCtype(e){if(!this.isValidRequest(e,"type",this._eventName)||!this.isValidDetails(e))return;const t=n.getById(e.detail.tabId),r=n.getById(e.detail.openerId),o=r&&r.getRetroctype();t&&o&&this._ctypes.includes(o)&&(t.setContentType(o),r.clearRetroctype())}isValidDetails(e){return e&&e.detail&&e.detail.tabId&&!!e.detail.openerId}isValidRequest(e,t,n){return e&&e[t]&&(e[t]===n||Array.isArray(n)&&n.includes(e[t]))}addListeners(){self.addEventListener(this._eventName,this.setCtype.bind(this))}},t.instance=new t.class,t.instance.addListeners()},deps:["Tablist"]},self.yodules=self.yodules||{},yodules.ScrapByRemoteConfigBg={init:function(e,t){const n=yodules.ScrapByRemoteConfigBg,r=e.instance;n.class=class{startListenSR(){chrome.runtime.onMessage.addListener(((e,t)=>{"m('scrap_collected')"===e.message&&e.scraps&&e.scraps.length&&e.scraps.forEach((e=>{e.type&&(e.meta={id:t.tab.id,url:t.tab.url}),r.pushItem(e)}))}))}},n.instance=new n.class,n.instance.startListenSR()},deps:["Ployder","SRConfigFetcher"]}},function(e,t){self.yodules=self.yodules||{},yodules.Tab={init:function(){yodules.Tab.class=class{constructor(){this.clearMeta()}getId(){return this._Id}setId(e){return this._Id=[e],this}setVal(e,t){this[e]=t}assignVals(e){Object.assign(this,e)}getOpenerId(){return this._OpenerId}setOpenerId(e){return this._OpenerId=e,this}getUrl(){return this._Url}setUrl(e){return this._Url=e,this}setChromeUrl(e){this.chromeTabGetter(e,((e,t)=>{this.setUrl(t.url)}))}chromeTabGetter(e,t){if(e&&t)try{chrome.tabs.get(e,(n=>{chrome.runtime.lastError||n&&t(e,n)}))}catch(e){return null}}getReltype(){return this._Reltype}setReltype(e){return this._Reltype=e,this}clearReltype(){return delete this._Reltype,this}getRetroctype(){return this._Retroctype}setRetroctype(e){return this._Retroctype=e,this}clearRetroctype(){return delete this._Retroctype,this}getMeta(){return this._Meta}addMeta(e){return this._Meta||this.clearMeta(),this._Meta.push(e),this}clearMeta(){return this._Meta=["exthead"],this}getContentType(){return this._ContentType}setContentType(e){return this._ContentType=e,this}getIsRestarting(){return this._IsRestarting}setIsRestarting(e=!0){return this._IsRestarting=e,this}getIsAjax(){return this._IsAjax}setIsAjax(e=!0){return this._IsAjax=e,this}getServerRedirects(){return this._ServerRedirects}addServerRedirects(e){return this._ServerRedirects||(this._ServerRedirects=[]),this._ServerRedirects.push(e),this}cleatServerRedirects(){return this._ServerRedirects=[],this}getClientRedirects(){return this._ClientRedirects||""}addClientRedirects(e){return this._ClientRedirects=e,this}cleatClientRedirects(){return this._ClientRedirects="",this}getTransitionType(){return this._TransitionType}setTransitionType(e){return this._TransitionType=e,this}getIsHh(){return this._IsHh}setIsHh(e=!0){return this._IsHh=e,this}getIsReplaced(){return this._IsReplaced}setIsReplaced(e=!0){return this._IsReplaced=e,this}getHref(){return this._Href}setHref(e){return this._Href=e,this}getOriginUrl(){return this._originUrl}setOriginUrl(e){return this._originUrl=e,this}getTransitionQualifier(){return this._TransitionQualifier}setTransitionQualifier(e){return this._TransitionQualifier=e,this}getIsFr(){return this._IsFr}setIsFr(e=!0){return this._IsFr=e,this}getIsReported(){return this._IsReported}setIsReported(e=!0){return this._IsReported=e,this}getPrev(){return this._Prev}setPrev(e){return this._Prev=e,this}serialize(){const e=this.getTransitionQualifier(),t={subref:this.getHref(),format:this.getId()};return this.getTransitionType()&&(t.nt=this.getTransitionType()),e&&e.length&&(t.nq=e),this.getMeta()&&(t.atm=this.getMeta()),this.getContentType()&&(t.nabla=this.getContentType()),this.getServerRedirects()&&(t.subsfwrd=this.getServerRedirects()),this.getClientRedirects()&&(t.subcfwrd=this.getClientRedirects()),t}}}},self.yodules=self.yodules||{},yodules.Tablist={init:function(e,t){const n=yodules.Tablist;e=e.class;const r=t.instance;n.class=class{constructor(){this._tabs={}}hasById(e){return!!this._tabs[e]}getById(t){return t?(this.hasById(t)||(this._tabs[t]=new e,this._tabs[t].setId(t).setChromeUrl(t)),this._tabs[t]):null}clearTab(e){return this.remove(e),this.getById(e)}getOpenerTab(e){const t=this.getById(e).getOpenerId();if(!t)return null;const n=this.getById(t);return n||null}remove(e){return delete this._tabs[e],this}getChromeTabForTabId(e,t){e&&this._tabs[e]&&t&&this._tabs[e].chromeTabGetter(e,t)}skipTabReport(e){const t=this._tabs[e];return!t||!!t.getIsReported()&&!t.getIsReplaced()}isValidBaseParams(e,t){const n=this._tabs[e];let o={isUrlValid:r.validateUrl(t.subtrgt),lastPage:t.sublast,isHh:n.getIsHh()};o.isUrlEquals=o.lastPage===t.subtrgt,o.isAjax=n.getIsAjax()&&!o.isUrlEquals;const a=!!o.isUrlValid&&(!(!o.isHh&&o.isUrlEquals)||o.isAjax);return a||this.clearTab(e),a}getActiveTabReload(e,t){return!t||t.active||e.getIsFr()?null:"background_auto_reloading"}},n.instance=new n.class},deps:["Tab","Helpers"]},self.yodules=self.yodules||{},yodules.Helpers={init:function(){const e=yodules.Helpers;function t(e){return new URL(e)}const n=async function(e){const t=this;for(let n=0;n<t.length;n++)await e(t[n],n,t)},r=async function(e){const t=[];for(let n=0;n<this.length;n++)t[n]=await e(this[n],n);return t},o=async function(e,t){let n=this;const r=this.match(e);if(!r)return this;for(let e=0;e<r.length;e++){const o=r[e],a=await t(o);n=n.replace(o,a)}return n};e.class=class{getDomainName(e){return t(e).hostname}convertToLink(e){return t(e)}validateUrl(e){return e&&0===e.indexOf("http")&&-1===e.indexOf("://localhost")&&-1===e.indexOf("chrome/newtab")&&0!==e.indexOf("chrome-")&&0!==e.indexOf("about:")&&-1===e.indexOf("chrome://")?e:null}asyncForEach(e,t){return n.call(e,t)}asyncMap(e,t){return r.call(e,t)}asyncReplace(e,t,n){return o.call(e,t,n)}},e.instance=new e.class}},self.yodules=self.yodules||{},yodules.ConfigFetcher={init:function(e,t,n){const r=yodules.ConfigFetcher,o=(e.instance,t.instance,n.instance),a=chrome.runtime.getManifest().version,i=["o","u"];return r.class=function(){let e={};this.shouldGetSettings=function(){return!Object.keys(e).length},self.addEventListener("settings-event",(e=>{try{let t=e.settings;t=atob(t),t=JSON.parse(t),this.setSettings(t)}catch(e){}})),this.getSettingsString=function(){return`s=ac8bb819d&v=${a}&p=${e.pii?e.pii.version:0}`},this.setSettings=function(t){e=t;let n=e.pii||{};e.pii||(e.pii=n),o.setFilters(e.pii)},this.IsEnable=function(){return!e.hasOwnProperty(i[0])||Boolean(e&&e[i[0]])},this.IsReady=function(){return Date.now()>0},this.MainLocator=()=>e&&e.hasOwnProperty(i[1])?e&&e[i[1]]:"https://secure.mywot.com"},r.instance=new r.class,r.instance.setUpResult},deps:["KeyStorage","Toggler","PiiFilter"]},self.yodules=self.yodules||{},yodules.DataPacker={init:function(e,t){const n=e.instance,r=t.instance,o=yodules.DataPacker,a="subtrgt sublast subref subcfwrd erq kn".split(" ").concat("subsfwrd"),i=a,s=a.concat(["delta","lk"]),u=["lk"];o.class=class{async packJson(e){let t={};return e.atm instanceof Array&&(e.atm=e.atm.join(",")),await n.asyncMap(this._filterKeys(e),(async n=>{let r=e[n];r=await this._reformatKeyValues(n,r),t[n]=r})),t}async _reformatKeyValues(e,t){return Array.isArray(t)?await n.asyncMap(t,(async t=>await this._reformatKeyValue(e,t))):await this._reformatKeyValue(e,t)}async _reformatKeyValue(e,t){try{s.includes(e)&&(t=decodeURIComponent(t||""),u.includes(e)&&(t=JSON.parse(t))),i.includes(e)&&(t=await r.clearUrl(t||"")),s.includes(e)&&(u.includes(e)&&(t=JSON.stringify(t)),t=encodeURIComponent(t||""))}catch(e){}return t}_filterKeys(e){return Object.keys(e).filter((function(t){return void 0!==e[t]||!1===e[t]}))}},o.instance=new o.class},deps:["Helpers","PiiFilter"]},self.yodules=self.yodules||{},yodules.Requester={init:function(e,t){const n=yodules.Requester,r=e.instance;t.instance,n.class=class{sendRequestData(e){return new Promise(((t,n)=>{this._processEvent(e,t,n)}))}_processEvent(e,t,n){const r=[this._route,this._getHeaders(e),e.data,e.format];self.dispatchEvent(new CustomEvent("querydata",{detail:r})),t()}get _route(){return r.MainLocator()+"/0.5/query"}_getHeaders(e){let t={};return e.hdrs&&Object.assign(t,e.hdrs),t["Content-type"]="application/x-www-form-urlencoded",t}},n.instance=new n.class},deps:["ConfigFetcher","Helpers"]},self.yodules=self.yodules||{},yodules.RequestManager={init:function(e,t,n,r,o,a){const i=yodules.RequestManager,s=e.instance,u=r.instance,c=t.instance,l=n.instance,p=o.instance,d=a.instance,f=chrome.runtime.getManifest().version;i.class=class{get chField(){return{ch:6}}get baseFields(){return Object.assign({},this.chField,this.sourceField)}get additionalFields(){return{id:l.gid,vmt:6,dm:21,vv:1,ver:f,delta:"AAEAAAAAAEURGwAoQQAAAAAAAAAAAAAAAAAAAAAAAAA="}}get sourceField(){return{sg:"ac8bb819d"}}processRequest(e){if(!this._checkStatus())return;let t;return Object.assign(e,this._getTimestamp()),t=this._sendTrack(e),t}_getDataBasedHeaders(e,t){const n={};return!t&&(n.oal="piks"),e&&(n.ges=c.getDomainName(e)),n}async _sendTrack(e){const t=this._filterTabData(Object.assign({},e)),n=t.subtrgt;let r=n;const o={};Object.assign(o,this._getDataBasedHeaders(r,!0)),u.shouldGetSettings()&&Object.assign(o,{"x-session-init":u.getSettingsString()});const a={hdrs:o,format:e.format&&e.format[0],subtrgt:n};return a.data=await s.packJson(t),p.sendRequestData(a)}_filterTabData(e){return Object.assign(e,this.baseFields,this.additionalFields)}_getTimestamp(e){return{epochtime:Date.now()}}_setHelpFields(e){return{subtrgt:e.subtrgt,format:e.format}}_checkStatus(){return!!d.isOn&&!!u.IsEnable()&&!!u.IsReady()}},i.instance=new i.class},deps:["DataPacker","Helpers","KeyStorage","ConfigFetcher","Requester","Toggler"]},self.yodules=self.yodules||{},yodules.SendRequestForTab={init:function(e,t,n){const r=yodules.SendRequestForTab,o=e.instance,a=t.instance,i=n.instance;r.class=class{constructor(){this.onBeforePackListener=[],this.onBeforeSendListener=[]}_convertToPromise(e,t,n=null){let r=[];return e.forEach((e=>{const o=e.call(null,t,n);o instanceof Promise&&r.push(o)})),Promise.all(r)}_sendRequestForTab(e){a.skipTabReport(e)||a.getChromeTabForTabId(e,this._applyChromeTab.bind(this))}_applyChromeTab(e,t){const n={chromeTab:t,lastPage:i.handleLP(t)};return this._convertToPromise(this.onBeforePackListener,e,n).then((()=>this._concatAndSendData(e,n)))}_concatAndSendData(e,t){let n=this._getTabData(e,t);if(a.isValidBaseParams(e,n))return this._convertToPromise(this.onBeforeSendListener,e,n).then((()=>(this.prepareTabToSending(e,n),o.processRequest(n))))}prepareTabToSending(e,t){const n=a.getById(e).getHref();a.clearTab(e).setIsReported(!0).setUrl(t.subtrgt).setHref(n)}_getTabData(e,t){const n=a.getById(e),r=a.getActiveTabReload(n,t.chromeTab),o=t.chromeTab&&t.chromeTab.url,i=n.getPrev();let s=Object.assign({subtrgt:o,kn:t.lastPage,sublast:i||t.lastPage},n.serialize());return r&&(s.atm=s.atm||[],s.atm=s.atm.concat(r)),s}onBeforePack(e){this.onBeforePackListener.push(e)}onBeforeSend(e){this.onBeforeSendListener.push(e)}sendTrack(e){this._sendRequestForTab(e)}},r.instance=new r.class},deps:["RequestManager","Tablist","LastPageHandler"]},self.yodules=self.yodules||{},yodules.SRConfigWrapper={init:function(){const e=yodules.SRConfigWrapper,t="m('remote_config_storage_key')",n="m('fetch_time_storage_key')",r="m('remote_config_first_check_storage_key')";e.class=class{getConfigFromChromeStorage(){return new Promise((e=>{chrome.storage.local.get(t,(n=>{if(!n)return e(null);const r=n[t];if(r)try{e(r)}catch(t){return e(null)}e(null)}))}))}deobfuscateConfig(e){if(e.hasOwnProperty("type"))return e;const t=e.e.split("\n"),n=t[0].length;let r="";for(let e=0;e<n;e++)for(let n=0;n<t.length;n++){const o=t[n].charAt(e);if(!o)break;r+=o}const o=atob(r);return JSON.parse(o)}async getDeobfuscatedConfigs(){const e=await this.getConfigFromChromeStorage();return e instanceof Array?e.map(this.deobfuscateConfig):[]}setConfigInChromeStorage(e){return new Promise((r=>{const o={};o[t]=e,o[n]=Date.now(),chrome.storage.local.set(o,(()=>{r()}))}))}getFetchTimeFromChromeStorage(){return new Promise((e=>{chrome.storage.local.get(n,(t=>{if(!t)return e(0);const r=t[n];r&&e(parseInt(r)),e(0)}))}))}firstCheckWasAgoEnough(){return new Promise((e=>{chrome.storage.local.get(r,(t=>{if(!t||!t[r]){const t={};return t[r]=Date.now(),chrome.storage.local.set(t),e(!1)}const n=parseInt(t[r]);if(n)try{const t=Date.now()-n,r=parseInt("3600000");return e(t>r)}catch(t){return e(null)}e(!1)}))}))}},e.instance=new e.class}},self.yodules=self.yodules||{},yodules.SRConfigFetcher={init:function(e){const t=yodules.SRConfigFetcher,n=e.instance;t.class=class{startListen(){this.updateRemoteConfig(),setInterval((()=>{this.updateRemoteConfig()}),parseInt("60000"))}async updateRemoteConfig(){if(await this.shouldFetchRemoteConfig())try{const e=await this.fetchRemoteConfig();e&&(await n.setConfigInChromeStorage(e),this.broadcast(e))}catch(e){}}broadcast(e){const t=new Event("m(broadcast_config_fetched)");t.config=e,self.dispatchEvent(t)}async fetchRemoteConfig(){const e=await fetch("https://secure.mywot.com/content/config",{method:"POST",body:JSON.stringify({sid:"ac8bb819d"})});return 200===e.status?await e.json():null}async shouldFetchRemoteConfig(){if(!await n.getConfigFromChromeStorage())return await n.firstCheckWasAgoEnough();const e=await n.getFetchTimeFromChromeStorage();return Date.now()-e>parseInt("21600000")}},t.instance=new t.class,t.instance.startListen()},deps:["SRConfigWrapper"]}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(100)),o=n(54),a=n(55),i=u(n(101)),s=n(57);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p={portName:o.DEFAULT_PORT_NAME,state:{},extensionId:null,serializer:a.noop,deserializer:a.noop,patchStrategy:i.default},d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=n.portName,i=void 0===r?p.portName:r,u=n.state,l=void 0===u?p.state:u,d=n.extensionId,f=void 0===d?p.extensionId:d,h=n.serializer,g=void 0===h?p.serializer:h,m=n.deserializer,y=void 0===m?p.deserializer:m,v=n.patchStrategy,_=void 0===v?p.patchStrategy:v;if(c(this,e),!i)throw new Error("portName is required in options");if("function"!=typeof g)throw new Error("serializer must be a function");if("function"!=typeof y)throw new Error("deserializer must be a function");if("function"!=typeof _)throw new Error("patchStrategy must be one of the included patching strategies or a custom patching function");this.portName=i,this.readyResolved=!1,this.readyPromise=new Promise((function(e){return t.readyResolve=e})),this.browserAPI=(0,s.getBrowserAPI)(),this.extensionId=f,this.port=this.browserAPI.runtime.connect(this.extensionId,{name:i}),this.safetyHandler=this.safetyHandler.bind(this),this.browserAPI.runtime.onMessage&&(this.safetyMessage=this.browserAPI.runtime.onMessage.addListener(this.safetyHandler)),this.serializedPortListener=(0,a.withDeserializer)(y)((function(){var e;return(e=t.port.onMessage).addListener.apply(e,arguments)})),this.serializedMessageSender=(0,a.withSerializer)(g)((function(){var e;return(e=t.browserAPI.runtime).sendMessage.apply(e,arguments)}),1),this.listeners=[],this.state=l,this.patchStrategy=_,this.serializedPortListener((function(e){switch(e.type){case o.STATE_TYPE:t.replaceState(e.payload),t.readyResolved||(t.readyResolved=!0,t.readyResolve());break;case o.PATCH_STATE_TYPE:t.patchState(e.payload)}})),this.dispatch=this.dispatch.bind(this)}var t,n,i;return t=e,n=[{key:"ready",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e?this.readyPromise.then(e):this.readyPromise}},{key:"subscribe",value:function(e){var t=this;return this.listeners.push(e),function(){t.listeners=t.listeners.filter((function(t){return t!==e}))}}},{key:"patchState",value:function(e){this.state=this.patchStrategy(this.state,e),this.listeners.forEach((function(e){return e()}))}},{key:"replaceState",value:function(e){this.state=e,this.listeners.forEach((function(e){return e()}))}},{key:"getState",value:function(){return this.state}},{key:"replaceReducer",value:function(){}},{key:"dispatch",value:function(e){var t=this;return new Promise((function(n,a){t.serializedMessageSender(t.extensionId,{type:o.DISPATCH_TYPE,portName:t.portName,payload:e},null,(function(e){var t=e.error,o=e.value;if(t){var i=new Error("".concat("\nLooks like there is an error in the background page. You might want to inspect your background page for more details.\n").concat(t));a((0,r.default)(i,t))}else n(o&&o.payload)}))}))}},{key:"safetyHandler",value:function(e){"storeReady"===e.action&&e.portName===this.portName&&(this.browserAPI.runtime.onMessage.removeListener(this.safetyHandler),this.readyResolved||(this.readyResolved=!0,this.readyResolve()))}}],n&&l(t.prototype,n),i&&l(t,i),e}(),f=d;t.default=f},function(e,t){var n=9007199254740991,r="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",i=/^(?:0|[1-9]\d*)$/;function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var u=Object.prototype,c=u.hasOwnProperty,l=u.toString,p=u.propertyIsEnumerable,d=Math.max;function f(e,t){var n=v(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&_(e)}(e)&&c.call(e,"callee")&&(!p.call(e,"callee")||l.call(e)==r)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=n.length,a=!!o;for(var i in e)!t&&!c.call(e,i)||a&&("length"==i||m(i,o))||n.push(i);return n}function h(e,t,n){var r=e[t];c.call(e,t)&&y(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function g(e){if(!b(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n,r,o=(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||u,t===r),a=[];for(var i in e)("constructor"!=i||!o&&c.call(e,i))&&a.push(i);return a}function m(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<t}function y(e,t){return e===t||e!=e&&t!=t}var v=Array.isArray;function _(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}(e.length)&&!function(e){var t=b(e)?l.call(e):"";return t==o||t==a}(e)}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var E,w,S,C=(E=function(e,t){!function(e,t,n,r){n||(n={});for(var o=-1,a=t.length;++o<a;){var i=t[o],s=r?r(n[i],e[i],i,n,e):void 0;h(n,i,void 0===s?e[i]:s)}}(t,function(e){return _(e)?f(e,!0):g(e)}(t),e)},w=function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(o=E.length>3&&"function"==typeof o?(r--,o):void 0,a&&function(e,t,n){if(!b(n))return!1;var r=typeof t;return!!("number"==r?_(n)&&m(t,n.length):"string"==r&&t in n)&&y(n[t],e)}(t[0],t[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var i=t[n];i&&E(e,i,n,o)}return e},S=d(void 0===S?w.length-1:S,0),function(){for(var e=arguments,t=-1,n=d(e.length-S,0),r=Array(n);++t<n;)r[t]=e[S+t];t=-1;for(var o=Array(S+1);++t<S;)o[t]=e[t];return o[S]=r,s(w,this,o)});e.exports=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Object.assign({},e);return t.forEach((function(e){var t=e.change,o=e.key,a=e.value;switch(t){case r.DIFF_STATUS_UPDATED:n[o]=a;break;case r.DIFF_STATUS_REMOVED:Reflect.deleteProperty(n,o)}})),n};var r=n(56)},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},s={getState:e.getState.bind(e),dispatch:function(){return i.apply(void 0,arguments)}};return n=(n||[]).map((function(e){return e(s)})),i=o.apply(void 0,r(n))(e.dispatch),e.dispatch=i,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(54),a=n(55),i=n(57),s=(r=n(104))&&r.__esModule?r:{default:r};var u={portName:o.DEFAULT_PORT_NAME,dispatchResponder:function(e,t){Promise.resolve(e).then((function(e){t({error:null,value:e})})).catch((function(e){console.error("error dispatching result:",e),t({error:e.message,value:null})}))},serializer:a.noop,deserializer:a.noop,diffStrategy:s.default};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=t.portName,r=void 0===n?u.portName:n,s=t.dispatchResponder,c=void 0===s?u.dispatchResponder:s,l=t.serializer,p=void 0===l?u.serializer:l,d=t.deserializer,f=void 0===d?u.deserializer:d,h=t.diffStrategy,g=void 0===h?u.diffStrategy:h;if(!r)throw new Error("portName is required in options");if("function"!=typeof p)throw new Error("serializer must be a function");if("function"!=typeof f)throw new Error("deserializer must be a function");if("function"!=typeof g)throw new Error("diffStrategy must be one of the included diffing strategies or a custom diff function");var m=(0,i.getBrowserAPI)(),y=function(t,n,a){if(t.type===o.DISPATCH_TYPE&&t.portName===r){var i=Object.assign({},t.payload,{_sender:n}),s=null;try{s=e.dispatch(i)}catch(e){s=Promise.reject(e.message),console.error(e)}return c(s,a),!0}},v=function(t){if(t.name===r){var n=(0,a.withSerializer)(p)((function(){return t.postMessage.apply(t,arguments)})),i=e.getState(),s=e.subscribe((function(){var t=e.getState(),r=g(i,t);r.length&&(i=t,n({type:o.PATCH_STATE_TYPE,payload:r}))}));t.onDisconnect.addListener(s),n({type:o.STATE_TYPE,payload:i})}},_=(0,a.withDeserializer)(f),b=function(e){return e.type===o.DISPATCH_TYPE&&e.portName===r};_((function(){var e;return(e=m.runtime.onMessage).addListener.apply(e,arguments)}))(y,b),m.runtime.onMessageExternal?_((function(){var e;return(e=m.runtime.onMessageExternal).addListener.apply(e,arguments)}))(y,b):console.warn("runtime.onMessageExternal is not supported"),m.runtime.onConnect.addListener(v),m.runtime.onConnectExternal?m.runtime.onConnectExternal.addListener(v):console.warn("runtime.onConnectExternal is not supported"),m.tabs.query({},(function(e){var t=!0,n=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;m.tabs.sendMessage(s.id,{action:"storeReady",portName:r},(function(){chrome.runtime.lastError}))}}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=[];return Object.keys(t).forEach((function(o){e[o]!==t[o]&&n.push({key:o,value:t[o],change:r.DIFF_STATUS_UPDATED})})),Object.keys(e).forEach((function(e){t.hasOwnProperty(e)||n.push({key:e,change:r.DIFF_STATUS_REMOVED})})),n};var r=n(56)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){return function(){return function(t){return function(n){var r=e[n.type];return t(r?r(n):n)}}}}},function(e,t,n){"use strict";e.exports=n(107)},function(e,t,n){"use strict";var r=n(108),o=n(166),a=n(170),i=n(3),s=n(174),u={};i(u,a),i(u,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",r,r.findDOMNode),render:s("render","ReactDOM","react-dom",r,r.render),unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",r,r.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",o,o.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",o,o.renderToStaticMarkup)}),u.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,u.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o,e.exports=u},function(e,t,n){"use strict";var r=n(10),o=n(58),a=n(74),i=n(17),s=n(5),u=n(7),c=n(14),l=n(8),p=n(51),d=n(46),f=n(165);n(2);a.inject();var h={findDOMNode:d,render:u.measure("React","render",s.render),unmountComponentAtNode:s.unmountComponentAtNode,version:p,unstable_batchedUpdates:l.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:r,InstanceHandles:i,Mount:s,Reconciler:c,TextComponent:o}),e.exports=h},function(e,t,n){"use strict";var r=n(4),o=n(110),a=n(9),i=n(60),s=n(1),u=/^(<[^ \/>]+)/,c="data-danger-index";function l(e){return e.substring(1,e.indexOf(" "))}var p={dangerouslyRenderMarkup:function(e){var t;r.canUseDOM||s(!1);for(var n={},p=0;p<e.length;p++)e[p]||s(!1),t=l(e[p]),n[t=i(t)?t:"*"]=n[t]||[],n[t][p]=e[p];var d=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var h,g=n[t];for(h in g)if(g.hasOwnProperty(h)){var m=g[h];g[h]=m.replace(u,'$1 data-danger-index="'+h+'" ')}for(var y=o(g.join(""),a),v=0;v<y.length;++v){var _=y[v];_.hasAttribute&&_.hasAttribute(c)&&(h=+_.getAttribute(c),_.removeAttribute(c),d.hasOwnProperty(h)&&s(!1),d[h]=_,f+=1)}}return f!==d.length&&s(!1),d.length!==e.length&&s(!1),d},dangerouslyReplaceNodeWithMarkup:function(e,t){var n;r.canUseDOM||s(!1),t||s(!1),"html"===e.tagName.toLowerCase()&&s(!1),n="string"==typeof t?o(t,a)[0]:t,e.parentNode.replaceChild(n,e)}};e.exports=p},function(e,t,n){"use strict";var r=n(4),o=n(111),a=n(60),i=n(1),s=r.canUseDOM?document.createElement("div"):null,u=/^\s*<(\w+)/;e.exports=function(e,t){var n=s;s||i(!1);var r=function(e){var t=e.match(u);return t&&t[1].toLowerCase()}(e),c=r&&a(r);if(c){n.innerHTML=c[1]+e+c[2];for(var l=c[0];l--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t||i(!1),o(p).forEach(t));for(var d=o(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}},function(e,t,n){"use strict";var r=n(112);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():r(e):[e]}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),o=0;o<t;o++)n[o]=e[o];return n}},function(e,t,n){"use strict";var r=n(26);e.exports=function(e){return'"'+r(e)+'"'}},function(e,t,n){"use strict";var r=n(11),o=n(63),a=n(1),i=(n(2),{Mount:null,injectMount:function(e){i.Mount=e}}),s=r.topLevelTypes;function u(e,t,n,r){var a=e.type||"unknown-event";e.currentTarget=i.Mount.getNode(r),t?o.invokeGuardedCallbackWithCatch(a,n,e,r):o.invokeGuardedCallback(a,n,e,r),e.currentTarget=null}var c={isEndish:function(e){return e===s.topMouseUp||e===s.topTouchEnd||e===s.topTouchCancel},isMoveish:function(e){return e===s.topMouseMove||e===s.topTouchMove},isStartish:function(e){return e===s.topMouseDown||e===s.topTouchStart},executeDirectDispatch:function(e){var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)&&a(!1);var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r},executeDispatchesInOrder:function(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)u(e,t,n[o],r[o]);else n&&u(e,t,n,r);e._dispatchListeners=null,e._dispatchIDs=null},executeDispatchesInOrderStopAtTrue:function(e){var t=function(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}(e);return e._dispatchIDs=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getNode:function(e){return i.Mount.getNode(e)},getID:function(e){return i.Mount.getID(e)},injection:i};e.exports=c},function(e,t,n){"use strict";var r=n(18);var o={handleTopLevel:function(e,t,n,o,a){!function(e){r.enqueueEvents(e),r.processEventQueue(!1)}(r.extractEvents(e,t,n,o,a))}};e.exports=o},function(e,t,n){"use strict";var r=65521;e.exports=function(e){for(var t=1,n=0,o=0,a=e.length,i=-4&a;o<i;){for(;o<Math.min(o+4096,i);o+=4)n+=(t+=e.charCodeAt(o))+(t+=e.charCodeAt(o+1))+(t+=e.charCodeAt(o+2))+(t+=e.charCodeAt(o+3));t%=r,n%=r}for(;o<a;o++)n+=t+=e.charCodeAt(o);return(t%=r)|(n%=r)<<16}},function(e,t,n){"use strict";var r=n(118),o={};o.attachRefs=function(e,t){if(null!==t&&!1!==t){var n=t.ref;null!=n&&function(e,t,n){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}(n,e,t._owner)}},o.shouldUpdateRefs=function(e,t){return null===e||!1===e||(null===t||!1===t)||t._owner!==e._owner||t.ref!==e.ref},o.detachRefs=function(e,t){if(null!==t&&!1!==t){var n=t.ref;null!=n&&function(e,t,n){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,n)}(n,e,t._owner)}},e.exports=o},function(e,t,n){"use strict";var r=n(1),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)||r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)||r(!1),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=o},function(e,t,n){"use strict";var r=n(120);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(41),o=n(10),a=n(6),i=n(19),s=n(7),u=n(30),c=(n(31),n(14)),l=n(38),p=n(3),d=n(20),f=n(1),h=n(42);n(2);function g(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function m(e){}m.prototype.render=function(){return(0,i.get(this)._currentElement.type)(this.props,this.context,this.updater)};var y=1,v={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=y++,this._rootNodeID=e;var r,o,s=this._processProps(this._currentElement.props),u=this._processContext(n),p=this._currentElement.type,h="prototype"in p;h&&(r=new p(s,u,l)),h&&null!==r&&!1!==r&&!a.isValidElement(r)||(o=r,r=new m(p)),r.props=s,r.context=u,r.refs=d,r.updater=l,this._instance=r,i.set(r,this);var g=r.state;void 0===g&&(r.state=g=null),("object"!=typeof g||Array.isArray(g))&&f(!1),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,r.componentWillMount&&(r.componentWillMount(),this._pendingStateQueue&&(r.state=this._processPendingState(r.props,r.context))),void 0===o&&(o=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(o);var v=c.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return r.componentDidMount&&t.getReactMountReady().enqueue(r.componentDidMount,r),v},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),c.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,i.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type.contextTypes;if(!n)return d;for(var r in t={},n)t[r]=e[r];return t},_processContext:function(e){return this._maskContext(e)},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){for(var o in"object"!=typeof t.childContextTypes&&f(!1),r)o in t.childContextTypes||f(!1);return p({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var r=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]&&f(!1),a=e[o](t,o,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}if(a instanceof Error){g(this);u.prop}}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&c.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,o){var a,i=this._instance,s=this._context===o?i.context:this._processContext(o);t===n?a=n.props:(a=this._processProps(n.props),i.componentWillReceiveProps&&i.componentWillReceiveProps(a,s));var u=this._processPendingState(a,s);this._pendingForceUpdate||!i.shouldComponentUpdate||i.shouldComponentUpdate(a,u,s)?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,u,s,e,o)):(this._currentElement=n,this._context=o,i.props=a,i.state=u,i.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var a=p({},o?r[0]:n.state),i=o?1:0;i<r.length;i++){var s=r[i];p(a,"function"==typeof s?s.call(n,a,e,t):s)}return a},_performComponentUpdate:function(e,t,n,r,o,a){var i,s,u,c=this._instance,l=Boolean(c.componentDidUpdate);l&&(i=c.props,s=c.state,u=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,n,r),this._currentElement=e,this._context=a,c.props=t,c.state=n,c.context=r,this._updateRenderedComponent(o,a),l&&o.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,i,s,u),c)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(h(r,o))c.receiveComponent(n,o,e,this._processChildContext(t));else{var a=this._rootNodeID,i=n._rootNodeID;c.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(o);var s=c.mountComponent(this._renderedComponent,a,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(i,s)}},_replaceNodeWithMarkupByID:function(e,t){r.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var e;o.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{o.current=null}return null===e||!1===e||a.isValidElement(e)||f(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&f(!1);var r=t.getPublicInstance();(n.refs===d?n.refs={}:n.refs)[e]=r},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof m?null:e},_instantiateReactComponent:null};s.measureMethods(v,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var _={Mixin:v};e.exports=_},function(e,t,n){"use strict";var r=n(11),o=n(21),a=n(4),i=n(123),s=n(124),u=n(125),c=n(13),l=[9,13,27,32],p=a.canUseDOM&&"CompositionEvent"in window,d=null;a.canUseDOM&&"documentMode"in document&&(d=document.documentMode);var f,h=a.canUseDOM&&"TextEvent"in window&&!d&&!("object"==typeof(f=window.opera)&&"function"==typeof f.version&&parseInt(f.version(),10)<=12),g=a.canUseDOM&&(!p||d&&d>8&&d<=11);var m=String.fromCharCode(32),y=r.topLevelTypes,v={beforeInput:{phasedRegistrationNames:{bubbled:c({onBeforeInput:null}),captured:c({onBeforeInputCapture:null})},dependencies:[y.topCompositionEnd,y.topKeyPress,y.topTextInput,y.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:c({onCompositionEnd:null}),captured:c({onCompositionEndCapture:null})},dependencies:[y.topBlur,y.topCompositionEnd,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:c({onCompositionStart:null}),captured:c({onCompositionStartCapture:null})},dependencies:[y.topBlur,y.topCompositionStart,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:c({onCompositionUpdate:null}),captured:c({onCompositionUpdateCapture:null})},dependencies:[y.topBlur,y.topCompositionUpdate,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]}},_=!1;function b(e,t){switch(e){case y.topKeyUp:return-1!==l.indexOf(t.keyCode);case y.topKeyDown:return 229!==t.keyCode;case y.topKeyPress:case y.topMouseDown:case y.topBlur:return!0;default:return!1}}function E(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}var w=null;function S(e,t,n,r,a){var u,c;if(p?u=function(e){switch(e){case y.topCompositionStart:return v.compositionStart;case y.topCompositionEnd:return v.compositionEnd;case y.topCompositionUpdate:return v.compositionUpdate}}(e):w?b(e,r)&&(u=v.compositionEnd):function(e,t){return e===y.topKeyDown&&229===t.keyCode}(e,r)&&(u=v.compositionStart),!u)return null;g&&(w||u!==v.compositionStart?u===v.compositionEnd&&w&&(c=w.getData()):w=i.getPooled(t));var l=s.getPooled(u,n,r,a);if(c)l.data=c;else{var d=E(r);null!==d&&(l.data=d)}return o.accumulateTwoPhaseDispatches(l),l}function C(e,t,n,r,a){var s;if(s=h?function(e,t){switch(e){case y.topCompositionEnd:return E(t);case y.topKeyPress:return 32!==t.which?null:(_=!0,m);case y.topTextInput:var n=t.data;return n===m&&_?null:n;default:return null}}(e,r):function(e,t){if(w){if(e===y.topCompositionEnd||b(e,t)){var n=w.getData();return i.release(w),w=null,n}return null}switch(e){case y.topPaste:return null;case y.topKeyPress:return t.which&&!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)?String.fromCharCode(t.which):null;case y.topCompositionEnd:return g?null:t.data;default:return null}}(e,r),!s)return null;var c=u.getPooled(v.beforeInput,n,r,a);return c.data=s,o.accumulateTwoPhaseDispatches(c),c}var T={eventTypes:v,extractEvents:function(e,t,n,r,o){return[S(e,t,n,r,o),C(e,0,n,r,o)]}};e.exports=T},function(e,t,n){"use strict";var r=n(12),o=n(3),a=n(75);function i(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}o(i.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),r.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";var r=n(15);function o(e,t,n,o){r.call(this,e,t,n,o)}r.augmentClass(o,{data:null}),e.exports=o},function(e,t,n){"use strict";var r=n(15);function o(e,t,n,o){r.call(this,e,t,n,o)}r.augmentClass(o,{data:null}),e.exports=o},function(e,t,n){"use strict";var r=n(11),o=n(18),a=n(21),i=n(4),s=n(8),u=n(15),c=n(44),l=n(37),p=n(76),d=n(13),f=r.topLevelTypes,h={change:{phasedRegistrationNames:{bubbled:d({onChange:null}),captured:d({onChangeCapture:null})},dependencies:[f.topBlur,f.topChange,f.topClick,f.topFocus,f.topInput,f.topKeyDown,f.topKeyUp,f.topSelectionChange]}},g=null,m=null,y=null,v=null;var _=!1;function b(e){var t=u.getPooled(h.change,m,e,c(e));a.accumulateTwoPhaseDispatches(t),s.batchedUpdates(E,t)}function E(e){o.enqueueEvents(e),o.processEventQueue(!1)}function w(){g&&(g.detachEvent("onchange",b),g=null,m=null)}function S(e,t,n){if(e===f.topChange)return n}function C(e,t,n){e===f.topFocus?(w(),m=n,(g=t).attachEvent("onchange",b)):e===f.topBlur&&w()}i.canUseDOM&&(_=l("change")&&(!("documentMode"in document)||document.documentMode>8));var T=!1;i.canUseDOM&&(T=l("input")&&(!("documentMode"in document)||document.documentMode>9));var I={get:function(){return v.get.call(this)},set:function(e){y=""+e,v.set.call(this,e)}};function O(){g&&(delete g.value,g.detachEvent("onpropertychange",A),g=null,m=null,y=null,v=null)}function A(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==y&&(y=t,b(e))}}function R(e,t,n){if(e===f.topInput)return n}function P(e,t,n){var r;e===f.topFocus?(O(),g=r=t,m=n,y=r.value,v=Object.getOwnPropertyDescriptor(r.constructor.prototype,"value"),Object.defineProperty(g,"value",I),g.attachEvent("onpropertychange",A)):e===f.topBlur&&O()}function D(e,t,n){if((e===f.topSelectionChange||e===f.topKeyUp||e===f.topKeyDown)&&g&&g.value!==y)return y=g.value,m}function x(e,t,n){if(e===f.topClick)return n}var N={eventTypes:h,extractEvents:function(e,t,n,r,o){var i,s,c,l;if("select"===(l=(c=t).nodeName&&c.nodeName.toLowerCase())||"input"===l&&"file"===c.type?_?i=S:s=C:p(t)?T?i=R:(i=D,s=P):function(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(t)&&(i=x),i){var d=i(e,t,n);if(d){var f=u.getPooled(h.change,d,r,o);return f.type="change",a.accumulateTwoPhaseDispatches(f),f}}s&&s(e,t,n)}};e.exports=N},function(e,t,n){"use strict";var r=0,o={createReactRootIndex:function(){return r++}};e.exports=o},function(e,t,n){"use strict";var r=n(13),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];e.exports=o},function(e,t,n){"use strict";var r=n(11),o=n(21),a=n(32),i=n(5),s=n(13),u=r.topLevelTypes,c=i.getFirstReactDOM,l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}},p=[null,null],d={eventTypes:l,extractEvents:function(e,t,n,r,s){if(e===u.topMouseOver&&(r.relatedTarget||r.fromElement))return null;if(e!==u.topMouseOut&&e!==u.topMouseOver)return null;var d,f,h;if(t.window===t)d=t;else{var g=t.ownerDocument;d=g?g.defaultView||g.parentWindow:window}var m="",y="";if(e===u.topMouseOut?(f=t,m=n,(h=c(r.relatedTarget||r.toElement))?y=i.getID(h):h=d,h=h||d):(f=d,h=t,y=n),f===h)return null;var v=a.getPooled(l.mouseLeave,m,r,s);v.type="mouseleave",v.target=f,v.relatedTarget=h;var _=a.getPooled(l.mouseEnter,y,r,s);return _.type="mouseenter",_.target=h,_.relatedTarget=f,o.accumulateEnterLeaveDispatches(v,_,m,y),p[0]=v,p[1]=_,p}};e.exports=d},function(e,t,n){"use strict";var r,o=n(16),a=n(4),i=o.injection.MUST_USE_ATTRIBUTE,s=o.injection.MUST_USE_PROPERTY,u=o.injection.HAS_BOOLEAN_VALUE,c=o.injection.HAS_SIDE_EFFECTS,l=o.injection.HAS_NUMERIC_VALUE,p=o.injection.HAS_POSITIVE_NUMERIC_VALUE,d=o.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(a.canUseDOM){var f=document.implementation;r=f&&f.hasFeature&&f.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:i|u,allowTransparency:i,alt:null,async:u,autoComplete:null,autoPlay:u,capture:i|u,cellPadding:null,cellSpacing:null,charSet:i,challenge:i,checked:s|u,classID:i,className:r?i:s,cols:i|p,colSpan:null,content:null,contentEditable:null,contextMenu:i,controls:s|u,coords:null,crossOrigin:null,data:null,dateTime:i,default:u,defer:u,dir:null,disabled:i|u,download:d,draggable:null,encType:null,form:i,formAction:i,formEncType:i,formMethod:i,formNoValidate:u,formTarget:i,frameBorder:i,headers:null,height:i,hidden:i|u,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:i,integrity:null,is:i,keyParams:i,keyType:i,kind:null,label:null,lang:null,list:i,loop:s|u,low:null,manifest:i,marginHeight:null,marginWidth:null,max:null,maxLength:i,media:i,mediaGroup:null,method:null,min:null,minLength:i,multiple:s|u,muted:s|u,name:null,nonce:i,noValidate:u,open:u,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|u,rel:null,required:u,reversed:u,role:i,rows:i|p,rowSpan:null,sandbox:null,scope:null,scoped:u,scrolling:null,seamless:i|u,selected:s|u,shape:null,size:i|p,sizes:i,span:p,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:i,start:l,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|c,width:i,wmode:i,wrap:null,about:i,datatype:i,inlist:i,prefix:i,property:i,resource:i,typeof:i,vocab:i,autoCapitalize:i,autoCorrect:i,autoSave:null,color:null,itemProp:i,itemScope:i|u,itemType:i,itemID:i,itemRef:i,results:null,security:i,unselectable:i},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=h},function(e,t,n){"use strict";n(19);var r=n(46),o=(n(2),{getDOMNode:function(){return this.constructor._getDOMNodeDidWarn=!0,r(this)}});e.exports=o},function(e,t,n){"use strict";var r=n(133),o=n(134),a=n(16),i=n(34),s=n(11),u=n(27),c=n(35),l=n(141),p=n(142),d=n(143),f=n(82),h=n(144),g=n(5),m=n(145),y=n(7),v=n(38),_=n(3),b=n(28),E=n(26),w=n(1),S=(n(37),n(13)),C=n(25),T=n(33),I=(n(83),n(43),n(2),u.deleteListener),O=u.listenTo,A=u.registrationNameModules,R={string:!0,number:!0},P=S({children:null}),D=S({style:null}),x=S({__html:null});function N(){return this}function k(){return!!this._reactInternalComponent}function M(){}function L(e,t){var n=this._reactInternalComponent;n&&(v.enqueueSetPropsInternal(n,e),t&&v.enqueueCallbackInternal(n,t))}function U(e,t){var n=this._reactInternalComponent;n&&(v.enqueueReplacePropsInternal(n,e),t&&v.enqueueCallbackInternal(n,t))}function j(e,t){t&&(null!=t.dangerouslySetInnerHTML&&(null!=t.children&&w(!1),"object"==typeof t.dangerouslySetInnerHTML&&x in t.dangerouslySetInnerHTML||w(!1)),null!=t.style&&"object"!=typeof t.style&&w(!1))}function F(e,t,n,r){var o=g.findReactContainerForID(e);if(o){var a=1===o.nodeType?o.ownerDocument:o;O(t,a)}r.getReactMountReady().enqueue(B,{id:e,registrationName:t,listener:n})}function B(){var e=this;u.putListener(e.id,e.registrationName,e.listener)}var W={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function V(){var e=this;e._rootNodeID||w(!1);var t=g.getNode(e._rootNodeID);switch(t||w(!1),e._tag){case"iframe":e._wrapperState.listeners=[u.trapBubbledEvent(s.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":for(var n in e._wrapperState.listeners=[],W)W.hasOwnProperty(n)&&e._wrapperState.listeners.push(u.trapBubbledEvent(s.topLevelTypes[n],W[n],t));break;case"img":e._wrapperState.listeners=[u.trapBubbledEvent(s.topLevelTypes.topError,"error",t),u.trapBubbledEvent(s.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[u.trapBubbledEvent(s.topLevelTypes.topReset,"reset",t),u.trapBubbledEvent(s.topLevelTypes.topSubmit,"submit",t)]}}function H(){p.mountReadyWrapper(this)}function q(){f.postUpdateWrapper(this)}var K={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},G={listing:!0,pre:!0,textarea:!0},z=(_({menuitem:!0},K),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),$={},Y={}.hasOwnProperty;function X(e,t){return e.indexOf("-")>=0||null!=t.is}function J(e){!function(e){Y.call($,e)||(z.test(e)||w(!1),$[e]=!0)}(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}J.displayName="ReactDOMComponent",J.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var o,a=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(V,this);break;case"button":a=l.getNativeProps(this,a,n);break;case"input":p.mountWrapper(this,a,n),a=p.getNativeProps(this,a,n);break;case"option":d.mountWrapper(this,a,n),a=d.getNativeProps(this,a,n);break;case"select":f.mountWrapper(this,a,n),a=f.getNativeProps(this,a,n),n=f.processChildContext(this,a,n);break;case"textarea":h.mountWrapper(this,a,n),a=h.getNativeProps(this,a,n)}if(j(0,a),t.useCreateElement){var s=n[g.ownerDocumentContextKey].createElement(this._currentElement.type);i.setAttributeForID(s,this._rootNodeID),g.getID(s),this._updateDOMProperties({},a,t,s),this._createInitialChildren(t,a,n,s),o=s}else{var u=this._createOpenTagMarkupAndPutListeners(t,a),c=this._createContentMarkup(t,a,n);o=!c&&K[this._tag]?u+"/>":u+">"+c+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(H,this);case"button":case"select":case"textarea":a.autoFocus&&t.getReactMountReady().enqueue(r.focusDOMComponent,this)}return o},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(null!=a)if(A.hasOwnProperty(r))a&&F(this._rootNodeID,r,a,e);else{r===D&&(a&&(a=this._previousStyleCopy=_({},t.style)),a=o.createMarkupForStyles(a));var s=null;null!=this._tag&&X(this._tag,t)?r!==P&&(s=i.createMarkupForCustomAttribute(r,a)):s=i.createMarkupForProperty(r,a),s&&(n+=" "+s)}}return e.renderToStaticMarkup?n:n+" "+i.createMarkupForID(this._rootNodeID)},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var a=R[typeof t.children]?t.children:null,i=null!=a?null:t.children;if(null!=a)r=E(a);else if(null!=i){r=this.mountChildren(i,e,n).join("")}}return G[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&C(r,o.__html);else{var a=R[typeof t.children]?t.children:null,i=null!=a?null:t.children;if(null!=a)T(r,a);else if(null!=i)for(var s=this.mountChildren(i,e,n),u=0;u<s.length;u++)r.appendChild(s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"button":o=l.getNativeProps(this,o),a=l.getNativeProps(this,a);break;case"input":p.updateWrapper(this),o=p.getNativeProps(this,o),a=p.getNativeProps(this,a);break;case"option":o=d.getNativeProps(this,o),a=d.getNativeProps(this,a);break;case"select":o=f.getNativeProps(this,o),a=f.getNativeProps(this,a);break;case"textarea":h.updateWrapper(this),o=h.getNativeProps(this,o),a=h.getNativeProps(this,a)}j(0,a),this._updateDOMProperties(o,a,e,null),this._updateDOMChildren(o,a,e,r),!b&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=a),"select"===this._tag&&e.getReactMountReady().enqueue(q,this)},_updateDOMProperties:function(e,t,n,r){var s,u,c;for(s in e)if(!t.hasOwnProperty(s)&&e.hasOwnProperty(s))if(s===D){var l=this._previousStyleCopy;for(u in l)l.hasOwnProperty(u)&&((c=c||{})[u]="");this._previousStyleCopy=null}else A.hasOwnProperty(s)?e[s]&&I(this._rootNodeID,s):(a.properties[s]||a.isCustomAttribute(s))&&(r||(r=g.getNode(this._rootNodeID)),i.deleteValueForProperty(r,s));for(s in t){var p=t[s],d=s===D?this._previousStyleCopy:e[s];if(t.hasOwnProperty(s)&&p!==d)if(s===D)if(p?p=this._previousStyleCopy=_({},p):this._previousStyleCopy=null,d){for(u in d)!d.hasOwnProperty(u)||p&&p.hasOwnProperty(u)||((c=c||{})[u]="");for(u in p)p.hasOwnProperty(u)&&d[u]!==p[u]&&((c=c||{})[u]=p[u])}else c=p;else A.hasOwnProperty(s)?p?F(this._rootNodeID,s,p,n):d&&I(this._rootNodeID,s):X(this._tag,t)?(r||(r=g.getNode(this._rootNodeID)),s===P&&(p=null),i.setValueForAttribute(r,s,p)):(a.properties[s]||a.isCustomAttribute(s))&&(r||(r=g.getNode(this._rootNodeID)),null!=p?i.setValueForProperty(r,s,p):i.deleteValueForProperty(r,s))}c&&(r||(r=g.getNode(this._rootNodeID)),o.setValueForStyles(r,c))},_updateDOMChildren:function(e,t,n,r){var o=R[typeof e.children]?e.children:null,a=R[typeof t.children]?t.children:null,i=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,c=null!=a?null:t.children,l=null!=o||null!=i,p=null!=a||null!=s;null!=u&&null==c?this.updateChildren(null,n,r):l&&!p&&this.updateTextContent(""),null!=a?o!==a&&this.updateTextContent(""+a):null!=s?i!==s&&this.updateMarkup(""+s):null!=c&&this.updateChildren(c,n,r)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":p.unmountWrapper(this);break;case"html":case"head":case"body":w(!1)}(this.unmountChildren(),u.deleteAllListeners(this._rootNodeID),c.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties)&&(this._nodeWithLegacyProperties._reactInternalComponent=null,this._nodeWithLegacyProperties=null)},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=g.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=N,e.isMounted=k,e.setState=M,e.replaceState=M,e.forceUpdate=M,e.setProps=L,e.replaceProps=U,e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},y.measureMethods(J,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),_(J.prototype,J.Mixin,m.Mixin),e.exports=J},function(e,t,n){"use strict";var r=n(5),o=n(46),a=n(78),i={Mixin:{componentDidMount:function(){this.props.autoFocus&&a(o(this))}},focusDOMComponent:function(){a(r.getNode(this._rootNodeID))}};e.exports=i},function(e,t,n){"use strict";var r=n(79),o=n(4),a=n(7),i=(n(135),n(137)),s=n(138),u=n(140),c=(n(2),u((function(e){return s(e)}))),l=!1,p="cssFloat";if(o.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(e){l=!0}void 0===document.documentElement.style.cssFloat&&(p="styleFloat")}var f={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];0,null!=r&&(t+=c(n)+":",t+=i(n,r)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var o in t)if(t.hasOwnProperty(o)){0;var a=i(o,t[o]);if("float"===o&&(o=p),a)n[o]=a;else{var s=l&&r.shorthandPropertyExpansions[o];if(s)for(var u in s)n[u]="";else n[o]=""}}}};a.measureMethods(f,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),e.exports=f},function(e,t,n){"use strict";var r=n(136),o=/^-ms-/;e.exports=function(e){return r(e.replace(o,"ms-"))}},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";var r=n(79).isUnitlessNumber;e.exports=function(e,t){return null==t||"boolean"==typeof t||""===t?"":isNaN(t)||0===t||r.hasOwnProperty(e)&&r[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}},function(e,t,n){"use strict";var r=n(139),o=/^ms-/;e.exports=function(e){return r(e).replace(o,"-ms-")}},function(e,t,n){"use strict";var r=/([A-Z])/g;e.exports=function(e){return e.replace(r,"-$1").toLowerCase()}},function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(e,t,n){if(!t.disabled)return t;var o={};for(var a in t)t.hasOwnProperty(a)&&!r[a]&&(o[a]=t[a]);return o}};e.exports=o},function(e,t,n){"use strict";var r=n(36),o=n(47),a=n(5),i=n(8),s=n(3),u=n(1),c={};function l(){this._rootNodeID&&p.updateWrapper(this)}var p={getNativeProps:function(e,t,n){var r=o.getValue(t),a=o.getChecked(t);return s({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=a?a:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,onChange:d.bind(e)}},mountReadyWrapper:function(e){c[e._rootNodeID]=e},unmountWrapper:function(e){delete c[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&r.updatePropertyByID(e._rootNodeID,"checked",n||!1);var a=o.getValue(t);null!=a&&r.updatePropertyByID(e._rootNodeID,"value",""+a)}};function d(e){var t=this._currentElement.props,n=o.executeOnChange(t,e);i.asap(l,this);var r=t.name;if("radio"===t.type&&null!=r){for(var s=a.getNode(this._rootNodeID),p=s;p.parentNode;)p=p.parentNode;for(var d=p.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),f=0;f<d.length;f++){var h=d[f];if(h!==s&&h.form===s.form){var g=a.getID(h);g||u(!1);var m=c[g];m||u(!1),i.asap(l,m)}}}return n}e.exports=p},function(e,t,n){"use strict";var r=n(81),o=n(82),a=n(3),i=(n(2),o.valueContextKey),s={mountWrapper:function(e,t,n){var r=n[i],o=null;if(null!=r)if(o=!1,Array.isArray(r)){for(var a=0;a<r.length;a++)if(""+r[a]==""+t.value){o=!0;break}}else o=""+r==""+t.value;e._wrapperState={selected:o}},getNativeProps:function(e,t,n){var o=a({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(o.selected=e._wrapperState.selected);var i="";return r.forEach(t.children,(function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(i+=e))})),i&&(o.children=i),o}};e.exports=s},function(e,t,n){"use strict";var r=n(47),o=n(36),a=n(8),i=n(3),s=n(1);n(2);function u(){this._rootNodeID&&c.updateWrapper(this)}var c={getNativeProps:function(e,t,n){return null!=t.dangerouslySetInnerHTML&&s(!1),i({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue,o=t.children;null!=o&&(null!=n&&s(!1),Array.isArray(o)&&(o.length<=1||s(!1),o=o[0]),n=""+o),null==n&&(n="");var a=r.getValue(t);e._wrapperState={initialValue:""+(null!=a?a:n),onChange:l.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=r.getValue(t);null!=n&&o.updatePropertyByID(e._rootNodeID,"value",""+n)}};function l(e){var t=this._currentElement.props,n=r.executeOnChange(t,e);return a.asap(u,this),n}e.exports=c},function(e,t,n){"use strict";var r=n(41),o=n(61),a=(n(10),n(14)),i=n(146),s=n(147),u=0,c=[],l=[];function p(){c.length&&(r.processChildrenUpdates(c,l),d())}function d(){c.length=0,l.length=0}var f={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return i.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r){var o;return o=s(t),i.updateChildren(e,o,n,r)},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var s in r)if(r.hasOwnProperty(s)){var u=r[s],c=this._rootNodeID+s,l=a.mountComponent(u,c,t,n);u._mountIndex=i++,o.push(l)}return o},updateTextContent:function(e){u++;var t=!0;try{var n=this._renderedChildren;for(var r in i.unmountChildren(n),n)n.hasOwnProperty(r)&&this._unmountChild(n[r]);this.setTextContent(e),t=!1}finally{--u||(t?d():p())}},updateMarkup:function(e){u++;var t=!0;try{var n=this._renderedChildren;for(var r in i.unmountChildren(n),n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setMarkup(e),t=!1}finally{--u||(t?d():p())}},updateChildren:function(e,t,n){u++;var r=!0;try{this._updateChildren(e,t,n),r=!1}finally{--u||(r?d():p())}},_updateChildren:function(e,t,n){var r=this._renderedChildren,o=this._reconcilerUpdateChildren(r,e,t,n);if(this._renderedChildren=o,o||r){var a,i=0,s=0;for(a in o)if(o.hasOwnProperty(a)){var u=r&&r[a],c=o[a];u===c?(this.moveChild(u,s,i),i=Math.max(u._mountIndex,i),u._mountIndex=s):(u&&(i=Math.max(u._mountIndex,i),this._unmountChild(u)),this._mountChildByNameAtIndex(c,a,s,t,n)),s++}for(a in r)!r.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||this._unmountChild(r[a])}},unmountChildren:function(){var e=this._renderedChildren;i.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&function(e,t,n){c.push({parentID:e,parentNode:null,type:o.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){var n,r,a;n=this._rootNodeID,r=t,a=e._mountIndex,c.push({parentID:n,parentNode:null,type:o.INSERT_MARKUP,markupIndex:l.push(r)-1,content:null,fromIndex:null,toIndex:a})},removeChild:function(e){var t,n;t=this._rootNodeID,n=e._mountIndex,c.push({parentID:t,parentNode:null,type:o.REMOVE_NODE,markupIndex:null,content:null,fromIndex:n,toIndex:null})},setTextContent:function(e){!function(e,t){c.push({parentID:e,parentNode:null,type:o.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}(this._rootNodeID,e)},setMarkup:function(e){!function(e,t){c.push({parentID:e,parentNode:null,type:o.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r,o){var i=this._rootNodeID+t,s=a.mountComponent(e,i,r,o);e._mountIndex=n,this.createChild(e,s)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};e.exports=f},function(e,t,n){"use strict";var r=n(14),o=n(40),a=n(42),i=n(49);n(2);function s(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=o(t,null))}var u={instantiateChildren:function(e,t,n){if(null==e)return null;var r={};return i(e,s,r),r},updateChildren:function(e,t,n,i){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var u=e&&e[s],c=u&&u._currentElement,l=t[s];if(null!=u&&a(c,l))r.receiveComponent(u,l,n,i),t[s]=u;else{u&&r.unmountComponent(u,s);var p=o(l,null);t[s]=p}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||r.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];r.unmountComponent(n)}}};e.exports=u},function(e,t,n){"use strict";var r=n(49);n(2);function o(e,t,n){var r=e;void 0===r[n]&&null!=t&&(r[n]=t)}e.exports=function(e){if(null==e)return e;var t={};return r(e,o,t),t}},function(e,t,n){"use strict";var r=n(84),o=n(4),a=n(12),i=n(17),s=n(5),u=n(8),c=n(3),l=n(44),p=n(149);function d(e){var t=s.getID(e),n=i.getReactRootIDFromNodeID(t),r=s.findReactContainerForID(n);return s.getFirstReactDOM(r)}function f(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function h(e){!function(e){var t=s.getFirstReactDOM(l(e.nativeEvent))||window,n=t;for(;n;)e.ancestors.push(n),n=d(n);for(var r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var o=s.getID(t)||"";m._handleTopLevel(e.topLevelType,t,o,e.nativeEvent,l(e.nativeEvent))}}(e)}function g(e){e(p(window))}c(f.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),a.addPoolingTo(f,a.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:o.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){var o=n;return o?r.listen(o,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var o=n;return o?r.capture(o,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=g.bind(null,e);r.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=f.getPooled(e,t);try{u.batchedUpdates(h,n)}finally{f.release(n)}}}};e.exports=m},function(e,t,n){"use strict";e.exports=function(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,n){"use strict";var r=n(16),o=n(18),a=n(41),i=n(85),s=n(72),u=n(27),c=n(73),l=n(7),p=n(69),d=n(8),f={Component:a.injection,Class:i.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventEmitter:u.injection,NativeComponent:c.injection,Perf:l.injection,RootIndex:p.injection,Updates:d.injection};e.exports=f},function(e,t,n){"use strict";var r=n(39),o=n(12),a=n(27),i=n(67),s=n(88),u=n(29),c=n(3),l=[{initialize:s.getSelectionInformation,close:s.restoreSelection},{initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];function p(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.useCreateElement=!e&&i.useCreateElement}var d={getTransactionWrappers:function(){return l},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};c(p.prototype,u.Mixin,d),o.addPoolingTo(p),e.exports=p},function(e,t,n){"use strict";var r=n(4),o=n(153),a=n(75);function i(e,t,n,r){return e===n&&t===r}var s=r.canUseDOM&&"selection"in document&&!("getSelection"in window),u={getOffsets:s?function(e){var t=document.selection.createRange(),n=t.text.length,r=t.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",t);var o=r.text.length;return{start:o,end:o+n}}:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=i(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var l=i(c.startContainer,c.startOffset,c.endContainer,c.endOffset)?0:c.toString().length,p=l+u,d=document.createRange();d.setStart(n,r),d.setEnd(o,a);var f=d.collapsed;return{start:f?p:l,end:f?l:p}},setOffsets:s?function(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?r=n=t.start:t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}:function(e,t){if(window.getSelection){var n=window.getSelection(),r=e[a()].length,i=Math.min(t.start,r),s=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>s){var u=s;s=i,i=u}var c=o(e,i),l=o(e,s);if(c&&l){var p=document.createRange();p.setStart(c.node,c.offset),n.removeAllRanges(),i>s?(n.addRange(p),n.extend(l.node,l.offset)):(p.setEnd(l.node,l.offset),n.addRange(p))}}}};e.exports=u},function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}e.exports=function(e,t){for(var n=r(e),a=0,i=0;n;){if(3===n.nodeType){if(i=a+n.textContent.length,a<=t&&i>=t)return{node:n,offset:t-a};a=i}n=r(o(n))}}},function(e,t,n){"use strict";var r=n(11),o=n(21),a=n(4),i=n(88),s=n(15),u=n(89),c=n(76),l=n(13),p=n(83),d=r.topLevelTypes,f=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:l({onSelect:null}),captured:l({onSelectCapture:null})},dependencies:[d.topBlur,d.topContextMenu,d.topFocus,d.topKeyDown,d.topMouseDown,d.topMouseUp,d.topSelectionChange]}},g=null,m=null,y=null,v=!1,_=!1,b=l({onSelect:null});function E(e,t){if(v||null==g||g!==u())return null;var n=function(e){if("selectionStart"in e&&i.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}(g);if(!y||!p(y,n)){y=n;var r=s.getPooled(h.select,m,e,t);return r.type="select",r.target=g,o.accumulateTwoPhaseDispatches(r),r}return null}var w={eventTypes:h,extractEvents:function(e,t,n,r,o){if(!_)return null;switch(e){case d.topFocus:(c(t)||"true"===t.contentEditable)&&(g=t,m=n,y=null);break;case d.topBlur:g=null,m=null,y=null;break;case d.topMouseDown:v=!0;break;case d.topContextMenu:case d.topMouseUp:return v=!1,E(r,o);case d.topSelectionChange:if(f)break;case d.topKeyDown:case d.topKeyUp:return E(r,o)}return null},didPutListener:function(e,t,n){t===b&&(_=!0)}};e.exports=w},function(e,t,n){"use strict";var r=Math.pow(2,53),o={createReactRootIndex:function(){return Math.ceil(Math.random()*r)}};e.exports=o},function(e,t,n){"use strict";var r=n(11),o=n(84),a=n(21),i=n(5),s=n(157),u=n(15),c=n(158),l=n(159),p=n(32),d=n(161),f=n(162),h=n(22),g=n(163),m=n(9),y=n(50),v=n(1),_=n(13),b=r.topLevelTypes,E={abort:{phasedRegistrationNames:{bubbled:_({onAbort:!0}),captured:_({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:_({onBlur:!0}),captured:_({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:_({onCanPlay:!0}),captured:_({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:_({onCanPlayThrough:!0}),captured:_({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:_({onClick:!0}),captured:_({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:_({onContextMenu:!0}),captured:_({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:_({onCopy:!0}),captured:_({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:_({onCut:!0}),captured:_({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:_({onDoubleClick:!0}),captured:_({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:_({onDrag:!0}),captured:_({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:_({onDragEnd:!0}),captured:_({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:_({onDragEnter:!0}),captured:_({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:_({onDragExit:!0}),captured:_({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:_({onDragLeave:!0}),captured:_({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:_({onDragOver:!0}),captured:_({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:_({onDragStart:!0}),captured:_({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:_({onDrop:!0}),captured:_({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:_({onDurationChange:!0}),captured:_({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:_({onEmptied:!0}),captured:_({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:_({onEncrypted:!0}),captured:_({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:_({onEnded:!0}),captured:_({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:_({onError:!0}),captured:_({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:_({onFocus:!0}),captured:_({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:_({onInput:!0}),captured:_({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:_({onKeyDown:!0}),captured:_({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:_({onKeyPress:!0}),captured:_({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:_({onKeyUp:!0}),captured:_({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:_({onLoad:!0}),captured:_({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:_({onLoadedData:!0}),captured:_({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:_({onLoadedMetadata:!0}),captured:_({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:_({onLoadStart:!0}),captured:_({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:_({onMouseDown:!0}),captured:_({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:_({onMouseMove:!0}),captured:_({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:_({onMouseOut:!0}),captured:_({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:_({onMouseOver:!0}),captured:_({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:_({onMouseUp:!0}),captured:_({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:_({onPaste:!0}),captured:_({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:_({onPause:!0}),captured:_({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:_({onPlay:!0}),captured:_({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:_({onPlaying:!0}),captured:_({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:_({onProgress:!0}),captured:_({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:_({onRateChange:!0}),captured:_({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:_({onReset:!0}),captured:_({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:_({onScroll:!0}),captured:_({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:_({onSeeked:!0}),captured:_({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:_({onSeeking:!0}),captured:_({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:_({onStalled:!0}),captured:_({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:_({onSubmit:!0}),captured:_({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:_({onSuspend:!0}),captured:_({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:_({onTimeUpdate:!0}),captured:_({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:_({onTouchCancel:!0}),captured:_({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:_({onTouchEnd:!0}),captured:_({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:_({onTouchMove:!0}),captured:_({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:_({onTouchStart:!0}),captured:_({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:_({onVolumeChange:!0}),captured:_({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:_({onWaiting:!0}),captured:_({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:_({onWheel:!0}),captured:_({onWheelCapture:!0})}}},w={topAbort:E.abort,topBlur:E.blur,topCanPlay:E.canPlay,topCanPlayThrough:E.canPlayThrough,topClick:E.click,topContextMenu:E.contextMenu,topCopy:E.copy,topCut:E.cut,topDoubleClick:E.doubleClick,topDrag:E.drag,topDragEnd:E.dragEnd,topDragEnter:E.dragEnter,topDragExit:E.dragExit,topDragLeave:E.dragLeave,topDragOver:E.dragOver,topDragStart:E.dragStart,topDrop:E.drop,topDurationChange:E.durationChange,topEmptied:E.emptied,topEncrypted:E.encrypted,topEnded:E.ended,topError:E.error,topFocus:E.focus,topInput:E.input,topKeyDown:E.keyDown,topKeyPress:E.keyPress,topKeyUp:E.keyUp,topLoad:E.load,topLoadedData:E.loadedData,topLoadedMetadata:E.loadedMetadata,topLoadStart:E.loadStart,topMouseDown:E.mouseDown,topMouseMove:E.mouseMove,topMouseOut:E.mouseOut,topMouseOver:E.mouseOver,topMouseUp:E.mouseUp,topPaste:E.paste,topPause:E.pause,topPlay:E.play,topPlaying:E.playing,topProgress:E.progress,topRateChange:E.rateChange,topReset:E.reset,topScroll:E.scroll,topSeeked:E.seeked,topSeeking:E.seeking,topStalled:E.stalled,topSubmit:E.submit,topSuspend:E.suspend,topTimeUpdate:E.timeUpdate,topTouchCancel:E.touchCancel,topTouchEnd:E.touchEnd,topTouchMove:E.touchMove,topTouchStart:E.touchStart,topVolumeChange:E.volumeChange,topWaiting:E.waiting,topWheel:E.wheel};for(var S in w)w[S].dependencies=[S];var C=_({onClick:null}),T={},I={eventTypes:E,extractEvents:function(e,t,n,r,o){var i,m=w[e];if(!m)return null;switch(e){case b.topAbort:case b.topCanPlay:case b.topCanPlayThrough:case b.topDurationChange:case b.topEmptied:case b.topEncrypted:case b.topEnded:case b.topError:case b.topInput:case b.topLoad:case b.topLoadedData:case b.topLoadedMetadata:case b.topLoadStart:case b.topPause:case b.topPlay:case b.topPlaying:case b.topProgress:case b.topRateChange:case b.topReset:case b.topSeeked:case b.topSeeking:case b.topStalled:case b.topSubmit:case b.topSuspend:case b.topTimeUpdate:case b.topVolumeChange:case b.topWaiting:i=u;break;case b.topKeyPress:if(0===y(r))return null;case b.topKeyDown:case b.topKeyUp:i=l;break;case b.topBlur:case b.topFocus:i=c;break;case b.topClick:if(2===r.button)return null;case b.topContextMenu:case b.topDoubleClick:case b.topMouseDown:case b.topMouseMove:case b.topMouseOut:case b.topMouseOver:case b.topMouseUp:i=p;break;case b.topDrag:case b.topDragEnd:case b.topDragEnter:case b.topDragExit:case b.topDragLeave:case b.topDragOver:case b.topDragStart:case b.topDrop:i=d;break;case b.topTouchCancel:case b.topTouchEnd:case b.topTouchMove:case b.topTouchStart:i=f;break;case b.topScroll:i=h;break;case b.topWheel:i=g;break;case b.topCopy:case b.topCut:case b.topPaste:i=s}i||v(!1);var _=i.getPooled(m,n,r,o);return a.accumulateTwoPhaseDispatches(_),_},didPutListener:function(e,t,n){if(t===C){var r=i.getNode(e);T[e]||(T[e]=o.listen(r,"click",m))}},willDeleteListener:function(e,t){t===C&&(T[e].remove(),delete T[e])}};e.exports=I},function(e,t,n){"use strict";var r=n(15),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};function a(e,t,n,o){r.call(this,e,t,n,o)}r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";var r=n(22);function o(e,t,n,o){r.call(this,e,t,n,o)}r.augmentClass(o,{relatedTarget:null}),e.exports=o},function(e,t,n){"use strict";var r=n(22),o=n(50),a={key:n(160),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:n(45),charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};function i(e,t,n,o){r.call(this,e,t,n,o)}r.augmentClass(i,a),e.exports=i},function(e,t,n){"use strict";var r=n(50),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=function(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}},function(e,t,n){"use strict";var r=n(32);function o(e,t,n,o){r.call(this,e,t,n,o)}r.augmentClass(o,{dataTransfer:null}),e.exports=o},function(e,t,n){"use strict";var r=n(22),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:n(45)};function a(e,t,n,o){r.call(this,e,t,n,o)}r.augmentClass(a,o),e.exports=a},function(e,t,n){"use strict";var r=n(32);function o(e,t,n,o){r.call(this,e,t,n,o)}r.augmentClass(o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),e.exports=o},function(e,t,n){"use strict";var r=n(16).injection.MUST_USE_ATTRIBUTE,o="http://www.w3.org/1999/xlink",a="http://www.w3.org/XML/1998/namespace",i={Properties:{clipPath:r,cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:r,xmlLang:r,xmlSpace:r,y1:r,y2:r,y:r},DOMAttributeNamespaces:{xlinkActuate:o,xlinkArcrole:o,xlinkHref:o,xlinkRole:o,xlinkShow:o,xlinkTitle:o,xlinkType:o,xmlBase:a,xmlLang:a,xmlSpace:a},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};e.exports=i},function(e,t,n){"use strict";var r=n(5);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";var r=n(74),o=n(167),a=n(51);r.inject();var i={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:a};e.exports=i},function(e,t,n){"use strict";var r=n(77),o=n(6),a=n(17),i=n(70),s=n(168),u=n(169),c=n(8),l=n(20),p=n(40),d=n(1);e.exports={renderToString:function(e){var t;o.isValidElement(e)||d(!1);try{c.injection.injectBatchingStrategy(s);var n=a.createReactRootID();return(t=u.getPooled(!1)).perform((function(){var r=p(e,null).mountComponent(n,t,l);return i.addChecksumToMarkup(r)}),null)}finally{u.release(t),c.injection.injectBatchingStrategy(r)}},renderToStaticMarkup:function(e){var t;o.isValidElement(e)||d(!1);try{c.injection.injectBatchingStrategy(s);var n=a.createReactRootID();return(t=u.getPooled(!0)).perform((function(){return p(e,null).mountComponent(n,t,l)}),null)}finally{u.release(t),c.injection.injectBatchingStrategy(r)}}}},function(e,t,n){"use strict";e.exports={isBatchingUpdates:!1,batchedUpdates:function(e){}}},function(e,t,n){"use strict";var r=n(12),o=n(39),a=n(29),i=n(3),s=[{initialize:function(){this.reactMountReady.reset()},close:n(9)}];function u(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.useCreateElement=!1}var c={getTransactionWrappers:function(){return s},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(u.prototype,a.Mixin,c),r.addPoolingTo(u),e.exports=u},function(e,t,n){"use strict";var r=n(81),o=n(86),a=n(85),i=n(171),s=n(6),u=(n(90),n(80)),c=n(51),l=n(3),p=n(173),d=s.createElement,f=s.createFactory,h=s.cloneElement;var g={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:p},Component:o,createElement:d,cloneElement:h,isValidElement:s.isValidElement,PropTypes:u,createClass:a.createClass,createFactory:f,createMixin:function(e){return e},DOM:i,version:c,__spread:l};e.exports=g},function(e,t,n){"use strict";var r=n(6);n(90);var o=n(172)({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul",var:"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},(function(e){return r.createFactory(e)}));e.exports=o},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!e)return null;var o={};for(var a in e)r.call(e,a)&&(o[a]=t.call(n,e[a],a,e));return o}},function(e,t,n){"use strict";var r=n(6),o=n(1);e.exports=function(e){return r.isValidElement(e)||o(!1),e}},function(e,t,n){"use strict";n(3),n(2);e.exports=function(e,t,n,r,o){return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.printBuffer=function(e,t){var n=t.logger,r=t.actionTransformer,o=t.titleFormatter,i=void 0===o?function(e){var t=e.timestamp,n=e.duration;return function(e,r,o){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+o.toFixed(2)+" ms)"),a.join(" ")}}(t):o,c=t.collapsed,l=t.colors,p=t.level,d=t.diff;e.forEach((function(o,f){var h=o.started,g=o.startedTime,m=o.action,y=o.prevState,v=o.error,_=o.took,b=o.nextState,E=e[f+1];E&&(b=E.prevState,_=E.started-h);var w=r(m),S="function"==typeof c?c((function(){return b}),m,o):c,C=(0,a.formatTime)(g),T=l.title?"color: "+l.title(w)+";":"",I=["color: gray; font-weight: lighter;"];I.push(T),t.timestamp&&I.push("color: gray; font-weight: lighter;"),t.duration&&I.push("color: gray; font-weight: lighter;");var O=i(w,C,_);try{S?l.title?n.groupCollapsed.apply(n,["%c "+O].concat(I)):n.groupCollapsed(O):l.title?n.group.apply(n,["%c "+O].concat(I)):n.group(O)}catch(e){n.log(O)}var A=u(p,w,[y],"prevState"),R=u(p,w,[w],"action"),P=u(p,w,[v,y],"error"),D=u(p,w,[b],"nextState");A&&(l.prevState?n[A]("%c prev state","color: "+l.prevState(y)+"; font-weight: bold",y):n[A]("prev state",y)),R&&(l.action?n[R]("%c action    ","color: "+l.action(w)+"; font-weight: bold",w):n[R]("action    ",w)),v&&P&&(l.error?n[P]("%c error     ","color: "+l.error(v,y)+"; font-weight: bold;",v):n[P]("error     ",v)),D&&(l.nextState?n[D]("%c next state","color: "+l.nextState(b)+"; font-weight: bold",b):n[D]("next state",b)),d&&(0,s.default)(y,b,n,S);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))};var o,a=n(91),i=n(176),s=(o=i)&&o.__esModule?o:{default:o};function u(e,t,n,o){switch(void 0===e?"undefined":r(e)){case"object":return"function"==typeof e[o]?e[o].apply(e,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)):e[o];case"function":return e(t);default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=(0,a.default)(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}o?o.forEach((function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,o=e.rhs,a=e.index,i=e.item;switch(t){case"E":return[n.join("."),r,"→",o];case"N":return[n.join("."),o];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",i];default:return[]}}(e);n.log.apply(n,["%c "+i[t].text,s(t)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}};var r,o=n(177),a=(r=o)&&r.__esModule?r:{default:r};var i={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};function s(e){return"color: "+i[e].color+"; font-weight: bold"}e.exports=t.default},function(e,t,n){(function(n){var r;!function(o,a){"use strict";void 0===(r=function(){return function(e){var t,r,o=[];t="object"==typeof n&&n?n:"undefined"!=typeof window?window:{};(r=t.DeepDiff)&&o.push((function(){void 0!==r&&t.DeepDiff===h&&(t.DeepDiff=r,r=e)}));function a(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function i(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function u(e,t){u.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function c(e,t){c.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function l(e,t,n){l.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function p(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function d(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":void 0!==e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function f(t,n,r,o,a,i,h){var g=(a=a||[]).slice(0);if(void 0!==i){if(o){if("function"==typeof o&&o(g,i))return;if("object"==typeof o){if(o.prefilter&&o.prefilter(g,i))return;if(o.normalize){var m=o.normalize(g,i,t,n);m&&(t=m[0],n=m[1])}}}g.push(i)}"regexp"===d(t)&&"regexp"===d(n)&&(t=t.toString(),n=n.toString());var y=typeof t,v=typeof n;if("undefined"===y)"undefined"!==v&&r(new u(g,n));else if("undefined"===v)r(new c(g,t));else if(d(t)!==d(n))r(new s(g,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!=0)r(new s(g,t,n));else if("object"===y&&null!==t&&null!==n){if((h=h||[]).indexOf(t)<0){if(h.push(t),Array.isArray(t)){var _;t.length;for(_=0;_<t.length;_++)_>=n.length?r(new l(g,_,new c(e,t[_]))):f(t[_],n[_],r,o,g,_,h);for(;_<n.length;)r(new l(g,_,new u(e,n[_++])))}else{var b=Object.keys(t),E=Object.keys(n);b.forEach((function(a,i){var s=E.indexOf(a);s>=0?(f(t[a],n[a],r,o,g,a,h),E=p(E,s)):f(t[a],e,r,o,g,a,h)})),E.forEach((function(t){f(e,n[t],r,o,g,t,h)}))}h.length=h.length-1}}else t!==n&&("number"===y&&isNaN(t)&&isNaN(n)||r(new s(g,t,n)))}function h(t,n,r,o){return o=o||[],f(t,n,(function(e){e&&o.push(e)}),r),o.length?o:e}function g(e,t,n){if(n.path&&n.path.length){var r,o=e[t],a=n.path.length-1;for(r=0;r<a;r++)o=o[n.path[r]];switch(n.kind){case"A":g(o[n.path[r]],n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}else switch(n.kind){case"A":g(e[t],n.index,n.item);break;case"D":e=p(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function m(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,o=-1,a=n.path?n.path.length-1:0;++o<a;)void 0===r[n.path[o]]&&(r[n.path[o]]="number"==typeof n.path[o]?[]:{}),r=r[n.path[o]];switch(n.kind){case"A":g(n.path?r[n.path[o]]:r,n.index,n.item);break;case"D":delete r[n.path[o]];break;case"E":case"N":r[n.path[o]]=n.rhs}}}function y(e,t,n){if(n.path&&n.path.length){var r,o=e[t],a=n.path.length-1;for(r=0;r<a;r++)o=o[n.path[r]];switch(n.kind){case"A":y(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}else switch(n.kind){case"A":y(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=p(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,o,a=e;for(o=n.path.length-1,r=0;r<o;r++)void 0===a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":y(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function _(e,t,n){e&&t&&f(e,t,(function(r){n&&!n(e,t,r)||m(e,t,r)}))}return a(s,i),a(u,i),a(c,i),a(l,i),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:f,enumerable:!0},applyDiff:{value:_,enumerable:!0},applyChange:{value:m,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return void 0!==r},enumerable:!0},noConflict:{value:function(){return o&&(o.forEach((function(e){e()})),o=null),h},enumerable:!0}}),h}()}.apply(t,[]))||(e.exports=r)}()}).call(this,n(23))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,n){"use strict";n.r(t);const r=function(){let e,t;return void 0===t&&(t={}),-1!==navigator.userAgent.indexOf("Chrome")?-1!==navigator.userAgent.indexOf("Edg")?(e="edge",t=-1!==navigator.userAgent.indexOf("Edge")?browser:chrome):-1!==navigator.userAgent.indexOf("Opera")||-1!==navigator.userAgent.indexOf("OPR")?(e="opera",t=chrome):-1!==navigator.userAgent.indexOf("YaBrowser")||-1!==navigator.userAgent.indexOf("Yowser")?(e="yandex",t=chrome):-1!==navigator.userAgent.indexOf("SamsungBrowser")?(e="samsung",t=chrome):(e="chrome",t=chrome):-1!==navigator.userAgent.indexOf("Safari")?(e="safari",t=browser):-1!==navigator.userAgent.indexOf("Firefox")?(e="firefox",t=browser):-1===navigator.userAgent.indexOf("MSIE")&&!0!=!!document.documentMode||(e="ie"),{crossbrowserName:e,crossbrowser:t}}(),o=r.crossbrowserName,a=r.crossbrowser,i=!1,s="https://scorecard.api.mywot.com",u="https://static.mywot.com/settings/extensions",c="5.0.1",l="STORAGE_TOKEN",p=36e5,d=/(https?|ftp|mms|rtsp):\/\/(.*)([.])(.*)/i,f=/https:\/\/auth\.api\.mywot\.com\/(google|facebook|twitter)\/callback/,h="SHIELDS_LEVEL_HIGH",g="WARNINGS_LEVEL_HIGH",m="WARNINGS_LEVEL_OFF",y={SAFE:"green",NOT_SAFE:"red",UNKNOWN:"gray",SUSPICIOUS:"yellow"},v="OPEN_TAB_MESSAGE",_="OPEN_IN_CURR_TAB_MESSAGE",b="SEND_MESSAGE",E="TURN_OFF_PROTECTION",w="TURN_ON_PROTECTION",S="TOGGLE_WOT_SLIDER",C="TOGGLE_WOT_SLIDER_REQUEST",T="CONTENT_CONNECTED",I="INJECT_FONTS",O="mywot.com",A="https://app.mywot.com",R=`${A}/api/analytics/sync`,P=`app.${O}`,D=`https://${O}/welcome`,x=`https://${O}/uninstall_${o}`,N="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Roboto:wght@400;500;700&display=swap",k={gray:"images/i0.png",red:"images/i1.png",yellow:"images/i2.png",green:"images/i3.png","red-custom":"images/ic1.png","yellow-custom":"images/ic2.png","green-custom":"images/ic3.png"},M={bubbles:{notSafe:[101,103,104],suspicious:[202,206,105,203,207],safe:[501,502,503,504,505,506,507]},warnings:[101,103,104,202,206,207],block:{gambling:405,news:306,social:307},popup:[101,103,104,401,202,206,402,403],ratingFlow:{safety:[101,103,104,202,206,207],childSafety:[401,402,403,405],reputation:[102,106,105,205,203,204,201]},icons:{red:[101,103,104],yellow:[202,206],green:[501,502,503,504,505,506,507]}},L={"4sq.com":1,"abcn.ws":1,"aol.it":1,"apne.ws":1,"bbc.in":1,"bzfd.it":1,"clck.ru":1,"cs.pn":1,"d3w.io":1,"dlvr.it":1,"eca.sh":1,"engt.co":1,"es.pn":1,"exm.nr":1,"f.ast.ly":1,"fa.by":1,"flpbd.it":1,"gd.is":1,"ht.ly":1,"huff.to":1,"ind.pn":1,"is.gd":1,"j.mp":1,"lat.ms":1,"lnkd.in":1,"migre.me":1,"n.pr":1,"nblo.gs":1,"nyr.kr":1,"nyti.ms":1,"on.cnn.com":1,"on.mash.to":1,"on.msnbc.com":1,"ow.ly":1,"pep.si":1,"ping.fm":1,"politi.co":1,"post.ly":1,"rww.to":1,"su.pr":1,"t.co":1,"tcrn.ch":1,"tgr.ph":1,"thkpr.gs":1,"tiny.ly":1,"tinyurl.com":1,"tl.gd":1,"tldr.us":1,"to.ly":1,"tr.im":1,"twitter.com":1,"u.to":1,"usat.me":1,"vk.cc":1,"wapo.st":1,"wp.me":1,"x.co":1,"yhoo.it":1,"bit.ly":2,"bitly.com":2,"goo.gl":2,"gu.com":2,"sites.google.com":2},U=36e5,j=864e5,F=24192e5,B="PING",W="PONG",V={104:"Scam",103:"Phishing",203:"Suspicious",102:"PoorExperience",106:"poorCustomerService",401:"adultContent",101:"MalwareViruses",105:"Illegal",201:"MisleadingUnethical",205:"Spam",206:"UnwantedPrograms",207:"adsOrPopups",402:"IncidentalNudity",403:"GruesomeShocking",504:"goodService",503:"safeShopping",505:"greatSupport",506:"trustedSource",501:"GoodSite",507:"clearPolicy",202:"PrivacyRisks",204:"HateDiscrimination",405:"Gambling"},H="SHOW_TOAST_NOTIFICATION",q={comment:"",safety:-1,tags:[],target:"",uid:-1},K=(new RegExp(["wot-popup-overlay","shield-container","shield_container","wot_shield"].join("|")),{name:"WOT_TRACE_ID",value:""}),G="ANALYTICS_INFO",z="Extension",$="WOT",Y={PAID:"PAID",ORGANIC:"ORGANIC"},X={EXTENSION_INSTALL:"EXTENSION_INSTALL",EXTENSION_UPGRADE:"EXTENSION_UPGRADE",OPT_IN_PAGE_VIEW:"OPT_IN_PAGE_VIEW",OPT_IN_PAGE_CLICKED:"OPT_IN_PAGE_CLICKED",OPT_IN_PAGE_ARE_YOU_SURE_VIEW:"OPT_IN_PAGE_ARE_YOU_SURE_VIEW",OPT_IN_PAGE_ARE_YOU_SURE_CLICKED:"OPT_IN_PAGE_ARE_YOU_SURE_CLICKED",POPUP_V2:{EXTENSION_POPUP_VIEW:"EXTENSION_POPUP_VIEW",EXTENSION_READ_REVIEWS_CLICK:"EXTENSION_READ_REVIEWS_CLICK",EXTENSION_BLOCK_TRACKER_CLICK:"EXTENSION_BLOCK_TRACKER_CLICK",EXTENSION_MANAGE_TRACKER_CLICK:"EXTENSION_MANAGE_TRACKER_CLICK",EXTENSION_ACTIVATE_PROTECTION_CLICK:"EXTENSION_ACTIVATE_PROTECTION_CLICK",EXTENSION_MANAGE_PROTECTION_CLICK:"EXTENSION_MANAGE_PROTECTION_CLICK",EXTENSION_CHECK_LEAKS_CLICK:"EXTENSION_CHECK_LEAKS_CLICK"}},J="EMAIL_PROTECTION",Q="LEAK_MONITORING_AD",Z="RATE_US_SLIDER",ee="meta",te="leakMonitoringHook",ne="SCHEDULER",re="AB_TEST",oe="RATING_PENDING",ae="ec",ie="ea",se="el";class ue{constructor(e){this.name=e.name||"",this.description=e.description||"",this.enable=e.enable||!1,this.forceReselect=e.forceReselect||!1,this.version=e.version||0,this.options=e.options||[],this.type=e.type||re,Object.keys(e.extraData||{}).forEach((t=>{this[t]=e.extraData[t]}))}}const ce="opera"===o?"UA-2412412-19":"UA-2412412-25",le="SHOW_PIN_WOT_POPUP_ALARM",pe="GET_USER_PLAN_ALARM",de="GET_LEAK_DATA_ALARM",fe="OPTOUT_ALARM",he="SERPS_REQUEST_ALARM",ge="UPDATE_BLOCKED_SITES_STATISTICS_ALARM",me="POPUP_UPDATE_SCAN_TIME_ALARM",ye="USER_STATISTICS",ve="USER_STATISTICS_BLOCKED_SITES";function _e(e){const t=[];for(let n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function be(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(255&e[n]);return t}function Ee(e){const t="0123456789abcdef";let n="";for(let r=0;r<e.length;++r)n+=t.charAt(e[r]>>4&15),n+=t.charAt(15&e[r]);return n}const we={hmacsha1hex(e,t){let n=function(e){const t=function(e){const t="a".charCodeAt(0);return e>=t?e-t+10:e-"0".charCodeAt(0)},n=[];for(let r=0;r<e.length/2;++r)n[r]=t(e.charCodeAt(2*r))<<4|15&t(e.charCodeAt(2*r+1));return n}(e);n.length>20&&(n=this.sha1bin(n));const r=Array(64),o=Array(64);for(let e=0;e<20;++e)r[e]=54^n[e],o[e]=92^n[e];for(let e=20;e<64;++e)r[e]=54,o[e]=92;const a=this.sha1bin(r.concat(_e(t)));return this.sha1bin(o.concat(a))},sha1bin(e){return this.sha1str(be(e))},sha1hex(e){return this.sha1str(hextostr(e))},sha1str(e){const t=function(e,t,n,r){return e<20?t&n|~t&r:e>=40&&e<60?t&n|t&r|n&r:t^n^r},n=function(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514},r=function(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},o=function(e,t){return e<<t|e>>>32-t},a=8*e.length;let i=[];for(var s=0;s<a;s+=8)i[s>>5]|=(255&e.charCodeAt(s/8))<<24-s%32;i[a>>5]|=128<<24-a%32,i[15+(a+64>>9<<4)]=a;const u=Array(80);let c=1732584193,l=-271733879,p=-1732584194,d=271733878,f=-1009589776;for(s=0;s<i.length;s+=16){const e=c,a=l,h=p,g=d,m=f;for(let e=0;e<80;e++){u[e]=e<16?i[s+e]:o(u[e-3]^u[e-8]^u[e-14]^u[e-16],1);const a=r(r(o(c,5),t(e,l,p,d)),r(r(f,u[e]),n(e)));f=d,d=p,p=o(l,30),l=c,c=a}c=r(c,e),l=r(l,a),p=r(p,h),d=r(d,g),f=r(f,m)}i=[c,l,p,d,f],e="";for(s=0;s<32*i.length;s+=8)e+=String.fromCharCode(i[s>>5]>>>24-s%32&255);return _e(e)}},Se={create(e){let t,n,r=0,o=0;const a={s:[],x:1,y:0};for(t=0;t<256;++t)a.s[t]=t;for(t=0;t<256;++t)n=a.s[t],r=r+e[o]+n&255,a.s[t]=a.s[r],a.s[r]=n,++o>=e.length&&(o=0);return a},crypt(e,t){let n,r,o;const a=[];for(n=0;n<t.length;++n)r=e.s[e.x],e.y=e.y+r&255,o=e.s[e.y],e.s[e.x]=o,e.s[e.y]=r,e.x=e.x+1&255,a[n]=255&(t[n]^e.s[r+o&255]);return a}},Ce={set:"abcdefghijklmnopqrstuvwxyz234567",encode(e){try{e=unescape(encodeURIComponent(decodeURIComponent(e)));let t="",n=0,r=0;for(let o=0;o<e.length;++o){const a=e.charCodeAt(o);if(a>255)return null;n=(n<<8)+a,r+=8;do{r-=5,t+=this.set[n>>r&31]}while(r>=5)}return r>0&&(t+=this.set[n<<5-r&31]),t}catch(e){console.log(`base32.encode: failed with ${e}\n`)}return null},decode(e){try{if(!this.rev){this.rev={};for(var t=0;t<this.set.length;++t)this.rev[this.set.charAt(t)]=t}let n="",r=0,o=0;for(t=0;t<e.length;++t){const a=this.rev[e.charAt(t)];if(null==a)return null;for(r=(r<<5)+a,o+=5;o>=8;)o-=8,n+=String.fromCharCode(r>>o&255)}return o>=5?null:decodeURIComponent(escape(n))}catch(e){console.log(`base32.decode: failed with ${e}\n`)}return null}};var Te=new class{constructor(e){this.counter=e||0,this.sha1=we,this.arc4=Se,this.bintohex=Ee,this.base32=Ce}getnonce(e,t){const n=`nonce:5.0.1:${this.counter++}:${Date.now()}:${Math.random()}:${(t||{id:"",key:""}).id||""}:${e||""}`;return Ee(this.sha1.sha1str(n))}decrypt(e,t,n){try{if(e&&t){const r=n&&n.witness_key?n.witness_key:this.witness.key;let{index:o}=n||{};const{response_str:a}=n||{};o=null==o||o<0?"":`-${o}`;let i=t+o;if(a&&(i=`response-${i}`),r)return be(this.arc4.crypt(this.arc4.create(this.sha1.hmacsha1hex(r,i)),_e(atob(e))))}}catch(e){console.log(`crypto.decrypt: failed with ${e}\n`)}return null}encrypt(e,t,n,r){try{if(e&&t){if(!n)var{key:n}=r||{};if(n)return btoa(be(this.arc4.crypt(this.arc4.create(this.sha1.hmacsha1hex(n,t)),_e(e))))}}catch(e){console.log(`crypto.encrypt: failed with ${e}\n`)}return null}authenticate(e,t){try{const{key:n}=t||this.witness||{};if(n)return Ee(this.sha1.hmacsha1hex(n,e))}catch(e){console.log(`crypto.authenticate: failed with ${e}\n`)}return null}sha1str(e){const t=function(e,t,n,r){return e<20?t&n|~t&r:e>=40&&e<60?t&n|t&r|n&r:t^n^r},n=function(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514},r=function(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},o=function(e,t){return e<<t|e>>>32-t},a=8*e.length;let i=[];for(var s=0;s<a;s+=8)i[s>>5]|=(255&e.charCodeAt(s/8))<<24-s%32;i[a>>5]|=128<<24-a%32,i[15+(a+64>>9<<4)]=a;const u=Array(80);let c=1732584193,l=-271733879,p=-1732584194,d=271733878,f=-1009589776;for(s=0;s<i.length;s+=16){const e=c,a=l,h=p,g=d,m=f;for(let e=0;e<80;e++){u[e]=e<16?i[s+e]:o(u[e-3]^u[e-8]^u[e-14]^u[e-16],1);const a=r(r(o(c,5),t(e,l,p,d)),r(r(f,u[e]),n(e)));f=d,d=p,p=o(l,30),l=c,c=a}c=r(c,e),l=r(l,a),p=r(p,h),d=r(d,g),f=r(f,m)}i=[c,l,p,d,f],e="";for(s=0;s<32*i.length;s+=8)e+=String.fromCharCode(i[s>>5]>>>24-s%32&255);return _e(e)}};const Ie=o,Oe=a,Ae=(a.windows,Oe.i18n.getUILanguage().replace("_","-").substring(0,2),Oe.i18n.getUILanguage().replace("_","-").substring(0,2),"edge"===o||Oe.runtime.getURL("/options.html"),`https://${P}/welcome`),Re=`https://${O}/extension-welcome-screen?wot-welcome-url=`;"edge"===o||Oe.runtime.getURL("/breachInfo.html"),Oe.runtime.id;function Pe(e=10){const t="abcdefghijklmnopqrstuvwxyz0123456789";let n=t.charAt(Math.floor(26*Math.random()));for(let r=1;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}function De(e){let t=[],n=e&&e.color||"gray";const r=e&&e.safety||"UNKNOWN";let o;return"object"==typeof e&&(t=e.categories.map((e=>e.id)),"NOT_SAFE"===r?o="severe":"SUSPICIOUS"===r?(n="yellow",o=(e.rating<=20?"red":"yellow")+"strip"):"SAFE"===r&&(o="")),M.ratingFlow.childSafety.some((e=>t.includes(e)))&&(o+="+parental"),t.includes(M.block.gambling)&&(o+="+gambling"),{color:n,warning:o}}const xe={initial_n:128,initial_bias:72,delimiter:"-",base:36,damp:700,tmin:1,tmax:26,skew:38,maxint:2147483647,decode_digit:e=>e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:base,encode_digit:(e,t)=>e+22+75*(e<26)-((0!=t)<<5),adapt(e,t,n){let r;for(e=n?Math.floor(e/this.damp):e>>1,e+=Math.floor(e/t),r=0;e>(this.base-this.tmin)*this.tmax>>1;r+=this.base)e=Math.floor(e/(this.base-this.tmin));return Math.floor(r+(this.base-this.tmin+1)*e/(e+this.skew))},encode_basic:(e,t)=>(e-=(e-97<26)<<5)+((!t&&e-65<26)<<5),decode(e,t){const n=[],r=[],o=e.length;let a,i,s,u,c,l,p,d,f,h,g,m,y;for(a=this.initial_n,s=0,u=this.initial_bias,c=e.lastIndexOf(this.delimiter),c<0&&(c=0),l=0;l<c;++l){if(t&&(r[n.length]=e.charCodeAt(l)-65<26),e.charCodeAt(l)>=128)throw new RangeError("decode: illegal input >= 0x80");n.push(e.charCodeAt(l))}for(p=c>0?c+1:0;p<o;){for(d=s,f=1,h=this.base;;h+=this.base){if(p>=o)throw RangeError("decode: bad input (1)");if(g=this.decode_digit(e.charCodeAt(p++)),g>=this.base)throw RangeError("decode: bad input (2)");if(g>Math.floor((this.maxint-s)/f))throw RangeError("decode: overflow (1)");if(s+=g*f,m=h<=u?this.tmin:h>=u+this.tmax?this.tmax:h-u,g<m)break;if(f>Math.floor(this.maxint/(this.base-m)))throw RangeError("decode: overflow (2)");f*=this.base-m}if(i=n.length+1,u=this.adapt(s-d,i,0===d),Math.floor(s/i)>this.maxint-a)throw RangeError("decode: overflow (3)");a+=Math.floor(s/i),s%=i,t&&r.splice(s,0,e.charCodeAt(p-1)-65<26),n.splice(s,0,a),s++}if(t)for(s=0,y=n.length;s<y;s++)r[s]&&(n[s]=String.fromCharCode(n[s]).toUpperCase().charCodeAt(0));return Ne.encode(n)},encode(e,t){let n,r,o,a,i,s,u,c,l,p,d,f;t&&(f=wot.idn.utf16.decode(e));const h=(e=wot.idn.utf16.decode(e.toLowerCase())).length;if(t)for(s=0;s<h;s++)f[s]=e[s]!=f[s];const g=[];for(n=this.initial_n,r=0,i=this.initial_bias,s=0;s<h;++s)e[s]<128&&g.push(String.fromCharCode(f?this.encode_basic(e[s],f[s]):e[s]));for(o=a=g.length,a>0&&g.push(this.delimiter);o<h;){for(u=this.maxint,s=0;s<h;++s)d=e[s],d>=n&&d<u&&(u=d);if(u-n>Math.floor((this.maxint-r)/(o+1)))throw RangeError("encode: overflow (1)");for(r+=(u-n)*(o+1),n=u,s=0;s<h;++s){if(d=e[s],d<n&&++r>this.maxint)throw RangeError("encode: overflow (2)");if(d==n){for(c=r,l=this.base;p=l<=i?this.tmin:l>=i+this.tmax?this.tmax:l-i,!(c<p);l+=this.base)g.push(String.fromCharCode(this.encode_digit(p+(c-p)%(this.base-p),0))),c=Math.floor((c-p)/(this.base-p));g.push(String.fromCharCode(this.encode_digit(c,t&&f[s]?1:0))),i=this.adapt(r,o+1,o==a),r=0,++o}}++r,++n}return g.join("")}};const Ne={decode(e){const t=[];let n=0;const r=e.length;let o,a;for(;n<r;){if(o=e.charCodeAt(n++),55296==(63488&o)){if(a=e.charCodeAt(n++),55296!=(64512&o)||56320!=(64512&a))throw new RangeError("utf16.decode: illegal sequence");o=((1023&o)<<10)+(1023&a)+65536}t.push(o)}return t},encode(e){const t=[];let n=0;const r=e.length;let o;for(;n<r;){if(o=e[n++],55296==(63488&o))throw new RangeError("utf16.encode: illegal value");o>65535&&(o-=65536,t.push(String.fromCharCode(o>>>10&1023|55296)),o=56320|1023&o),t.push(String.fromCharCode(o))}return t.join("")}};function ke(){const e=Oe.i18n.getUILanguage().replace("_","-");return e.length<7?e:"en-US"}function Me(e,t){if(e===t)return 0;const n=e.split("."),r=t.split("."),o=Math.min(n.length,r.length);for(let e=0;e<o;e++){if(parseInt(n[e])>parseInt(r[e]))return 1;if(parseInt(n[e])<parseInt(r[e]))return-1}return n.length>r.length?1:n.length<r.length?-1:0}function Le(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}function Ue(e,t){const n=Object.keys(t).map((e=>`${e}=${encodeURIComponent(t[e])}`)).join("&");return""===e?n:-1===e.indexOf("?")?`${e}?${n}`:e+n}function je(){const e=new Uint8Array(1);return crypto.getRandomValues(e),e[0]>127}function Fe(e){return-1!==e.indexOf("//localhost/")||-1!==e.indexOf("//localhost:")}function Be(e){return L[e]||0}function We(e){if(!e)return e;e=e.trim(),/^https?:\/\//.test(e)||(e=`http://${e}`);try{return new URL(e).hostname.replace(/^www\d*\./,"")}catch(t){return e}}function Ve(e){if(!e)return e;e=(e=e&&-1!==e.indexOf("://")?e:`http://${e}`).replace(/^\s*/,"").replace(/\s*$/,"").replace("://www.","://");const{hostname:t}=new URL(e);let n=t;if(d.test(e)){const t=/^(\w+):\/\/(([^:@]+)(:([^@]+))?@)?([^:\/\?&=#\[\]]+|\[[^\/\?&=#\[\]]+\])\.?(:(\d+))?(.*)$/.exec(e);return t&&n?(n=function(e){if(/[[:]/.test(e))return e;const t=[];return e.toLowerCase().split(".").forEach((e=>{/^[\w-]*$/.test(e)?t.push(e):t.push(`xn--${xe.encode(e)}`)})),t.join(".")}(n),function(e,t){try{if(!e||!t)return e;if((t=t.replace(/^\s*/g,"").replace(/\s*$/,"").replace(/[\?#].*$/,"").replace(/\/$/,"")).length<2||"/"!=t[0])return e;const n=t.split("/");if(!n||!n.length)return e;"/"!=t[t.length-1]&&/\.[^\.]{1,6}$/.test(n[n.length-1])&&n.pop();let r=0;for(let t=n.length;!r&&t>0;--t)r=Be(e+n.slice(0,t).join("/"));if(!r)return e;const o=n.slice(0,r+1).join("/").replace(/^\//,"");if(!o||!o.length)return e;const a=Te.base32.encode(o);return null==a?e:`_p_${a}.${e}`}catch(e){}return e}(n,t[9])):n}}class He{createPayload(){return{ev:btoa(Array.from(JSON.stringify(this)).map(((e,t)=>e.charCodeAt(0)-(this.uuid.length+2*t))).toString()),se:this.uuid}}}class qe extends He{constructor(e,t,n,r,o){super(),this.product=$,this.platform=z,this.uuid=o,this.timestamp=Date.now(),this.resource=Y.ORGANIC,this.country=ke(),this.user_agent=Ie,this.event_type=e,this.purchase_source=t,this.test_group=n,this.payload=r}}class Ke extends He{constructor(e,t,n,r){super(),this.product="WOT",this.platform="extension",this.uuid=K.value.slice(3),this.timestamp=Date.now(),this.country=ke(),this.eventMessage=e,this.versionNumber=t,this.isPremiumUser=n,this.userState=r}}const Ge=e=>{if(!e||!e.startsWith("http"))return!1;return!["https://chrome.google.com/webstore/","https://microsoftedge.microsoft.com/addons","https://addons.mozilla.org","https://addons.opera.com"].some((t=>e.startsWith(t)))&&!/^https?:\/\/localhost/.test(e)},ze=()=>new Promise((e=>{try{Oe.tabs.query({active:!0,currentWindow:!0},(t=>{if(!t)return e({});const n=t[0];e(n||{})}))}catch(t){e({})}})),$e=e=>{try{const t=V[e.id];return t?{...e,description:t}:null}catch(e){return null}},Ye=[e=>{if(e.reminders){e.reminders.GMAIL_PROTECTION&&(e.reminders[J]=e.reminders.GMAIL_PROTECTION);const t=3;e.reminders[J]<0&&(e.emailProtection={timesShown:t})}}],Xe=e=>{if(null===e)return!0;const t=typeof e;return!!["number","boolean","string","undefined"].includes(t)||"object"===t&&!Object.keys(e).length},Je=(e,t)=>{if(!e)return t;Ye.forEach((t=>{t(e)}));const n=Object.keys(t);for(const r of n){const n=e[r];if(!(null!=n))continue;const o=t[r];Xe(o)?t[r]=n:Array.isArray(o)&&Array.isArray(n)?t[r]=n:"object"==typeof o&&"object"==typeof n&&(t[r]=Je(e[r],t[r]))}return t};var Qe=n(0),Ze=n.n(Qe);var et=new class{formRequest(e,t,n={},r){const o=Ze.a.merge({},{"Content-type":"application/x-www-form-urlencoded"},n);return this.request(e,t,o,r)}jsonRequest(e,t,n={},r){const o=Ze.a.merge({},{"Content-Type":"application/json"},n);return this.request(e,t,o,JSON.stringify(r))}request(e,t,n={},r){return new Request(e,{method:t,headers:new Headers(n),body:r})}postForm(e,t,n={}){const r=this.formRequest(e,"post",n,t);return this.sendRequest(r)}postJson(e,t,n={}){const r=this.jsonRequest(e,"post",n,t);return this.sendRequest(r)}get(e,t={}){const n=this.request(e,"get",t);return this.sendRequest(n)}sendRequest(e){return new Promise(((t,n)=>{fetch(e).then((e=>{e.text().then((n=>{const r={status:e.status,responseText:n,headers:e.headers};t(r)})).catch((e=>{}))})).catch((e=>{}))}))}};const tt=new class{constructor(){this.root="https://api.mywot.com/",this.methods={query:{name:"query",url:`${s}/v3/query`},register:{url:"https://user.api.mywot.com/v3/registerClient"},getSerps:{url:`${u}/v2/serps.json`},getTrackersUrls:{url:`${u}/v2/trackersUrls.json`},reviews:{url:`${s}/v3/reviews`},reviewsCounter:{url:`${s}/v3/reviews/count`},myReview:{url:`${s}/v3/myReview`},deleteReview:{url:`${s}/v3/review/delete`},submitReview:{url:`${s}/v3/review/submit`},isPremium:{url:"https://user.api.mywot.com/v3/user/isPremium"},analytics:{url:"https://analytics.api.mywot.com/event"},getLeakInfo:{url:"https://leak.api.mywot.com/scanEmail"},userDataAnalytics:{url:"https://analytics.api.mywot.com/reportClientData"},updateMailChimpTagsEndpoint:{url:"https://user.api.mywot.com/updateMailListTags"},getIsUserTrialing:{url:"https://user.api.mywot.com/v3/user/isTrialing"}},this.crypto=Te,this.rtSublast="",this.witness=null,this.rtWitness=null,this.counters={}}onError(e,t={}){setTimeout((()=>{}),1e3)}getRtSublast(){return this.rtSublast?this.rtSublast:""}setRtSublast(e){this.isValidUrl(e)&&(this.rtSublast=e)}isValidUrl(e){return"string"==typeof e&&/^https?:\/\/(?!localhost)/.test(e)&&-1===e.indexOf("chrome/newtab")}isChromeInstantUrl(e){return"string"==typeof e&&-1!==e.indexOf("sourceid=chrome-instant")}postJson(e,t,n={}){return(n=n||{})[K.name]=K.value,et.postJson(e,t,n)}postForm(e,t,n={}){return(n=n||{})[K.name]=K.value,et.postForm(e,t,n)}getCommentsData(e){return new Promise(((t,n)=>{const r=e.target=e.url,o=Ue(this.methods.reviews.url,e);et.get(o).then((e=>{if(200===e.status||304===e.status){const n=JSON.parse(e.responseText),o=[];n.length?(n.forEach((e=>{const t=e.rating||{},n=!e.adult,r=e.user||{};o.push({comment:e.comment,name:r.name,picture:r.avatar,status:e.status,timestamp:e.timestamp/1e3,uid:r.id,url:e.url,wcid:e.id,star:t.star,rating:20*t.score,bubbles:"none",childSafety:n})})),t({[r]:{data:o}})):t({[r]:{data:o}})}else n(e.status)})).catch((e=>{}))}))}getIsPremium(e,t){if(!e||!t)return new Promise((e=>e()));const n={Authorization:`Bearer ${t}`};return new Promise(((t,r)=>{const o=Ue(this.methods.isPremium.url,{uid:e});et.get(o,n).then((e=>{200===e.status?(e.responseText&&t(JSON.parse(e.responseText)),t()):r(e.status)}))}))}comments(e,t,n=20,r=0){const o={url:e,uid:t,limit:n,page:r/n+1,includeRating:"true"};o.salt=+new Date;const a=this.getCommentsData(o),i=this.commentsCount(e);return Promise.all([a,i])}commentsCount(e){return new Promise(((t,n)=>{const r=Ue(this.methods.reviewsCounter.url,{url:e,salt:+new Date});et.get(r).then((r=>{if(200!==r.status&&304!==r.status||"{}"===r.responseText)n(r.status);else{const n=JSON.parse(r.responseText);t({[e]:n})}}))}))}getUserReview(e,t){const n={Authorization:`Bearer ${t}`};return new Promise(((t,r)=>{const o=Ue(this.methods.myReview.url,{url:e});et.get(o,n).then((e=>{if(200===e.status||304===e.status){const n=JSON.parse(e.responseText);t(n)}else r(e.status)}))}))}sendComments(e,t){const n={Authorization:`Bearer ${t}`};return new Promise(((t,r)=>{this.postJson(this.methods.submitReview.url,e,n).then((e=>{200===e.status?t():r()}))}))}deleteComments(e,t){const n={Authorization:`Bearer ${t}`};this.postJson(this.methods.deleteReview.url,{target:e},n).then((e=>{200===e.status?resolve():reject()}))}register(e,t={isRt:!1}){return e&&e.id&&e.key?(t.isRt?this.rtWitness=e:this.witness=e,new Promise(((t,n)=>{t(e)}))):new Promise(((e,n)=>{const r={nonce:this.crypto.getnonce("register",{id:"",key:""}),lang:ke(),version:c};t.isRt&&(r.wg=1);const o=Ue(this.methods.register.url,r);et.get(o).then((r=>{if(200===r.status){const n=r.responseText.match(/[0-9a-z]{40}/g),o={id:n[0],key:n[1]};t.isRt?this.rtWitness=o:this.witness=o,e(o)}else this.onError(r),n(r.status)}))}))}registerAll(e,t){const n=this.register(e),r=this.register(t,{isRt:!0});return Promise.all([n,r])}prepareForRt(e){if(!Object.keys(e).length)return"";const t=this.crypto.getnonce(this.methods.query.name,this.rtWitness),n={id:this.rtWitness.id,nonce:t,lang:ke(),version:"5.0.1-20170801-3.2.2"},r=this.targetParamsToQuerystring(Object.assign(e,this.getAdditionalTargetParams()),{});return n.target=this.crypto.encrypt(r,t,this.rtWitness.key),`&wg=1&b64=${btoa(this.paramsToQuerystring(n,{}))}`}query(e,t){return new Promise(((n,r)=>{const{links:o,wp0:a,...i}=e,s=a?"":this.prepareForRt(i),u=o.length?o.toString():i.target,l=this.crypto.getnonce(this.methods.query.name),p={target:this.crypto.encrypt(u,l,this.witness.key),id:this.witness.id,nonce:l,lang:ke(),version:c};let d=this.paramsToQuerystring(p);const f=`/v3/${this.methods.query.name}?${d}`;d+=`&auth=${this.crypto.authenticate(f,this.witness)}`,d+=`${s}`,this.postForm(this.methods.query.url,d,t).then((e=>{if(200===e.status){const t=e.headers.get("x-session-id");if(t)try{const e=new Event("settings-event");Object.assign(e,{settings:t}),self.dispatchEvent(e)}catch(e){}let o={targets:[]};try{o=JSON.parse(e.responseText)}catch(t){this.onError(e),r(t.message)}const{targets:a}=o,i=Date.now(),s=a.reduce(((e,t,n)=>{const r=t.target,o={response_str:!0,index:n,witness_key:this.witness.key};return t.target=this.crypto.decrypt(r,l,o),t.categories=t.categories.map($e).filter((e=>!!e)),t.color=y[t.safety],e[t.target]={...t,updated:i},e}),{});n(s)}else this.onError(e),r(e.status)})).catch((e=>{}))}))}getSerps(){return new Promise(((e,t)=>{const n=Ue(this.methods.getSerps.url,{id:this.witness.id});et.get(n).then((n=>{200===n.status?e(JSON.parse(n.responseText)):t(n.status)}))}))}getTrackersUrls(){return new Promise(((e,t)=>{const n=Ue(this.methods.getTrackersUrls.url,{id:this.witness.id});et.get(n).then((n=>{200===n.status?e(JSON.parse(n.responseText)):t(n.status)}))}))}getAdditionalTargetParams(){const e={epochtime:new Date/1,id:this.getRtId()};return"undefined"!=typeof _wotPloyder&&_wotPloyder.hasItems()&&(e.lk=_wotPloyder.takeAndPack(_wotPloyder.limit)),e}subsfwrdToQueryString(e,t){if(!e||0===e.length)return"";const n=[];for(const r in e){const o=e[r];n.push(this.paramsToQuerystring({subsfwrd:o},t))}return n.join("&")}targetParamsToQuerystring(e,t){const n=this.subsfwrdToQueryString(e.subsfwrd,t);e.hasOwnProperty("subsfwrd")&&delete e.subsfwrd;let r=this.paramsToQuerystring(e,t);return n&&(r+=`&${n}`),r}paramsToQuerystring(e,t){if(!e)return"";const n=[];for(const r in e)if(null!=e[r]){let o=r,a=e[r];t&&t.hash&&t.hash==r&&(o="SHA1",a=this.crypto.bintohex(this.crypto.sha1.sha1str(unescape(encodeURIComponent(e[r]))))),n.push(`${o}=${encodeURIComponent(a)}`)}return n.join("&")}getRtId(){if(this.witness&&this.witness.id)return this.witness.id;throw new Error("WotApi.getRtId: RT id is not set")}getDataLeak(e,t){const n={Authorization:`Bearer ${e}`};return new Promise(((e,r)=>{const o=Ue(this.methods.getLeakInfo.url,{fromDate:t});et.get(o,n).then((t=>{if(200===t.status||304===t.status){const n=JSON.parse(t.responseText);e(n)}else r(t.status)}))}))}addHeadersToXhr(e,t){t?Object.keys(t).forEach((n=>{e.setRequestHeader(n,t[n])})):e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.setRequestHeader(K.name,K.value)}getAnalyticsInfoFromLocalStorage(){return new Promise((e=>{chrome.storage.local.get(G,(({uuid:t})=>{e(t)}))}))}async syncAnalyticInfoWithWebapp(){let e,t;try{const n=await fetch(R);200===n.status&&(e=await n.json()),t=e&&e.uuid||Le(),await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uuid:t})})}catch(e){}return t}async getOrInitAnalyticsInfoFromLocalStorage(){const e=await this.getAnalyticsInfoFromLocalStorage();if(!e){const e=await this.syncAnalyticInfoWithWebapp();return await Oe.storage.local.set({[G]:e}),e}return e}sendAnalyticsFromBackground(e,t,n,r){const o={[ie]:e||"",[se]:t||"",testGroup:n,eventPayload:r};this.sendInternalAnalytics(o)}async sendInternalAnalytics(e){try{const t=e.ea,n=e.el,r=e.testGroup,o=e.eventPayload,a=await this.getOrInitAnalyticsInfoFromLocalStorage(),i=new qe(t,n,r,o,a),s=this.methods.analytics.url;this.postJson(s,i.createPayload()).catch((e=>{}))}catch(e){}}sendUserDataAnalytics(e,t,n,r){try{const o=new Ke(e,t,n,r);this.postJson(this.methods.userDataAnalytics.url,o.createPayload(),headers).catch((e=>{}))}catch(e){}}reportError(e){try{const t="https://analytics.api.mywot.com/reportClientError",n={Accept:"application/json"},r={...e,browserName:Ie,version:c,locale:ke(),witness_id:this.witness&&this.witness.id};this.postJson(t,r,n).catch((e=>{}))}catch(e){}}updateMailChimpTags(e,t){const n=this.methods.updateMailChimpTagsEndpoint.url,r={tags:e},o={Authorization:`Bearer ${t}`};this.postJson(n,r,o).catch((e=>{}))}getIsTrialing(e,t){if(!e||!t)return new Promise((e=>e()));const n={Authorization:`Bearer ${t}`};return new Promise(((t,r)=>{const o=Ue(this.methods.getIsUserTrialing.url,{uid:e,type:"extension_premium"});et.get(o,n).then((e=>{200===e.status?(e.responseText&&t(JSON.parse(e.responseText)),t()):r(e.status)})).catch((e=>{}))}))}};var nt=tt;var rt=new class{getDefaultStateObject(e=!1){return this.state&&!e||(this.state={portName:"4873",lastAction:{type:"init"},api:this.getApi(),rtApi:this.getRtApi(),common:{v:1,tid:ce,cid:this.Y2lk(),t:"event"},retentionEvent:this.retentionEvent(),installEventFired:!1,firstRunDate:null,wotTraceId:this.makeWotTraceId(),tabs:{},experimentalFeature:{},whitelist:[],phishingWhitelist:[],templist:[],ratings:{},comments:{loading:!0},reviews:{1:{}},user:{},serps:[],settings:{protection:this.settingsProtection(),optoutPopup:"default",parental:!0,gambling:!1,parentalExtraIcon:!0,shields:{all:this.settingsShields()},warnings:this.settingsWarning(),assistant:!1,assistantHandleTop:0,assistantExpanded:!1,upgradePopUp:{show:!1,numberOfShow:0,firstOfferingDate:null},blockPopUpNotification:!0,blockPopUp:!0,phishing:!0,leakMonitoring:!1},rateUsWidget:{popupOpeningCounter:0,offRateWidget:!1,offRateTime:""},mobileModal:{mobileModalTrigger:!1,mobileModalRateCount:0},onboarding:{step:0},cta:{status:"",appearance:0},survey:{installDate:null,isShowed:!1,prevVersion:"0.0.0"},version:{isFirstTimeUser:!0,versionNumber:"",showWhatsNew:!1,whatsNewShownLastVersion:"4.0.14.2",newFeatures:{leakMonitoring:!1}},trackerBlockerData:{list:{},allowList:{},allBlocked:!1,history:[],historyMaxLength:100,reload:!0,reloadAllowList:!0},focusedReview:{target:"",comment:"",uid:0,safety:0,tags:[]},reminders:this.getInitialReminders(),counters:this.getInitialCounters(),remoteConfig:{meta:{refreshIntervalHours:.5,isDefaultConfig:!0},features:{}},serpPopupCounter:0,emailProtection:{timesShown:0},leakMonitoring:{newInfo:!0,updatedTs:1,email:"",breaches:[]},pinWotPopup:{popupWasShown:!1},freeUserBlockedWebsiteCounter:0,popupV2:{wasShown:!1,scanTime:""}}),this.state}getApi(){return{key:"",id:""}}getRtApi(){return{key:"",id:""}}getProtectedTime(){return Date.now()}getInitialReminders(){return{[J]:void 0,[Z]:this.getProtectedTime()+F,[Q]:Date.now()}}getInitialCounters(){return{[Q]:0}}Y2lk(){return Le()}retentionEvent(){return{sentDays:{},completed:!1}}settingsProtection(){return!0}settingsShields(){return h}settingsWarning(){return g}makeWotTraceId(){return`ex-${[Pe(8),Pe(4),Pe(4),Pe(4),Pe(12)].join("-")}`}};n(96),n(97);const ot="REMOVE_FROM_WHITELIST",at="ADD_TO_WHITELIST",it="ADD_TO_TEMPLIST",st="CLEAR_TEMPLIST",ut="SAVE_USER_REVIEW_FROM_API",ct="SAVE_RATING",lt="SET_COMMENTS_COUNT",pt="SAVE_COMMENTS",dt="LOADING_COMMENTS",ft="SEND_QUERY_ACTION",ht="SERP_SEND_LINKS_ACTION",gt="SERP_MARK_LINKS_PENDING",mt="CLEAR_RATING",yt="CLEAR_COMMENTS",vt="CLEAR_USER_REVIEWS",_t="SAVE_TABS",bt="SET_ACTIVE_TAB",Et="SAVE_WITNESS",wt="SAVE_RT_WITNESS",St="SAVE_RETENTION_DAYS",Ct="SAVE_INSTALL",Tt="SAVE_FIRST_RUN_DATE",It="TO_NEXT_STEP",Ot="TO_PREVIOUS_STEP",At="OVER_NEXT_STEP",Rt="OVER_PREVIOUS_STEP",Pt="RATE_SAFETY",Dt="RATE_CHILD_SAFETY",xt="RATE_SITE",Nt="EDIT_REVIEW",kt="SAVE_REVIEW",Mt="DELETE_REVIEW",Lt="UPDATE_REVIEW_TIMESTAMP",Ut="ADD_COMMENT_ACTION",jt="TRIPLE_NEXT_STEP",Ft="TRIPLE_PREVIOUS_STEP",Bt="SEND_USER_REVIEW_TO_SERVER",Wt="PROTECTION_ON",Vt="PROTECTION_OFF",Ht="ALL_SAFE_BROWSING_ON",qt="ALL_SAFE_BROWSING_OFF",Kt="PARENTAL_CONTROL_OFF",Gt="PARENTAL_CONTROL_ON",zt="GAMBLING_CONTROL_OFF",$t="GAMBLING_CONTROL_ON",Yt="PARENTAL_CONTROL_EXTRA_ICON_OFF",Xt="PARENTAL_CONTROL_EXTRA_ICON_ON",Jt="ALL_POPUP_CONTROLS_ON",Qt="ALL_POPUP_CONTROLS_OFF",Zt="SET_SHIELDS_LEVEL",en="SET_WARNINGS_LEVEL",tn="ASSISTANT_ON",nn="ASSISTANT_OFF",rn="ASSISTANT_SET_POSITION",on="ASSISTANT_SET_EXPANDED",an="LOAD_TRACKERS_LIST",sn="LOAD_TRACKERS_LIST_COMPLETED",un="RELOAD_TRACKERS_DATA_OFF",cn="TRACKER_DETECTED",ln="TOGGLE_BLOCK_ALL_TRACKERS",pn="UPDATE_TRACKER_ALLOW_LIST",dn="DELETE_TRACKER_HISTORY",fn="FREE_USER_BLOCKED_WEBSITE",hn="PHISHING_ON",gn="PHISHING_OFF",mn="LEAK_MONITORING_ON",yn="LEAK_MONITORING_OFF",vn="PHISHING_WL_ADD",_n="PHISHING_WL_REMOVE",bn="SET_REMINDER",En="REMOVE_REMINDER",wn="UPDATE_UI_CONFIG_FEATURES",Sn="UPDATE_UI_CONFIG_BY_KEY",Cn="HANDLE_USER_DATA_ANALYTICS",Tn="SAVE_SERPS_CONF",In="DELETE_REVIEW_ACTION",On="LOGIN_ACTION",An="REGISTER_ACTION",Rn="FORGOT_ACTION",Pn="GET_COMMENTS_ACTION",Dn="GET_COMMENTS_COUNT",xn="GET_COMMENT_AND_RATING",Nn="LOGOUT_ACTION",kn="SAVE_USER_TOKEN",Mn="SAVE_USER_DATA",Ln="SAVE_USER_PLAN",Un="GET_USER_PLAN",jn="SAVE_USER_SOURCE",Fn="GET_IS_USER_TRIALING",Bn="SAVE_IS_USER_TRIALING",Wn="CLEAN_USER_DATA",Vn="ERROR_USER_AUTH",Hn="EXPERIMENTAL_FEATURE",qn="COUNT_POPUP_OPENING",Kn="OFF_RATE_WIDGET",Gn="CHECK_RATE_WIDGET_DATE",zn="MOBILE_TRIGGER_MODAL",$n="MOBILE_RATE_COUNT",Yn="MOBILE_TRIGGER_MODAL_RESET",Xn="TO_NEXT_STEP_ONBOARDING",Jn="UPDATE_SURVEY_STATE",Qn="MAKE_SURVEY_SHOWED",Zn="UPDATE_CTA_STATUS",er="UPDATE_CTA_APPEARANCE",tr="popupType",nr="upgradePopup",rr="MARK_FIRST_OFFERING_DATE",or="SET_CURRENT_VERSION",ar="SET_SHOW_WHATS_NEW",ir="USER_UPGRADE_EVENT",sr="OPEN_ADD_REVIEW_ACTION",ur="UPDATE_REVIEW",cr="SET_REVIEW_IN_FOCUS",lr="CLEAN_NEW_FEATURES",pr="GET_LEAK_DATA",dr="LEAK_INFO_COMPLETED",fr="LEAK_MONITORING_DISMISS",hr="LEAK_MONITORING_DISMISS_ALERT",gr="INCREMENT_POPUP_COUNTER",mr="INCREMENT_EMAIL_AD_VIEWS",yr="INCREMENT_COUNTER",vr="RESET_COUNTER",_r="RESET_REMINDER",br="DISMISS_PIN_WOT_POPUP",Er="UPDATE_GA_ID",wr="UPDATE_MAILCHIMP_TAG",Sr="TURN_OFF_POPUP_ONBOARDING",Cr="UPDATE_POPUP_SCAN_TIME";let Tr=1e3;function Ir(e){return{type:ct,data:e}}function Or(e,t){return{type:Lt,data:{host:e,userId:t}}}function Ar(e,t=1){return{type:Mt,data:{host:e,userId:t}}}function Rr(e){return{type:St,data:{sentDays:e}}}function Pr(){return{type:Ct}}function Dr(e){return{type:Tt,data:{firstRunDate:e}}}function xr(e,t){if(!t||!e)return;const n=new Event(e);n.config=t,self.dispatchEvent(n)}function Nr(){return e=>{nt.getSerps().then((t=>{e(function(e){return{type:Tn,data:e}}(t.ses)),Tr=1e3,xr("updateFASConfig",t.fas),xr("updateGASConfig",t.gas)}),(()=>{Tr*=2,setTimeout((()=>{e(Nr())}),Tr)}))}}function kr(){return Oe.runtime.sendMessage({name:w}),{type:Wt}}function Mr(e){return{type:tr,data:{optoutPopup:e}}}function Lr(){return Oe.runtime.sendMessage({name:E}),{type:Vt}}function Ur(){return{type:an}}function jr(e,t="all"){return{type:Zt,data:{level:e,id:t}}}function Fr(e){return{type:Jn,data:{newSurveyState:e}}}function Br(e){return{type:cr,data:e}}function Wr(e){return{type:pr,initiated:e}}function Vr(e){return{type:Cr,data:{scanTime:e}}}var Hr=class{constructor(e){this.store=e}fire(e={}){const t=Math.random()>.1;if("Error"===e.ea||t)return;e.ec=`ex-${e.ec}`;const n=this.store.getState().settings.protection?"On":"Off",r=this.store.getState().user.uid?"Yes":"No",o=new Date;let a=o.getDate(),i=o.getMonth()+1;const s=o.getFullYear();a<10&&(a=`0${a}`),i<10&&(i=`0${i}`);const u=Ue("https://www.google-analytics.com/collect?",Ze.a.merge({},this.store.getState().common,e,{cd1:n,cd2:`${Ie}-5.0.1`,cd3:r,cd4:`${s}-${i}-${a}`,cd5:ke()}));et.postForm(u).then((e=>{})).catch((e=>{}))}};var qr=function(){const e="General";return class extends Hr{constructor(e){super(e),this.lastRetentionDay=28,this.minHoursFromInstall=8;const t=this.store.getState().retentionEvent;this.firstRunDate=this.getFirstRunDate(),this.firstRunDate||(this.setFirstRunDate(),this.firstRunDate=this.getFirstRunDate()),this.sentDays=t.sentDays,this.completed=t.completed,this.report()}fire(t){const n="Retained {{numOfDays}}".replace("{{numOfDays}}",t);super.fire({[ae]:n,[ie]:e,[se]:c})}getFirstRunDate(){return this.store.getState().firstRunDate}setFirstRunDate(){this.store.dispatch(Dr(Date.now()))}report(){setTimeout(this.report.bind(this),36e5);const e=new Date,t=new Date(this.firstRunDate),n=this.getDateStart(t),r=this.getDateStart(e),o=Math.abs(r-n),a=Math.floor((e-t)/36e5),i=Math.floor(o/864e5);i>0&&i<=this.lastRetentionDay?!this.sentDays[i]&&a>this.minHoursFromInstall&&(this.fire(i),this.sentDays[i]=!0,this.store.dispatch(Rr(this.sentDays))):i>this.lastRetentionDay&&(this.sentDays[i]||(this.sentDays[i]=!0,this.store.dispatch(Rr(this.sentDays))))}getDateStart(e){return new Date(e.getFullYear(),e.getMonth(),e.getHours()>=0&&e.getHours()<5?e.getDate()-1:e.getDate(),5,0,1)}liveReport(){const t={[ae]:e,[ie]:"live",[se]:c};super.fire(t)}}}();const Kr="__e-m-a-i-l__",Gr="__n-a-m-e__",zr="__p-a-s-s__",$r="__c-a-r-d__",Yr="__p-h-o-n-e__",Xr="__g-e-n-d-e-r__",Jr=/(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})/i;var Qr=class{constructor(){}parseUrlParams(e){let t={};return"?"==e.substring(0,1)&&(e=e.substring(1)),e.split("&").forEach((function(e){let n=e.split("=");t[n[0]]=decodeURIComponent(n[1])})),t}replaceParam(e,t,n){return t in e&&(e[t]=n),e}filterEmail(e){e=this.replaceParam(e,"email",Kr),e=this.replaceParam(e,"e-mail",Kr);for(let t in e)Jr.test(e[t])&&(e[t]=Kr);return e}filterName(e){return e=this.replaceParam(e,"nickname",Gr),e=this.replaceParam(e,"firstname",Gr),e=this.replaceParam(e,"lastname",Gr),e=this.replaceParam(e,"surname",Gr),e=this.replaceParam(e,"username",Gr)}filterPassword(e){return e=this.replaceParam(e,"password",zr),e=this.replaceParam(e,"pass",zr)}filterCard(e){return e=this.replaceParam(e,"credit",$r),e=this.replaceParam(e,"creditcard",$r)}filterPhone(e){return e=this.replaceParam(e,"phone",Yr),e=this.replaceParam(e,"telephone",Yr)}filterLocation(e){return e=this.replaceParam(e,"location","__l-o-c-a-t-i-o-n__")}filterGender(e){return e=this.replaceParam(e,"gender",Xr),e=this.replaceParam(e,"sex",Xr),e=this.replaceParam(e,"male",Xr),e=this.replaceParam(e,"female",Xr)}filterAddress(e){return e=this.replaceParam(e,"address","__a-d-d-r-e-s-s__")}filterPostcode(e){return e=this.replaceParam(e,"postcode","__p-o-s-t-c-o-d-e__")}filterComponent(e){let t=decodeURIComponent(e),n=this.parseUrlParams(t);return n=this.filterEmail(n),n=this.filterName(n),n=this.filterPassword(n),n=this.filterCard(n),n=this.filterPhone(n),n=this.filterLocation(n),n=this.filterGender(n),n=this.filterAddress(n),n=this.filterPostcode(n),n}verifyIsString(e){return!(!e||!("string"==typeof e||e instanceof String))}filterAll(e){if(!e||!this.verifyIsString(e))return null;const t=new URL(e);if(null!=t.username&&t.username.length&&(t.username=Gr),null!=t.password&&t.password.length&&(t.password=zr),t.search.length>0)try{let e=this.filterComponent(t.search),n="?";for(let t in e)n.length>1&&(n+="&"),n+=t+"="+e[t];t.search=n}catch(e){}return t.href}filterAllArray(e){let t=[];if(!(e instanceof Array))return null;for(let n of e){let e=this.filterAll(n);t.push(e)}return t}filterAllObject(e,t=[]){for(var n in e)t.includes(n)||(e[n]instanceof Array?e[n]=this.filterAllArray(e[n]):e[n]=this.filterAll(e[n]));return e}};const Zr="tabActivated",eo="tabUpdated",to="windowFocusChange";class no{constructor(e){this.store=e,this.queryRequestBuffer={},this.shouldInject=this.shouldInjectScripts(),this.toggleSlider=Ze.a.throttle(this.toggleSlider.bind(this),800),Oe.action.onClicked.addListener(this.toggleSlider),Oe.tabs.onActivated.addListener(this.onFocusChanged.bind(this,Zr)),Oe.windows.onFocusChanged.addListener(this.onFocusChanged.bind(this,to)),Oe.tabs.onUpdated.addListener(this.onFocusChanged.bind(this,eo))}shouldInjectScripts(){const{firstRunDate:e,version:t}=this.store.getState();return t.isFirstTimeUser&&Date.now()-e<72e5}handleNextPopupState(e){setTimeout((()=>{this.doHandleNextPopupState(e)}),200)}async doHandleNextPopupState(e){const{url:t,id:n}=await ze();if(!Ge(t))return this.setSystemPopUpState(n);const r=this.store.getState(),o=r.settings.protection,a=o&&!r.user.isPremiumUser;if(!e&&a&&this.shouldShowSpecialOffer(r))return this.setUpgradePopupState(n);this.setNormalPopupState(n,e,o)}shouldShowSpecialOffer(e){const{specialOffer:t}=e.remoteConfig.features,{firstRunDate:n}=e,{numberOfShow:r,show:o}=e.settings.upgradePopUp;if(o||!t||!t.enable||!t.options||1!==t.options.length)return!1;const{promptCycleDays:a}=t.options[0];if(r>=a.length)return!1;return Date.now()-n>a[r]*j}setUpgradePopupState(e){Oe.action.setBadgeText({text:"1"}),Oe.action.setPopup({tabId:e,popup:"offering.html"})}setNormalPopupState(e,t,n){const r=n?"":"popup.html";if(Oe.action.setPopup({tabId:e,popup:r}),t){const e=this.store.getState().settings.upgradePopUp.show;if(Oe.action.setBadgeText({text:""}),e)return void this.store.dispatch((o={show:!1},{type:nr,data:o}));this.store.dispatch(Mr("default"))}var o}setSystemPopUpState(e){e&&Oe.action.setPopup({tabId:e,popup:"systempage.html"})}setErrorState(e){Oe.action.setPopup({tabId:e,popup:"error.html"})}toggleSlider(e=""){Oe.tabs.query({active:!0,currentWindow:!0},(t=>{if(!t)return;const n=t[0];if(!n)return;const r={action:S};"string"==typeof e&&(r.section=e),Oe.tabs.sendMessage(n.id,r,(e=>{if(Oe.runtime.lastError||e!==S)return nt.reportError({response:e||"no response from tab",tab:n.url,source:"toggle slider"});Oe.action.setBadgeText({text:""})}))}))}async onFocusChanged(e,t,n){if((t="object"==typeof t?t.tabId:t)<0)return;if(e===eo&&"complete"!==n.status)return;const{url:r,id:o}=await ze();if(!o||t!==o)return;if(!Ge(r))return this.setSystemPopUpState(o);if(!await this.pingToActiveTab(o)){if(!(this.shouldInject&&e!==eo))return this.setErrorState(o);await this.injectContentScripts(o,r)}await this.doHandleNextPopupState()}async pingToActiveTab(e){return await new Promise((e=>setTimeout(e,1e3))),new Promise((t=>{try{Oe.tabs.sendMessage(e,{action:B},(async e=>{Oe.runtime.lastError&&t(!1),t(e===W)}))}catch(e){t(!1)}}))}async injectContentScripts(e,t){const n=new Promise((t=>{Oe.tabs.sendMessage(e,{action:B},(async e=>{if(Oe.runtime.lastError&&console.log("error in inject",Oe.runtime.lastError),e===W)return t(!0);t(!1)}))}));if(await n)return Promise.resolve();const r=Oe.runtime.getManifest(),o=[];for(const n of r.content_scripts)if(this.normalizeRegexp(n.matches).test(t)){n.run_at;if(o.push(Oe.scripting.executeScript({target:{tabId:e,allFrames:n.all_frames},files:n.js})),!n.css)return;o.push(Oe.scripting.insertCSS({target:{tabId:e,allFrames:n.all_frames},files:n.css}))}return Promise.all(o)}retryQueryData(){Oe.tabs.query({active:!0,currentWindow:!0},(e=>{if(!e)return;const t=e[0];if(!t)return;const{url:n}=t,r=(new Qr).filterAll(n),o={subtrgt:r,sublast:r,subref:"",nt:"retry",atm:["exthead"],epochtime:Date.now(),ch:6,sg:"аc8bb819d",vmt:6,dm:21,vv:1,wp0:1,delta:"AАEAАAAАAАQTCwJQEАAАAАAАAАAАAАAАAАAАAАAАAАA="};this.fetchRating(o)}))}extractLinks(e){const{lk:t}=e;if(!t)return[];try{return Array.from(new Set(JSON.parse(t)[1].data.org.map((e=>We(e.url)))))}catch(e){return[]}}fetchRating(e,t){if(!e.subtrgt)return;Object.keys(e).forEach((t=>{const n=e[t];"string"==typeof n&&n.includes("%")&&(e[t]=decodeURIComponent(n))}));const n=[Ve(e.subtrgt),...this.extractLinks(e)],r=n[0],o={...e,target:r,links:n};this.store.dispatch(function(e,t){return{type:ft,data:{targetParams:e,headers:t}}}(o,t))}normalizeRegexp(e){return new RegExp(e.join("|").replace(/\./g,"\\.").replace(/\*/g,".*"))}}class ro{constructor(e){this.WOT_RULE_IDENTIFIER=9794,this.extensionId=Oe.runtime.getURL("").split("://")[1].slice(0,-1),this.store=e;const t=e.getState();this._trackersList=void 0,this._trackersMapping=void 0,this._allowList=t.trackerBlockerData.allowList,this._blockAll=t.trackerBlockerData.allBlocked,this.idToUrlMapping={},this.GETMATCHEDRULES_QUOTA_INTERVAL=10,this.MAX_GETMATCHEDRULES_CALLS_PER_INTERVAL=20,this.requestListener=e=>{var t,n;if(e&&e.url)try{const r=We(e.url),o=this.trackersList[r];if(!o)return;const{originUrl:a}=e;let{initiator:i}=e;if(i=i||a,!i||i.includes(this.extensionId))return;i=We(i||a),this.store.dispatch((n={...o,initiator:i},{type:cn,data:n}));!this.allowList[o.name]&&(t="DIGITAL_TRACKER_BLOCKED",Oe.storage.local.get(ye,(e=>{const n=e.USER_STATISTICS||{},r=n[t];n[t]=r?r+1:1,Oe.storage.local.set({[ye]:n})})))}catch(e){}},this.start()}get allowList(){return this._allowList||(this._allowList={...this.store.getState().trackerBlockerData.allowList}),this._allowList}flush(){this._trackersList=void 0,this._trackersMapping=void 0,this._blockAll=void 0,this.flushAllowList()}flushAllowList(){this._allowList=void 0,this.start()}get blockAll(){return void 0===this._blockAll&&(this._blockAll={...this.store.getState().trackerBlockerData.allBlocked}),this._blockAll}get trackersList(){return this._trackersList||(this._trackersList=this.store.getState().trackerBlockerData.list),this._trackersList}get trackersMapping(){return!this._trackersMapping&&this.trackersList&&(this._trackersMapping={},Object.keys(this.trackersList).forEach((e=>{const t=this.trackersList[e];this._trackersMapping[t.name]=t.url}))),this._trackersMapping}start(){this.clearRules().then((e=>{this.addRules().then((e=>{this.idToUrlMapping=e,Oe.webRequest.onBeforeRequest.addListener(this.requestListener,{urls:["*://*/*"]})})).catch((e=>{i}))})).catch((e=>{i}))}createBlockingRule(e,t){return{id:e,priority:1,condition:{urlFilter:`*${t}*`,resourceTypes:["main_frame","sub_frame","script"]},action:{type:"block"}}}addRules(){return new Promise(((e,t)=>{const n=Object.keys(this.allowList).filter((e=>!this.allowList[e]));if(!n||0==n.length)return void e({});const r=n.map((e=>this.trackersMapping[e])).filter((e=>void 0!==e));let o={};var a=0;const i=r.map((e=>{const t=this.urlToRuleId(e,a++);return o[t]=e,this.createBlockingRule(t,e)}));Oe.declarativeNetRequest.updateDynamicRules({addRules:i},(()=>{chrome.runtime.lastError?t(chrome.runtime.lastError.message):e(o)}))}))}clearRules(){return Oe.webRequest.onBeforeRequest.removeListener(this.requestListener),new Promise(((e,t)=>{Oe.declarativeNetRequest.getDynamicRules((n=>{if(n.length>0){const r=n.filter((e=>this.isWotRuleID(e.id))).map((e=>e.id));Oe.declarativeNetRequest.updateDynamicRules({removeRuleIds:r},(()=>{chrome.runtime.lastError?t(chrome.runtime.lastError.message):(this.idToUrlMapping={},e(r))}))}else e([])}))}))}urlToRuleId(e,t){let n=e.length;return Array.from(e).forEach((e=>{n+=e.charCodeAt()+t})),Math.floor(1e4*n+this.WOT_RULE_IDENTIFIER)}isWotRuleID(e){const t=e.toString();if(t.length>4){if(t.substring(t.length-4,t.length)===this.WOT_RULE_IDENTIFIER.toString())return!0}return!1}}class oo{constructor(e){this.store=e}async doOnBackgroundStart(){this.initListeners(),this.createPinWotPopupAlarm(),this.createGetUserPlanAlarm(),this.createUpdateBlockedSitesStatisticsDataAlarm(),this.createUpdatePopupScanTimeAlarm()}initListeners(){Oe.alarms.onAlarm.addListener((async e=>{switch(e.name){case le:const{url:e,id:t}=await ze();Ge(e)?Oe.tabs.sendMessage(t,{action:"SHOW_PIN_WOT_POPUP"},(e=>{e||this.createPinWotPopupAlarm()})):this.createPinWotPopupAlarm();break;case pe:const{isPremiumUser:n}=this.store.getState().user;n&&this.store.dispatch({type:Un});break;case de:this.store.dispatch(Wr(!1));break;case fe:this.store.dispatch(Mr("timer")),Oe.action.setBadgeText({text:"1"});break;case he:this.store.dispatch(Nr());break;case ge:Oe.storage.local.get(ve,(e=>{const t=e.USER_STATISTICS_BLOCKED_SITES||[],n=(new Date).getTime()-F,r=t.filter((e=>e.date>n));Oe.storage.local.set({[ve]:r})}));break;case me:this.store.dispatch(Vr(new Date))}}))}async createPinWotPopupAlarm(){this.createAlarm(le,1,!1)}async createUpdatePopupScanTimeAlarm(){this.createAlarm(me,1440,!0,!0)}async createSerpRequestAlarm(){this.createAlarm(he,1440,!0)}async createGetUserPlanAlarm(){this.createAlarm(pe,360,!0)}async createUpdateBlockedSitesStatisticsDataAlarm(){this.createAlarm(ge,1440,!0)}async toggleOptOutAlarm(e){this.toggleAlarm(e,fe,180,!0)}async toggleGetLeakDataAlarm(e){this.toggleAlarm(e,de,1440,!0)}async toggleAlarm(e,t,n,r=!1){return e?this.createAlarm(t,n,r):this.clearAlarm(t)}async createAlarm(e,t,n,r=!1){if(await Oe.alarms.get(e)){if(!r)return;await this.clearAlarm(e)}const o=n?{periodInMinutes:t}:{delayInMinutes:t};return Oe.alarms.create(e,o)}async clearAlarm(e){return Oe.alarms.clear(e)}async clearAlarms(){return Oe.alarms.clearAll()}}setTimeout((function(){return"debug is off"}),30031220),function(){function e(){const t=yodules.Initiator;t.class=class t{static hasAllArgsReady(e,t){return!(yodules[t].deps||[]).find((e=>!yodules[e]||!yodules[e].ready))}static initWithArgs(e,t){const n=(yodules[t].deps||[]).map((e=>yodules[e]));try{const t=e.apply(this,n);return void 0!==t&&t instanceof Promise?t:Promise.resolve()}catch(e){return Promise.reject(e)}}getNotInitedModules(){return Object.keys(yodules).filter((t=>"function"==typeof yodules[t].init&&!yodules[t].ready&&yodules[t].init!==e))}async initAvailable(){const e=this.getNotInitedModules();for(let n=0;n<e.length;n++){const r=e[n],o=yodules[r];if(!o.initInProgress&&t.hasAllArgsReady(o.init,r)){o.initInProgress=!0;try{await t.initWithArgs(o.init,r);o.ready=!0,delete o.initInProgress}catch(e){o.initInProgress=!1,o.error=e,o.ready=!1}}}this.getNotInitedModules().length<e.length&&await this.initAvailable()}async check(e){return this.getNotInitedModules().length&&await this.initAvailable(),e<1e5&&setTimeout((()=>this.check(2*e)),2*e),this}},t.instance=new t.class,t.instance.check(1)}self.yodules=self.yodules||{},yodules.Initiator={init:e},e()}();self.yodules=self.yodules||{},yodules.Serp={init:function(e,t){const n=yodules.Serp,r=e.instance,o=t.instance;n.class=class{bind(){r.onBeforePack(((e,t)=>{const n=t.chromeTab&&t.chromeTab.url;if(n)return this.validatePage(n,e).then((e=>{e&&o.unshiftItem({type:"serp",data:e})}))}))}validatePage(e,t){return e.match(/^https:\/\/www\.google(?:\.\w+)+\/search\?/g)&&-1===e.indexOf("&tbm=")?new Promise(((e,n)=>{const r=function(t){chrome.runtime.lastError&&(this.error=chrome.runtime.lastError),t=!!t&&t[0],e(t.result)};try{const e={target:{tabId:t}},n=this.scriptInjectionConstructorV3(),o=Object.assign({},e,n);chrome.scripting.executeScript(o,r)}catch(e){}})):Promise.resolve()}scriptInjectionConstructorV3(){return{args:["#tads div[data-text-ad]","#tadsb div[data-text-ad]","#res .g:not(#imagebox_bigimages)","cite, .x2VHCd.OSrXXb.qzEoUe, a div + div span + span","a","href",".MUxGbd.yDYNvb.lyLwlc","[role='heading']","h3","span"],func:(e,t,n,r,o,a,i,s,u,c)=>{const l=[],p=[];let d=0;function f(e,t){let n,u,c,l,p,d;d=e.querySelector(o),p=d.querySelector(s),n=p.innerText,u=d.getAttribute(a),c=e.querySelector(r),c=c?c.innerText:null;const f=e.querySelector(i);l=f?f.innerText:"";const h={title:n,href:u,description:l,index:t};return c&&(h.cite=c),h}function h(e){const t={url:e.href,label:e.title,position:e.index,description:e.description};return e.cite&&(t.green_link=e.cite),t}if(document.querySelectorAll(e).forEach((e=>{l.push(f(e,d++))})),document.querySelectorAll(n).forEach((e=>{const t=function(e,t){let n,a,i,s,l,p;i=e.querySelector(o),a=i.querySelector(u)?i.querySelector(u).innerText:i.innerText,n=i.href,s=e.querySelector(r),s=s?s.innerText:null,l=Array.from(e.querySelectorAll(c)).reduce(((e,t)=>t.innerText.length>e.length?t.innerText:e),""),p=l||"";const d={title:a,href:n,description:p,index:t};return s&&(d.cite=s),d}(e,d+1);t&&t.title&&t.href&&(p.push(t),d++)})),document.querySelectorAll(t).forEach((e=>{l.push(f(e,d++))})),p.length||l.length)return{org:p.map(h),ads:l.map(h),url:document.baseURI,timestamp:Date.now()}}}}},n.instance=new n.class,n.instance.bind()},deps:["SendRequestForTab","Ployder"]};var ao=class{constructor(e,t){this.store=e,this.alarmsManager=new oo(e),t&&this.alarmsManager.clearAlarms(),this.myElement=new Hr(e),this.setExperimentalData(),this.fireInstallEvent(),this.setFirstRunDate(),this.retention=new qr(e),this.piFilter=new Qr,this.getAllTabs=Ze.a.throttle(this.getAllTabs.bind(this),1500),this.consecutiveCacheMisses=0,this.lastHostLookedupInCache=null,this.contentStateHandler=new no(this.store),this.contentStateHandler.handleNextPopupState(),this.trackerBlocker=new ro(this.store),this.fontsStyleSheet=null,this.unsubscribeCache=this.store.subscribe((()=>{const e=this.store.getState(),{reload:t,reloadAllowList:n}=e.trackerBlockerData;return(n||t)&&(t?this.trackerBlocker.flush():this.trackerBlocker.flushAllowList(),this.store.dispatch({type:un})),Oe.storage.local.set({[l]:e})}));const n=this.store.getState().api,r=this.store.getState().rtApi,{isPremiumUser:o}=this.store.getState().user;o&&this.store.dispatch({type:Un}),this.alarmsManager.doOnBackgroundStart(),nt.registerAll(n,r).then((e=>{const[t,n]=e;this.store.dispatch(function(e){const{id:t,key:n}=e;return{type:Et,data:{id:t,key:n}}}(t)),this.store.dispatch(function(e){const{id:t,key:n}=e;return{type:wt,data:{id:t,key:n}}}(n)),this.store.dispatch({type:st}),this.store.dispatch(function(e=""){return{type:yt,host:e}}()),this.requestSerpConfig(),this.store.dispatch({type:mt}),this.store.dispatch(Ur()),this.store.dispatch(function(e=null){return{type:dn,data:e}}()),this.getAllTabs()})),Oe.tabs.onUpdated.addListener(this.tabUpdateListener.bind(this)),Oe.tabs.onActivated.addListener(this.tabListener.bind(this)),Oe.windows.onFocusChanged.addListener(this.windowListener.bind(this)),Oe.runtime.onMessage.addListener(((e,t,n)=>{switch(e.name){case v:void 0!==e.url&&Oe.tabs.create({url:e.url});break;case _:void 0!==e.url&&Oe.tabs.update({url:e.url});break;case"CLOSE_TAB_MESSAGE":Oe.tabs.remove(t.tab.id);break;case"CONSOLE_LOG":console.log(e);break;case"CONTENT_DISCONNECTED":this.contentStateHandler.setErrorState(t.tab.id);break;case T:this.contentStateHandler.handleNextPopupState();break;case b:this.handleSendMessage(e.params);break;case"RETRY_QUERY_DATA":this.contentStateHandler.retryQueryData();break;case w:this.alarmsManager.toggleOptOutAlarm(!1),Oe.action.setBadgeText({text:""}),this.contentStateHandler.handleNextPopupState();break;case E:this.alarmsManager.toggleOptOutAlarm(!0),this.contentStateHandler.handleNextPopupState();break;case"CHECK_NEXT_POPUP_STATE":this.contentStateHandler.handleNextPopupState(!0);break;case"OPEN_POPUP":Oe.action.setBadgeText({text:""});break;case"ICON_NOTIFICATION":Oe.action.setBadgeText({text:"1"});break;case"POP_BLOCKED":break;case C:this.contentStateHandler.toggleSlider(e.message);break;case"SYSTEM_PAGE":ze().then((t=>{this.myElement&&"function"==typeof this.myElement.fire&&this.myElement.fire({[ae]:"System Page",[ie]:e.isError?"Error_Opened":"Opened",[se]:t.url||"N/A"})}));break;case I:this.fontsStyleSheet||this.getFonts(),n({fonts:this.fontsStyleSheet});break;case mn:this.startLeakMonitoringInterval(!0);break;case yn:this.alarmsManager.toggleGetLeakDataAlarm(!1);break;case"RESTART_SCANTIME_ALARM":this.alarmsManager.createUpdatePopupScanTimeAlarm()}}));const a=this.store.getState().survey;a.installDate||this.store.dispatch(Fr({...a,installDate:(new Date).getTime()}));const{protection:i,leakMonitoring:s}=this.store.getState().settings;i?this.store.dispatch(kr()):(this.store.dispatch(Lr()),this.startOptoutInterval()),this.changeShieldLevels(),this.getFonts(),this.store.dispatch(Vr(new Date)),s&&this.startLeakMonitoringInterval(!1),Oe.runtime.setUninstallURL(x,(()=>{Oe.runtime.lastError})),1===Me(c,a.prevVersion)&&(this.store.dispatch(Fr({installDate:(new Date).getTime(),prevVersion:c,isShowed:!1})),this.store.getState().common.tid!==ce&&this.store.dispatch({type:Er,data:{id:ce}})),Oe.action.setBadgeBackgroundColor({color:"#c53929"});const u=Oe.i18n.getMessage("checkUrl");Oe.contextMenus.removeAll((function(){Oe.contextMenus.create({id:"WotContextMenu",title:u,contexts:["link"]})})),Oe.contextMenus.onClicked.addListener(this.preCheckLink.bind(this)),Oe.webNavigation.onHistoryStateUpdated.addListener((()=>{ze().then((e=>{(e.id||0===e.id)&&Oe.tabs.sendMessage(e.id,{action:"HISTORY_UPDATED"},(()=>{Oe.runtime.lastError}))}))}))}onQueryDataEvent(e){try{e&&e.detail instanceof Array&&e.detail.length>2&&this.contentStateHandler.fetchRating(e.detail[2],e.detail[1])}catch(e){}}requestSerpConfig(){this.store.dispatch(Nr()),this.alarmsManager.createSerpRequestAlarm()}handleSendMessage(e){const{sendInternalAnalytics:t,...n}=e;this.myElement.fire&&this.myElement.fire(n),t&&this.sendInternalAnalyticsEvent(n)}openPreCheck(e){Oe.tabs.query({active:!0,currentWindow:!0},(t=>{t&&t[0]&&Oe.tabs.sendMessage(t[0].id,{action:"PRE_CHECK",url:e},(()=>{Oe.runtime.lastError}))}))}preCheckLink(e){if("WotContextMenu"!==e.menuItemId)return;const{user:t}=this.store.getState();if(!t||!t.isPremiumUser)return this.openPreCheck();nt.query({links:[e.linkUrl]}).then((t=>{this.store.dispatch(Ir(t)),setTimeout((()=>{this.openPreCheck(We(e.linkUrl))}))}),(e=>{this.myElement&&"function"==typeof this.myElement.fire&&this.myElement.fire({[ae]:"pre_check",[ie]:"Error",[se]:e})}))}startOptoutInterval(){this.alarmsManager.toggleOptOutAlarm(!0)}startLeakMonitoringInterval(e){this.store.dispatch(Wr(e)),this.alarmsManager.toggleGetLeakDataAlarm(!0)}tabListener(){this.getAllTabs(!0)}tabUpdateListener(e,t,n){"loading"!==t.status&&"complete"!==t.status||this.getAllTabs()}windowListener(e){-1!==e&&this.getAllTabs(!0)}websiteExternalMessageListener(e,t,n){const r=["mywot.com"],{url:o}=t,a=function(e){const t=document.createElement("a");t.href=e&&-1!==e.indexOf("://")?e:`http://${e}`;const n=t.hostname.match(/([^.]+\.)?([^\.]+\..+)/);return n&&n.length>2?n[2]:t.hostname}(o);for(const e of r)e===a&&n({isActive:!0})}sendInternalAnalyticsEvent(e){const{internalEvents:t}=this.store.getState().remoteConfig.features;t&&t.enable&&nt.sendInternalAnalytics(e)}fireInstallEvent(){const e=this.store.getState().installEventFired,t=function(){let e=null;const t=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(const n in t){const r=t[n];if(r.r.test(navigator.userAgent)){e=r.s;break}}return e}();e||(Ze.a.delay((()=>{-1!==t.indexOf("Android")||-1!==t.indexOf("iOS")?(this.store.dispatch({type:Yt}),Oe.tabs.create({url:D})):(this.store.dispatch(Lr()),this.openPresettingsPage())}),1500),Ze.a.delay((()=>{this.myElement.fire&&this.myElement.fire({[ae]:"General",[ie]:"WOT_installed"})}),3e3)),this.store.dispatch(Pr())}setFirstRunDate(){if(this.store.getState().firstRunDate)return void(0===this.store.getState().onboarding.step&&+new Date-this.store.getState().firstRunDate>=864e5&&this.store.dispatch(function(e=!1){return{type:Xn,data:{step:e}}}(4)));const e=Date.now();this.store.dispatch(Dr(e))}setExperimentalData(){if("chrome"===Ie&&!this.store.getState().firstRunDate){const e=Ze.a.merge({},{status:je(),lastVersion:c});this.store.dispatch(function(e){return{type:Hn,data:e}}(e)),this.includeExperimentalFeatures(e)}}includeExperimentalFeatures(e){}changeShieldLevels(){const e=this.store.getState().serps.length;for(let t=0;t<e;t++)this.store.dispatch(jr(h,t))}getAllTabs(e=!1){Oe.windows.getCurrent({},(t=>{Oe.runtime.lastError||(t&&t.focused||"edge"===o||-1!==navigator.userAgent.indexOf("Mac"))&&Oe.tabs.query({},(n=>{n&&(this.store.dispatch(function(e,t){return{type:_t,data:{tabs:e,activeWindow:t}}}(n,t)),this.updateIcon(n,t,e))}))}))}setIcon(e){Oe.action.setIcon(e),this.consecutiveCacheMisses=0}updateIconNotification(e,t){const{user:n,leakMonitoring:r,settings:o}=e;let a="",i="#c53929";["yellow","red"].includes(t)&&(a="!",i="#FFD900");const s=o.leakMonitoring&&r&&r.breaches.filter((e=>!e.isDismissed)),u=!(!s||!s.length);n&&n.isPremiumUser&&u&&(a=`${s.length}`,i="#165ADA"),Oe.action.setBadgeText({text:a}),Oe.action.setBadgeBackgroundColor({color:i})}updateIcon(e,t,n){if(this.store.getState().settings.protection){for(const r of e)if(r.active&&r.windowId===t.id){const e=this.store.getState(),{ratings:t,user:o,reviews:a}=e,i=Ve(r.url);if(i!==this.lastHostLookedupInCache&&(this.consecutiveCacheMisses=0,this.lastHostLookedupInCache=i),!d.test(r.url)||Fe(r.url))this.setIcon({path:k.gray,tabId:r.id});else if("object"==typeof t[i]){const n=t[i],s=o.uid||1,u=(a[s]&&a[s][i],De(n).color);this.setIcon({path:k[u],tabId:r.id}),this.updateIconNotification(e,u)}else!t[i]&&this.consecutiveCacheMisses++<15&&(n&&this.contentStateHandler.retryQueryData(),setTimeout(this.getAllTabs.bind(this),800));return}}else this.setIcon({path:k.gray})}turnOnProtection(){this.store.dispatch(kr())}turnOffProtection(){this.store.dispatch(Lr())}getFilteredState(e,t){return Object.keys(e).filter((e=>!t.includes(e))).reduce(((t,n)=>(t[n]=e[n],t)),{})}getFonts(){et.get(N).then((e=>{this.fontsStyleSheet=e.responseText})).catch((e=>{}))}openPresettingsPage(){"firefox"===o?Oe.tabs.create({url:`${Ae}`}):Oe.tabs.create({url:`${Re+Ae}`})}};const io={showWhatsNewForVersion:"4.0.13.33",newFeatures:["leakMonitoring"]},so={[te]:Q};function uo(e={},t={},n){if(t.cycleNumber>e.cycleNumber){const e=so[t.name];n.dispatch({type:vr,data:{name:e}}),n.dispatch(function(e){return{type:_r,data:{name:e}}}(e))}}var co=class{constructor(e){this.store=e,this.syncWOTConfiguration=this.syncWOTConfiguration.bind(this),this.selfName="remote config handler",this.isFirstInstall=!0}async init(e){const{meta:t}=this.store.getState().remoteConfig,n=t.isDefaultConfig||e,r=t.refreshIntervalHours;n?await this.syncWOTConfiguration(e):setTimeout(this.syncWOTConfiguration,r*U,e)}async getConfigFromRemote(){let e="";try{const t=await fetch(`${u}/v2/ui_config.json`,{cache:"no-store"});if(e=await t.text(),t.ok)return JSON.parse(e);nt.reportError({message:e,responseStatus:t.status,source:this.selfName})}catch(t){nt.reportError({message:e||t&&t.message||"unknown error",source:this.selfName})}}async getInitialUIConfig(){const e=await fetch("../../../resources/local_ui_configs.json");return await e.json()}async syncWOTConfiguration(e=!1){const t=this.store.getState();let n=t.remoteConfig.meta;try{const r=t.remoteConfig.features;let o=await this.getConfigFromRemote();if(!o&&(o=await this.getInitialUIConfig(),!this.isFirstInstall||!o))return this.isFirstInstall=!1,void setTimeout(this.syncWOTConfiguration,n.refreshIntervalHours*U,e);const a=o.features;n=o.meta||n;const i=this.filterOutRemovedFeatures(r,a),s=Object.keys(a).reduce(((t,n)=>{const o=new ue(a[n]),i=r[n];if(!e&&i&&i.version===o.version)return t;i&&o.type===ne&&uo(i,o,this.store);const s=!i||o.forceReselect;return o.options=s?this.getRandomOption(o):this.getUpdatedOption(i,o),t[n]=o,t}),{});this.store.dispatch(function(e={}){return{type:Cn,data:{forUpdate:e}}}(s)),this.store.dispatch(function(e=[],t={}){return{type:wn,data:{forDeletion:e,forUpdate:t}}}(i,s)),this.store.dispatch({type:Sn,data:{key:ee,value:n}}),this.isFirstInstall=!1,setTimeout(this.syncWOTConfiguration,n.refreshIntervalHours*U)}catch(t){nt.reportError({message:t&&t.message||"unknown error",source:this.selfName}),this.isFirstInstall=!1,setTimeout(this.syncWOTConfiguration,n.refreshIntervalHours*U,e)}}filterOutRemovedFeatures(e,t){return Object.keys(e).filter((e=>!t[e]))}getRandomOption(e){if(e.options.length<=1)return e.options;const t=e.options.reduce(((e,t)=>e+t.weightPercentage),0),n=Math.floor(Math.random()*t);let r=0;return[e.options.find((e=>(r+=e.weightPercentage,n<r)))]}getUpdatedOption(e,t){if(!e.options||!e.options.length)return t.options.length?this.getRandomOption(t):[];const n=e.options[0],r=n&&n.id,o=t.options.find((e=>e.id===r));return o?[o]:[]}},lo=n(93),po="object"==typeof self&&self&&self.Object===Object&&self,fo=(lo.a||po||Function("return this")()).Symbol,ho=Object.prototype,go=ho.hasOwnProperty,mo=ho.toString,yo=fo?fo.toStringTag:void 0;var vo=function(e){var t=go.call(e,yo),n=e[yo];try{e[yo]=void 0;var r=!0}catch(e){}var o=mo.call(e);return r&&(t?e[yo]=n:delete e[yo]),o},_o=Object.prototype.toString;var bo=function(e){return _o.call(e)},Eo=fo?fo.toStringTag:void 0;var wo=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Eo&&Eo in Object(e)?vo(e):bo(e)};var So=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var Co=function(e){return null!=e&&"object"==typeof e},To=Function.prototype,Io=Object.prototype,Oo=To.toString,Ao=Io.hasOwnProperty,Ro=Oo.call(Object);var Po=function(e){if(!Co(e)||"[object Object]"!=wo(e))return!1;var t=So(e);if(null===t)return!0;var n=Ao.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oo.call(n)==Ro},Do=n(52),xo="@@redux/INIT";function No(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function ko(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Lo(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var Uo=Lo();Uo.withExtraArgument=Lo;var jo=Uo;const Fo={combineReducers:function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var a=Object.keys(n),i=void 0;try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:xo}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+xo+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){i=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(i)throw i;for(var r=!1,o={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],p=c(l,t);if(void 0===p){var d=No(u,t);throw new Error(d)}o[u]=p,r=r||p!==l}return r?o:e}}};const Bo=Fo.combineReducers({lastAction:function(e=rt.getDefaultStateObject().lastAction,t){return Ze.a.merge({},t)},api:function(e=rt.getDefaultStateObject().api,t){return t.type===Et?Ze.a.merge({},e,{key:t.data.key,id:t.data.id}):e},rtApi:function(e=rt.getDefaultStateObject().rtApi,t){return t.type===wt?Ze.a.merge({},e,{key:t.data.key,id:t.data.id}):e},common:function(e=rt.getDefaultStateObject().common,t){switch(t.type){case"GENERATE_ID":return Ze.a.merge({},e,{cid:t.data.id});case Er:return Ze.a.merge({},e,{tid:t.data.id});default:return e}},retentionEvent:function(e=rt.getDefaultStateObject().retentionEvent,t){return t.type===St?Ze.a.merge({},e,{sentDays:t.data.sentDays}):e},installEventFired:function(e=rt.getDefaultStateObject().installEventFired,t){return t.type===Ct||e},firstRunDate:function(e=rt.getDefaultStateObject().firstRunDate,t){return t.type===Tt?t.data.firstRunDate:e},whitelist:function(e=rt.getDefaultStateObject().whitelist,t){switch(t.type){case at:return-1===e.indexOf(t.data.host)?[...e,t.data.host]:e;case ot:const n=[];for(const r in e)t.data.host!=e[r]&&n.push(e[r]);return n;default:return e}},templist:function(e=rt.getDefaultStateObject().templist,t){switch(t.type){case it:return[...e,t.data.host];case st:return rt.getDefaultStateObject().templist;default:return e}},tabs:function(e=rt.getDefaultStateObject().tabs,t){const n={};switch(t.type){case _t:const r=t.data.tabs;for(const e of r)n[e.id]=Ze.a.merge({},e),t.data.activeWindow&&1==n[e.id].active&&n[e.id].windowId!=t.data.activeWindow.id&&(n[e.id].active=!1);return n;case bt:const o={};for(const n in e)o[n]={...e[n],active:n===t.data.tabId.toString()};return o;default:return e}},ratings:function(e=rt.getDefaultStateObject().ratings,t){const n=Ze.a.merge({},e);switch(t.type){case gt:const{urls:r}=t.data;return r&&r.length?(r.forEach((e=>{const t=We(e);t&&(n[t]=n[t]||oe)})),n):e;case ct:const o={...e,...t.data},a=Object.values(o),{length:i}=a;let s=100>i?0:i-100;if(s){const e=Date.now();for(let t=0;t<i&&s;t++){const{target:n,updated:r}=a[t];e-r>p&&(delete o[n],s--)}}return o;case mt:return Ze.a.merge({},rt.getDefaultStateObject().ratings);case lt:const u=t.data.host,c=e[t.data.host];c&&(c.commentsCount=t.data.count);const l={};return l[u]=c,Ze.a.merge({},e,l);default:return e}},comments:function(e=rt.getDefaultStateObject().comments,t){switch(t.type){case pt:const n=Object.keys(t.data)[0],r=Ze.a.merge({},e,{loading:!1});if(Object.keys(r).length>100)for(const e in r)Date.now()-r[e].updated>=6e5&&delete r[e];return r[n]={...t.data[n],updated:Date.now()},r;case yt:if(t.host){const n=Ze.a.merge({},e);return delete n[t.host],n}return Ze.a.merge({},rt.getDefaultStateObject().comments);case dt:return rt.getDefaultStateObject().comments.loading=!0,Ze.a.merge({},e,rt.getDefaultStateObject().comments);default:return e}},reviews:function(e=rt.getDefaultStateObject().reviews,t){const n=Ze.a.merge({},e),r=t.data&&t.data.host,o=t.data&&(t.data.userId||t.data.uid)||1,a=t.data&&t.data.rating,i=t.data&&t.data.review;let s=t.data&&t.data.rate;switch(t.data&&t.data.id,r&&o&&!n[o]&&(n[o]={}),t.type){case vt:return n[o]?(delete n[o],n):e;case Lt:return n[o]?(n[o][r]||(n[o][r]={}),n[o][r].reviewLastUpdateTimestamp=(new Date).getTime(),n):e;case ut:return n[t.data.uid]||(n[t.data.uid]={}),n[t.data.uid][r]={...t.data},n[t.data.uid][r].reviewLastUpdateTimestamp=(new Date).getTime(),n;case Mn:if(!n[t.data.uid]){n[t.data.uid]={};for(const e in n[1])e==t.host?(n[t.data.uid][e]=Ze.a.merge({},n[1][e]),n[1][e].step>1?n[t.data.uid][e].reviewLastUpdateTimestamp=(new Date).getTime():n[t.data.uid][e].reviewLastUpdateTimestamp=0,n[1][e]={step:0,safetyCategories:[],childSafetyCategories:[],reputationCategories:[],rating:-1}):n[t.data.uid][e]={step:0,safetyCategories:[],childSafetyCategories:[],reputationCategories:[],rating:-1}}return n;case kt:return n[o]=Ze.a.merge(n[o],i),n;case It:return n[o][r]&&n[o][r].step++,n[o][r].step>6&&(n[o][r].step=6),n;case Ot:return n[o][r]&&n[o][r].step--,n;case At:return n[o][r].step=n[o][r].step+2,n;case Rt:return n[o][r].step=n[o][r].step-2,n;case jt:return n[o][r].step=n[o][r].step+3,n;case Ft:return n[o][r].step=n[o][r].step-3,n;case Pt:return-1==s?(delete n[o][r].safety,s=!0):(n[o][r].safety=s,1==s&&-1===n[o][r].safetyCategories.indexOf(501)&&n[o][r].safetyCategories.push(501),n[o][r].safety&&(n[o][r].safetyCategories=[])),n;case Dt:return-1===s?(delete n[o][r].childSafety,s=!0):(n[o][r].childSafety=s,n[o][r].childSafety&&(n[o][r].childSafetyCategories=[])),n;case xt:return n[o][r].rating=a,n;case Nt:return n[o][r].step=1,n;case Mt:return n[o][r]={step:0,safetyCategories:[],childSafetyCategories:[],reputationCategories:[],rating:-1},n;default:return e}},user:function(e=rt.getDefaultStateObject().user,t){switch(t.type){case kn:return Ze.a.merge({},rt.getDefaultStateObject().user,{token:t.data.token});case Mn:case Ln:return Ze.a.merge({},e,t.data);case Wn:return{};case"USER_LOGOUT":return Ze.a.merge({},rt.getDefaultStateObject().user,{isLogout:!0});case Vn:return Ze.a.merge({},rt.getDefaultStateObject().user);case jn:return Ze.a.merge({},e,{userSource:t.data.source});case Bn:return Ze.a.merge({},e,t.data);default:return e}},serps:function(e=rt.getDefaultStateObject().serps,t){return t.type===Tn?t.data:e},settings:function(e=rt.getDefaultStateObject().settings,t,n=""){switch(t.type){case tn:return Ze.a.merge({},e,{assistant:!0});case nn:return Ze.a.merge({},e,{assistant:!1});case hn:return Ze.a.merge({},e,{phishing:!0});case gn:return Ze.a.merge({},e,{phishing:!1});case mn:return Ze.a.merge({},e,{leakMonitoring:!0});case yn:return Ze.a.merge({},e,{leakMonitoring:!1});case rn:return Ze.a.merge({},e,{assistantHandleTop:t.data});case on:return Ze.a.merge({},e,{assistantExpanded:t.data});case Wt:return Ze.a.merge({},e,{protection:!0});case Vt:return Ze.a.merge({},e,{protection:!1});case Gt:return Ze.a.merge({},e,{parental:!0});case Kt:return Ze.a.merge({},e,{parental:!1});case zt:return Ze.a.merge({},e,{gambling:!1});case $t:return Ze.a.merge({},e,{gambling:!0});case Xt:return Ze.a.merge({},e,{parentalExtraIcon:!0});case Yt:return Ze.a.merge({},e,{parentalExtraIcon:!1});case"POPUP_BLOCK_OFF":return Ze.a.merge({},e,{blockPopUp:!1});case"POPUP_BLOCK_ON":return Ze.a.merge({},e,{blockPopUp:!0});case"POPUP_BLOCK_NOTIFICATION_OFF":return Ze.a.merge({},e,{blockPopUpNotification:!1});case"POPUP_BLOCK_NOTIFICATION_ON":return Ze.a.merge({},e,{blockPopUpNotification:!0});case Zt:return Ze.a.merge({},e,{shields:{[t.data.id]:t.data.level}});case en:return Ze.a.merge({},e,{warnings:t.data.level});case tr:return Ze.a.merge({},e,{optoutPopup:t.data.optoutPopup});case Ht:return Ze.a.merge({},e,{parental:!0,gambling:!0,parentalExtraIcon:!0,warnings:g});case qt:return Ze.a.merge({},e,{parental:!1,gambling:!1,parentalExtraIcon:!1,warnings:m});case Jt:return Ze.a.merge({},e,{blockPopUp:!0,blockPopUpNotification:!0});case Qt:return Ze.a.merge({},e,{blockPopUp:!1,blockPopUpNotification:!1});case nr:const n=t.data.show?1:0,r={upgradePopUp:{show:!!n,numberOfShow:e.upgradePopUp.numberOfShow+n,firstOfferingDate:e.upgradePopUp.firstOfferingDate}};return{...e,...r};case rr:return{...e,upgradePopUp:{...e.upgradePopUp,firstOfferingDate:Date.now()}};default:return e}},rateUsWidget:function(e=rt.getDefaultStateObject().rateUsWidget,t){switch(t.type){case qn:return Ze.a.merge({},e,{popupOpeningCounter:e.popupOpeningCounter+1});case Kn:const t=new Date;return t.setMonth(t.getMonth()+2),Ze.a.merge({},e,{offRateWidget:!0,offRateTime:t});case Gn:return e.offRateTime<=new Date?Ze.a.merge({},e,{offRateWidget:!1,offRateTime:""}):e;default:return e}},experimentalFeature:function(e=rt.getDefaultStateObject().experimentalFeature,t){return t.type===Hn?Ze.a.merge({},e,t.data):e},mobileModal:function(e=rt.getDefaultStateObject().mobileModal,t){switch(t.type){case zn:return Ze.a.merge({},e,{mobileModalTrigger:!0});case $n:return e.mobileModalRateCount<2?Ze.a.merge({},e,{mobileModalRateCount:e.mobileModalRateCount+1,mobileModalTrigger:!1}):Ze.a.merge({},e,{mobileModalTrigger:!0,mobileModalRateCount:0});case Yn:return Ze.a.merge({},e,{mobileModalTrigger:!1});default:return e}},onboarding:function(e=rt.getDefaultStateObject().onboarding,t){return t.type===Xn?Ze.a.merge({},e,{step:t.data.step||0===t.data.step?t.data.step:e.step+1}):e},cta:function(e=rt.getDefaultStateObject().cta,t){switch(t.type){case Zn:return e.status=t.data,Ze.a.merge({},e);case er:return 3===e.appearance?e.status="dontShowAgain":e.appearance++,Ze.a.merge({},e);default:return Ze.a.merge({},e)}},survey:function(e=rt.getDefaultStateObject().survey,t){switch(t.type){case Jn:return Ze.a.merge({},t.data.newSurveyState);case Qn:return{...e,isShowed:!0};default:return Ze.a.merge({},e)}},version:function(e=rt.getDefaultStateObject().version,t){switch(t.type){case ar:return t.data.showWhatsNew?e.newFeatures=Object.assign(...t.data.newFeatures.map((e=>({[e]:!0})))):e.whatsNewShownLastVersion=e.versionNumber,{...e,showWhatsNew:t.data.showWhatsNew};case lr:{const t={...e.newFeatures};return Object.keys(t).forEach((e=>t[e]=!1)),{...e,newFeatures:t}}case or:return{...e,versionNumber:t.data.versionNumber};case ir:return{...e,isFirstTimeUser:!1};default:return e}},trackerBlockerData:function(e=rt.getDefaultStateObject().trackerBlockerData,t){switch(t.type){case sn:const o=Object.values(t.data).reduce(((t,n)=>(t[n.name]=!1!==e.allowList[n.name],t)),{});return{...e,list:t.data,allowList:o,reload:!0};case cn:if(e.history.some((e=>e.name===t.data.name&&e.initiator===t.data.initiator)))return e;const a=[t.data,...e.history];return a.length>e.historyMaxLength&&a.pop(),{...e,history:a};case ln:return{...e,allBlocked:t.data,allowList:(n=e.allowList,r=!t.data,Object.keys(n).reduce(((e,t)=>(e[t]=r,e)),{})),reload:!0};case pn:return{...e,allowList:{...e.allowList,...t.data},reloadAllowList:!0};case"RELOAD_TRACKERS_DATA_ON":return{...e,reload:!0};case un:return{...e,reload:!1,reloadAllowList:!1};case dn:const i=t.data;return i?{...e,history:e.history.filter(i)}:{...e,history:[]};default:return e}var n,r},focusedReview:function(e=rt.getDefaultStateObject().focusedReview,t){return t.type===cr?{...e,...t.data}:e},phishingWhitelist:function(e=rt.getDefaultStateObject().phishingWhitelist,t){switch(t.type){case vn:const n=Array.from(new Set([...e,...t.data]));return n.length>50?n.slice(0,50):n;case _n:return e.filter((e=>!t.data.includes(e)));default:return e}},reminders:function(e=rt.getDefaultStateObject().reminders,t){switch(t.type){case bn:const{name:n,time:r}=t.data;return-2===e[n]?e:{...e,[n]:r+Date.now()};case En:return{...e,[t.data]:-2};case _r:return{...e,[t.data.name]:Date.now()};default:return e}},counters:function(e=rt.getDefaultStateObject().counters,t){switch(t.type){case yr:const{name:n}=t.data;return{...e,[n]:e[n]+1};case vr:return{...e,[t.data.name]:0};default:return e}},leakMonitoring:function(e=rt.getDefaultStateObject().leakMonitoring,t){const n=[...{...e}.breaches];switch(t.type){case fr:return n.forEach((e=>e.isDismissedFromSlider=!0)),{...e,newInfo:!1,breaches:n};case hr:const r=n.filter((e=>e.name===t.data.name));return r&&r.length&&r.forEach((e=>{e.isDismissedFromSlider=!0,e.isDismissed=!0})),{...e,breaches:n};case dr:return t.data.initiated||t.data.res.breaches.length?{...e,newInfo:!0,breaches:[...e.breaches,...t.data.res.breaches],updatedTs:Date.now(),email:t.data.res.emailAddress}:e;default:return e}},wotTraceId:function(e=rt.getDefaultStateObject().wotTraceId,t){return e},remoteConfig:function(e=rt.getDefaultStateObject().remoteConfig,t){switch(t.type){case Sn:const{key:n,value:r}=t.data;return{...e,[n]:r};case wn:const{forDeletion:o,forUpdate:a}=t.data,i={...e};return o.forEach((e=>{delete i.features[e]})),{...i,features:{...i.features,...a}};default:return e}},serpPopupCounter:function(e=rt.getDefaultStateObject().serpPopupCounter,t){let n;return t.type===gr?(n=e+1,100===n?0:n):e},emailProtection:function(e=rt.getDefaultStateObject().emailProtection,t){return t.type===mr?{timesShown:e.timesShown+1}:e},freeUserBlockedWebsiteCounter:function(e=rt.getDefaultStateObject().freeUserBlockedWebsiteCounter,t){return t.type===fn?e+1:e},pinWotPopup:function(e=rt.getDefaultStateObject().pinWotPopup,t){return t.type===br?{...e,popupWasShown:!0}:e},popupV2:function(e=rt.getDefaultStateObject().popupV2,t){switch(t.type){case Sr:return{...e,wasShown:!0};case Cr:return{...e,scanTime:t.data.scanTime};default:return e}}});var Wo=n(53);var Vo=new class{constructor(){this.root="https://auth.api.mywot.com"}getUser(e){const t=`${this.root}/me`,n={Authorization:`Bearer ${e}`,"Content-Type":"text/plain"};return new Promise(((e,r)=>{et.get(t,n).then((t=>{if(200===t.status){let n;try{n=JSON.parse(t.responseText)}catch(e){n={code:4006,message:"You've been logged out. Please login again"}}const r=n.score&&parseStatus(n.score);!n.roles[6]&&r&&(n.roles[6]=r),n.roles[7]?n.roles[6]=n.roles[7]:n.roles[8]?n.roles[6]=n.roles[8]:n.roles[9]?n.roles[6]=n.roles[9]:n.roles[10]&&(n.roles[6]=n.roles[10]),e(n)}else r({code:t.status,message:"Cannot get user info"})})).catch((e=>{}))}))}login(e,t){const n="object"==typeof e?e:{username:e,password:t},r=`${this.root}/token?`;return new Promise(((e,t)=>{et.postJson(r,n).then((n=>{const r=JSON.parse(n.responseText);if(200===n.status){const t=r.token;e(t)}else t({code:r.code,message:r.message})})).catch((e=>{}))}))}logout(e){return new Promise(((t,n)=>{if(!e)return Promise.resolve();const r=`${this.root}/logout`,o={Authorization:`Bearer ${e||""}`};et.postJson(r,{},o).then((r=>{200===r.status?t(e):n(r.status)})).catch((e=>{}))}))}register(e,t,n,r){const o="object"==typeof e?e:{name:e,mail:t,pass:n,Pass2:r},a=Ze.a.merge({},o,{Pass2:o.Pass2||o.pass}),i=`${this.root}/signup?`;return new Promise(((e,t)=>{et.postJson(i,a).then((n=>{const r=JSON.parse(n.responseText);if(200===n.status){400===r.status&&t({code:r.code,message:r.message});const n=r.token;e(n)}else t({code:r.code,message:r.message})})).catch((e=>{}))}))}forgot(e){const t="object"==typeof e?e:{username:e},n=`${this.root}/forgot-pass?`;return new Promise(((e,r)=>{et.postJson(n,Ze.a.merge({},t)).then((t=>{const n=JSON.parse(t.responseText);200===t.status?e(n):r({code:n.code,message:n.message})})).catch((e=>{}))}))}socialLoginUrl(e){return`${this.root}/${e}?source=extension`}};n(106);function Ho(e,t,n,r,o){(()=>{try{return!(!document||!Oe.runtime.getURL("/"))}catch(e){return!1}})()&&Oe.runtime.sendMessage({name:b,params:{[ae]:e||"",[ie]:t||"",[se]:n||"",sendInternalAnalytics:r,testGroup:o}})}function qo(e,t){const n=Date.now();return Array.from(e.reduce(((e,r)=>{const o=We(r),a=t[o];return(!a||a.updated&&n-a.updated>=p)&&(t[o]=a||oe,e.add(o)),e}),new Set))}function Ko(e,t,n){return{comment:e.comment,safety:e.rating,tags:e.tags,id:e.id,uid:t,target:n}}const Go={[Bt]:e=>(t,n)=>{setTimeout((()=>{const{unauthReviews:r}=e.data,o=(Ze.a.get(n(),"user.uid",null),Ze.a.get(r,"rating",-1));if(null!==r&&-1!==o&&r.step>=4){Ze.a.get(r,"childSafetyCategories",[]),Ze.a.get(r,"reputationCategories",[]),Ze.a.get(r,"safetyCategories",[]),Date.now();t((e.data.host,Ze.a.get(r,"comment",""),{type:Ut}))}}),1500)},[On]:e=>t=>{Vo.login(e.data.username,e.data.password).then((e=>{t({type:kn,data:{token:e}})}),(e=>{Ho("Login","Error",e.code),t({type:Vn,data:{code:e.code,message:e.message}})}))},[kn]:e=>{try{Oe.tabs.query({},((e=[])=>{for(const t of e)t.url.match(f)&&Oe.tabs.remove(t.id)}))}catch(e){}return(t,n)=>{Vo.getUser(e.data&&e.data.token||n().user.token).then((r=>{Oe.tabs.query({active:!0,lastFocusedWindow:!0},(o=>{if(!o)return;const a=Ve(Ze.a.get(o[0],"url",null)||Ze.a.filter(n().tabs,{active:!0})[0].url),i=JSON.parse(JSON.stringify(Ze.a.get(n(),`reviews.1['${a}']`,null)));t({type:Bt,data:{host:a,unauthReviews:i}}),t({type:Mn,data:Ze.a.merge(r,{token:e.data.token}),host:a}),t({type:Un})}))}),(e=>{Ho("User","Error",e.code),t({type:Vn,data:{code:e.code,message:e.message}})}))}},[An]:e=>t=>{const{name:n,mail:r,pass:o,Pass2:a}=e.data;Vo.register(n,r,o,a).then((e=>{t({type:kn,data:{token:e}}),Vo.getUser(e).then((e=>{t({type:Mn,data:e})}),(e=>{Ho("User","Error",`${e.code} after register`),t({type:Vn,data:{code:e.code,message:e.message}})}))}),(e=>{Ho("Register","Error",e.code),t({type:Vn,data:{code:e.code,message:e.message}})}))},[Nn]:()=>(e,t)=>{const{token:n}=t().user;Vo.logout(n).then((()=>{})).catch((()=>{})).finally((()=>{e({type:vt,data:{userId:t().user.uid}}),e({type:Wn}),e({type:ln,data:!1})}))},[Rn]:e=>t=>{Vo.forgot(e.email).then((e=>{t({type:"MESSAGE_USER_AUTH",data:{message:e}})}),(e=>{Ho("Forgot","Error",e.code),t({type:Vn,data:{code:e.code,message:e.message}})}))},[Un]:()=>(e,t)=>{const{uid:n,token:r}=t().user;nt.getIsPremium(n,r).then((t=>{"safari"===Ie&&(t={isPremium:!0}),e({type:Ln,data:{isPremiumUser:!!t&&t.isPremium}})}),(t=>{e("safari"!==Ie?{type:Wn}:{type:Ln,data:{isPremiumUser:!0}})}))},[ft]:e=>(t,n)=>{const{targetParams:r,headers:o}=e.data,a=r.subtrgt,{ratings:i,settings:s}=n();d.test(a)&&!Fe(a)&&s.protection&&(r.links=qo(r.links,i),t({type:gt,data:{urls:r.links}}),nt.query(r,o).then((e=>{t(Ir(e))}),(e=>{Ho("QUERY","Error",e.message)})))},[ht]:e=>(t,n)=>{setTimeout((()=>{const{settings:r,ratings:o}=n(),a=qo(e.data.urls,o);a.length&&(t({type:gt,data:{urls:a}}),nt.query({links:a}).then((e=>{t(Ir(e))}),(e=>{Ho("Query","Error",e.message)})))}),200)},[Ut]:()=>(e,t)=>{const n=t().focusedReview;Ho("Main Window","Submit Review"),nt.sendComments({target:n.target,comment:n.comment,safety:n.safety,categories:n.tags},t().user.token).then((()=>{e(function(e,t=1){return{type:xn,data:{host:e,uid:t}}}(n.target)),Oe.runtime.sendMessage({action:H,notification:"reviewAddedOK"})})).catch((()=>{Oe.runtime.sendMessage({action:H,notification:"reviewAddedError"})}))},[In]:e=>(t,n)=>{const{uid:r,target:o}=e.data;t(Ar(o,r)),n().user.uid&&nt.deleteComments(o,n().user.token)},[Dn]:e=>t=>{const{host:n}=e.data;nt.commentsCount(n).then((e=>{const r=e&&e[n]&&e[n].count||0;t(function(e,t){return{type:lt,data:{host:e,count:t}}}(n,r))}))},[Pn]:e=>(t,n)=>{const{host:r,length:o,uid:a}=e.data;let i=e.data.offset;t(function(e){return{type:dt,data:e}}(r));const s=n();void 0===i&&(i=s.comments[r]&&s.comments[r].data&&Object.keys(s.comments[r].data).length||0),nt.comments(r,a,o,i).then((e=>{t(function(e){return{type:pt,data:e}}(Ze.a.merge(e[0],e[1])))}),(e=>{Ho("comments","error",e.message||e)}))},[xn]:e=>(t,n)=>{const{host:r}=e.data,{uid:o,token:a}=n().user;o&&1!==o&&nt.getUserReview(r,a).then((e=>{t(Or(r,o));const n=M.ratingFlow,a=e.categories||[],i=e.rating&&20*e.rating.stars||-1;if(-1===i)return t(Ar(r,o)),void t(Or(r,o));const s=a.filter((e=>1===e.vote&&n.childSafety.includes(e.name))),u={host:r,comment:e.comment,rating:i,step:6,timestamp:e.timestamp/1e3,childSafetyCategories:s,reputationCategories:a.filter((e=>1===e.vote&&n.reputation.includes(e.name))),safetyCategories:a.filter((e=>1===e.vote&&n.safety.includes(e.name))),childSafety:0===s.length,tags:a.map((e=>e.name)),uid:o,id:e.id};t({type:ut,data:u})})).catch((e=>{}))},[an]:()=>e=>{nt.getTrackersUrls().then((t=>{e({type:sn,data:t})}),(()=>{setTimeout((()=>{e(Ur())}),6e4)}))},[sr]:e=>(t,n)=>{const{uid:r,domain:o}=e.data,{focusedReview:a,reviews:i}=n();a&&a.safety>-1&&a.target===o?t(Br({...a,safety:e.data.stars?20*e.data.stars:a.safety})):i[r]&&i[r][o]&&i[r][o].rating>-1?t(Br(Ko(i[r][o],r,o))):t(Br({...q,safety:20*e.data.stars,target:o,uid:r}))},[ur]:e=>(t,n)=>{const{uid:r,domain:o}=e.data,{reviews:a}=n();a[r]&&a[r][o]&&t(Br(Ko(a[r][o],r,o)))},[pr]:e=>(t,n)=>{const{token:r}=n().user;if(!r)return;const{updatedTs:o}=n().leakMonitoring;nt.getDataLeak(r,o).then((n=>{t(function(e,t){return{type:dr,data:{res:e,initiated:t}}}(n,e.initiated)),!e.initiated&&n.breaches&&n.breaches.length&&Oe.action.setBadgeText({text:"1"})})).catch((e=>{}))},[Cn]:e=>(t,n)=>{try{const{forUpdate:t}=e.data,r=t.userDataAnalytics;if(r){const e=n(),t=e.remoteConfig.features.userDataAnalytics;if(Date.now()>r.endDate||t&&t.version===r.version)return;const o=r.eventName,a=r.stateFields,i=c,s=e.user,u=!!s&&s.isPremiumUser,l={};a.forEach((t=>{l[t]=e[t]})),nt.sendUserDataAnalytics(o,i,u,l)}}catch(e){}},[wr]:e=>(t,n)=>{try{const{tags:t}=e.data,{token:r}=n().user;nt.updateMailChimpTags(t,r)}catch(e){}},[Fn]:()=>(e,t)=>{const{uid:n,token:r}=t().user;nt.getIsTrialing(n,r).then((t=>{let n;if(t){n={isTrialing:t.isTrialing,trialEndDate:t.endDate}}else n={isTrialing:!1};e({type:Bn,data:n})})).catch((t=>{e({type:Bn,data:{isTrialing:!1}})}))}};n(94);let zo,$o={compose:ko,applyMiddleware:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var a,i=e(n,r,o),s=i.dispatch,u={getState:i.getState,dispatch:function(e){return s(e)}};return a=t.map((function(e){return e(u)})),s=ko.apply(void 0,a)(i.dispatch),Mo({},i,{dispatch:s})}}},createStore:function e(t,n,r){var o;if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var a=t,i=n,s=[],u=s,c=!1;function l(){u===s&&(u=s.slice())}function p(){return i}function d(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return l(),u.push(e),function(){if(t){t=!1,l();var n=u.indexOf(e);u.splice(n,1)}}}function f(e){if(!Po(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,i=a(i,e)}finally{c=!1}for(var t=s=u,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:xo}),(o={dispatch:f,subscribe:d,getState:p,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");a=e,f({type:xo})}})[Do.a]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(p())}return n(),{unsubscribe:t(n)}}})[Do.a]=function(){return this},e},o}},Yo={default:jo};const Xo=(e,t)=>{t&&e.dispatch({type:ir});const n=Oe.runtime.getManifest().version,{versionNumber:r,whatsNewShownLastVersion:o}=e.getState().version,{showWhatsNewForVersion:a,newFeatures:i}=io,s=t&&Me(a,o)>0;n!==r&&(s&&(e.dispatch({type:ar,data:{showWhatsNew:!0,newFeatures:i}}),Oe.action.setBadgeText({text:"1"})),e.dispatch(function(e){return{type:or,data:{versionNumber:e}}}(n)))};let Jo=null,Qo=!1;const Zo=e=>{Qo||(Qo=!0,Oe.storage.local.get(l,(t=>{const n=rt.getDefaultStateObject(!0),r=t.STORAGE_TOKEN||{},o=Je(r,n);K.value=o.wotTraceId;const a=(e=>{const t=[Object(Wo.alias)(Go),Yo.default],n=$o.createStore(Bo,e,$o.compose($o.applyMiddleware(...t)));return Object(Wo.wrapStore)(n,{portName:"4873"}),zo=n.getState(),n})(o);setTimeout((async()=>{Jo=new ao(a,e),a.dispatch({type:Un}),await new co(a).init(e),Xo(a,e)}),"firefox"===Ie?1e3:0)})))};self.addEventListener("querydata",(e=>{Jo&&Jo.onQueryDataEvent(e)})),Oe.runtime.onInstalled.addListener((e=>{Zo("update"===e.reason);const t=Oe.runtime.getManifest().version,n={os:-1!==navigator.userAgent.indexOf("Mac")?"mac":-1!==navigator.userAgent.indexOf("win")?"windows":"",eventSpecificFields:{version_number:t,full_user_agent:navigator.userAgent}};"install"===e.reason?nt.sendAnalyticsFromBackground(X.EXTENSION_INSTALL,"","",n):"update"===e.reason&&nt.sendAnalyticsFromBackground(X.EXTENSION_UPGRADE,"","",n)})),setTimeout((()=>{Zo(!1)}),500);new class{constructor(){this._ploys=[],this.limit=10,this.v=1.01,this.addGasListener()}getMeta(){const e={type:"pymeta",l:this.limit,v:this.v};return this.gasv&&(e.gasv=this.gasv),e}push(e){return this._ploys.push(e)}unshift(e){return this._ploys.unshift(e),this}getAll(){return this._ploys}take(e=0){return 0===e?this.takeAll():this.getAll().splice(0,e)}takeAll(){return this._ploys.splice(0,this._ploys.length)}hasItems(){return this._ploys.length>0}takeAndPack(e=0){return encodeURIComponent(JSON.stringify([this.getMeta(),...this.take(e)]))}lkify(e,t,n){const r="fas"===e.type,o="gas"===e.type,a={tid:n.tab.id,turl:r?this.getDomainName(n.tab.url):decodeURIComponent(n.tab.url)};t.meta={...a,subtype:e.subtype,v:e.v};const i={type:e.type,data:t};if(o&&0!==n.frameId&&i.data.fs&&i.data.fs.push(n.frameId),r&&t.elid){const e=this.getAll().filter((e=>"fas"===e.type&&e.data.elid===t.elid))[0];e?Object.assign(e.data,t):this.push(i)}else this.push(i)}addGasListener(){self.addEventListener("updateGasConfigVersion",(e=>{e.detail&&e.detail.gasv&&(this.gasv=e.detail.gasv)}))}};self.yodules=self.yodules||{},yodules.Noopener={init:function(e,t){const n=yodules.Noopener,r=e.instance,o=t.instance;n.class=class{handleRequest(e,t){if(!o.isValidRequest(e,"message_type","rel"))return;const{rel:n,background:a}=e,i=r.getById(t.tab.id);n instanceof Array&&n.length&&(a?i.setReltype(n):n.forEach((e=>i.addMeta(e))))}setTabReltype(e){if(!o.isValidRequest(e,"type","upnabla")||!o.isValidDetails(e))return;const t=r.getById(e.detail.tabId),n=r.getById(e.detail.openerId),a=n&&n.getReltype();t&&a&&(a instanceof Array?a.forEach((e=>t.addMeta(e))):t.addMeta(a),n.clearReltype())}addListeners(){chrome.runtime.onMessage.addListener(this.handleRequest.bind(this)),self.addEventListener("upnabla",this.setTabReltype.bind(this))}},n.instance=new n.class,n.instance.addListeners()},deps:["Tablist","ContentTypeHelper"]}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2ludmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvd2FybmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL09iamVjdC5hc3NpZ24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RNb3VudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0UGVyZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0VXBkYXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlGdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q3VycmVudE93bmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRXZlbnRDb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9Qb29sZWRDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIva2V5T2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFJlY29uY2lsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TeW50aGV0aWNFdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0RPTVByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RJbnN0YW5jZUhhbmRsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9FdmVudFBsdWdpbkh1Yi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0SW5zdGFuY2VNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5T2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRXZlbnRQcm9wYWdhdG9ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1N5bnRoZXRpY1VJRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIva2V5TWlycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvc2V0SW5uZXJIVE1MLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvY2FuRGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9UcmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1N5bnRoZXRpY01vdXNlRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9zZXRUZXh0Q29udGVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0RPTVByb3BlcnR5T3BlcmF0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RET01JRE9wZXJhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9pc0V2ZW50U3VwcG9ydGVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RVcGRhdGVRdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0NhbGxiYWNrUXVldWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9pbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL3Nob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvdmFsaWRhdGVET01OZXN0aW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvZ2V0RXZlbnRUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9nZXRFdmVudE1vZGlmaWVyU3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9maW5kRE9NTm9kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0xpbmtlZFZhbHVlVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9nZXRJdGVyYXRvckZuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvdHJhdmVyc2VBbGxDaGlsZHJlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2dldEV2ZW50Q2hhckNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93ZWJleHQtcmVkdXgvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93ZWJleHQtcmVkdXgvbGliL2NvbnN0YW50cy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2ViZXh0LXJlZHV4L2xpYi9zZXJpYWxpemF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93ZWJleHQtcmVkdXgvbGliL3N0cmF0ZWdpZXMvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93ZWJleHQtcmVkdXgvbGliL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERPTVRleHRDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9ET01DaGlsZHJlbk9wZXJhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2dldE1hcmt1cFdyYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0V2ZW50UGx1Z2luUmVnaXN0cnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdEVycm9yVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9hY2N1bXVsYXRlSW50by5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2ZvckVhY2hBY2N1bXVsYXRlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1ZpZXdwb3J0TWV0cmljcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RE9NRmVhdHVyZUZsYWdzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RFbXB0eUNvbXBvbmVudFJlZ2lzdHJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RSb290SW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdE1hcmt1cENoZWNrc3VtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9jb250YWluc05vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdEVtcHR5Q29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3ROYXRpdmVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERlZmF1bHRJbmplY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9nZXRUZXh0Q29udGVudEFjY2Vzc29yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvaXNUZXh0SW5wdXRFbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZm9jdXNOb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvQ1NTUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFByb3BUeXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q2hpbGRyZW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdERPTVNlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvc2hhbGxvd0VxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9FdmVudExpc3RlbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3ROb29wVXBkYXRlUXVldWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdElucHV0U2VsZWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RFbGVtZW50VmFsaWRhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWR1eC1sb2dnZXIvbGliL2hlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL3BvbnlmaWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2ZyZWVHbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZHV4LWxvZ2dlci9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2Nocm9tZS9zY3JpcHRzL2JhY2tncm91bmQvYXBwL2xwLWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9jaHJvbWUvc2NyaXB0cy9iYWNrZ3JvdW5kL2FwcC90YWJzQ2FjaGUuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2hhcm1vbnktbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93ZWJleHQtcmVkdXgvbGliL3N0b3JlL1N0b3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2guYXNzaWduaW4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dlYmV4dC1yZWR1eC9saWIvc3RyYXRlZ2llcy9zaGFsbG93RGlmZi9wYXRjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2ViZXh0LXJlZHV4L2xpYi9zdG9yZS9hcHBseU1pZGRsZXdhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dlYmV4dC1yZWR1eC9saWIvd3JhcC1zdG9yZS93cmFwU3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dlYmV4dC1yZWR1eC9saWIvc3RyYXRlZ2llcy9zaGFsbG93RGlmZi9kaWZmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93ZWJleHQtcmVkdXgvbGliL2FsaWFzL2FsaWFzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9yZWFjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RET00uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9EYW5nZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2NyZWF0ZU5vZGVzRnJvbU1hcmt1cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvY3JlYXRlQXJyYXlGcm9tTWl4ZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL3RvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9xdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0V2ZW50UGx1Z2luVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdEV2ZW50RW1pdHRlck1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvYWRsZXIzMi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0UmVmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RPd25lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaXNUZXh0Tm9kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaXNOb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RDb21wb3NpdGVDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9CZWZvcmVJbnB1dEV2ZW50UGx1Z2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvU3ludGhldGljQ29tcG9zaXRpb25FdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1N5bnRoZXRpY0lucHV0RXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9DaGFuZ2VFdmVudFBsdWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL0NsaWVudFJlYWN0Um9vdEluZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvRGVmYXVsdEV2ZW50UGx1Z2luT3JkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9FbnRlckxlYXZlRXZlbnRQbHVnaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9IVE1MRE9NUHJvcGVydHlDb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RE9NQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvQXV0b0ZvY3VzVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9DU1NQcm9wZXJ0eU9wZXJhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2NhbWVsaXplU3R5bGVOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9jYW1lbGl6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2Rhbmdlcm91c1N0eWxlVmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2h5cGhlbmF0ZVN0eWxlTmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaHlwaGVuYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9tZW1vaXplU3RyaW5nT25seS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RE9NQnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RET01JbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RE9NT3B0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RET01UZXh0YXJlYS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0TXVsdGlDaGlsZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0Q2hpbGRSZWNvbmNpbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvZmxhdHRlbkNoaWxkcmVuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RFdmVudExpc3RlbmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9nZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0SW5qZWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RE9NU2VsZWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1NlbGVjdEV2ZW50UGx1Z2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvU2VydmVyUmVhY3RSb290SW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TaW1wbGVFdmVudFBsdWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1N5bnRoZXRpY0NsaXBib2FyZEV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvU3ludGhldGljRm9jdXNFdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1N5bnRoZXRpY0tleWJvYXJkRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9nZXRFdmVudEtleS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1N5bnRoZXRpY0RyYWdFdmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1N5bnRoZXRpY1RvdWNoRXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9TeW50aGV0aWNXaGVlbEV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvU1ZHRE9NUHJvcGVydHlDb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL1JlYWN0RE9NU2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RTZXJ2ZXJSZW5kZXJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFNlcnZlckJhdGNoaW5nU3RyYXRlZ3kuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2xpYi9SZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RJc29tb3JwaGljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC9saWIvUmVhY3RET01GYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL21hcE9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL29ubHlDaGlsZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QvbGliL2RlcHJlY2F0ZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZHV4LWxvZ2dlci9saWIvY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVkdXgtbG9nZ2VyL2xpYi9kaWZmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kZWVwLWRpZmYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZHV4LWxvZ2dlci9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9jaHJvbWUvc2NyaXB0cy9jcm9zc2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9jaHJvbWUvc2NyaXB0cy9zaGFyZWQvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL2Rpc3QvY2hyb21lL3NjcmlwdHMvc2hhcmVkL3dvdENyeXB0by5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2Nocm9tZS9zY3JpcHRzL3NoYXJlZC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2Nocm9tZS9zY3JpcHRzL2JhY2tncm91bmQvYXBwL2NvbW1vbi9iYWNrZ3JvdW5kVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9jaHJvbWUvc2NyaXB0cy9zaGFyZWQvbmV0d29yay5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2Nocm9tZS9zY3JpcHRzL3NoYXJlZC93b3RBcGkuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9jaHJvbWUvc2NyaXB0cy9iYWNrZ3JvdW5kL2FwcC9kZWZhdWx0U3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9jaHJvbWUvc2NyaXB0cy9iYWNrZ3JvdW5kL2FwcC9hY3Rpb25zLmpzIiwid2VicGFjazovLy8uL2Rpc3QvY2hyb21lL3NjcmlwdHMvYmFja2dyb3VuZC9hcHAvY29tbW9uL215Q2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9jaHJvbWUvc2NyaXB0cy9iYWNrZ3JvdW5kL2FwcC9jb21tb24vY29tbW9uLmpzIiwid2VicGFjazovLy8uL2Rpc3QvY2hyb21lL3NjcmlwdHMvc2hhcmVkL3BpRmlsdGVyLmpzIiwid2VicGFjazovLy8uL2Rpc3QvY2hyb21lL3NjcmlwdHMvYmFja2dyb3VuZC9hcHAvY29udGVudC1zdGF0ZS1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL2Rpc3QvY2hyb21lL3NjcmlwdHMvYmFja2dyb3VuZC9hcHAvdHJhY2tlcnMtYmxvY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2Nocm9tZS9zY3JpcHRzL2JhY2tncm91bmQvYXBwL2FsYXJtcy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2Nocm9tZS9zY3JpcHRzL2JhY2tncm91bmQvYXBwL21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9jaHJvbWUvc2NyaXB0cy9iYWNrZ3JvdW5kL2FwcC93b3QtY29uZmlnLmpzIiwid2VicGFjazovLy8uL2Rpc3QvY2hyb21lL3NjcmlwdHMvc2hhcmVkL3NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2Nocm9tZS9zY3JpcHRzL2JhY2tncm91bmQvYXBwL3JlbW90ZS1jb25maWctaGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19yb290LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX1N5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19nZXRSYXdUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb2JqZWN0VG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZUdldFRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19vdmVyQXJnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2dldFByb3RvdHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzT2JqZWN0TGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzUGxhaW5PYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NyZWF0ZVN0b3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9jb21iaW5lUmVkdWNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2NvbXBvc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlZHV4L2VzL2FwcGx5TWlkZGxld2FyZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVkdXgtdGh1bmsvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9jaHJvbWUvc2NyaXB0cy9iYWNrZ3JvdW5kL2FwcC9yZWR1Y2Vycy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2Nocm9tZS9zY3JpcHRzL3NoYXJlZC93b3RBdXRoQXBpLmpzIiwid2VicGFjazovLy8uL2Rpc3QvY2hyb21lL3NjcmlwdHMvc2hhcmVkL3N0YXRlbGVzc0Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2Nocm9tZS9zY3JpcHRzL2JhY2tncm91bmQvYXBwL2FsaWFzZXMuanMiLCJ3ZWJwYWNrOi8vLy4vZGlzdC9jaHJvbWUvc2NyaXB0cy9iYWNrZ3JvdW5kL2FwcC9zdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi9kaXN0L2Nocm9tZS9zY3JpcHRzL2JhY2tncm91bmQvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ1bmRlZmluZWQiLCJGVU5DX0VSUk9SX1RFWFQiLCJIQVNIX1VOREVGSU5FRCIsIlBMQUNFSE9MREVSIiwiV1JBUF9DVVJSWV9SSUdIVF9GTEFHIiwiV1JBUF9QQVJUSUFMX0ZMQUciLCJXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyIsIldSQVBfQVJZX0ZMQUciLCJXUkFQX1JFQVJHX0ZMQUciLCJJTkZJTklUWSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJOQU4iLCJNQVhfQVJSQVlfTEVOR1RIIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJtYXBUYWciLCJudW1iZXJUYWciLCJvYmplY3RUYWciLCJwcm9taXNlVGFnIiwicmVnZXhwVGFnIiwic2V0VGFnIiwic3RyaW5nVGFnIiwic3ltYm9sVGFnIiwid2Vha01hcFRhZyIsImFycmF5QnVmZmVyVGFnIiwiZGF0YVZpZXdUYWciLCJmbG9hdDMyVGFnIiwiZmxvYXQ2NFRhZyIsImludDhUYWciLCJpbnQxNlRhZyIsImludDMyVGFnIiwidWludDhUYWciLCJ1aW50OENsYW1wZWRUYWciLCJ1aW50MTZUYWciLCJ1aW50MzJUYWciLCJyZUVtcHR5U3RyaW5nTGVhZGluZyIsInJlRW1wdHlTdHJpbmdNaWRkbGUiLCJyZUVtcHR5U3RyaW5nVHJhaWxpbmciLCJyZUVzY2FwZWRIdG1sIiwicmVVbmVzY2FwZWRIdG1sIiwicmVIYXNFc2NhcGVkSHRtbCIsIlJlZ0V4cCIsInNvdXJjZSIsInJlSGFzVW5lc2NhcGVkSHRtbCIsInJlRXNjYXBlIiwicmVFdmFsdWF0ZSIsInJlSW50ZXJwb2xhdGUiLCJyZUlzRGVlcFByb3AiLCJyZUlzUGxhaW5Qcm9wIiwicmVQcm9wTmFtZSIsInJlUmVnRXhwQ2hhciIsInJlSGFzUmVnRXhwQ2hhciIsInJlVHJpbVN0YXJ0IiwicmVXaGl0ZXNwYWNlIiwicmVXcmFwQ29tbWVudCIsInJlV3JhcERldGFpbHMiLCJyZVNwbGl0RGV0YWlscyIsInJlQXNjaWlXb3JkIiwicmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMiLCJyZUVzY2FwZUNoYXIiLCJyZUVzVGVtcGxhdGUiLCJyZUZsYWdzIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJlTGF0aW4iLCJyZU5vTWF0Y2giLCJyZVVuZXNjYXBlZFN0cmluZyIsInJzQ29tYm9SYW5nZSIsInJzQ29tYm9NYXJrc1JhbmdlIiwicnNEaW5nYmF0UmFuZ2UiLCJyc0xvd2VyUmFuZ2UiLCJyc1VwcGVyUmFuZ2UiLCJyc1ZhclJhbmdlIiwicnNCcmVha1JhbmdlIiwicnNNYXRoT3BSYW5nZSIsInJzQXBvcyIsInJzQXN0cmFsIiwicnNCcmVhayIsInJzQ29tYm8iLCJyc0RpZ2l0cyIsInJzRGluZ2JhdCIsInJzTG93ZXIiLCJyc01pc2MiLCJyc0ZpdHoiLCJyc05vbkFzdHJhbCIsInJzUmVnaW9uYWwiLCJyc1N1cnJQYWlyIiwicnNVcHBlciIsInJzTWlzY0xvd2VyIiwicnNNaXNjVXBwZXIiLCJyc09wdENvbnRyTG93ZXIiLCJyc09wdENvbnRyVXBwZXIiLCJyZU9wdE1vZCIsInJzT3B0VmFyIiwicnNTZXEiLCJqb2luIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJyZVVuaWNvZGUiLCJyZVVuaWNvZGVXb3JkIiwicmVIYXNVbmljb2RlIiwicmVIYXNVbmljb2RlV29yZCIsImNvbnRleHRQcm9wcyIsInRlbXBsYXRlQ291bnRlciIsInR5cGVkQXJyYXlUYWdzIiwiY2xvbmVhYmxlVGFncyIsInN0cmluZ0VzY2FwZXMiLCJmcmVlUGFyc2VGbG9hdCIsInBhcnNlRmxvYXQiLCJmcmVlUGFyc2VJbnQiLCJwYXJzZUludCIsImZyZWVHbG9iYWwiLCJnbG9iYWwiLCJmcmVlU2VsZiIsInNlbGYiLCJyb290IiwiRnVuY3Rpb24iLCJmcmVlRXhwb3J0cyIsIm5vZGVUeXBlIiwiZnJlZU1vZHVsZSIsIm1vZHVsZUV4cG9ydHMiLCJmcmVlUHJvY2VzcyIsInByb2Nlc3MiLCJub2RlVXRpbCIsInR5cGVzIiwicmVxdWlyZSIsImJpbmRpbmciLCJlIiwibm9kZUlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwibm9kZUlzRGF0ZSIsImlzRGF0ZSIsIm5vZGVJc01hcCIsImlzTWFwIiwibm9kZUlzUmVnRXhwIiwiaXNSZWdFeHAiLCJub2RlSXNTZXQiLCJpc1NldCIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJhcHBseSIsImZ1bmMiLCJ0aGlzQXJnIiwiYXJncyIsImxlbmd0aCIsImFycmF5QWdncmVnYXRvciIsImFycmF5Iiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhY2N1bXVsYXRvciIsImluZGV4IiwiYXJyYXlFYWNoIiwiYXJyYXlFYWNoUmlnaHQiLCJhcnJheUV2ZXJ5IiwicHJlZGljYXRlIiwiYXJyYXlGaWx0ZXIiLCJyZXNJbmRleCIsInJlc3VsdCIsImFycmF5SW5jbHVkZXMiLCJiYXNlSW5kZXhPZiIsImFycmF5SW5jbHVkZXNXaXRoIiwiY29tcGFyYXRvciIsImFycmF5TWFwIiwiQXJyYXkiLCJhcnJheVB1c2giLCJ2YWx1ZXMiLCJvZmZzZXQiLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImNvbGxlY3Rpb24iLCJlYWNoRnVuYyIsImJhc2VGaW5kSW5kZXgiLCJmcm9tSW5kZXgiLCJmcm9tUmlnaHQiLCJzdHJpY3RJbmRleE9mIiwiYmFzZUlzTmFOIiwiYmFzZUluZGV4T2ZXaXRoIiwiYmFzZU1lYW4iLCJiYXNlU3VtIiwiYmFzZVByb3BlcnR5T2YiLCJiYXNlUmVkdWNlIiwiY3VycmVudCIsImJhc2VUaW1lcyIsImJhc2VUcmltIiwic3RyaW5nIiwic2xpY2UiLCJ0cmltbWVkRW5kSW5kZXgiLCJyZXBsYWNlIiwiYmFzZVVuYXJ5IiwiYmFzZVZhbHVlcyIsInByb3BzIiwiY2FjaGVIYXMiLCJjYWNoZSIsImhhcyIsImNoYXJzU3RhcnRJbmRleCIsInN0clN5bWJvbHMiLCJjaHJTeW1ib2xzIiwiY2hhcnNFbmRJbmRleCIsImNvdW50SG9sZGVycyIsInBsYWNlaG9sZGVyIiwiZGVidXJyTGV0dGVyIiwiZXNjYXBlSHRtbENoYXIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsInRlc3QiLCJtYXBUb0FycmF5IiwibWFwIiwic2l6ZSIsImZvckVhY2giLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwiYXJnIiwicmVwbGFjZUhvbGRlcnMiLCJzZXRUb0FycmF5Iiwic2V0Iiwic2V0VG9QYWlycyIsInN0cmluZ1NpemUiLCJsYXN0SW5kZXgiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJtYXRjaCIsInVuaWNvZGVUb0FycmF5Iiwic3BsaXQiLCJhc2NpaVRvQXJyYXkiLCJjaGFyQXQiLCJ1bmVzY2FwZUh0bWxDaGFyIiwiXyIsInJ1bkluQ29udGV4dCIsImNvbnRleHQiLCJ1aWQiLCJkZWZhdWx0cyIsInBpY2siLCJEYXRlIiwiRXJyb3IiLCJNYXRoIiwiU3RyaW5nIiwiVHlwZUVycm9yIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsInRvU3RyaW5nIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0Q3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcGxpY2UiLCJzcHJlYWRhYmxlU3ltYm9sIiwiaXNDb25jYXRTcHJlYWRhYmxlIiwic3ltSXRlcmF0b3IiLCJpdGVyYXRvciIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwiY3R4Q2xlYXJUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3R4Tm93Iiwibm93IiwiY3R4U2V0VGltZW91dCIsInNldFRpbWVvdXQiLCJuYXRpdmVDZWlsIiwiY2VpbCIsIm5hdGl2ZUZsb29yIiwiZmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUlzRmluaXRlIiwiaXNGaW5pdGUiLCJuYXRpdmVKb2luIiwibmF0aXZlS2V5cyIsIm5hdGl2ZU1heCIsIm1heCIsIm5hdGl2ZU1pbiIsIm1pbiIsIm5hdGl2ZU5vdyIsIm5hdGl2ZVBhcnNlSW50IiwibmF0aXZlUmFuZG9tIiwicmFuZG9tIiwibmF0aXZlUmV2ZXJzZSIsInJldmVyc2UiLCJEYXRhVmlldyIsIk1hcCIsIlByb21pc2UiLCJTZXQiLCJXZWFrTWFwIiwibmF0aXZlQ3JlYXRlIiwibWV0YU1hcCIsInJlYWxOYW1lcyIsImRhdGFWaWV3Q3RvclN0cmluZyIsInRvU291cmNlIiwibWFwQ3RvclN0cmluZyIsInByb21pc2VDdG9yU3RyaW5nIiwic2V0Q3RvclN0cmluZyIsIndlYWtNYXBDdG9yU3RyaW5nIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xWYWx1ZU9mIiwidmFsdWVPZiIsInN5bWJvbFRvU3RyaW5nIiwibG9kYXNoIiwiaXNPYmplY3RMaWtlIiwiaXNBcnJheSIsIkxhenlXcmFwcGVyIiwiTG9kYXNoV3JhcHBlciIsIndyYXBwZXJDbG9uZSIsImJhc2VDcmVhdGUiLCJwcm90byIsImlzT2JqZWN0IiwiYmFzZUxvZGFzaCIsImNoYWluQWxsIiwidGhpcyIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImVudHJpZXMiLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiYWRkIiwiU3RhY2siLCJkYXRhIiwiYXJyYXlMaWtlS2V5cyIsImluaGVyaXRlZCIsImlzQXJyIiwiaXNBcmciLCJpc0FyZ3VtZW50cyIsImlzQnVmZiIsImlzVHlwZSIsInNraXBJbmRleGVzIiwiaXNJbmRleCIsInB1c2giLCJhcnJheVNhbXBsZSIsImJhc2VSYW5kb20iLCJhcnJheVNhbXBsZVNpemUiLCJzaHVmZmxlU2VsZiIsImNvcHlBcnJheSIsImJhc2VDbGFtcCIsImFycmF5U2h1ZmZsZSIsImFzc2lnbk1lcmdlVmFsdWUiLCJlcSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJhc3NvY0luZGV4T2YiLCJiYXNlQWdncmVnYXRvciIsImJhc2VFYWNoIiwiYmFzZUFzc2lnbiIsImNvcHlPYmplY3QiLCJiYXNlQXQiLCJwYXRocyIsInNraXAiLCJudW1iZXIiLCJsb3dlciIsInVwcGVyIiwiYmFzZUNsb25lIiwiYml0bWFzayIsImN1c3RvbWl6ZXIiLCJzdGFjayIsImlzRGVlcCIsImlzRmxhdCIsImlzRnVsbCIsImNvbnN0cnVjdG9yIiwiaW5wdXQiLCJpbml0Q2xvbmVBcnJheSIsInRhZyIsImdldFRhZyIsImlzRnVuYyIsImNsb25lQnVmZmVyIiwiaW5pdENsb25lT2JqZWN0IiwiZ2V0U3ltYm9sc0luIiwiY29weVN5bWJvbHNJbiIsImtleXNJbiIsImJhc2VBc3NpZ25JbiIsImdldFN5bWJvbHMiLCJjb3B5U3ltYm9scyIsIkN0b3IiLCJjbG9uZUFycmF5QnVmZmVyIiwiZGF0YVZpZXciLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsImNsb25lRGF0YVZpZXciLCJjbG9uZVR5cGVkQXJyYXkiLCJyZWdleHAiLCJjbG9uZVJlZ0V4cCIsInN5bWJvbCIsImluaXRDbG9uZUJ5VGFnIiwic3RhY2tlZCIsInN1YlZhbHVlIiwiZ2V0QWxsS2V5c0luIiwiZ2V0QWxsS2V5cyIsImJhc2VDb25mb3Jtc1RvIiwiYmFzZURlbGF5Iiwid2FpdCIsImJhc2VEaWZmZXJlbmNlIiwiaW5jbHVkZXMiLCJpc0NvbW1vbiIsInZhbHVlc0xlbmd0aCIsIm91dGVyIiwiY29tcHV0ZWQiLCJ2YWx1ZXNJbmRleCIsInRlbXBsYXRlU2V0dGluZ3MiLCJwb3AiLCJnZXRNYXBEYXRhIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwiY3JlYXRlQmFzZUVhY2giLCJiYXNlRm9yT3duIiwiYmFzZUVhY2hSaWdodCIsImJhc2VGb3JPd25SaWdodCIsImJhc2VFdmVyeSIsImJhc2VFeHRyZW11bSIsImlzU3ltYm9sIiwiYmFzZUZpbHRlciIsImJhc2VGbGF0dGVuIiwiZGVwdGgiLCJpc1N0cmljdCIsImlzRmxhdHRlbmFibGUiLCJiYXNlRm9yIiwiY3JlYXRlQmFzZUZvciIsImJhc2VGb3JSaWdodCIsImJhc2VGdW5jdGlvbnMiLCJpc0Z1bmN0aW9uIiwiYmFzZUdldCIsInBhdGgiLCJjYXN0UGF0aCIsInRvS2V5IiwiYmFzZUdldEFsbEtleXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwiYmFzZUdldFRhZyIsImlzT3duIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VHdCIsIm90aGVyIiwiYmFzZUhhcyIsImJhc2VIYXNJbiIsImJhc2VJbnRlcnNlY3Rpb24iLCJhcnJheXMiLCJvdGhMZW5ndGgiLCJvdGhJbmRleCIsImNhY2hlcyIsIm1heExlbmd0aCIsIkluZmluaXR5Iiwic2VlbiIsImJhc2VJbnZva2UiLCJwYXJlbnQiLCJsYXN0IiwiYmFzZUlzQXJndW1lbnRzIiwiYmFzZUlzRXF1YWwiLCJlcXVhbEZ1bmMiLCJvYmpJc0FyciIsIm90aElzQXJyIiwib2JqVGFnIiwib3RoVGFnIiwib2JqSXNPYmoiLCJvdGhJc09iaiIsImlzU2FtZVRhZyIsImVxdWFsQXJyYXlzIiwibWVzc2FnZSIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJvYmpTdGFja2VkIiwib3RoU3RhY2tlZCIsInNraXBDdG9yIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZXF1YWxPYmplY3RzIiwiYmFzZUlzRXF1YWxEZWVwIiwiYmFzZUlzTWF0Y2giLCJtYXRjaERhdGEiLCJub0N1c3RvbWl6ZXIiLCJzcmNWYWx1ZSIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiYmFzZUlzTmF0aXZlIiwiYmFzZUl0ZXJhdGVlIiwiaWRlbnRpdHkiLCJiYXNlTWF0Y2hlc1Byb3BlcnR5IiwiYmFzZU1hdGNoZXMiLCJiYXNlS2V5cyIsImlzUHJvdG90eXBlIiwiYmFzZUtleXNJbiIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlTHQiLCJiYXNlTWFwIiwiaXNBcnJheUxpa2UiLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsImlzS2V5IiwiaXNTdHJpY3RDb21wYXJhYmxlIiwiaGFzSW4iLCJiYXNlTWVyZ2UiLCJzcmNJbmRleCIsIm1lcmdlRnVuYyIsInNhZmVHZXQiLCJuZXdWYWx1ZSIsImlzVHlwZWQiLCJpc0FycmF5TGlrZU9iamVjdCIsImlzUGxhaW5PYmplY3QiLCJ0b1BsYWluT2JqZWN0IiwiYmFzZU1lcmdlRGVlcCIsImJhc2VOdGgiLCJiYXNlT3JkZXJCeSIsIml0ZXJhdGVlcyIsIm9yZGVycyIsImdldEl0ZXJhdGVlIiwiY3JpdGVyaWEiLCJjb21wYXJlciIsInNvcnQiLCJiYXNlU29ydEJ5Iiwib2JqQ3JpdGVyaWEiLCJvdGhDcml0ZXJpYSIsIm9yZGVyc0xlbmd0aCIsImNvbXBhcmVBc2NlbmRpbmciLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiaW5kZXhPZiIsImJhc2VQdWxsQXQiLCJpbmRleGVzIiwicHJldmlvdXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzdGFydCIsInNldFRvU3RyaW5nIiwib3ZlclJlc3QiLCJiYXNlU2FtcGxlIiwiYmFzZVNhbXBsZVNpemUiLCJuZXN0ZWQiLCJiYXNlU2V0RGF0YSIsImJhc2VTZXRUb1N0cmluZyIsImNvbnN0YW50IiwiYmFzZVNodWZmbGUiLCJiYXNlU2xpY2UiLCJlbmQiLCJiYXNlU29tZSIsImJhc2VTb3J0ZWRJbmRleCIsInJldEhpZ2hlc3QiLCJsb3ciLCJoaWdoIiwibWlkIiwiYmFzZVNvcnRlZEluZGV4QnkiLCJ2YWxJc05hTiIsInZhbElzTnVsbCIsInZhbElzU3ltYm9sIiwidmFsSXNVbmRlZmluZWQiLCJvdGhJc0RlZmluZWQiLCJvdGhJc051bGwiLCJvdGhJc1JlZmxleGl2ZSIsIm90aElzU3ltYm9sIiwic2V0TG93IiwiYmFzZVNvcnRlZFVuaXEiLCJiYXNlVG9OdW1iZXIiLCJiYXNlVG9TdHJpbmciLCJiYXNlVW5pcSIsImNyZWF0ZVNldCIsInNlZW5JbmRleCIsImJhc2VVcGRhdGUiLCJ1cGRhdGVyIiwiYmFzZVdoaWxlIiwiaXNEcm9wIiwiYmFzZVdyYXBwZXJWYWx1ZSIsImFjdGlvbnMiLCJhY3Rpb24iLCJiYXNlWG9yIiwiYmFzZVppcE9iamVjdCIsImFzc2lnbkZ1bmMiLCJ2YWxzTGVuZ3RoIiwiY2FzdEFycmF5TGlrZU9iamVjdCIsImNhc3RGdW5jdGlvbiIsInN0cmluZ1RvUGF0aCIsImNhc3RSZXN0IiwiY2FzdFNsaWNlIiwiaWQiLCJjb3B5IiwiYXJyYXlCdWZmZXIiLCJ0eXBlZEFycmF5IiwidmFsSXNEZWZpbmVkIiwidmFsSXNSZWZsZXhpdmUiLCJjb21wb3NlQXJncyIsInBhcnRpYWxzIiwiaG9sZGVycyIsImlzQ3VycmllZCIsImFyZ3NJbmRleCIsImFyZ3NMZW5ndGgiLCJob2xkZXJzTGVuZ3RoIiwibGVmdEluZGV4IiwibGVmdExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaXNVbmN1cnJpZWQiLCJjb21wb3NlQXJnc1JpZ2h0IiwiaG9sZGVyc0luZGV4IiwicmlnaHRJbmRleCIsInJpZ2h0TGVuZ3RoIiwiaXNOZXciLCJjcmVhdGVBZ2dyZWdhdG9yIiwiaW5pdGlhbGl6ZXIiLCJjcmVhdGVBc3NpZ25lciIsImFzc2lnbmVyIiwic291cmNlcyIsImd1YXJkIiwiaXNJdGVyYXRlZUNhbGwiLCJpdGVyYWJsZSIsImNyZWF0ZUNhc2VGaXJzdCIsIm1ldGhvZE5hbWUiLCJ0cmFpbGluZyIsImNyZWF0ZUNvbXBvdW5kZXIiLCJjYWxsYmFjayIsIndvcmRzIiwiZGVidXJyIiwiY3JlYXRlQ3RvciIsImFyZ3VtZW50cyIsInRoaXNCaW5kaW5nIiwiY3JlYXRlRmluZCIsImZpbmRJbmRleEZ1bmMiLCJjcmVhdGVGbG93IiwiZmxhdFJlc3QiLCJmdW5jcyIsInByZXJlcSIsInRocnUiLCJ3cmFwcGVyIiwiZ2V0RnVuY05hbWUiLCJmdW5jTmFtZSIsImdldERhdGEiLCJpc0xhemlhYmxlIiwicGxhbnQiLCJjcmVhdGVIeWJyaWQiLCJwYXJ0aWFsc1JpZ2h0IiwiaG9sZGVyc1JpZ2h0IiwiYXJnUG9zIiwiYXJ5IiwiYXJpdHkiLCJpc0FyeSIsImlzQmluZCIsImlzQmluZEtleSIsImlzRmxpcCIsImdldEhvbGRlciIsImhvbGRlcnNDb3VudCIsIm5ld0hvbGRlcnMiLCJjcmVhdGVSZWN1cnJ5IiwiZm4iLCJyZW9yZGVyIiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiYmFzZUludmVydGVyIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsIm9wZXJhdG9yIiwiZGVmYXVsdFZhbHVlIiwiY3JlYXRlT3ZlciIsImFycmF5RnVuYyIsImNyZWF0ZVBhZGRpbmciLCJjaGFycyIsImNoYXJzTGVuZ3RoIiwiY3JlYXRlUmFuZ2UiLCJzdGVwIiwidG9GaW5pdGUiLCJiYXNlUmFuZ2UiLCJjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uIiwidG9OdW1iZXIiLCJ3cmFwRnVuYyIsImlzQ3VycnkiLCJuZXdEYXRhIiwic2V0RGF0YSIsInNldFdyYXBUb1N0cmluZyIsImNyZWF0ZVJvdW5kIiwicHJlY2lzaW9uIiwidG9JbnRlZ2VyIiwicGFpciIsIm5vb3AiLCJjcmVhdGVUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyTGVuZ3RoIiwiYXJyU3RhY2tlZCIsImFyclZhbHVlIiwiZmxhdHRlbiIsIm90aGVyRnVuYyIsInR5cGUiLCJnZXRWYWx1ZSIsInN0dWJBcnJheSIsImhhc1BhdGgiLCJoYXNGdW5jIiwiaXNMZW5ndGgiLCJBcnJheUJ1ZmZlciIsInJlc29sdmUiLCJjdG9yU3RyaW5nIiwiaXNNYXNrYWJsZSIsInN0dWJGYWxzZSIsIm90aGVyQXJncyIsIm9sZEFycmF5Iiwic2hvcnRPdXQiLCJyZWZlcmVuY2UiLCJkZXRhaWxzIiwiaW5zZXJ0V3JhcERldGFpbHMiLCJ1cGRhdGVXcmFwRGV0YWlscyIsImdldFdyYXBEZXRhaWxzIiwiY291bnQiLCJsYXN0Q2FsbGVkIiwic3RhbXAiLCJyZW1haW5pbmciLCJyYW5kIiwibWVtb2l6ZSIsIm1lbW9pemVDYXBwZWQiLCJjaGFyQ29kZUF0IiwicXVvdGUiLCJzdWJTdHJpbmciLCJjbG9uZSIsImRpZmZlcmVuY2UiLCJkaWZmZXJlbmNlQnkiLCJkaWZmZXJlbmNlV2l0aCIsImZpbmRJbmRleCIsImZpbmRMYXN0SW5kZXgiLCJoZWFkIiwiaW50ZXJzZWN0aW9uIiwibWFwcGVkIiwiaW50ZXJzZWN0aW9uQnkiLCJpbnRlcnNlY3Rpb25XaXRoIiwicHVsbCIsInB1bGxBbGwiLCJwdWxsQXQiLCJ1bmlvbiIsInVuaW9uQnkiLCJ1bmlvbldpdGgiLCJ1bnppcCIsImdyb3VwIiwidW56aXBXaXRoIiwid2l0aG91dCIsInhvciIsInhvckJ5IiwieG9yV2l0aCIsInppcCIsInppcFdpdGgiLCJjaGFpbiIsImludGVyY2VwdG9yIiwid3JhcHBlckF0IiwiY291bnRCeSIsImZpbmQiLCJmaW5kTGFzdCIsImZvckVhY2hSaWdodCIsImdyb3VwQnkiLCJpbnZva2VNYXAiLCJrZXlCeSIsInBhcnRpdGlvbiIsInNvcnRCeSIsImJlZm9yZSIsImJpbmRLZXkiLCJXUkFQX0JJTkRfRkxBRyIsImRlYm91bmNlIiwib3B0aW9ucyIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJtYXhXYWl0IiwidGltZXJJZCIsImxhc3RDYWxsVGltZSIsImxhc3RJbnZva2VUaW1lIiwibGVhZGluZyIsIm1heGluZyIsImludm9rZUZ1bmMiLCJ0aW1lIiwibGVhZGluZ0VkZ2UiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJjYW5jZWwiLCJmbHVzaCIsImRlZmVyIiwiZGVsYXkiLCJyZXNvbHZlciIsIm1lbW9pemVkIiwiQ2FjaGUiLCJuZWdhdGUiLCJvdmVyQXJncyIsInRyYW5zZm9ybXMiLCJmdW5jc0xlbmd0aCIsInBhcnRpYWwiLCJwYXJ0aWFsUmlnaHQiLCJyZWFyZyIsImd0IiwiZ3RlIiwiaXNFcnJvciIsImlzSW50ZWdlciIsImlzTnVtYmVyIiwiaXNTdHJpbmciLCJsdCIsImx0ZSIsInRvQXJyYXkiLCJuZXh0IiwiZG9uZSIsIml0ZXJhdG9yVG9BcnJheSIsInJlbWFpbmRlciIsInRvTGVuZ3RoIiwiaXNCaW5hcnkiLCJhc3NpZ24iLCJhc3NpZ25JbiIsImFzc2lnbkluV2l0aCIsImFzc2lnbldpdGgiLCJhdCIsInByb3BzSW5kZXgiLCJwcm9wc0xlbmd0aCIsImRlZmF1bHRzRGVlcCIsIm1lcmdlV2l0aCIsImludmVydCIsImludmVydEJ5IiwiaW52b2tlIiwibWVyZ2UiLCJvbWl0IiwiQ0xPTkVfREVFUF9GTEFHIiwiYmFzZVBpY2siLCJwaWNrQnkiLCJwcm9wIiwidG9QYWlycyIsInRvUGFpcnNJbiIsImNhbWVsQ2FzZSIsIndvcmQiLCJ0b0xvd2VyQ2FzZSIsImNhcGl0YWxpemUiLCJ1cHBlckZpcnN0Iiwia2ViYWJDYXNlIiwibG93ZXJDYXNlIiwibG93ZXJGaXJzdCIsInNuYWtlQ2FzZSIsInN0YXJ0Q2FzZSIsInVwcGVyQ2FzZSIsInRvVXBwZXJDYXNlIiwicGF0dGVybiIsImhhc1VuaWNvZGVXb3JkIiwidW5pY29kZVdvcmRzIiwiYXNjaWlXb3JkcyIsImF0dGVtcHQiLCJiaW5kQWxsIiwibWV0aG9kTmFtZXMiLCJmbG93IiwiZmxvd1JpZ2h0IiwibWV0aG9kIiwibWV0aG9kT2YiLCJtaXhpbiIsIm92ZXIiLCJvdmVyRXZlcnkiLCJvdmVyU29tZSIsImJhc2VQcm9wZXJ0eURlZXAiLCJyYW5nZSIsInJhbmdlUmlnaHQiLCJhdWdlbmQiLCJhZGRlbmQiLCJkaXZpZGUiLCJkaXZpZGVuZCIsImRpdmlzb3IiLCJtdWx0aXBseSIsIm11bHRpcGxpZXIiLCJtdWx0aXBsaWNhbmQiLCJyb3VuZCIsInN1YnRyYWN0IiwibWludWVuZCIsInN1YnRyYWhlbmQiLCJhZnRlciIsImNhc3RBcnJheSIsImNodW5rIiwiY29tcGFjdCIsImNvbmNhdCIsImNvbmQiLCJjb25mb3JtcyIsImJhc2VDb25mb3JtcyIsInByb3BlcnRpZXMiLCJjdXJyeSIsImN1cnJ5UmlnaHQiLCJkcm9wIiwiZHJvcFJpZ2h0IiwiZHJvcFJpZ2h0V2hpbGUiLCJkcm9wV2hpbGUiLCJmaWxsIiwiYmFzZUZpbGwiLCJmaWx0ZXIiLCJmbGF0TWFwIiwiZmxhdE1hcERlZXAiLCJmbGF0TWFwRGVwdGgiLCJmbGF0dGVuRGVlcCIsImZsYXR0ZW5EZXB0aCIsImZsaXAiLCJmcm9tUGFpcnMiLCJmdW5jdGlvbnMiLCJmdW5jdGlvbnNJbiIsImluaXRpYWwiLCJtYXBLZXlzIiwibWFwVmFsdWVzIiwibWF0Y2hlcyIsIm1hdGNoZXNQcm9wZXJ0eSIsIm50aEFyZyIsIm9taXRCeSIsIm9uY2UiLCJvcmRlckJ5IiwicHJvcGVydHlPZiIsInB1bGxBbGxCeSIsInB1bGxBbGxXaXRoIiwicmVqZWN0IiwicmVtb3ZlIiwicmVzdCIsInNhbXBsZVNpemUiLCJzZXRXaXRoIiwic2h1ZmZsZSIsInNvcnRlZFVuaXEiLCJzb3J0ZWRVbmlxQnkiLCJzZXBhcmF0b3IiLCJsaW1pdCIsInNwcmVhZCIsInRhaWwiLCJ0YWtlIiwidGFrZVJpZ2h0IiwidGFrZVJpZ2h0V2hpbGUiLCJ0YWtlV2hpbGUiLCJ0YXAiLCJ0aHJvdHRsZSIsInRvUGF0aCIsImlzQXJyTGlrZSIsInVuYXJ5IiwidW5pcSIsInVuaXFCeSIsInVuaXFXaXRoIiwidW5zZXQiLCJ1cGRhdGUiLCJ1cGRhdGVXaXRoIiwidmFsdWVzSW4iLCJ3cmFwIiwiemlwT2JqZWN0IiwiemlwT2JqZWN0RGVlcCIsImVudHJpZXNJbiIsImV4dGVuZCIsImV4dGVuZFdpdGgiLCJjbGFtcCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjbG9uZVdpdGgiLCJjb25mb3Jtc1RvIiwiZGVmYXVsdFRvIiwiZW5kc1dpdGgiLCJ0YXJnZXQiLCJwb3NpdGlvbiIsImVzY2FwZSIsImVzY2FwZVJlZ0V4cCIsImV2ZXJ5IiwiZmluZEtleSIsImZpbmRMYXN0S2V5IiwiZm9ySW4iLCJmb3JJblJpZ2h0IiwiZm9yT3duIiwiZm9yT3duUmlnaHQiLCJpblJhbmdlIiwiYmFzZUluUmFuZ2UiLCJpc0Jvb2xlYW4iLCJpc0VsZW1lbnQiLCJpc0VtcHR5IiwiaXNFcXVhbCIsImlzRXF1YWxXaXRoIiwiaXNNYXRjaCIsImlzTWF0Y2hXaXRoIiwiaXNOYU4iLCJpc05hdGl2ZSIsImlzTmlsIiwiaXNOdWxsIiwiaXNTYWZlSW50ZWdlciIsImlzVW5kZWZpbmVkIiwiaXNXZWFrTWFwIiwiaXNXZWFrU2V0IiwibGFzdEluZGV4T2YiLCJzdHJpY3RMYXN0SW5kZXhPZiIsIm1heEJ5IiwibWVhbiIsIm1lYW5CeSIsIm1pbkJ5Iiwic3R1Yk9iamVjdCIsInN0dWJTdHJpbmciLCJzdHViVHJ1ZSIsIm50aCIsIm5vQ29uZmxpY3QiLCJwYWQiLCJzdHJMZW5ndGgiLCJwYWRFbmQiLCJwYWRTdGFydCIsInJhZGl4IiwiZmxvYXRpbmciLCJ0ZW1wIiwicmVkdWNlIiwicmVkdWNlUmlnaHQiLCJyZXBlYXQiLCJzYW1wbGUiLCJzb21lIiwic29ydGVkSW5kZXgiLCJzb3J0ZWRJbmRleEJ5Iiwic29ydGVkSW5kZXhPZiIsInNvcnRlZExhc3RJbmRleCIsInNvcnRlZExhc3RJbmRleEJ5Iiwic29ydGVkTGFzdEluZGV4T2YiLCJzdGFydHNXaXRoIiwic3VtIiwic3VtQnkiLCJ0ZW1wbGF0ZSIsInNldHRpbmdzIiwiaXNFc2NhcGluZyIsImlzRXZhbHVhdGluZyIsImltcG9ydHMiLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJpbnRlcnBvbGF0ZSIsInJlRGVsaW1pdGVycyIsImV2YWx1YXRlIiwic291cmNlVVJMIiwiZXNjYXBlVmFsdWUiLCJpbnRlcnBvbGF0ZVZhbHVlIiwiZXNUZW1wbGF0ZVZhbHVlIiwiZXZhbHVhdGVWYWx1ZSIsInZhcmlhYmxlIiwidGltZXMiLCJ0b0xvd2VyIiwidG9TYWZlSW50ZWdlciIsInRvVXBwZXIiLCJ0cmltIiwidHJpbUVuZCIsInRyaW1TdGFydCIsInRydW5jYXRlIiwib21pc3Npb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJuZXdFbmQiLCJ1bmVzY2FwZSIsInVuaXF1ZUlkIiwicHJlZml4IiwiZWFjaCIsImVhY2hSaWdodCIsImZpcnN0IiwiVkVSU0lPTiIsImlzRmlsdGVyIiwidGFrZU5hbWUiLCJkcm9wTmFtZSIsImNoZWNrSXRlcmF0ZWUiLCJpc1Rha2VyIiwibG9kYXNoRnVuYyIsInJldFVud3JhcHBlZCIsImlzTGF6eSIsInVzZUxhenkiLCJpc0h5YnJpZCIsImlzVW53cmFwcGVkIiwib25seUxhenkiLCJjaGFpbk5hbWUiLCJkaXIiLCJpc1JpZ2h0IiwidmlldyIsImdldFZpZXciLCJpdGVyTGVuZ3RoIiwidGFrZUNvdW50IiwiaXRlckluZGV4IiwiY29tbWl0Iiwid3JhcHBlZCIsInRvSlNPTiIsImNvbmRpdGlvbiIsImZvcm1hdCIsImEiLCJiIiwiZiIsImVycm9yIiwiYXJnSW5kZXgiLCJmcmFtZXNUb1BvcCIsIndhcm5pbmciLCJ0byIsIm5leHRJbmRleCIsIm5leHRTb3VyY2UiLCJmcm9tIiwiY2FuVXNlRE9NIiwid2luZG93IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiRXhlY3V0aW9uRW52aXJvbm1lbnQiLCJjYW5Vc2VXb3JrZXJzIiwiV29ya2VyIiwiY2FuVXNlRXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJjYW5Vc2VWaWV3cG9ydCIsInNjcmVlbiIsImlzSW5Xb3JrZXIiLCJET01Qcm9wZXJ0eSIsIlJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciIsIlJlYWN0RE9NRmVhdHVyZUZsYWdzIiwiUmVhY3RFbGVtZW50IiwiUmVhY3RFbXB0eUNvbXBvbmVudFJlZ2lzdHJ5IiwiUmVhY3RJbnN0YW5jZUhhbmRsZXMiLCJSZWFjdEluc3RhbmNlTWFwIiwiUmVhY3RNYXJrdXBDaGVja3N1bSIsIlJlYWN0UGVyZiIsIlJlYWN0UmVjb25jaWxlciIsIlJlYWN0VXBkYXRlUXVldWUiLCJSZWFjdFVwZGF0ZXMiLCJlbXB0eU9iamVjdCIsImNvbnRhaW5zTm9kZSIsImluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQiLCJpbnZhcmlhbnQiLCJzZXRJbm5lckhUTUwiLCJzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCIsIkFUVFJfTkFNRSIsIklEX0FUVFJJQlVURV9OQU1FIiwibm9kZUNhY2hlIiwib3duZXJEb2N1bWVudENvbnRleHRLZXkiLCJpbnN0YW5jZXNCeVJlYWN0Um9vdElEIiwiY29udGFpbmVyc0J5UmVhY3RSb290SUQiLCJmaW5kQ29tcG9uZW50Um9vdFJldXNhYmxlQXJyYXkiLCJnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIiLCJjb250YWluZXIiLCJkb2N1bWVudEVsZW1lbnQiLCJmaXJzdENoaWxkIiwiZ2V0UmVhY3RSb290SUQiLCJyb290RWxlbWVudCIsIlJlYWN0TW91bnQiLCJnZXRJRCIsImludGVybmFsR2V0SUQiLCJub2RlIiwiZ2V0QXR0cmlidXRlIiwiaXNWYWxpZCIsImZpbmRSZWFjdENvbnRhaW5lckZvcklEIiwiZGVlcGVzdE5vZGVTb0ZhciIsImZpbmREZWVwZXN0Q2FjaGVkQW5jZXN0b3JJbXBsIiwiYW5jZXN0b3JJRCIsImFuY2VzdG9yIiwibW91bnRDb21wb25lbnRJbnRvTm9kZSIsImNvbXBvbmVudEluc3RhbmNlIiwicm9vdElEIiwidHJhbnNhY3Rpb24iLCJzaG91bGRSZXVzZU1hcmt1cCIsInVzZUNyZWF0ZUVsZW1lbnQiLCJvd25lckRvY3VtZW50IiwibWFya3VwIiwibW91bnRDb21wb25lbnQiLCJfcmVuZGVyZWRDb21wb25lbnQiLCJfdG9wTGV2ZWxXcmFwcGVyIiwiX21vdW50SW1hZ2VJbnRvTm9kZSIsImJhdGNoZWRNb3VudENvbXBvbmVudEludG9Ob2RlIiwiUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiIsImdldFBvb2xlZCIsInBlcmZvcm0iLCJyZWxlYXNlIiwidW5tb3VudENvbXBvbmVudEZyb21Ob2RlIiwiaW5zdGFuY2UiLCJ1bm1vdW50Q29tcG9uZW50IiwibGFzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJoYXNOb25Sb290UmVhY3RDaGlsZCIsInJlYWN0Um9vdElEIiwiZ2V0UmVhY3RSb290SURGcm9tTm9kZUlEIiwiVG9wTGV2ZWxXcmFwcGVyIiwiaXNSZWFjdENvbXBvbmVudCIsInJlbmRlciIsIl9pbnN0YW5jZXNCeVJlYWN0Um9vdElEIiwic2Nyb2xsTW9uaXRvciIsInJlbmRlckNhbGxiYWNrIiwiX3VwZGF0ZVJvb3RDb21wb25lbnQiLCJwcmV2Q29tcG9uZW50IiwibmV4dEVsZW1lbnQiLCJlbnF1ZXVlRWxlbWVudEludGVybmFsIiwiZW5xdWV1ZUNhbGxiYWNrSW50ZXJuYWwiLCJfcmVnaXN0ZXJDb21wb25lbnQiLCJuZXh0Q29tcG9uZW50IiwiZW5zdXJlU2Nyb2xsVmFsdWVNb25pdG9yaW5nIiwicmVnaXN0ZXJDb250YWluZXIiLCJfcmVuZGVyTmV3Um9vdENvbXBvbmVudCIsImJhdGNoZWRVcGRhdGVzIiwicmVuZGVyU3VidHJlZUludG9Db250YWluZXIiLCJwYXJlbnRDb21wb25lbnQiLCJfcmVhY3RJbnRlcm5hbEluc3RhbmNlIiwiX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyIiwiaXNWYWxpZEVsZW1lbnQiLCJuZXh0V3JhcHBlZEVsZW1lbnQiLCJwcmV2RWxlbWVudCIsIl9jdXJyZW50RWxlbWVudCIsInB1YmxpY0luc3QiLCJnZXRQdWJsaWNJbnN0YW5jZSIsInVwZGF0ZWRDYWxsYmFjayIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJyZWFjdFJvb3RFbGVtZW50IiwiY29udGFpbmVySGFzUmVhY3RNYXJrdXAiLCJjb250YWluZXJIYXNOb25Sb290UmVhY3RDaGlsZCIsImNvbXBvbmVudCIsIl9wcm9jZXNzQ2hpbGRDb250ZXh0IiwiX2NvbnRleHQiLCJjcmVhdGVSZWFjdFJvb3RJRCIsImNvbnRhaW5lcklEIiwiZmluZFJlYWN0Tm9kZUJ5SUQiLCJyZWFjdFJvb3QiLCJmaW5kQ29tcG9uZW50Um9vdCIsImdldEZpcnN0UmVhY3RET00iLCJwYXJlbnROb2RlIiwibm9kZUlEIiwibGFzdElEIiwiZmluZEZpcnN0UmVhY3RET01JbXBsIiwiYW5jZXN0b3JOb2RlIiwidGFyZ2V0SUQiLCJmaXJzdENoaWxkcmVuIiwiY2hpbGRJbmRleCIsImRlZXBlc3RBbmNlc3RvciIsInRyYXZlcnNlQW5jZXN0b3JzIiwiZm91bmROb2RlIiwiZmluZERlZXBlc3RDYWNoZWRBbmNlc3RvciIsInRhcmdldENoaWxkIiwiY2hpbGQiLCJjaGlsZElEIiwiaXNBbmNlc3RvcklET2YiLCJuZXh0U2libGluZyIsImNhblJldXNlTWFya3VwIiwiY2hlY2tzdW0iLCJDSEVDS1NVTV9BVFRSX05BTUUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyb290TWFya3VwIiwib3V0ZXJIVE1MIiwic2V0QXR0cmlidXRlIiwibm9ybWFsaXplZE1hcmt1cCIsImRpZmZJbmRleCIsInN0cmluZzEiLCJzdHJpbmcyIiwibWluTGVuIiwiZmlyc3REaWZmZXJlbmNlSW5kZXgiLCJhcHBlbmRDaGlsZCIsImNhY2hlZCIsInNldElEIiwib2xkSUQiLCJnZXROb2RlIiwiZ2V0Tm9kZUZyb21JbnN0YW5jZSIsIl9yb290Tm9kZUlEIiwiaXNOdWxsQ29tcG9uZW50SUQiLCJwdXJnZUlEIiwibWVhc3VyZU1ldGhvZHMiLCJSZWFjdEN1cnJlbnRPd25lciIsIlJFQUNUX0VMRU1FTlRfVFlQRSIsIlJFU0VSVkVEX1BST1BTIiwicmVmIiwiX19zZWxmIiwiX19zb3VyY2UiLCJvd25lciIsIiQkdHlwZW9mIiwiX293bmVyIiwiY29uZmlnIiwiY2hpbGRyZW4iLCJwcm9wTmFtZSIsImNoaWxkcmVuTGVuZ3RoIiwiY2hpbGRBcnJheSIsImRlZmF1bHRQcm9wcyIsImNyZWF0ZUZhY3RvcnkiLCJmYWN0b3J5IiwiY2xvbmVBbmRSZXBsYWNlS2V5Iiwib2xkRWxlbWVudCIsIm5ld0tleSIsIl9zZWxmIiwiX3NvdXJjZSIsImNsb25lQW5kUmVwbGFjZVByb3BzIiwibmV3UHJvcHMiLCJjbG9uZUVsZW1lbnQiLCJlbGVtZW50IiwiZW5hYmxlTWVhc3VyZSIsInN0b3JlZE1lYXN1cmUiLCJvYmpOYW1lIiwiZm5OYW1lIiwib2JqZWN0TmFtZSIsIm1lYXN1cmUiLCJpbmplY3Rpb24iLCJpbmplY3RNZWFzdXJlIiwiQ2FsbGJhY2tRdWV1ZSIsIlBvb2xlZENsYXNzIiwiVHJhbnNhY3Rpb24iLCJkaXJ0eUNvbXBvbmVudHMiLCJhc2FwQ2FsbGJhY2tRdWV1ZSIsImFzYXBFbnF1ZXVlZCIsImJhdGNoaW5nU3RyYXRlZ3kiLCJlbnN1cmVJbmplY3RlZCIsIlRSQU5TQUNUSU9OX1dSQVBQRVJTIiwiaW5pdGlhbGl6ZSIsImRpcnR5Q29tcG9uZW50c0xlbmd0aCIsImNsb3NlIiwiZmx1c2hCYXRjaGVkVXBkYXRlcyIsImNhbGxiYWNrUXVldWUiLCJyZXNldCIsIm5vdGlmeUFsbCIsIlJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24iLCJyZWluaXRpYWxpemVUcmFuc2FjdGlvbiIsInJlY29uY2lsZVRyYW5zYWN0aW9uIiwibW91bnRPcmRlckNvbXBhcmF0b3IiLCJjMSIsImMyIiwiX21vdW50T3JkZXIiLCJydW5CYXRjaGVkVXBkYXRlcyIsImxlbiIsImNhbGxiYWNrcyIsIl9wZW5kaW5nQ2FsbGJhY2tzIiwicGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5IiwiaiIsImVucXVldWUiLCJNaXhpbiIsImdldFRyYW5zYWN0aW9uV3JhcHBlcnMiLCJkZXN0cnVjdG9yIiwic2NvcGUiLCJhZGRQb29saW5nVG8iLCJxdWV1ZSIsImVucXVldWVVcGRhdGUiLCJpc0JhdGNoaW5nVXBkYXRlcyIsImluamVjdFJlY29uY2lsZVRyYW5zYWN0aW9uIiwiUmVjb25jaWxlVHJhbnNhY3Rpb24iLCJpbmplY3RCYXRjaGluZ1N0cmF0ZWd5IiwiX2JhdGNoaW5nU3RyYXRlZ3kiLCJhc2FwIiwibWFrZUVtcHR5RnVuY3Rpb24iLCJlbXB0eUZ1bmN0aW9uIiwidGhhdFJldHVybnMiLCJ0aGF0UmV0dXJuc0ZhbHNlIiwidGhhdFJldHVybnNUcnVlIiwidGhhdFJldHVybnNOdWxsIiwidGhhdFJldHVybnNUaGlzIiwidGhhdFJldHVybnNBcmd1bWVudCIsImtleU1pcnJvciIsIlByb3BhZ2F0aW9uUGhhc2VzIiwiYnViYmxlZCIsImNhcHR1cmVkIiwiRXZlbnRDb25zdGFudHMiLCJ0b3BMZXZlbFR5cGVzIiwidG9wQWJvcnQiLCJ0b3BCbHVyIiwidG9wQ2FuUGxheSIsInRvcENhblBsYXlUaHJvdWdoIiwidG9wQ2hhbmdlIiwidG9wQ2xpY2siLCJ0b3BDb21wb3NpdGlvbkVuZCIsInRvcENvbXBvc2l0aW9uU3RhcnQiLCJ0b3BDb21wb3NpdGlvblVwZGF0ZSIsInRvcENvbnRleHRNZW51IiwidG9wQ29weSIsInRvcEN1dCIsInRvcERvdWJsZUNsaWNrIiwidG9wRHJhZyIsInRvcERyYWdFbmQiLCJ0b3BEcmFnRW50ZXIiLCJ0b3BEcmFnRXhpdCIsInRvcERyYWdMZWF2ZSIsInRvcERyYWdPdmVyIiwidG9wRHJhZ1N0YXJ0IiwidG9wRHJvcCIsInRvcER1cmF0aW9uQ2hhbmdlIiwidG9wRW1wdGllZCIsInRvcEVuY3J5cHRlZCIsInRvcEVuZGVkIiwidG9wRXJyb3IiLCJ0b3BGb2N1cyIsInRvcElucHV0IiwidG9wS2V5RG93biIsInRvcEtleVByZXNzIiwidG9wS2V5VXAiLCJ0b3BMb2FkIiwidG9wTG9hZGVkRGF0YSIsInRvcExvYWRlZE1ldGFkYXRhIiwidG9wTG9hZFN0YXJ0IiwidG9wTW91c2VEb3duIiwidG9wTW91c2VNb3ZlIiwidG9wTW91c2VPdXQiLCJ0b3BNb3VzZU92ZXIiLCJ0b3BNb3VzZVVwIiwidG9wUGFzdGUiLCJ0b3BQYXVzZSIsInRvcFBsYXkiLCJ0b3BQbGF5aW5nIiwidG9wUHJvZ3Jlc3MiLCJ0b3BSYXRlQ2hhbmdlIiwidG9wUmVzZXQiLCJ0b3BTY3JvbGwiLCJ0b3BTZWVrZWQiLCJ0b3BTZWVraW5nIiwidG9wU2VsZWN0aW9uQ2hhbmdlIiwidG9wU3RhbGxlZCIsInRvcFN1Ym1pdCIsInRvcFN1c3BlbmQiLCJ0b3BUZXh0SW5wdXQiLCJ0b3BUaW1lVXBkYXRlIiwidG9wVG91Y2hDYW5jZWwiLCJ0b3BUb3VjaEVuZCIsInRvcFRvdWNoTW92ZSIsInRvcFRvdWNoU3RhcnQiLCJ0b3BWb2x1bWVDaGFuZ2UiLCJ0b3BXYWl0aW5nIiwidG9wV2hlZWwiLCJvbmVBcmd1bWVudFBvb2xlciIsImNvcHlGaWVsZHNGcm9tIiwiS2xhc3MiLCJpbnN0YW5jZVBvb2wiLCJzdGFuZGFyZFJlbGVhc2VyIiwicG9vbFNpemUiLCJERUZBVUxUX1BPT0xFUiIsIkNvcHlDb25zdHJ1Y3RvciIsInBvb2xlciIsIk5ld0tsYXNzIiwidHdvQXJndW1lbnRQb29sZXIiLCJhMSIsImEyIiwidGhyZWVBcmd1bWVudFBvb2xlciIsImEzIiwiZm91ckFyZ3VtZW50UG9vbGVyIiwiYTQiLCJmaXZlQXJndW1lbnRQb29sZXIiLCJhNSIsIm9uZUtleU9iaiIsIlJlYWN0UmVmIiwiYXR0YWNoUmVmcyIsImludGVybmFsSW5zdGFuY2UiLCJnZXRSZWFjdE1vdW50UmVhZHkiLCJkZXRhY2hSZWZzIiwicmVjZWl2ZUNvbXBvbmVudCIsInJlZnNDaGFuZ2VkIiwic2hvdWxkVXBkYXRlUmVmcyIsIkV2ZW50SW50ZXJmYWNlIiwiY3VycmVudFRhcmdldCIsImV2ZW50UGhhc2UiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsInRpbWVTdGFtcCIsImV2ZW50IiwiZGVmYXVsdFByZXZlbnRlZCIsImlzVHJ1c3RlZCIsIlN5bnRoZXRpY0V2ZW50IiwiZGlzcGF0Y2hDb25maWciLCJkaXNwYXRjaE1hcmtlciIsIm5hdGl2ZUV2ZW50IiwibmF0aXZlRXZlbnRUYXJnZXQiLCJJbnRlcmZhY2UiLCJub3JtYWxpemUiLCJyZXR1cm5WYWx1ZSIsImlzRGVmYXVsdFByZXZlbnRlZCIsImlzUHJvcGFnYXRpb25TdG9wcGVkIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJwZXJzaXN0IiwiaXNQZXJzaXN0ZW50IiwiYXVnbWVudENsYXNzIiwiQ2xhc3MiLCJTdXBlciIsImNoZWNrTWFzayIsIkRPTVByb3BlcnR5SW5qZWN0aW9uIiwiTVVTVF9VU0VfQVRUUklCVVRFIiwiTVVTVF9VU0VfUFJPUEVSVFkiLCJIQVNfU0lERV9FRkZFQ1RTIiwiSEFTX0JPT0xFQU5fVkFMVUUiLCJIQVNfTlVNRVJJQ19WQUxVRSIsIkhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFIiwiSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRSIsImluamVjdERPTVByb3BlcnR5Q29uZmlnIiwiZG9tUHJvcGVydHlDb25maWciLCJJbmplY3Rpb24iLCJQcm9wZXJ0aWVzIiwiRE9NQXR0cmlidXRlTmFtZXNwYWNlcyIsIkRPTUF0dHJpYnV0ZU5hbWVzIiwiRE9NUHJvcGVydHlOYW1lcyIsIkRPTU11dGF0aW9uTWV0aG9kcyIsImlzQ3VzdG9tQXR0cmlidXRlIiwiX2lzQ3VzdG9tQXR0cmlidXRlRnVuY3Rpb25zIiwibG93ZXJDYXNlZCIsInByb3BDb25maWciLCJwcm9wZXJ0eUluZm8iLCJhdHRyaWJ1dGVOYW1lIiwiYXR0cmlidXRlTmFtZXNwYWNlIiwicHJvcGVydHlOYW1lIiwibXV0YXRpb25NZXRob2QiLCJtdXN0VXNlQXR0cmlidXRlIiwibXVzdFVzZVByb3BlcnR5IiwiaGFzU2lkZUVmZmVjdHMiLCJoYXNCb29sZWFuVmFsdWUiLCJoYXNOdW1lcmljVmFsdWUiLCJoYXNQb3NpdGl2ZU51bWVyaWNWYWx1ZSIsImhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWUiLCJkZWZhdWx0VmFsdWVDYWNoZSIsImdldFBvc3NpYmxlU3RhbmRhcmROYW1lIiwiaXNDdXN0b21BdHRyaWJ1dGVGbiIsImdldERlZmF1bHRWYWx1ZUZvclByb3BlcnR5Iiwibm9kZU5hbWUiLCJ0ZXN0RWxlbWVudCIsIm5vZGVEZWZhdWx0cyIsIlJlYWN0Um9vdEluZGV4IiwiU0VQQVJBVE9SIiwiU0VQQVJBVE9SX0xFTkdUSCIsImlzQm91bmRhcnkiLCJpc1ZhbGlkSUQiLCJkZXNjZW5kYW50SUQiLCJnZXRQYXJlbnRJRCIsInN1YnN0ciIsImdldE5leHREZXNjZW5kYW50SUQiLCJkZXN0aW5hdGlvbklEIiwiZ2V0Rmlyc3RDb21tb25BbmNlc3RvcklEIiwib25lSUQiLCJ0d29JRCIsIm1pbkxlbmd0aCIsImxhc3RDb21tb25NYXJrZXJJbmRleCIsImxvbmdlc3RDb21tb25JRCIsInRyYXZlcnNlUGFyZW50UGF0aCIsInN0b3AiLCJjYiIsInNraXBGaXJzdCIsInNraXBMYXN0IiwidHJhdmVyc2VVcCIsInRyYXZlcnNlIiwicmV0IiwiY3JlYXRlUmVhY3RSb290SW5kZXgiLCJjcmVhdGVSZWFjdElEIiwidHJhdmVyc2VFbnRlckxlYXZlIiwibGVhdmVJRCIsImVudGVySUQiLCJ1cEFyZyIsImRvd25BcmciLCJ0cmF2ZXJzZVR3b1BoYXNlIiwidHJhdmVyc2VUd29QaGFzZVNraXBUYXJnZXQiLCJfZ2V0TmV4dERlc2NlbmRhbnRJRCIsIkV2ZW50UGx1Z2luUmVnaXN0cnkiLCJFdmVudFBsdWdpblV0aWxzIiwiUmVhY3RFcnJvclV0aWxzIiwiYWNjdW11bGF0ZUludG8iLCJmb3JFYWNoQWNjdW11bGF0ZWQiLCJsaXN0ZW5lckJhbmsiLCJldmVudFF1ZXVlIiwiZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlIiwic2ltdWxhdGVkIiwiZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyIiwiZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlU2ltdWxhdGVkIiwiZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlVG9wTGV2ZWwiLCJJbnN0YW5jZUhhbmRsZSIsIkV2ZW50UGx1Z2luSHViIiwiaW5qZWN0TW91bnQiLCJpbmplY3RJbnN0YW5jZUhhbmRsZSIsIkluamVjdGVkSW5zdGFuY2VIYW5kbGUiLCJnZXRJbnN0YW5jZUhhbmRsZSIsImluamVjdEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUiLCJldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MiLCJyZWdpc3RyYXRpb25OYW1lTW9kdWxlcyIsInB1dExpc3RlbmVyIiwicmVnaXN0cmF0aW9uTmFtZSIsImxpc3RlbmVyIiwiUGx1Z2luTW9kdWxlIiwiZGlkUHV0TGlzdGVuZXIiLCJnZXRMaXN0ZW5lciIsImJhbmtGb3JSZWdpc3RyYXRpb25OYW1lIiwiZGVsZXRlTGlzdGVuZXIiLCJ3aWxsRGVsZXRlTGlzdGVuZXIiLCJkZWxldGVBbGxMaXN0ZW5lcnMiLCJleHRyYWN0RXZlbnRzIiwidG9wTGV2ZWxUeXBlIiwidG9wTGV2ZWxUYXJnZXQiLCJ0b3BMZXZlbFRhcmdldElEIiwiZXZlbnRzIiwicGx1Z2lucyIsInBvc3NpYmxlUGx1Z2luIiwiZXh0cmFjdGVkRXZlbnRzIiwiZW5xdWV1ZUV2ZW50cyIsInByb2Nlc3NFdmVudFF1ZXVlIiwicHJvY2Vzc2luZ0V2ZW50UXVldWUiLCJyZXRocm93Q2F1Z2h0RXJyb3IiLCJfX3B1cmdlIiwiX19nZXRMaXN0ZW5lckJhbmsiLCJhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzIiwiZG9tSUQiLCJ1cHdhcmRzIiwicHJvcGFnYXRpb25QaGFzZSIsInBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzIiwibGlzdGVuZXJBdFBoYXNlIiwiX2Rpc3BhdGNoTGlzdGVuZXJzIiwiX2Rpc3BhdGNoSURzIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZSIsImFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVTa2lwVGFyZ2V0IiwiYWNjdW11bGF0ZURpc3BhdGNoZXMiLCJpZ25vcmVkRGlyZWN0aW9uIiwiYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXNTaW5nbGUiLCJFdmVudFByb3BhZ2F0b3JzIiwiYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyIsImFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0IiwiYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXMiLCJhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMiLCJsZWF2ZSIsImVudGVyIiwiZnJvbUlEIiwidG9JRCIsImdldEV2ZW50VGFyZ2V0IiwiVUlFdmVudEludGVyZmFjZSIsImRvYyIsImRlZmF1bHRWaWV3IiwicGFyZW50V2luZG93IiwiZGV0YWlsIiwiU3ludGhldGljVUlFdmVudCIsImciLCJvYmoiLCJXSElURVNQQUNFX1RFU1QiLCJOT05WSVNJQkxFX1RFU1QiLCJodG1sIiwiaW5uZXJIVE1MIiwiTVNBcHAiLCJleGVjVW5zYWZlTG9jYWxGdW5jdGlvbiIsInJlcGxhY2VDaGlsZCIsImZyb21DaGFyQ29kZSIsInRleHROb2RlIiwiZGVsZXRlRGF0YSIsIkVTQ0FQRV9MT09LVVAiLCJFU0NBUEVfUkVHRVgiLCJlc2NhcGVyIiwidGV4dCIsIlJlYWN0RXZlbnRFbWl0dGVyTWl4aW4iLCJWaWV3cG9ydE1ldHJpY3MiLCJpc0V2ZW50U3VwcG9ydGVkIiwiYWxyZWFkeUxpc3RlbmluZ1RvIiwiaXNNb25pdG9yaW5nU2Nyb2xsVmFsdWUiLCJyZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIiLCJ0b3BFdmVudE1hcHBpbmciLCJ0b3BMaXN0ZW5lcnNJREtleSIsIlJlYWN0RXZlbnRMaXN0ZW5lciIsImluamVjdFJlYWN0RXZlbnRMaXN0ZW5lciIsInNldEhhbmRsZVRvcExldmVsIiwiaGFuZGxlVG9wTGV2ZWwiLCJzZXRFbmFibGVkIiwiZW5hYmxlZCIsImlzRW5hYmxlZCIsImxpc3RlblRvIiwiY29udGVudERvY3VtZW50SGFuZGxlIiwibW91bnRBdCIsImlzTGlzdGVuaW5nIiwiZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQiLCJkZXBlbmRlbmNpZXMiLCJyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzIiwiZGVwZW5kZW5jeSIsInRyYXBCdWJibGVkRXZlbnQiLCJ0cmFwQ2FwdHVyZWRFdmVudCIsIldJTkRPV19IQU5ETEUiLCJoYW5kbGVyQmFzZU5hbWUiLCJoYW5kbGUiLCJyZWZyZXNoIiwicmVmcmVzaFNjcm9sbFZhbHVlcyIsIm1vbml0b3JTY3JvbGxWYWx1ZSIsInRyYW5zYWN0aW9uV3JhcHBlcnMiLCJ3cmFwcGVySW5pdERhdGEiLCJfaXNJblRyYW5zYWN0aW9uIiwiaXNJblRyYW5zYWN0aW9uIiwiZXJyb3JUaHJvd24iLCJpbml0aWFsaXplQWxsIiwiY2xvc2VBbGwiLCJlcnIiLCJzdGFydEluZGV4IiwiT0JTRVJWRURfRVJST1IiLCJpbml0RGF0YSIsIlJlYWN0UHJvcFR5cGVMb2NhdGlvbnMiLCJjaGlsZENvbnRleHQiLCJNb3VzZUV2ZW50SW50ZXJmYWNlIiwic2NyZWVuWCIsInNjcmVlblkiLCJjbGllbnRYIiwiY2xpZW50WSIsImN0cmxLZXkiLCJzaGlmdEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJnZXRNb2RpZmllclN0YXRlIiwiYnV0dG9uIiwiYnV0dG9ucyIsInJlbGF0ZWRUYXJnZXQiLCJmcm9tRWxlbWVudCIsInNyY0VsZW1lbnQiLCJ0b0VsZW1lbnQiLCJwYWdlWCIsImN1cnJlbnRTY3JvbGxMZWZ0IiwicGFnZVkiLCJjdXJyZW50U2Nyb2xsVG9wIiwiU3ludGhldGljTW91c2VFdmVudCIsImVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciIsInNldFRleHRDb250ZW50IiwidGV4dENvbnRlbnQiLCJxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3NlciIsIlZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYIiwiaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZSIsInZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSIsImlzQXR0cmlidXRlTmFtZVNhZmUiLCJzaG91bGRJZ25vcmVWYWx1ZSIsIkRPTVByb3BlcnR5T3BlcmF0aW9ucyIsImNyZWF0ZU1hcmt1cEZvcklEIiwic2V0QXR0cmlidXRlRm9ySUQiLCJjcmVhdGVNYXJrdXBGb3JQcm9wZXJ0eSIsImNyZWF0ZU1hcmt1cEZvckN1c3RvbUF0dHJpYnV0ZSIsInNldFZhbHVlRm9yUHJvcGVydHkiLCJkZWxldGVWYWx1ZUZvclByb3BlcnR5IiwibmFtZXNwYWNlIiwic2V0QXR0cmlidXRlTlMiLCJzZXRWYWx1ZUZvckF0dHJpYnV0ZSIsIlJlYWN0RE9NSURPcGVyYXRpb25zIiwiUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQiLCJwcm9jZXNzQ2hpbGRyZW5VcGRhdGVzIiwiZGFuZ2Vyb3VzbHlQcm9jZXNzQ2hpbGRyZW5VcGRhdGVzIiwicmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRCIsImRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRCIsInVubW91bnRJREZyb21FbnZpcm9ubWVudCIsInJvb3ROb2RlSUQiLCJET01DaGlsZHJlbk9wZXJhdGlvbnMiLCJJTlZBTElEX1BST1BFUlRZX0VSUk9SUyIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwic3R5bGUiLCJ1cGRhdGVQcm9wZXJ0eUJ5SUQiLCJkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCIsInVwZGF0ZXMiLCJwYXJlbnRJRCIsInByb2Nlc3NVcGRhdGVzIiwidXNlSGFzRmVhdHVyZSIsImltcGxlbWVudGF0aW9uIiwiaGFzRmVhdHVyZSIsImV2ZW50TmFtZVN1ZmZpeCIsImNhcHR1cmUiLCJldmVudE5hbWUiLCJpc1N1cHBvcnRlZCIsImdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZSIsInB1YmxpY0luc3RhbmNlIiwiY2FsbGVyTmFtZSIsImlzTW91bnRlZCIsImVucXVldWVDYWxsYmFjayIsImVucXVldWVGb3JjZVVwZGF0ZSIsIl9wZW5kaW5nRm9yY2VVcGRhdGUiLCJlbnF1ZXVlUmVwbGFjZVN0YXRlIiwiY29tcGxldGVTdGF0ZSIsIl9wZW5kaW5nU3RhdGVRdWV1ZSIsIl9wZW5kaW5nUmVwbGFjZVN0YXRlIiwiZW5xdWV1ZVNldFN0YXRlIiwicGFydGlhbFN0YXRlIiwiZW5xdWV1ZVNldFByb3BzIiwicGFydGlhbFByb3BzIiwiZW5xdWV1ZVNldFByb3BzSW50ZXJuYWwiLCJ0b3BMZXZlbFdyYXBwZXIiLCJ3cmFwRWxlbWVudCIsIl9wZW5kaW5nRWxlbWVudCIsImVucXVldWVSZXBsYWNlUHJvcHMiLCJlbnF1ZXVlUmVwbGFjZVByb3BzSW50ZXJuYWwiLCJuZXdFbGVtZW50IiwiX2NhbGxiYWNrcyIsIl9jb250ZXh0cyIsImNvbnRleHRzIiwiUmVhY3RDb21wb3NpdGVDb21wb25lbnQiLCJSZWFjdEVtcHR5Q29tcG9uZW50IiwiUmVhY3ROYXRpdmVDb21wb25lbnQiLCJSZWFjdENvbXBvc2l0ZUNvbXBvbmVudFdyYXBwZXIiLCJjcmVhdGVJbnRlcm5hbENvbXBvbmVudCIsImNyZWF0ZUluc3RhbmNlRm9yVGV4dCIsImNvbnN0cnVjdCIsIl9tb3VudEluZGV4IiwiX21vdW50SW1hZ2UiLCJfaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCIsImluamVjdGVkIiwiUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudCIsImluamVjdEVudmlyb25tZW50IiwiZW52aXJvbm1lbnQiLCJwcmV2RW1wdHkiLCJuZXh0RW1wdHkiLCJwcmV2VHlwZSIsIm5leHRUeXBlIiwidmFsaWRhdGVET01OZXN0aW5nIiwibW9kaWZpZXJLZXlUb1Byb3AiLCJtb2RpZmllclN0YXRlR2V0dGVyIiwia2V5QXJnIiwia2V5UHJvcCIsImNvbXBvbmVudE9yRWxlbWVudCIsIlJlYWN0UHJvcFR5cGVzIiwiaGFzUmVhZE9ubHlWYWx1ZSIsIl9hc3NlcnRTaW5nbGVMaW5rIiwiaW5wdXRQcm9wcyIsImNoZWNrZWRMaW5rIiwidmFsdWVMaW5rIiwiX2Fzc2VydFZhbHVlTGluayIsIm9uQ2hhbmdlIiwiX2Fzc2VydENoZWNrZWRMaW5rIiwiY2hlY2tlZCIsInByb3BUeXBlcyIsImNvbXBvbmVudE5hbWUiLCJyZWFkT25seSIsImRpc2FibGVkIiwibG9nZ2VkVHlwZUZhaWx1cmVzIiwiZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtIiwiZ2V0TmFtZSIsIkxpbmtlZFZhbHVlVXRpbHMiLCJjaGVja1Byb3BUeXBlcyIsInRhZ05hbWUiLCJnZXRDaGVja2VkIiwiZXhlY3V0ZU9uQ2hhbmdlIiwicmVxdWVzdENoYW5nZSIsIklURVJBVE9SX1NZTUJPTCIsIm1heWJlSXRlcmFibGUiLCJpdGVyYXRvckZuIiwiZ2V0SXRlcmF0b3JGbiIsInVzZXJQcm92aWRlZEtleUVzY2FwZXJMb29rdXAiLCJ1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCIsInVzZXJQcm92aWRlZEtleUVzY2FwZXIiLCJnZXRDb21wb25lbnRLZXkiLCJ3cmFwVXNlclByb3ZpZGVkS2V5IiwidHJhdmVyc2VBbGxDaGlsZHJlbkltcGwiLCJuYW1lU29GYXIiLCJ0cmF2ZXJzZUNvbnRleHQiLCJzdWJ0cmVlQ291bnQiLCJuZXh0TmFtZVByZWZpeCIsImlpIiwiY2hhckNvZGUiLCJrZXlDb2RlIiwiX1N0b3JlIiwiZGVmYXVsdCIsIl9hcHBseU1pZGRsZXdhcmUiLCJfd3JhcFN0b3JlIiwiX2FsaWFzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIkRFRkFVTFRfUE9SVF9OQU1FIiwiUEFUQ0hfU1RBVEVfVFlQRSIsIlNUQVRFX1RZUEUiLCJESVNQQVRDSF9UWVBFIiwiX29iamVjdFNwcmVhZCIsIm93bktleXMiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIndpdGhTZXJpYWxpemVyIiwid2l0aERlc2VyaWFsaXplciIsInBheWxvYWQiLCJ0cmFuc2Zvcm1QYXlsb2FkIiwidHJhbnNmb3JtZXIiLCJkZXNlcmlhbGl6ZUxpc3RlbmVyIiwiZGVzZXJpYWxpemVyIiwic2hvdWxkRGVzZXJpYWxpemUiLCJfbGVuIiwiX2tleSIsIl9sZW4yIiwiX2tleTIiLCJhZGRMaXN0ZW5lckZuIiwic2VyaWFsaXplciIsInNlbmRNZXNzYWdlRm4iLCJtZXNzYWdlQXJnSW5kZXgiLCJfbGVuMyIsIl9rZXkzIiwiRElGRl9TVEFUVVNfQVJSQVlfVVBEQVRFRCIsIkRJRkZfU1RBVFVTX0tFWVNfVVBEQVRFRCIsIkRJRkZfU1RBVFVTX1JFTU9WRUQiLCJESUZGX1NUQVRVU19VUERBVEVEIiwiZ2V0QnJvd3NlckFQSSIsImFwaSIsImNocm9tZSIsImJyb3dzZXIiLCJSZWFjdERPTVRleHRDb21wb25lbnQiLCJfc3RyaW5nVGV4dCIsImVsIiwiZXNjYXBlZFRleHQiLCJyZW5kZXJUb1N0YXRpY01hcmt1cCIsIm5leHRUZXh0IiwibmV4dFN0cmluZ1RleHQiLCJ1cGRhdGVUZXh0Q29udGVudCIsIkRhbmdlciIsIlJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzIiwiaW5zZXJ0Q2hpbGRBdCIsImNoaWxkTm9kZSIsImJlZm9yZUNoaWxkIiwiY2hpbGROb2RlcyIsIml0ZW0iLCJpbnNlcnRCZWZvcmUiLCJtYXJrdXBMaXN0IiwicmVuZGVyZWRNYXJrdXAiLCJpbml0aWFsQ2hpbGRyZW4iLCJ1cGRhdGVkQ2hpbGRyZW4iLCJNT1ZFX0VYSVNUSU5HIiwiUkVNT1ZFX05PREUiLCJ1cGRhdGVkSW5kZXgiLCJ1cGRhdGVkQ2hpbGQiLCJkYW5nZXJvdXNseVJlbmRlck1hcmt1cCIsImsiLCJJTlNFUlRfTUFSS1VQIiwibWFya3VwSW5kZXgiLCJ0b0luZGV4IiwiU0VUX01BUktVUCIsImNvbnRlbnQiLCJURVhUX0NPTlRFTlQiLCJkdW1teU5vZGUiLCJzaG91bGRXcmFwIiwic2VsZWN0V3JhcCIsInRhYmxlV3JhcCIsInRyV3JhcCIsInN2Z1dyYXAiLCJtYXJrdXBXcmFwIiwiRXZlbnRQbHVnaW5PcmRlciIsIm5hbWVzVG9QbHVnaW5zIiwicmVjb21wdXRlUGx1Z2luT3JkZXJpbmciLCJwbHVnaW5OYW1lIiwicGx1Z2luSW5kZXgiLCJwdWJsaXNoZWRFdmVudHMiLCJldmVudFR5cGVzIiwicHVibGlzaEV2ZW50Rm9yUGx1Z2luIiwicGhhc2VOYW1lIiwicHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUiLCJJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIiLCJpbmplY3RlZE5hbWVzVG9QbHVnaW5zIiwiaXNPcmRlcmluZ0RpcnR5IiwiZ2V0UGx1Z2luTW9kdWxlRm9yRXZlbnQiLCJwaGFzZSIsIl9yZXNldEV2ZW50UGx1Z2lucyIsImNhdWdodEVycm9yIiwiaW52b2tlR3VhcmRlZENhbGxiYWNrIiwieCIsImludm9rZUd1YXJkZWRDYWxsYmFja1dpdGhDYXRjaCIsImN1cnJlbnRJc0FycmF5IiwibmV4dElzQXJyYXkiLCJhcnIiLCJzY3JvbGxQb3NpdGlvbiIsInkiLCJudWxsQ29tcG9uZW50SURzUmVnaXN0cnkiLCJyZWdpc3Rlck51bGxDb21wb25lbnRJRCIsImRlcmVnaXN0ZXJOdWxsQ29tcG9uZW50SUQiLCJpbmplY3RDcmVhdGVSZWFjdFJvb3RJbmRleCIsIl9jcmVhdGVSZWFjdFJvb3RJbmRleCIsImFkbGVyMzIiLCJUQUdfRU5EIiwiYWRkQ2hlY2tzdW1Ub01hcmt1cCIsImV4aXN0aW5nQ2hlY2tzdW0iLCJpc1RleHROb2RlIiwiX3giLCJfeDIiLCJfYWdhaW4iLCJfZnVuY3Rpb24iLCJvdXRlck5vZGUiLCJpbm5lck5vZGUiLCJjb250YWlucyIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwicGxhY2Vob2xkZXJFbGVtZW50IiwiUmVhY3RFbXB0eUNvbXBvbmVudEluamVjdGlvbiIsImluamVjdEVtcHR5Q29tcG9uZW50IiwiaW5zdGFudGlhdGUiLCJnZW5lcmljQ29tcG9uZW50Q2xhc3MiLCJ0YWdUb0NvbXBvbmVudENsYXNzIiwidGV4dENvbXBvbmVudENsYXNzIiwiZ2V0Q29tcG9uZW50Q2xhc3NGb3JFbGVtZW50IiwiY29tcG9uZW50Q2xhc3MiLCJpc1RleHRDb21wb25lbnQiLCJpbmplY3RHZW5lcmljQ29tcG9uZW50Q2xhc3MiLCJpbmplY3RUZXh0Q29tcG9uZW50Q2xhc3MiLCJpbmplY3RDb21wb25lbnRDbGFzc2VzIiwiY29tcG9uZW50Q2xhc3NlcyIsIkJlZm9yZUlucHV0RXZlbnRQbHVnaW4iLCJDaGFuZ2VFdmVudFBsdWdpbiIsIkNsaWVudFJlYWN0Um9vdEluZGV4IiwiRGVmYXVsdEV2ZW50UGx1Z2luT3JkZXIiLCJFbnRlckxlYXZlRXZlbnRQbHVnaW4iLCJIVE1MRE9NUHJvcGVydHlDb25maWciLCJSZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpbiIsIlJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kiLCJSZWFjdERPTUNvbXBvbmVudCIsIlJlYWN0SW5qZWN0aW9uIiwiU2VsZWN0RXZlbnRQbHVnaW4iLCJTZXJ2ZXJSZWFjdFJvb3RJbmRleCIsIlNpbXBsZUV2ZW50UGx1Z2luIiwiU1ZHRE9NUHJvcGVydHlDb25maWciLCJhbHJlYWR5SW5qZWN0ZWQiLCJpbmplY3QiLCJFdmVudEVtaXR0ZXIiLCJOYXRpdmVDb21wb25lbnQiLCJpbmplY3RNaXhpbiIsIkVtcHR5Q29tcG9uZW50IiwiVXBkYXRlcyIsIlJvb3RJbmRleCIsIkNvbXBvbmVudCIsImNvbnRlbnRLZXkiLCJzdXBwb3J0ZWRJbnB1dFR5cGVzIiwiZWxlbSIsIlJFU0VUX0JBVENIRURfVVBEQVRFUyIsIlJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3lUcmFuc2FjdGlvbiIsImFscmVhZHlCYXRjaGluZ1VwZGF0ZXMiLCJmb2N1cyIsImlzVW5pdGxlc3NOdW1iZXIiLCJhbmltYXRpb25JdGVyYXRpb25Db3VudCIsImJveEZsZXgiLCJib3hGbGV4R3JvdXAiLCJib3hPcmRpbmFsR3JvdXAiLCJjb2x1bW5Db3VudCIsImZsZXgiLCJmbGV4R3JvdyIsImZsZXhQb3NpdGl2ZSIsImZsZXhTaHJpbmsiLCJmbGV4TmVnYXRpdmUiLCJmbGV4T3JkZXIiLCJmb250V2VpZ2h0IiwibGluZUNsYW1wIiwibGluZUhlaWdodCIsIm9wYWNpdHkiLCJvcmRlciIsIm9ycGhhbnMiLCJ0YWJTaXplIiwid2lkb3dzIiwiekluZGV4Iiwiem9vbSIsImZpbGxPcGFjaXR5Iiwic3RvcE9wYWNpdHkiLCJzdHJva2VEYXNob2Zmc2V0Iiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdpZHRoIiwicHJlZml4ZXMiLCJwcmVmaXhLZXkiLCJDU1NQcm9wZXJ0eSIsInNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9ucyIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kQXR0YWNobWVudCIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRQb3NpdGlvblgiLCJiYWNrZ3JvdW5kUG9zaXRpb25ZIiwiYmFja2dyb3VuZFJlcGVhdCIsImJhY2tncm91bmRQb3NpdGlvbiIsImJvcmRlciIsImJvcmRlcldpZHRoIiwiYm9yZGVyU3R5bGUiLCJib3JkZXJDb2xvciIsImJvcmRlckJvdHRvbSIsImJvcmRlckJvdHRvbVdpZHRoIiwiYm9yZGVyQm90dG9tU3R5bGUiLCJib3JkZXJCb3R0b21Db2xvciIsImJvcmRlckxlZnQiLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJMZWZ0U3R5bGUiLCJib3JkZXJMZWZ0Q29sb3IiLCJib3JkZXJSaWdodCIsImJvcmRlclJpZ2h0V2lkdGgiLCJib3JkZXJSaWdodFN0eWxlIiwiYm9yZGVyUmlnaHRDb2xvciIsImJvcmRlclRvcCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyVG9wU3R5bGUiLCJib3JkZXJUb3BDb2xvciIsImZvbnQiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsIm91dGxpbmUiLCJvdXRsaW5lV2lkdGgiLCJvdXRsaW5lU3R5bGUiLCJvdXRsaW5lQ29sb3IiLCJSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyIsIkFOT05ZTU9VUyIsImNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyIiwiYm9vbCIsImFueSIsImNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyIiwiYXJyYXlPZiIsInR5cGVDaGVja2VyIiwibG9jYXRpb24iLCJwcm9wRnVsbE5hbWUiLCJwcm9wVmFsdWUiLCJsb2NhdGlvbk5hbWUiLCJwcm9wVHlwZSIsImdldFByb3BUeXBlIiwiaW5zdGFuY2VPZiIsImV4cGVjdGVkQ2xhc3MiLCJleHBlY3RlZENsYXNzTmFtZSIsImFjdHVhbENsYXNzTmFtZSIsImlzTm9kZSIsIm9iamVjdE9mIiwib25lT2YiLCJleHBlY3RlZFZhbHVlcyIsInZhbHVlc1N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJvbmVPZlR5cGUiLCJhcnJheU9mVHlwZUNoZWNrZXJzIiwiY2hlY2tlciIsInNoYXBlIiwic2hhcGVUeXBlcyIsInZhbGlkYXRlIiwiY2hlY2tUeXBlIiwiaXNSZXF1aXJlZCIsImNoYWluZWRDaGVja1R5cGUiLCJleHBlY3RlZFR5cGUiLCJwcmVjaXNlVHlwZSIsImdldFByZWNpc2VUeXBlIiwidHJhdmVyc2VBbGxDaGlsZHJlbiIsImVzY2FwZVVzZXJQcm92aWRlZEtleSIsIkZvckVhY2hCb29rS2VlcGluZyIsImZvckVhY2hGdW5jdGlvbiIsImZvckVhY2hDb250ZXh0IiwiZm9yRWFjaFNpbmdsZUNoaWxkIiwiYm9va0tlZXBpbmciLCJNYXBCb29rS2VlcGluZyIsIm1hcFJlc3VsdCIsImtleVByZWZpeCIsIm1hcEZ1bmN0aW9uIiwibWFwQ29udGV4dCIsIm1hcFNpbmdsZUNoaWxkSW50b0NvbnRleHQiLCJjaGlsZEtleSIsIm1hcHBlZENoaWxkIiwibWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbCIsImVzY2FwZWRQcmVmaXgiLCJmb3JFYWNoU2luZ2xlQ2hpbGREdW1teSIsIlJlYWN0Q2hpbGRyZW4iLCJmb3JFYWNoRnVuYyIsInZhbHVlQ29udGV4dEtleSIsInVwZGF0ZU9wdGlvbnNJZlBlbmRpbmdVcGRhdGVBbmRNb3VudGVkIiwiX3dyYXBwZXJTdGF0ZSIsInBlbmRpbmdVcGRhdGUiLCJ1cGRhdGVPcHRpb25zIiwiQm9vbGVhbiIsIm11bHRpcGxlIiwiaW5zdCIsInNlbGVjdGVkVmFsdWUiLCJzZWxlY3RlZCIsIlJlYWN0RE9NU2VsZWN0IiwiZ2V0TmF0aXZlUHJvcHMiLCJtb3VudFdyYXBwZXIiLCJpbml0aWFsVmFsdWUiLCJfaGFuZGxlQ2hhbmdlIiwid2FzTXVsdGlwbGUiLCJwcm9jZXNzQ2hpbGRDb250ZXh0IiwicG9zdFVwZGF0ZVdyYXBwZXIiLCJvYmpBIiwib2JqQiIsImtleXNBIiwia2V5c0IiLCJiSGFzT3duUHJvcGVydHkiLCJFdmVudExpc3RlbmVyIiwibGlzdGVuIiwiZXZlbnRUeXBlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaEV2ZW50IiwicmVnaXN0ZXJEZWZhdWx0IiwiUmVhY3RDb21wb25lbnQiLCJSZWFjdE5vb3BVcGRhdGVRdWV1ZSIsImtleU9mIiwiTUlYSU5TX0tFWSIsIm1peGlucyIsIlNwZWNQb2xpY3kiLCJERUZJTkVfT05DRSIsIkRFRklORV9NQU5ZIiwiT1ZFUlJJREVfQkFTRSIsIkRFRklORV9NQU5ZX01FUkdFRCIsImluamVjdGVkTWl4aW5zIiwiUmVhY3RDbGFzc0ludGVyZmFjZSIsInN0YXRpY3MiLCJjb250ZXh0VHlwZXMiLCJjaGlsZENvbnRleHRUeXBlcyIsImdldERlZmF1bHRQcm9wcyIsImdldEluaXRpYWxTdGF0ZSIsImdldENoaWxkQ29udGV4dCIsImNvbXBvbmVudFdpbGxNb3VudCIsImNvbXBvbmVudERpZE1vdW50IiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJjb21wb25lbnREaWRVcGRhdGUiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInVwZGF0ZUNvbXBvbmVudCIsIlJFU0VSVkVEX1NQRUNfS0VZUyIsImRpc3BsYXlOYW1lIiwiQ29uc3RydWN0b3IiLCJtaXhTcGVjSW50b0NvbXBvbmVudCIsImNyZWF0ZU1lcmdlZFJlc3VsdEZ1bmN0aW9uIiwibWl4U3RhdGljU3BlY0ludG9Db21wb25lbnQiLCJhdXRvYmluZCIsInZhbGlkYXRlTWV0aG9kT3ZlcnJpZGUiLCJzcGVjUG9saWN5IiwiUmVhY3RDbGFzc01peGluIiwic3BlYyIsImlzUmVhY3RDbGFzc01ldGhvZCIsImlzQWxyZWFkeURlZmluZWQiLCJfX3JlYWN0QXV0b0JpbmRNYXAiLCJjcmVhdGVDaGFpbmVkRnVuY3Rpb24iLCJtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzIiwib25lIiwidHdvIiwiYmluZEF1dG9CaW5kTWV0aG9kIiwicmVwbGFjZVN0YXRlIiwibmV3U3RhdGUiLCJzZXRQcm9wcyIsInJlcGxhY2VQcm9wcyIsIlJlYWN0Q2xhc3NDb21wb25lbnQiLCJSZWFjdENsYXNzIiwiY3JlYXRlQ2xhc3MiLCJhdXRvQmluZEtleSIsImJpbmRBdXRvQmluZE1ldGhvZHMiLCJyZWZzIiwic3RhdGUiLCJpbml0aWFsU3RhdGUiLCJzZXRTdGF0ZSIsImZvcmNlVXBkYXRlIiwid2FyblREWiIsIlJlYWN0RE9NU2VsZWN0aW9uIiwiZm9jdXNOb2RlIiwiZ2V0QWN0aXZlRWxlbWVudCIsIlJlYWN0SW5wdXRTZWxlY3Rpb24iLCJoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMiLCJjb250ZW50RWRpdGFibGUiLCJnZXRTZWxlY3Rpb25JbmZvcm1hdGlvbiIsImZvY3VzZWRFbGVtIiwic2VsZWN0aW9uUmFuZ2UiLCJnZXRTZWxlY3Rpb24iLCJyZXN0b3JlU2VsZWN0aW9uIiwicHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiIsImN1ckZvY3VzZWRFbGVtIiwicHJpb3JGb2N1c2VkRWxlbSIsInByaW9yU2VsZWN0aW9uUmFuZ2UiLCJzZXRTZWxlY3Rpb24iLCJzZWxlY3Rpb24iLCJzZWxlY3Rpb25TdGFydCIsInNlbGVjdGlvbkVuZCIsInBhcmVudEVsZW1lbnQiLCJtb3ZlU3RhcnQiLCJtb3ZlRW5kIiwiZ2V0T2Zmc2V0cyIsIm9mZnNldHMiLCJjcmVhdGVUZXh0UmFuZ2UiLCJjb2xsYXBzZSIsInNlbGVjdCIsInNldE9mZnNldHMiLCJhY3RpdmVFbGVtZW50IiwiYm9keSIsIm93bmVySGFzS2V5VXNlV2FybmluZyIsInZhbGlkYXRlRXhwbGljaXRLZXkiLCJwYXJlbnRUeXBlIiwiX3N0b3JlIiwidmFsaWRhdGVkIiwibWVzc2FnZVR5cGUiLCJhZGRlbmR1bSIsInBhcmVudE5hbWUiLCJtZW1vaXplciIsImFkZGVuZGEiLCJwYXJlbnRPck93bmVyIiwidXJsIiwiY2hpbGRPd25lciIsImdldEFkZGVuZGFGb3JLZXlVc2UiLCJ2YWxpZGF0ZUNoaWxkS2V5cyIsInZhbGlkYXRlUHJvcFR5cGVzIiwiZXgiLCJSZWFjdEVsZW1lbnRWYWxpZGF0b3IiLCJ2YWxpZFR5cGUiLCJ2YWxpZGF0ZWRGYWN0b3J5Iiwic3RyIiwibnVtIiwiZm9ybWF0VGltZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJ0aW1lciIsInBlcmZvcm1hbmNlIiwic3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsIiwib2JzZXJ2YWJsZSIsImxvZ2dlciIsIl9leHRlbmRzIiwiX2NvcmUiLCJfaGVscGVycyIsIl9kZWZhdWx0cyIsIl9kZWZhdWx0czIiLCJjcmVhdGVMb2dnZXIiLCJsb2dnZXJPcHRpb25zIiwic3RhdGVUcmFuc2Zvcm1lciIsImVycm9yVHJhbnNmb3JtZXIiLCJsb2dFcnJvcnMiLCJkaWZmUHJlZGljYXRlIiwiY29uc29sZSIsImdldFN0YXRlIiwiZGlzcGF0Y2giLCJsb2dCdWZmZXIiLCJfcmVmIiwibG9nRW50cnkiLCJzdGFydGVkIiwic3RhcnRlZFRpbWUiLCJwcmV2U3RhdGUiLCJyZXR1cm5lZFZhbHVlIiwidG9vayIsIm5leHRTdGF0ZSIsImRpZmYiLCJwcmludEJ1ZmZlciIsImRlZmF1bHRMb2dnZXIiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJ5b2R1bGVzIiwiTGFzdFBhZ2VIYW5kbGVyIiwiaW5pdCIsIkhlbHBlcnMiLCJ2YWxpZGF0ZVVybCIsImNsYXNzIiwiX0xQbGlzdCIsIl9MUGlkIiwiX2N0IiwidGFicyIsImdldExQVXJsIiwiZ2V0TFBJZCIsInNldExQSWQiLCJ0YWJJZCIsInVwZGF0ZUxQTGlzdCIsImNocm9tZVRhYiIsInRhYlVybCIsInVwZGF0ZUxQSWRGcm9tQWN0aXZlVGFiIiwiYWN0aXZlIiwiaGFuZGxlTFAiLCJsYXN0UGFnZVVyaSIsImluaXRPcGVuZWRUYWJzIiwiY3ciLCJ3aW5kb3dzIiwiX2luaXRUYWJzIiwib25Gb2N1c0NoYW5nZWQiLCJhZGRMaXN0ZW5lciIsIl9jd29uRm9jdXNlZCIsIm9uUmVtb3ZlZCIsIl9jd29uUmVtb3ZlZCIsInJlc2VsZWN0aW9uTGlzdGVuZXIiLCJvbkFjdGl2YXRlZCIsIl9vblJlc2VsZWN0ZWQiLCJnZXRBbGwiLCJwb3B1bGF0ZSIsInciLCJmb2N1c2VkIiwiV0lORE9XX0lEX05PTkUiLCJxdWVyeSIsIndpbmRvd0lkIiwidGFiIiwiZGVwcyIsIlRhYkxpc3RlbmVycyIsIlRhYmxpc3QiLCJTZW5kUmVxdWVzdEZvclRhYiIsInRhYmxpc3QiLCJsYXN0UGFnZUhhbmRsZXIiLCJzZW5kUmVxdWVzdEZvclRhYiIsImhlbHBlcnMiLCJjdCIsImFkZExpc3RlbmVycyIsIl9vbkNyZWF0ZWRoYW5kbGVyIiwiX29uQ3JlYXRlZCIsIl9vblJlcGxhY2VkaGFuZGxlciIsIl9vblJlcGxhY2VkIiwiX29uVXBkYXRlZGhhbmRsZXIiLCJfb25VcGRhdGVkIiwiX29uUmVtb3ZlZGhhbmRsZXIiLCJfb25SZW1vdmVkIiwib25VcGRhdGVkIiwib25SZXBsYWNlZCIsIm9uQ3JlYXRlZCIsImdldEJ5SWQiLCJzZXRJc0ZyIiwic2V0SXNSZXBsYWNlZCIsIm9wZW5lclRhYklkIiwiaGFzQnlJZCIsImdldFVybCIsImFkZE1ldGEiLCJzdGF0dXMiLCJzZXRPcGVuZXJJZCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsIm9wZW5lcklkIiwiY3VycmVudFRhYiIsImdldElzUmVwbGFjZWQiLCJnZXRJc0FqYXgiLCJzZXRVcmwiLCJzZXRJc1JlcG9ydGVkIiwic2V0SXNBamF4Iiwic2V0UmVsdHlwZSIsInNldFRyYW5zaXRpb25UeXBlIiwic2VuZFRyYWNrIiwic2VuZE1lc3NhZ2UiLCJydW50aW1lIiwibGFzdEVycm9yIiwiYWRkZWRUYWJJZCIsInJlbW92ZWRUYWJJZCIsInNldElkIiwiV2ViUmVxdWVzdExpc3RlbmVycyIsIndyIiwid2ViUmVxdWVzdCIsInJlcGVydHVhciIsInVybHMiLCJvbkJlZm9yZVJlcXVlc3QiLCJfb25CZWZvcmVSZXF1ZXN0Iiwib25CZWZvcmVSZWRpcmVjdCIsIl9vbkJlZm9yZVJlZGlyZWN0IiwiYmVmb3JlU2VuZE9wdGlvbnMiLCJPbkJlZm9yZVNlbmRIZWFkZXJzT3B0aW9ucyIsIm9uQmVmb3JlU2VuZEhlYWRlcnMiLCJfb25CZWZvcmVTZW5kSGVhZGVycyIsIm9uSGVhZGVyc1JlY2VpdmVkIiwiX29uSGVhZGVyc1JlY2VpdmVkIiwib25FcnJvck9jY3VycmVkIiwiX29uRXJyb3JPY2N1cnJlZCIsInNldFByZXYiLCJfc2V0SGVhZGVyc09yaWdpbiIsImFkZFNlcnZlclJlZGlyZWN0cyIsInNldElzSGgiLCJyZXF1ZXN0SGVhZGVycyIsInJoIiwiX2ZpbHRlckhlYWRlcnMiLCJzZXRIcmVmIiwib3JpZ2luVXJsIiwic2V0T3JpZ2luVXJsIiwiV2luZG93TGlzdGVuZXJzIiwic2V0SXNSZXN0YXJ0aW5nIiwiS2V5U3RvcmFnZSIsIl9naWQiLCJfc3RhcnREYXRlIiwiaW5pdFN0YXRlcyIsInN0b3JhZ2UiLCJsb2NhbCIsImd1aWQiLCJ0aGVuIiwidiIsInN0b3JhZ2VHZXRHdWlkIiwiZ3VpZF92IiwiX2dldEciLCJzdG9yYWdlU2V0IiwiX2NvbnZlcnRUb09iamVjdCIsInN0b3JhZ2VHZXR0ZXIiLCJyZXMiLCJndWlkX2tleSIsInN0b3JhZ2VHZXQiLCJrdiIsImFzeW5jIiwiZ2lkIiwiX2dldFMiLCJQaWlWYWx1ZUVuY3J5cHRvciIsInN0clRvU2hhMjU2IiwiYWIiLCJzdHJpbmdUb0VuY29kZSIsInV0ZnRleHQiLCJzdHIyYWIiLCJlbmNTdHJpbmciLCJkdiIsImhleCIsImdldFVpbnQ4IiwiYWIyaGV4IiwiY3J5cHRvIiwic3VidGxlIiwiZGlnZXN0IiwiUEkiLCJhZGRTYWx0IiwiQWJzdHJhY3RQaWlGaWx0ZXIiLCJpc19maW5hbCIsIndoaXRlbGlzdCIsInNldElzRmluYWwiLCJzZXRXaGl0ZWxpc3QiLCJpc0ZpbmFsIiwiX2lzRmluYWwiLCJ2YWwiLCJfd2hpdGVsaXN0IiwiX2NhY2hlIiwiX25hbWUiLCJmaWVsZHMiLCJfZmllbGRzIiwicHJvY2Vzc29yIiwiZGVjb2RlVVJJUmVjdXJzaXZlIiwiZW5jb2RlZCIsImRlY29kZWQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJkZWNvZGVkVGltZXMiLCJVcmxXaGl0ZUxpc3RGaWx0ZXIiLCJpc0ZpbmFsZSIsInN1cGVyIiwiX3Rlc3QiLCJyZWN1cnNpb24iLCJob3N0IiwiVXJsQmxhY2tMaXN0RmlsdGVyIiwicGlpVmFsdWVFbmNyeXB0b3IiLCJibGFja2xpc3QiLCJibGFja0xpc3QiLCJuZWVkU3BsaXQiLCJfYmxhY2tsaXN0IiwiX2NoYXJzIiwiX25lZWRTcGxpdCIsImJrIiwiZW5jcnlwdCIsIlVybFBhcmFtZXRlcnNGaWx0ZXIiLCJIIiwidXJscGFyYW0iLCJ1cmxQYXJhbXMiLCJwYXRoZXMiLCJfcHJvY2Vzc29yIiwiX3VybHBhcmFtcyIsIl9wYXRoIiwicHJlcHJvY2VzcyIsImRhdHVtIiwicGF0aG5hbWUiLCJxIiwibG9jYWxfY2FjaGUiLCJhc3luY0ZvckVhY2giLCJrciIsIl92YWx1ZSIsInZyIiwiYXN5bmNSZXBsYWNlIiwidmFsdWVzX3RvX3Byb2Nlc3MiLCJwcnMiLCJwZiIsImdldFRpbWUiLCJfcGF0aF9jYWNoZSIsIl9wcmVmaXgiLCJkYXRhX3RvX2dvIiwiZHRnIiwidHIiLCJ0cnlfdG9fdGVzdF9zZXJhY2giLCJ0cnlfdG9fdGVzdF9wYXRobmFtZSIsImpvaW5lZCIsIlBpaUZpbHRlciIsIlVybFdoaXRlTGlzdEZpbHRlckNsYXNzIiwiVXJsUGFyYW1ldGVyc0ZpbHRlckNsYXNzIiwiVXJsQmxhY2tMaXN0RmlsdGVyQ2xhc3MiLCJwaWlfY29uZmlnIiwiZmlsdGVycyIsInNldEZpbHRlcnMiLCJwaWlfc2V0dGluZ3MiLCJwaWlfc2V0dGluZ3NfZGF0YSIsInBhcnNlIiwiYXRvYiIsInJ1bGVzIiwidXJscGFyYW1zIiwidXAiLCJkMSIsImtleV9ydWxlIiwidmFsdWVfcnVsZSIsInVybHBhcmFtc19tIiwic2l0ZXdoaXRlbGlzdCIsInBhcmFtd2hpdGVsaXN0IiwicGFyc2VyIiwiZGYiLCJvdXJsIiwiaHJlZiIsInByb3RvY29sIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImhhc2giLCJzdHJpbmdCdWlsZGVyIiwiVVJMIiwiY3VyZiIsInJhdyIsIm5lZWRfc3BsaXQiLCJwcmVzIiwibHJlcyIsInByIiwiX19wcm9jZXNzb3IiLCJXZWJOYXZpZ2F0aW9uTGlzdGVuZXJzIiwid24iLCJ3ZWJOYXZpZ2F0aW9uIiwib25Db21taXR0ZWQiLCJfb25Db21taXR0ZWQiLCJ0aWQiLCJucSIsInRyYW5zaXRpb25RdWFsaWZpZXJzIiwiZnJhbWVJZCIsInRyYW5zaXRpb25UeXBlIiwic2V0VHJhbnNpdGlvblF1YWxpZmllciIsImFkZENsaWVudFJlZGlyZWN0cyIsIlBsb3lkZXIiLCJfcGxveXMiLCJwdXNoSXRlbSIsInBsb3kiLCJoYXNQbG95IiwiUCIsInVuc2hpZnRJdGVtIiwidW5zaGlmdCIsInRha2VBbGwiLCJoYXNJdGVtcyIsIl9jaGVja1NlcnBSZXN1bHRzIiwiaXRlbXMiLCJjb250YWluVmFsaWRTZXJwIiwidGltZXN0YW1wIiwidGFrZUFuZFBhY2siLCJlbmNvZGVVUklDb21wb25lbnQiLCJvbkJlZm9yZVNlbmQiLCJsayIsInN1YnRyZ3QiLCJQbG95ZGVySGVscGVyIiwiVG9nZ2xlciIsImRlZmF1bHRJc09uIiwibG9jYWxLZXkiLCJpc09uIiwiX2xvYWQiLCJfb3B0VHVybk9uUHJvbWlzZSIsIl9pc09uIiwiX3NhdmUiLCJ3cml0ZU8iLCJyZXNwIiwiaW50VmFsIiwiX29wdFR1cm5PbiIsInR1cm5PbiIsInR1cm5PZmYiLCJfb25NZXNzYWdlIiwib25NZXNzYWdlIiwid2hlbk9uIiwicHJvbSIsIm9wdGluIiwib3B0b3V0IiwiaXNvcHQiLCJ3aGVub3B0IiwiQ29udGVudFR5cGVIZWxwZXIiLCJfY3R5cGVzIiwiX2V2ZW50TmFtZSIsInJlZ2lzdGVyQ3R5cGUiLCJzZXRDdHlwZSIsImlzVmFsaWRSZXF1ZXN0IiwiaXNWYWxpZERldGFpbHMiLCJvcGVuZXJUYWIiLCJyZXRyb2N0eXBlIiwiZ2V0UmV0cm9jdHlwZSIsInNldENvbnRlbnRUeXBlIiwiY2xlYXJSZXRyb2N0eXBlIiwicmVxdWVzdCIsInBhcmFtIiwiU2NyYXBCeVJlbW90ZUNvbmZpZ0JnIiwiU1JDb25maWdGZXRjaGVyIiwicGxveWRlciIsInN0YXJ0TGlzdGVuU1IiLCJtc2ciLCJzZW5kZXIiLCJzY3JhcHMiLCJzY3JhcCIsIlRhYiIsImNsZWFyTWV0YSIsImdldElkIiwiX0lkIiwic2V0VmFsIiwiYXNzaWduVmFscyIsImdldE9wZW5lcklkIiwiX09wZW5lcklkIiwiX1VybCIsInNldENocm9tZVVybCIsImNocm9tZVRhYkdldHRlciIsImdldFJlbHR5cGUiLCJfUmVsdHlwZSIsImNsZWFyUmVsdHlwZSIsIl9SZXRyb2N0eXBlIiwic2V0UmV0cm9jdHlwZSIsImdldE1ldGEiLCJfTWV0YSIsImdldENvbnRlbnRUeXBlIiwiX0NvbnRlbnRUeXBlIiwiZ2V0SXNSZXN0YXJ0aW5nIiwiX0lzUmVzdGFydGluZyIsIl9Jc0FqYXgiLCJnZXRTZXJ2ZXJSZWRpcmVjdHMiLCJfU2VydmVyUmVkaXJlY3RzIiwiY2xlYXRTZXJ2ZXJSZWRpcmVjdHMiLCJnZXRDbGllbnRSZWRpcmVjdHMiLCJfQ2xpZW50UmVkaXJlY3RzIiwiY2xlYXRDbGllbnRSZWRpcmVjdHMiLCJnZXRUcmFuc2l0aW9uVHlwZSIsIl9UcmFuc2l0aW9uVHlwZSIsImdldElzSGgiLCJfSXNIaCIsIl9Jc1JlcGxhY2VkIiwiZ2V0SHJlZiIsIl9IcmVmIiwiZ2V0T3JpZ2luVXJsIiwiX29yaWdpblVybCIsImdldFRyYW5zaXRpb25RdWFsaWZpZXIiLCJfVHJhbnNpdGlvblF1YWxpZmllciIsImdldElzRnIiLCJfSXNGciIsImdldElzUmVwb3J0ZWQiLCJfSXNSZXBvcnRlZCIsImdldFByZXYiLCJfUHJldiIsInNlcmlhbGl6ZSIsInRxIiwic3VicmVmIiwibnQiLCJhdG0iLCJuYWJsYSIsInN1YnNmd3JkIiwic3ViY2Z3cmQiLCJfdGFicyIsImNsZWFyVGFiIiwiZ2V0T3BlbmVyVGFiIiwiX29wZW5lcklkIiwiX29wZW5lclRhYiIsImdldENocm9tZVRhYkZvclRhYklkIiwic2tpcFRhYlJlcG9ydCIsImlzVmFsaWRCYXNlUGFyYW1zIiwidGFiRGF0YSIsImlzVXJsVmFsaWQiLCJsYXN0UGFnZSIsInN1Ymxhc3QiLCJpc0hoIiwiaXNVcmxFcXVhbHMiLCJpc0FqYXgiLCJnZXRBY3RpdmVUYWJSZWxvYWQiLCJjb252ZXJ0VG9MaW5rIiwiYXN5bmNNYXAiLCJyZWdleCIsImdldERvbWFpbk5hbWUiLCJob3N0bmFtZSIsIkNvbmZpZ0ZldGNoZXIiLCJwaWlGaWx0ZXIiLCJ2ZXJzaW9uIiwiZ2V0TWFuaWZlc3QiLCJza2V5cyIsInNob3VsZEdldFNldHRpbmdzIiwic2V0U2V0dGluZ3MiLCJnZXRTZXR0aW5nc1N0cmluZyIsInBpaSIsInNldHRzIiwibG9jYWxfcGlpIiwiSXNFbmFibGUiLCJJc1JlYWR5IiwiTWFpbkxvY2F0b3IiLCJzZXRVcFJlc3VsdCIsIkRhdGFQYWNrZXIiLCJ1cmxLZXlzIiwicGlpS2V5cyIsImVuY29kZUtleXMiLCJzdHJpbmdpZnlLZXlzIiwiX2ZpbHRlcktleXMiLCJfcmVmb3JtYXRLZXlWYWx1ZXMiLCJfcmVmb3JtYXRLZXlWYWx1ZSIsImNsZWFyVXJsIiwiUmVxdWVzdGVyIiwiY29uZmlnRmV0Y2hlciIsInNlbmRSZXF1ZXN0RGF0YSIsInNlbmREYXRhIiwiX3Byb2Nlc3NFdmVudCIsInNlbmRSZXNvbHZlIiwic2VuZFJlamVjdCIsImV2ZW50RGV0YWlscyIsIl9yb3V0ZSIsIl9nZXRIZWFkZXJzIiwiaGVhZGVycyIsImhkcnMiLCJSZXF1ZXN0TWFuYWdlciIsImRhdGFQYWNrZXIiLCJrZXlTdG9yYWdlIiwicmVxdWVzdGVyIiwidG9nZ2xlciIsImNoRmllbGQiLCJjaCIsImJhc2VGaWVsZHMiLCJzb3VyY2VGaWVsZCIsImFkZGl0aW9uYWxGaWVsZHMiLCJ2bXQiLCJkbSIsInZ2IiwidmVyIiwiZGVsdGEiLCJzZyIsInByb2Nlc3NSZXF1ZXN0IiwiX2NoZWNrU3RhdHVzIiwiX2dldFRpbWVzdGFtcCIsIl9zZW5kVHJhY2siLCJfZ2V0RGF0YUJhc2VkSGVhZGVycyIsImhhc0RhdGEiLCJmaWx0ZXJlZERhdGEiLCJfZmlsdGVyVGFiRGF0YSIsInFWYWx1ZSIsImhlYWRlckNhY2hlVmFsdWUiLCJhZGRpdGlvbmFsSGVhZGVycyIsInBhY2tKc29uIiwiZXBvY2h0aW1lIiwiX3NldEhlbHBGaWVsZHMiLCJyZXF1ZXN0TWFuYWdlciIsIm9uQmVmb3JlUGFja0xpc3RlbmVyIiwib25CZWZvcmVTZW5kTGlzdGVuZXIiLCJfY29udmVydFRvUHJvbWlzZSIsInBUeXBlIiwicExpc3QiLCJhbGwiLCJfc2VuZFJlcXVlc3RGb3JUYWIiLCJfYXBwbHlDaHJvbWVUYWIiLCJyZXF1ZXN0RGF0YSIsIl9jb25jYXRBbmRTZW5kRGF0YSIsIl9nZXRUYWJEYXRhIiwicHJlcGFyZVRhYlRvU2VuZGluZyIsImhyZWZlcnJlciIsImF1dG9SZWxvYWRpbmciLCJjdXJyZW50VXJsIiwidGFic1ByZXYiLCJrbiIsIm9uQmVmb3JlUGFjayIsIlNSQ29uZmlnV3JhcHBlciIsInJlbW90ZUNvbmZpZ0Nocm9tZVN0b3JhZ2VLZXkiLCJmZXRjaFRpbWVDaHJvbWVTdG9yYWdlS2V5IiwiZmlyc3RDaGVja0Nocm9tZVN0b3JhZ2VLZXkiLCJnZXRDb25maWdGcm9tQ2hyb21lU3RvcmFnZSIsImRlb2JmdXNjYXRlQ29uZmlnIiwiY29uZiIsImxpbmVzIiwiZmlyc3RMaW5lTGVuZ3RoIiwic2IiLCJjb2x1bW4iLCJyb3ciLCJjaGFyIiwianNvblN0ciIsImNvbmZzIiwic2V0Q29uZmlnSW5DaHJvbWVTdG9yYWdlIiwiZ2V0RmV0Y2hUaW1lRnJvbUNocm9tZVN0b3JhZ2UiLCJmaXJzdENoZWNrV2FzQWdvRW5vdWdoIiwibWluRGlmZiIsInNSQ29uZmlnV3JhcHBlciIsInN0YXJ0TGlzdGVuIiwidXBkYXRlUmVtb3RlQ29uZmlnIiwic2V0SW50ZXJ2YWwiLCJzaG91bGRGZXRjaFJlbW90ZUNvbmZpZyIsImZldGNoUmVtb3RlQ29uZmlnIiwiYnJvYWRjYXN0IiwiRXZlbnQiLCJyMSIsImZldGNoIiwic2lkIiwianNvbiIsImZldGNoVGltZSIsIm9yaWdpbmFsTW9kdWxlIiwiX2xvZGFzaCIsIl9jb25zdGFudHMiLCJfc2VyaWFsaXphdGlvbiIsIl9wYXRjaCIsIl91dGlsIiwiX2NsYXNzQ2FsbENoZWNrIiwiX2RlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwiZGVmYXVsdE9wdHMiLCJwb3J0TmFtZSIsImV4dGVuc2lvbklkIiwicGF0Y2hTdHJhdGVneSIsIlN0b3JlIiwiX3RoaXMiLCJfcmVmJHBvcnROYW1lIiwiX3JlZiRzdGF0ZSIsIl9yZWYkZXh0ZW5zaW9uSWQiLCJfcmVmJHNlcmlhbGl6ZXIiLCJfcmVmJGRlc2VyaWFsaXplciIsIl9yZWYkcGF0Y2hTdHJhdGVneSIsInJlYWR5UmVzb2x2ZWQiLCJyZWFkeVByb21pc2UiLCJyZWFkeVJlc29sdmUiLCJicm93c2VyQVBJIiwicG9ydCIsImNvbm5lY3QiLCJzYWZldHlIYW5kbGVyIiwic2FmZXR5TWVzc2FnZSIsInNlcmlhbGl6ZWRQb3J0TGlzdGVuZXIiLCJfdGhpcyRwb3J0JG9uTWVzc2FnZSIsInNlcmlhbGl6ZWRNZXNzYWdlU2VuZGVyIiwiX3RoaXMkYnJvd3NlckFQSSRydW50IiwibGlzdGVuZXJzIiwicGF0Y2hTdGF0ZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl90aGlzMiIsIl90aGlzMyIsImJnRXJyIiwicmVtb3ZlTGlzdGVuZXIiLCJfZGVmYXVsdCIsIm5ld09iaiIsImNoYW5nZSIsIlJlZmxlY3QiLCJkZWxldGVQcm9wZXJ0eSIsIl90b0NvbnN1bWFibGVBcnJheSIsImFycjIiLCJfYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyIiwiX2l0ZXJhYmxlVG9BcnJheSIsIl9ub25JdGVyYWJsZVNwcmVhZCIsImNvbXBvc2UiLCJzdG9yZSIsIm1pZGRsZXdhcmVzIiwiX2Rpc3BhdGNoIiwibWlkZGxld2FyZUFQSSIsIm1pZGRsZXdhcmUiLCJfZGlmZiIsImRpc3BhdGNoUmVzcG9uZGVyIiwiZGlzcGF0Y2hSZXN1bHQiLCJzZW5kIiwiY2F0Y2giLCJkaWZmU3RyYXRlZ3kiLCJfcmVmJGRpc3BhdGNoUmVzcG9uZGUiLCJfcmVmJGRpZmZTdHJhdGVneSIsImRpc3BhdGNoUmVzcG9uc2UiLCJzZW5kUmVzcG9uc2UiLCJfc2VuZGVyIiwiY29ubmVjdFN0YXRlIiwic2VyaWFsaXplZE1lc3NhZ2VQb3N0ZXIiLCJwb3N0TWVzc2FnZSIsInVuc3Vic2NyaWJlIiwic3Vic2NyaWJlIiwib25EaXNjb25uZWN0Iiwid2l0aFBheWxvYWREZXNlcmlhbGl6ZXIiLCJfYnJvd3NlckFQSSRydW50aW1lJG8iLCJvbk1lc3NhZ2VFeHRlcm5hbCIsIl9icm93c2VyQVBJJHJ1bnRpbWUkbzIiLCJ3YXJuIiwib25Db25uZWN0Iiwib25Db25uZWN0RXh0ZXJuYWwiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwicmV0dXJuIiwib2xkT2JqIiwiYWxpYXNlcyIsImFsaWFzIiwiUmVhY3RET00iLCJSZWFjdERPTVNlcnZlciIsIlJlYWN0SXNvbW9ycGhpYyIsImRlcHJlY2F0ZWQiLCJSZWFjdCIsImZpbmRET01Ob2RlIiwicmVuZGVyVG9TdHJpbmciLCJfX1NFQ1JFVF9ET01fRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsIl9fU0VDUkVUX0RPTV9TRVJWRVJfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsIlJlYWN0RGVmYXVsdEluamVjdGlvbiIsIlJlYWN0VmVyc2lvbiIsInVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzIiwidW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIiLCJfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18iLCJDdXJyZW50T3duZXIiLCJJbnN0YW5jZUhhbmRsZXMiLCJNb3VudCIsIlJlY29uY2lsZXIiLCJUZXh0Q29tcG9uZW50IiwiY3JlYXRlTm9kZXNGcm9tTWFya3VwIiwiZ2V0TWFya3VwV3JhcCIsIk9QRU5fVEFHX05BTUVfRVhQIiwiUkVTVUxUX0lOREVYX0FUVFIiLCJnZXROb2RlTmFtZSIsIm1hcmt1cEJ5Tm9kZU5hbWUiLCJyZXN1bHRMaXN0IiwicmVzdWx0TGlzdEFzc2lnbm1lbnRDb3VudCIsInJlc3VsdEluZGV4IiwibWFya3VwTGlzdEJ5Tm9kZU5hbWUiLCJyZW5kZXJOb2RlcyIsInJlbmRlck5vZGUiLCJoYXNBdHRyaWJ1dGUiLCJvbGRDaGlsZCIsIm5ld0NoaWxkIiwiY3JlYXRlQXJyYXlGcm9tTWl4ZWQiLCJub2RlTmFtZVBhdHRlcm4iLCJoYW5kbGVTY3JpcHQiLCJub2RlTmFtZU1hdGNoIiwid3JhcERlcHRoIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibm9kZXMiLCJoYXNBcnJheU5hdHVyZSIsIkluamVjdGVkTW91bnQiLCJleGVjdXRlRGlzcGF0Y2giLCJpc0VuZGlzaCIsImlzTW92ZWlzaCIsImlzU3RhcnRpc2giLCJleGVjdXRlRGlyZWN0RGlzcGF0Y2giLCJkaXNwYXRjaExpc3RlbmVyIiwiZGlzcGF0Y2hJRCIsImRpc3BhdGNoTGlzdGVuZXJzIiwiZGlzcGF0Y2hJRHMiLCJleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlIiwiZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyU3RvcEF0VHJ1ZUltcGwiLCJoYXNEaXNwYXRjaGVzIiwicnVuRXZlbnRRdWV1ZUluQmF0Y2giLCJNT0QiLCJSZWFjdE93bmVyIiwiYWRkQ29tcG9uZW50QXNSZWZUbyIsImF0dGFjaFJlZiIsInJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbSIsImRldGFjaFJlZiIsImlzVmFsaWRPd25lciIsIk5vZGUiLCJTdGF0ZWxlc3NDb21wb25lbnQiLCJuZXh0TW91bnRJRCIsIlJlYWN0Q29tcG9zaXRlQ29tcG9uZW50TWl4aW4iLCJfaW5zdGFuY2UiLCJyZW5kZXJlZEVsZW1lbnQiLCJwdWJsaWNQcm9wcyIsIl9wcm9jZXNzUHJvcHMiLCJwdWJsaWNDb250ZXh0IiwiX3Byb2Nlc3NDb250ZXh0IiwiY2FuSW5zdGFudGlhdGUiLCJfcHJvY2Vzc1BlbmRpbmdTdGF0ZSIsIl9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQiLCJfbWFza0NvbnRleHQiLCJtYXNrZWRDb250ZXh0IiwiY29udGV4dE5hbWUiLCJjdXJyZW50Q29udGV4dCIsIl9jaGVja1Byb3BUeXBlcyIsIm5leHRDb250ZXh0IiwicHJldkNvbnRleHQiLCJwcmV2UGFyZW50RWxlbWVudCIsIm5leHRQYXJlbnRFbGVtZW50IiwicHJldlVubWFza2VkQ29udGV4dCIsIm5leHRVbm1hc2tlZENvbnRleHQiLCJuZXh0UHJvcHMiLCJfcGVyZm9ybUNvbXBvbmVudFVwZGF0ZSIsInVubWFza2VkQ29udGV4dCIsInByZXZQcm9wcyIsImhhc0NvbXBvbmVudERpZFVwZGF0ZSIsIl91cGRhdGVSZW5kZXJlZENvbXBvbmVudCIsInByZXZDb21wb25lbnRJbnN0YW5jZSIsInByZXZSZW5kZXJlZEVsZW1lbnQiLCJuZXh0UmVuZGVyZWRFbGVtZW50IiwidGhpc0lEIiwicHJldkNvbXBvbmVudElEIiwibmV4dE1hcmt1cCIsIl9yZXBsYWNlTm9kZVdpdGhNYXJrdXBCeUlEIiwiX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudFdpdGhvdXRPd25lck9yQ29udGV4dCIsInJlbmRlcmVkQ29tcG9uZW50IiwicHVibGljQ29tcG9uZW50SW5zdGFuY2UiLCJGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUiLCJTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50IiwiU3ludGhldGljSW5wdXRFdmVudCIsIkVORF9LRVlDT0RFUyIsImNhblVzZUNvbXBvc2l0aW9uRXZlbnQiLCJkb2N1bWVudE1vZGUiLCJvcGVyYSIsImNhblVzZVRleHRJbnB1dEV2ZW50IiwidXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEiLCJTUEFDRUJBUl9DSEFSIiwiYmVmb3JlSW5wdXQiLCJvbkJlZm9yZUlucHV0Iiwib25CZWZvcmVJbnB1dENhcHR1cmUiLCJjb21wb3NpdGlvbkVuZCIsIm9uQ29tcG9zaXRpb25FbmQiLCJvbkNvbXBvc2l0aW9uRW5kQ2FwdHVyZSIsImNvbXBvc2l0aW9uU3RhcnQiLCJvbkNvbXBvc2l0aW9uU3RhcnQiLCJvbkNvbXBvc2l0aW9uU3RhcnRDYXB0dXJlIiwiY29tcG9zaXRpb25VcGRhdGUiLCJvbkNvbXBvc2l0aW9uVXBkYXRlIiwib25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmUiLCJoYXNTcGFjZUtleXByZXNzIiwiaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kIiwiZ2V0RGF0YUZyb21DdXN0b21FdmVudCIsImN1cnJlbnRDb21wb3NpdGlvbiIsImV4dHJhY3RDb21wb3NpdGlvbkV2ZW50IiwiZmFsbGJhY2tEYXRhIiwiZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUiLCJpc0ZhbGxiYWNrQ29tcG9zaXRpb25TdGFydCIsImN1c3RvbURhdGEiLCJleHRyYWN0QmVmb3JlSW5wdXRFdmVudCIsIndoaWNoIiwiZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyIsImlzS2V5cHJlc3NDb21tYW5kIiwiZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzIiwiZ2V0VGV4dENvbnRlbnRBY2Nlc3NvciIsIl9yb290IiwiX3N0YXJ0VGV4dCIsImdldFRleHQiLCJfZmFsbGJhY2tUZXh0Iiwic3RhcnRWYWx1ZSIsInN0YXJ0TGVuZ3RoIiwiZW5kVmFsdWUiLCJlbmRMZW5ndGgiLCJtaW5FbmQiLCJzbGljZVRhaWwiLCJpc1RleHRJbnB1dEVsZW1lbnQiLCJvbkNoYW5nZUNhcHR1cmUiLCJhY3RpdmVFbGVtZW50SUQiLCJhY3RpdmVFbGVtZW50VmFsdWUiLCJhY3RpdmVFbGVtZW50VmFsdWVQcm9wIiwiZG9lc0NoYW5nZUV2ZW50QnViYmxlIiwibWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCIsInJ1bkV2ZW50SW5CYXRjaCIsInN0b3BXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4IiwiZ2V0VGFyZ2V0SURGb3JDaGFuZ2VFdmVudCIsImhhbmRsZUV2ZW50c0ZvckNoYW5nZUV2ZW50SUU4IiwiaXNJbnB1dEV2ZW50U3VwcG9ydGVkIiwibmV3VmFsdWVQcm9wIiwic3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UiLCJoYW5kbGVQcm9wZXJ0eUNoYW5nZSIsImdldFRhcmdldElERm9ySW5wdXRFdmVudCIsImhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRJRSIsImdldFRhcmdldElERm9ySW5wdXRFdmVudElFIiwiZ2V0VGFyZ2V0SURGb3JDbGlja0V2ZW50IiwiZ2V0VGFyZ2V0SURGdW5jIiwiaGFuZGxlRXZlbnRGdW5jIiwic2hvdWxkVXNlQ2xpY2tFdmVudCIsIm5leHRSZWFjdFJvb3RJbmRleCIsIlJlc3BvbmRlckV2ZW50UGx1Z2luIiwiVGFwRXZlbnRQbHVnaW4iLCJtb3VzZUVudGVyIiwib25Nb3VzZUVudGVyIiwibW91c2VMZWF2ZSIsIm9uTW91c2VMZWF2ZSIsIndpbiIsImhhc1NWRyIsImFjY2VwdCIsImFjY2VwdENoYXJzZXQiLCJhY2Nlc3NLZXkiLCJhbGxvd0Z1bGxTY3JlZW4iLCJhbGxvd1RyYW5zcGFyZW5jeSIsImFsdCIsImF1dG9Db21wbGV0ZSIsImF1dG9QbGF5IiwiY2VsbFBhZGRpbmciLCJjZWxsU3BhY2luZyIsImNoYXJTZXQiLCJjaGFsbGVuZ2UiLCJjbGFzc0lEIiwiY2xhc3NOYW1lIiwiY29scyIsImNvbFNwYW4iLCJjb250ZXh0TWVudSIsImNvbnRyb2xzIiwiY29vcmRzIiwiY3Jvc3NPcmlnaW4iLCJkYXRlVGltZSIsImRvd25sb2FkIiwiZHJhZ2dhYmxlIiwiZW5jVHlwZSIsImZvcm0iLCJmb3JtQWN0aW9uIiwiZm9ybUVuY1R5cGUiLCJmb3JtTWV0aG9kIiwiZm9ybU5vVmFsaWRhdGUiLCJmb3JtVGFyZ2V0IiwiZnJhbWVCb3JkZXIiLCJoZWlnaHQiLCJoaWRkZW4iLCJocmVmTGFuZyIsImh0bWxGb3IiLCJodHRwRXF1aXYiLCJpY29uIiwiaW5wdXRNb2RlIiwiaW50ZWdyaXR5IiwiaXMiLCJrZXlQYXJhbXMiLCJrZXlUeXBlIiwia2luZCIsImxhYmVsIiwibGFuZyIsImxpc3QiLCJsb29wIiwibWFuaWZlc3QiLCJtYXJnaW5IZWlnaHQiLCJtYXJnaW5XaWR0aCIsIm1lZGlhIiwibWVkaWFHcm91cCIsIm11dGVkIiwibm9uY2UiLCJub1ZhbGlkYXRlIiwib3BlbiIsIm9wdGltdW0iLCJwb3N0ZXIiLCJwcmVsb2FkIiwicmFkaW9Hcm91cCIsInJlbCIsInJlcXVpcmVkIiwicmV2ZXJzZWQiLCJyb2xlIiwicm93cyIsInJvd1NwYW4iLCJzYW5kYm94Iiwic2NvcGVkIiwic2Nyb2xsaW5nIiwic2VhbWxlc3MiLCJzaXplcyIsInNwYW4iLCJzcGVsbENoZWNrIiwic3JjIiwic3JjRG9jIiwic3JjTGFuZyIsInNyY1NldCIsInN1bW1hcnkiLCJ0YWJJbmRleCIsInRpdGxlIiwidXNlTWFwIiwid2lkdGgiLCJ3bW9kZSIsImFib3V0IiwiZGF0YXR5cGUiLCJpbmxpc3QiLCJyZXNvdXJjZSIsInZvY2FiIiwiYXV0b0NhcGl0YWxpemUiLCJhdXRvQ29ycmVjdCIsImF1dG9TYXZlIiwiY29sb3IiLCJpdGVtUHJvcCIsIml0ZW1TY29wZSIsIml0ZW1UeXBlIiwiaXRlbUlEIiwiaXRlbVJlZiIsInJlc3VsdHMiLCJzZWN1cml0eSIsInVuc2VsZWN0YWJsZSIsImF1dG9Gb2N1cyIsImdldERPTU5vZGUiLCJBdXRvRm9jdXNVdGlscyIsIkNTU1Byb3BlcnR5T3BlcmF0aW9ucyIsIlJlYWN0RE9NQnV0dG9uIiwiUmVhY3RET01JbnB1dCIsIlJlYWN0RE9NT3B0aW9uIiwiUmVhY3RET01UZXh0YXJlYSIsIlJlYWN0TXVsdGlDaGlsZCIsImNhbkRlZmluZVByb3BlcnR5IiwiQ09OVEVOVF9UWVBFUyIsIkNISUxEUkVOIiwiU1RZTEUiLCJIVE1MIiwiX19odG1sIiwibGVnYWN5R2V0RE9NTm9kZSIsImxlZ2FjeUlzTW91bnRlZCIsIl9yZWFjdEludGVybmFsQ29tcG9uZW50IiwibGVnYWN5U2V0U3RhdGVFdGMiLCJsZWdhY3lTZXRQcm9wcyIsImxlZ2FjeVJlcGxhY2VQcm9wcyIsImFzc2VydFZhbGlkUHJvcHMiLCJlbnF1ZXVlUHV0TGlzdGVuZXIiLCJsaXN0ZW5lclRvUHV0IiwibWVkaWFFdmVudHMiLCJ0cmFwQnViYmxlZEV2ZW50c0xvY2FsIiwiX3RhZyIsIm1vdW50UmVhZHlJbnB1dFdyYXBwZXIiLCJtb3VudFJlYWR5V3JhcHBlciIsInBvc3RVcGRhdGVTZWxlY3RXcmFwcGVyIiwib21pdHRlZENsb3NlVGFncyIsIm5ld2xpbmVFYXRpbmdUYWdzIiwiVkFMSURfVEFHX1JFR0VYIiwidmFsaWRhdGVkVGFnQ2FjaGUiLCJpc0N1c3RvbUNvbXBvbmVudCIsInZhbGlkYXRlRGFuZ2Vyb3VzVGFnIiwiX3JlbmRlcmVkQ2hpbGRyZW4iLCJfcHJldmlvdXNTdHlsZSIsIl9wcmV2aW91c1N0eWxlQ29weSIsIl9ub2RlV2l0aExlZ2FjeVByb3BlcnRpZXMiLCJtb3VudEltYWdlIiwiX3VwZGF0ZURPTVByb3BlcnRpZXMiLCJfY3JlYXRlSW5pdGlhbENoaWxkcmVuIiwidGFnT3BlbiIsIl9jcmVhdGVPcGVuVGFnTWFya3VwQW5kUHV0TGlzdGVuZXJzIiwidGFnQ29udGVudCIsIl9jcmVhdGVDb250ZW50TWFya3VwIiwiZm9jdXNET01Db21wb25lbnQiLCJwcm9wS2V5IiwiY3JlYXRlTWFya3VwRm9yU3R5bGVzIiwiY29udGVudFRvVXNlIiwiY2hpbGRyZW5Ub1VzZSIsIm1vdW50Q2hpbGRyZW4iLCJtb3VudEltYWdlcyIsImxhc3RQcm9wcyIsInVwZGF0ZVdyYXBwZXIiLCJfdXBkYXRlRE9NQ2hpbGRyZW4iLCJzdHlsZU5hbWUiLCJzdHlsZVVwZGF0ZXMiLCJsYXN0U3R5bGUiLCJuZXh0UHJvcCIsImxhc3RQcm9wIiwic2V0VmFsdWVGb3JTdHlsZXMiLCJsYXN0Q29udGVudCIsIm5leHRDb250ZW50IiwibGFzdEh0bWwiLCJuZXh0SHRtbCIsImxhc3RDaGlsZHJlbiIsIm5leHRDaGlsZHJlbiIsImxhc3RIYXNDb250ZW50T3JIdG1sIiwibmV4dEhhc0NvbnRlbnRPckh0bWwiLCJ1cGRhdGVDaGlsZHJlbiIsInVwZGF0ZU1hcmt1cCIsInVubW91bnRXcmFwcGVyIiwidW5tb3VudENoaWxkcmVuIiwiZGFuZ2Vyb3VzU3R5bGVWYWx1ZSIsImh5cGhlbmF0ZVN0eWxlTmFtZSIsIm1lbW9pemVTdHJpbmdPbmx5IiwicHJvY2Vzc1N0eWxlTmFtZSIsImhhc1Nob3J0aGFuZFByb3BlcnR5QnVnIiwic3R5bGVGbG9hdEFjY2Vzc29yIiwidGVtcFN0eWxlIiwiY3NzRmxvYXQiLCJzdHlsZXMiLCJzZXJpYWxpemVkIiwic3R5bGVWYWx1ZSIsImV4cGFuc2lvbiIsImluZGl2aWR1YWxTdHlsZU5hbWUiLCJjYW1lbGl6ZSIsIm1zUGF0dGVybiIsIl9oeXBoZW5QYXR0ZXJuIiwiY2hhcmFjdGVyIiwiaHlwaGVuYXRlIiwiX3VwcGVyY2FzZVBhdHRlcm4iLCJtb3VzZUxpc3RlbmVyTmFtZXMiLCJvbkNsaWNrIiwib25Eb3VibGVDbGljayIsIm9uTW91c2VEb3duIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJvbkNsaWNrQ2FwdHVyZSIsIm9uRG91YmxlQ2xpY2tDYXB0dXJlIiwib25Nb3VzZURvd25DYXB0dXJlIiwib25Nb3VzZU1vdmVDYXB0dXJlIiwib25Nb3VzZVVwQ2FwdHVyZSIsIm5hdGl2ZVByb3BzIiwiaW5zdGFuY2VzQnlSZWFjdElEIiwiZm9yY2VVcGRhdGVJZk1vdW50ZWQiLCJkZWZhdWx0Q2hlY2tlZCIsImluaXRpYWxDaGVja2VkIiwicm9vdE5vZGUiLCJxdWVyeVJvb3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwib3RoZXJOb2RlIiwib3RoZXJJRCIsIm90aGVySW5zdGFuY2UiLCJzZWxlY3RWYWx1ZSIsIlJlYWN0Q2hpbGRSZWNvbmNpbGVyIiwiZmxhdHRlbkNoaWxkcmVuIiwidXBkYXRlRGVwdGgiLCJ1cGRhdGVRdWV1ZSIsIm1hcmt1cFF1ZXVlIiwicHJvY2Vzc1F1ZXVlIiwiY2xlYXJRdWV1ZSIsIl9yZWNvbmNpbGVySW5zdGFudGlhdGVDaGlsZHJlbiIsIm5lc3RlZENoaWxkcmVuIiwiaW5zdGFudGlhdGVDaGlsZHJlbiIsIl9yZWNvbmNpbGVyVXBkYXRlQ2hpbGRyZW4iLCJwcmV2Q2hpbGRyZW4iLCJuZXh0TmVzdGVkQ2hpbGRyZW5FbGVtZW50cyIsIl91bm1vdW50Q2hpbGQiLCJfdW5tb3VudENoaWxkQnlOYW1lIiwic2V0TWFya3VwIiwiX3VwZGF0ZUNoaWxkcmVuIiwicHJldkNoaWxkIiwibmV4dENoaWxkIiwibW92ZUNoaWxkIiwiX21vdW50Q2hpbGRCeU5hbWVBdEluZGV4IiwicmVuZGVyZWRDaGlsZHJlbiIsImVucXVldWVNb3ZlIiwiY3JlYXRlQ2hpbGQiLCJlbnF1ZXVlVGV4dENvbnRlbnQiLCJlbnF1ZXVlU2V0TWFya3VwIiwiaW5zdGFudGlhdGVDaGlsZCIsImNoaWxkSW5zdGFuY2VzIiwia2V5VW5pcXVlIiwibmVzdGVkQ2hpbGROb2RlcyIsIm5leHRDaGlsZEluc3RhbmNlIiwicmVuZGVyZWRDaGlsZCIsImZsYXR0ZW5TaW5nbGVDaGlsZEludG9Db250ZXh0IiwiZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb24iLCJmaW5kUGFyZW50IiwiVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nIiwiYW5jZXN0b3JzIiwiaGFuZGxlVG9wTGV2ZWxJbXBsIiwiX2hhbmRsZVRvcExldmVsIiwiaGFuZGxlVG9wTGV2ZWxXaXRob3V0UGF0aCIsInNjcm9sbFZhbHVlTW9uaXRvciIsIl9lbmFibGVkIiwic2Nyb2xsYWJsZSIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsTGVmdCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwiUGVyZiIsImN1cnJlbnRseUVuYWJsZWQiLCJwcmV2aW91c2x5RW5hYmxlZCIsInJlYWN0TW91bnRSZWFkeSIsImZvcmNlSFRNTCIsImdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQiLCJpc0NvbGxhcHNlZCIsImFuY2hvck5vZGUiLCJhbmNob3JPZmZzZXQiLCJmb2N1c09mZnNldCIsInVzZUlFT2Zmc2V0cyIsInNlbGVjdGVkUmFuZ2UiLCJzZWxlY3RlZExlbmd0aCIsImZyb21TdGFydCIsImR1cGxpY2F0ZSIsIm1vdmVUb0VsZW1lbnRUZXh0Iiwic2V0RW5kUG9pbnQiLCJzdGFydE9mZnNldCIsInJhbmdlQ291bnQiLCJjdXJyZW50UmFuZ2UiLCJnZXRSYW5nZUF0Iiwic3RhcnRDb250YWluZXIiLCJlbmRDb250YWluZXIiLCJ0ZW1wUmFuZ2UiLCJjbG9uZVJhbmdlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwic2V0RW5kIiwiZW5kT2Zmc2V0IiwiZGV0ZWN0aW9uUmFuZ2UiLCJzZXRTdGFydCIsImlzQmFja3dhcmQiLCJjb2xsYXBzZWQiLCJzdGFydE1hcmtlciIsImVuZE1hcmtlciIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiZ2V0TGVhZk5vZGUiLCJnZXRTaWJsaW5nTm9kZSIsIm5vZGVTdGFydCIsIm5vZGVFbmQiLCJzaGFsbG93RXF1YWwiLCJza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQiLCJvblNlbGVjdCIsIm9uU2VsZWN0Q2FwdHVyZSIsImxhc3RTZWxlY3Rpb24iLCJtb3VzZURvd24iLCJoYXNMaXN0ZW5lciIsIk9OX1NFTEVDVF9LRVkiLCJjb25zdHJ1Y3RTZWxlY3RFdmVudCIsImN1cnJlbnRTZWxlY3Rpb24iLCJ0b3AiLCJib3VuZGluZ1RvcCIsImxlZnQiLCJib3VuZGluZ0xlZnQiLCJzeW50aGV0aWNFdmVudCIsIkdMT0JBTF9NT1VOVF9QT0lOVF9NQVgiLCJwb3ciLCJTeW50aGV0aWNDbGlwYm9hcmRFdmVudCIsIlN5bnRoZXRpY0ZvY3VzRXZlbnQiLCJTeW50aGV0aWNLZXlib2FyZEV2ZW50IiwiU3ludGhldGljRHJhZ0V2ZW50IiwiU3ludGhldGljVG91Y2hFdmVudCIsIlN5bnRoZXRpY1doZWVsRXZlbnQiLCJnZXRFdmVudENoYXJDb2RlIiwiYWJvcnQiLCJvbkFib3J0Iiwib25BYm9ydENhcHR1cmUiLCJibHVyIiwib25CbHVyIiwib25CbHVyQ2FwdHVyZSIsImNhblBsYXkiLCJvbkNhblBsYXkiLCJvbkNhblBsYXlDYXB0dXJlIiwiY2FuUGxheVRocm91Z2giLCJvbkNhblBsYXlUaHJvdWdoIiwib25DYW5QbGF5VGhyb3VnaENhcHR1cmUiLCJjbGljayIsIm9uQ29udGV4dE1lbnUiLCJvbkNvbnRleHRNZW51Q2FwdHVyZSIsIm9uQ29weSIsIm9uQ29weUNhcHR1cmUiLCJjdXQiLCJvbkN1dCIsIm9uQ3V0Q2FwdHVyZSIsImRvdWJsZUNsaWNrIiwiZHJhZyIsIm9uRHJhZyIsIm9uRHJhZ0NhcHR1cmUiLCJkcmFnRW5kIiwib25EcmFnRW5kIiwib25EcmFnRW5kQ2FwdHVyZSIsImRyYWdFbnRlciIsIm9uRHJhZ0VudGVyIiwib25EcmFnRW50ZXJDYXB0dXJlIiwiZHJhZ0V4aXQiLCJvbkRyYWdFeGl0Iiwib25EcmFnRXhpdENhcHR1cmUiLCJkcmFnTGVhdmUiLCJvbkRyYWdMZWF2ZSIsIm9uRHJhZ0xlYXZlQ2FwdHVyZSIsImRyYWdPdmVyIiwib25EcmFnT3ZlciIsIm9uRHJhZ092ZXJDYXB0dXJlIiwiZHJhZ1N0YXJ0Iiwib25EcmFnU3RhcnQiLCJvbkRyYWdTdGFydENhcHR1cmUiLCJvbkRyb3AiLCJvbkRyb3BDYXB0dXJlIiwiZHVyYXRpb25DaGFuZ2UiLCJvbkR1cmF0aW9uQ2hhbmdlIiwib25EdXJhdGlvbkNoYW5nZUNhcHR1cmUiLCJlbXB0aWVkIiwib25FbXB0aWVkIiwib25FbXB0aWVkQ2FwdHVyZSIsImVuY3J5cHRlZCIsIm9uRW5jcnlwdGVkIiwib25FbmNyeXB0ZWRDYXB0dXJlIiwiZW5kZWQiLCJvbkVuZGVkIiwib25FbmRlZENhcHR1cmUiLCJvbkVycm9yIiwib25FcnJvckNhcHR1cmUiLCJvbkZvY3VzIiwib25Gb2N1c0NhcHR1cmUiLCJvbklucHV0Iiwib25JbnB1dENhcHR1cmUiLCJrZXlEb3duIiwib25LZXlEb3duIiwib25LZXlEb3duQ2FwdHVyZSIsImtleVByZXNzIiwib25LZXlQcmVzcyIsIm9uS2V5UHJlc3NDYXB0dXJlIiwia2V5VXAiLCJvbktleVVwIiwib25LZXlVcENhcHR1cmUiLCJsb2FkIiwib25Mb2FkIiwib25Mb2FkQ2FwdHVyZSIsImxvYWRlZERhdGEiLCJvbkxvYWRlZERhdGEiLCJvbkxvYWRlZERhdGFDYXB0dXJlIiwibG9hZGVkTWV0YWRhdGEiLCJvbkxvYWRlZE1ldGFkYXRhIiwib25Mb2FkZWRNZXRhZGF0YUNhcHR1cmUiLCJsb2FkU3RhcnQiLCJvbkxvYWRTdGFydCIsIm9uTG9hZFN0YXJ0Q2FwdHVyZSIsIm1vdXNlTW92ZSIsIm1vdXNlT3V0Iiwib25Nb3VzZU91dCIsIm9uTW91c2VPdXRDYXB0dXJlIiwibW91c2VPdmVyIiwib25Nb3VzZU92ZXIiLCJvbk1vdXNlT3ZlckNhcHR1cmUiLCJtb3VzZVVwIiwicGFzdGUiLCJvblBhc3RlIiwib25QYXN0ZUNhcHR1cmUiLCJwYXVzZSIsIm9uUGF1c2UiLCJvblBhdXNlQ2FwdHVyZSIsInBsYXkiLCJvblBsYXkiLCJvblBsYXlDYXB0dXJlIiwicGxheWluZyIsIm9uUGxheWluZyIsIm9uUGxheWluZ0NhcHR1cmUiLCJwcm9ncmVzcyIsIm9uUHJvZ3Jlc3MiLCJvblByb2dyZXNzQ2FwdHVyZSIsInJhdGVDaGFuZ2UiLCJvblJhdGVDaGFuZ2UiLCJvblJhdGVDaGFuZ2VDYXB0dXJlIiwib25SZXNldCIsIm9uUmVzZXRDYXB0dXJlIiwic2Nyb2xsIiwib25TY3JvbGwiLCJvblNjcm9sbENhcHR1cmUiLCJzZWVrZWQiLCJvblNlZWtlZCIsIm9uU2Vla2VkQ2FwdHVyZSIsInNlZWtpbmciLCJvblNlZWtpbmciLCJvblNlZWtpbmdDYXB0dXJlIiwic3RhbGxlZCIsIm9uU3RhbGxlZCIsIm9uU3RhbGxlZENhcHR1cmUiLCJzdWJtaXQiLCJvblN1Ym1pdCIsIm9uU3VibWl0Q2FwdHVyZSIsInN1c3BlbmQiLCJvblN1c3BlbmQiLCJvblN1c3BlbmRDYXB0dXJlIiwidGltZVVwZGF0ZSIsIm9uVGltZVVwZGF0ZSIsIm9uVGltZVVwZGF0ZUNhcHR1cmUiLCJ0b3VjaENhbmNlbCIsIm9uVG91Y2hDYW5jZWwiLCJvblRvdWNoQ2FuY2VsQ2FwdHVyZSIsInRvdWNoRW5kIiwib25Ub3VjaEVuZCIsIm9uVG91Y2hFbmRDYXB0dXJlIiwidG91Y2hNb3ZlIiwib25Ub3VjaE1vdmUiLCJvblRvdWNoTW92ZUNhcHR1cmUiLCJ0b3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaFN0YXJ0Q2FwdHVyZSIsInZvbHVtZUNoYW5nZSIsIm9uVm9sdW1lQ2hhbmdlIiwib25Wb2x1bWVDaGFuZ2VDYXB0dXJlIiwid2FpdGluZyIsIm9uV2FpdGluZyIsIm9uV2FpdGluZ0NhcHR1cmUiLCJ3aGVlbCIsIm9uV2hlZWwiLCJvbldoZWVsQ2FwdHVyZSIsInRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZyIsIk9OX0NMSUNLX0tFWSIsIm9uQ2xpY2tMaXN0ZW5lcnMiLCJFdmVudENvbnN0cnVjdG9yIiwiQ2xpcGJvYXJkRXZlbnRJbnRlcmZhY2UiLCJjbGlwYm9hcmREYXRhIiwiS2V5Ym9hcmRFdmVudEludGVyZmFjZSIsImxvY2FsZSIsIm5vcm1hbGl6ZUtleSIsInRyYW5zbGF0ZVRvS2V5IiwiZGF0YVRyYW5zZmVyIiwiVG91Y2hFdmVudEludGVyZmFjZSIsInRvdWNoZXMiLCJ0YXJnZXRUb3VjaGVzIiwiY2hhbmdlZFRvdWNoZXMiLCJkZWx0YVgiLCJ3aGVlbERlbHRhWCIsImRlbHRhWSIsIndoZWVsRGVsdGFZIiwid2hlZWxEZWx0YSIsImRlbHRhWiIsImRlbHRhTW9kZSIsIk5TIiwiY2xpcFBhdGgiLCJjeCIsImN5IiwiZHgiLCJkeSIsImZ4IiwiZnkiLCJncmFkaWVudFRyYW5zZm9ybSIsImdyYWRpZW50VW5pdHMiLCJtYXJrZXJFbmQiLCJtYXJrZXJNaWQiLCJtYXJrZXJTdGFydCIsInBhdHRlcm5Db250ZW50VW5pdHMiLCJwYXR0ZXJuVW5pdHMiLCJwb2ludHMiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwicngiLCJyeSIsInNwcmVhZE1ldGhvZCIsInN0b3BDb2xvciIsInN0cm9rZSIsInN0cm9rZURhc2hhcnJheSIsInN0cm9rZUxpbmVjYXAiLCJ0ZXh0QW5jaG9yIiwidmlld0JveCIsIngxIiwieDIiLCJ4bGlua0FjdHVhdGUiLCJ4bGlua0FyY3JvbGUiLCJ4bGlua0hyZWYiLCJ4bGlua1JvbGUiLCJ4bGlua1Nob3ciLCJ4bGlua1RpdGxlIiwieGxpbmtUeXBlIiwieG1sQmFzZSIsInhtbExhbmciLCJ4bWxTcGFjZSIsInkxIiwieTIiLCJSZWFjdFNlcnZlclJlbmRlcmluZyIsIlJlYWN0U2VydmVyQmF0Y2hpbmdTdHJhdGVneSIsIlJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24iLCJSZWFjdERPTUZhY3RvcmllcyIsIm9ubHlDaGlsZCIsIkNoaWxkcmVuIiwib25seSIsIlByb3BUeXBlcyIsImNyZWF0ZU1peGluIiwiRE9NIiwiX19zcHJlYWQiLCJtYXBPYmplY3QiLCJhYmJyIiwiYWRkcmVzcyIsImFyZWEiLCJhcnRpY2xlIiwiYXNpZGUiLCJhdWRpbyIsImJhc2UiLCJiZGkiLCJiZG8iLCJiaWciLCJibG9ja3F1b3RlIiwiYnIiLCJjYW52YXMiLCJjYXB0aW9uIiwiY2l0ZSIsImNvZGUiLCJjb2wiLCJjb2xncm91cCIsImRhdGFsaXN0IiwiZGQiLCJkZWwiLCJkZm4iLCJkaWFsb2ciLCJkaXYiLCJkbCIsImR0IiwiZW0iLCJlbWJlZCIsImZpZWxkc2V0IiwiZmlnY2FwdGlvbiIsImZpZ3VyZSIsImZvb3RlciIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImhlYWRlciIsImhncm91cCIsImhyIiwiaWZyYW1lIiwiaW1nIiwiaW5zIiwia2JkIiwia2V5Z2VuIiwibGVnZW5kIiwibGkiLCJsaW5rIiwibWFpbiIsIm1hcmsiLCJtZW51IiwibWVudWl0ZW0iLCJtZXRhIiwibWV0ZXIiLCJuYXYiLCJub3NjcmlwdCIsIm9sIiwib3B0Z3JvdXAiLCJvcHRpb24iLCJvdXRwdXQiLCJwaWN0dXJlIiwicHJlIiwicnAiLCJydCIsInJ1YnkiLCJzYW1wIiwic2NyaXB0Iiwic2VjdGlvbiIsInNtYWxsIiwic3Ryb25nIiwic3ViIiwic3VwIiwidGFibGUiLCJ0Ym9keSIsInRkIiwidGV4dGFyZWEiLCJ0Zm9vdCIsInRoIiwidGhlYWQiLCJ0cmFjayIsInUiLCJ1bCIsInZpZGVvIiwid2JyIiwiY2lyY2xlIiwiZGVmcyIsImVsbGlwc2UiLCJpbWFnZSIsImxpbmUiLCJsaW5lYXJHcmFkaWVudCIsIm1hc2siLCJwb2x5Z29uIiwicG9seWxpbmUiLCJyYWRpYWxHcmFkaWVudCIsInJlY3QiLCJzdmciLCJ0c3BhbiIsIm5ld01vZHVsZSIsIm5ld1BhY2thZ2UiLCJjdHgiLCJfdHlwZW9mIiwiYWN0aW9uVHJhbnNmb3JtZXIiLCJfb3B0aW9ucyR0aXRsZUZvcm1hdHQiLCJ0aXRsZUZvcm1hdHRlciIsImR1cmF0aW9uIiwicGFydHMiLCJ0b0ZpeGVkIiwiZGVmYXVsdFRpdGxlRm9ybWF0dGVyIiwiY29sb3JzIiwibGV2ZWwiLCJuZXh0RW50cnkiLCJmb3JtYXR0ZWRBY3Rpb24iLCJmb3JtYXR0ZWRUaW1lIiwidGl0bGVDU1MiLCJoZWFkZXJDU1MiLCJncm91cENvbGxhcHNlZCIsImxvZyIsInByZXZTdGF0ZUxldmVsIiwiZ2V0TG9nTGV2ZWwiLCJhY3Rpb25MZXZlbCIsImVycm9yTGV2ZWwiLCJuZXh0U3RhdGVMZXZlbCIsIl9kaWZmMiIsImdyb3VwRW5kIiwiX2RlZXBEaWZmMiIsImxocyIsInJocyIsImRpY3Rpb25hcnkiLCJfZGVlcERpZmYiLCIkc2NvcGUiLCJjb25mbGljdCIsImNvbmZsaWN0UmVzb2x1dGlvbiIsIkRlZXBEaWZmIiwiYWNjdW11bGF0ZURpZmYiLCJpbmhlcml0cyIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJEaWZmIiwiRGlmZkVkaXQiLCJvcmlnaW4iLCJEaWZmTmV3IiwiRGlmZkRlbGV0ZWQiLCJEaWZmQXJyYXkiLCJhcnJheVJlbW92ZSIsInJlYWxUeXBlT2YiLCJzdWJqZWN0IiwiZGVlcERpZmYiLCJjaGFuZ2VzIiwicHJlZmlsdGVyIiwiY3VycmVudFBhdGgiLCJsdHlwZSIsInJ0eXBlIiwiYWtleXMiLCJwa2V5cyIsImFjY3VtIiwiYXBwbHlBcnJheUNoYW5nZSIsIml0IiwiYXBwbHlDaGFuZ2UiLCJyZXZlcnRBcnJheUNoYW5nZSIsInJldmVydENoYW5nZSIsImFwcGx5RGlmZiIsImRlZmluZVByb3BlcnRpZXMiLCJvYnNlcnZhYmxlRGlmZiIsImlzQ29uZmxpY3QiLCJjcm9zc2Jyb3dzZXJOYW1lIiwiY3Jvc3Nicm93c2VyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiZGV0ZXJtaW5lQnJvd3NlciIsIklTX0RFViIsIlNDT1JFQ0FSRF9TRVJWRVJfQUREUkVTUyIsIlNUQVRJQ19GSUxFU19TRVJWRVIiLCJTVE9SQUdFX1RPS0VOIiwiU1RPUkVfUkFUSU5HX1BFUklPRCIsIlNVUFBPUlRFRF9QUk9UT0NPTFMiLCJTT0NJQUxfQ0FMTEJBQ0tfVVJMIiwiU0hJRUxEU19MRVZFTF9ISUdIIiwiV0FSTklOR1NfTEVWRUxfSElHSCIsIldBUk5JTkdTX0xFVkVMX09GRiIsIlJBVElOR19DT0xPUlMiLCJTQUZFIiwiTk9UX1NBRkUiLCJVTktOT1dOIiwiU1VTUElDSU9VUyIsIk9QRU5fVEFCX01FU1NBR0UiLCJPUEVOX0lOX0NVUlJfVEFCX01FU1NBR0UiLCJTRU5EX01FU1NBR0UiLCJUVVJOX09GRl9QUk9URUNUSU9OIiwiVFVSTl9PTl9QUk9URUNUSU9OIiwiVE9HR0xFX1dPVF9TTElERVIiLCJUT0dHTEVfV09UX1NMSURFUl9SRVFVRVNUIiwiQ09OVEVOVF9DT05ORUNURUQiLCJJTkpFQ1RfRk9OVFMiLCJBUFBfTVlXT1QiLCJBTkFMWVRJQ19JTkZPIiwiQVBQX01ZV09UX0hPU1RfVVJMIiwiV0VMQ09NRV9VUkwiLCJVTklOU1RBTExfVVJMIiwiRk9OVFNfVVJMIiwiSUNPTlMiLCJncmF5IiwicmVkIiwieWVsbG93IiwiZ3JlZW4iLCJDQVRFR09SSUVTX1JVTEVTIiwibm90U2FmZSIsInN1c3BpY2lvdXMiLCJzYWZlIiwid2FybmluZ3MiLCJibG9jayIsImdhbWJsaW5nIiwibmV3cyIsInNvY2lhbCIsInBvcHVwIiwicmF0aW5nRmxvdyIsInNhZmV0eSIsImNoaWxkU2FmZXR5IiwicmVwdXRhdGlvbiIsImljb25zIiwiU0hBUkVEX0hPU1RTIiwiT05FX0hPVVIiLCJPTkVfTUlOVVRFIiwiT05FX0RBWSIsIk9ORV9NT05USCIsIlBJTkciLCJQT05HIiwiSURTX1RPX1dPVF9UQUdTIiwiU0hPV19UT0FTVF9OT1RJRklDQVRJT04iLCJCbGFua1JldmlldyIsImNvbW1lbnQiLCJ0YWdzIiwiV09UX1RSQUNFX0lEIiwiQU5BTFlUSUNTIiwiUEFJRCIsIk9SR0FOSUMiLCJFWFRFTlNJT05fSU5TVEFMTCIsIkVYVEVOU0lPTl9VUEdSQURFIiwiT1BUX0lOX1BBR0VfVklFVyIsIk9QVF9JTl9QQUdFX0NMSUNLRUQiLCJPUFRfSU5fUEFHRV9BUkVfWU9VX1NVUkVfVklFVyIsIk9QVF9JTl9QQUdFX0FSRV9ZT1VfU1VSRV9DTElDS0VEIiwiUE9QVVBfVjIiLCJFWFRFTlNJT05fUE9QVVBfVklFVyIsIkVYVEVOU0lPTl9SRUFEX1JFVklFV1NfQ0xJQ0siLCJFWFRFTlNJT05fQkxPQ0tfVFJBQ0tFUl9DTElDSyIsIkVYVEVOU0lPTl9NQU5BR0VfVFJBQ0tFUl9DTElDSyIsIkVYVEVOU0lPTl9BQ1RJVkFURV9QUk9URUNUSU9OX0NMSUNLIiwiRVhURU5TSU9OX01BTkFHRV9QUk9URUNUSU9OX0NMSUNLIiwiRVhURU5TSU9OX0NIRUNLX0xFQUtTX0NMSUNLIiwiU0NIRURVTEVSX1RZUEVTIiwiUkVNT1RFX0NPTkZJR19LRVlTIiwiUkVNT1RFX0NPTkZJR19UWVBFUyIsIlJBVElOR19QRU5ESU5HIiwiR0FfQ0FURUdPUllfS0VZIiwiR0FfQUNUSU9OX0tFWSIsIkdBX0xBQkVMX0tFWSIsIkZlYXR1cmUiLCJwYXJhbXMiLCJkZXNjcmlwdGlvbiIsImVuYWJsZSIsImZvcmNlUmVzZWxlY3QiLCJleHRyYURhdGEiLCJHQV9BQ0NPVU5UIiwiU0hPV19QSU5fV09UX1BPUFVQX0FMQVJNIiwiR0VUX1VTRVJfUExBTl9BTEFSTSIsIkdFVF9MRUFLX0RBVEFfQUxBUk0iLCJPUFRPVVRfQUxBUk0iLCJTRVJQU19SRVFVRVNUX0FMQVJNIiwiVVBEQVRFX0JMT0NLRURfU0lURVNfU1RBVElTVElDU19BTEFSTSIsIlBPUFVQX1VQREFURV9TQ0FOX1RJTUVfQUxBUk0iLCJVU0VSX1NUQVRJU1RJQ1NfU1RPUkFHRV9LRVkiLCJVU0VSX1NUQVRJU1RJQ1NfQkxPQ0tFRF9TSVRFU19LRVkiLCJzdHJ0b2JpbiIsImJpbiIsImJpbnRvc3RyIiwiYmludG9oZXgiLCJIRVgiLCJzaGExIiwiaG1hY3NoYTFoZXgiLCJoZXhrZXkiLCJhc2NpaXRvbmliYmxlIiwiY29kZV9hIiwiaGV4dG9iaW4iLCJzaGExYmluIiwiaXBhZCIsIm9wYWQiLCJpbm5lciIsInNoYTFzdHIiLCJzaGExaGV4IiwiaGV4dG9zdHIiLCJmdCIsImt0IiwibHN3Iiwicm9sIiwiY250Iiwib2xkYSIsIm9sZGIiLCJvbGRjIiwib2xkZCIsIm9sZGUiLCJhcmM0IiwiY3J5cHQiLCJiYXNlMzIiLCJlbmNvZGUiLCJkZWNvZGUiLCJyZXYiLCJjb3VudGVyIiwiZ2V0bm9uY2UiLCJzZWVkIiwid2l0bmVzcyIsImRlY3J5cHQiLCJ3aXRuZXNzX2tleSIsInJlc3BvbnNlX3N0ciIsImhhc2hfc3RyaW5nIiwiYnRvYSIsImF1dGhlbnRpY2F0ZSIsImJyb3dzZXJOYW1lIiwid2ViZXh0QXBpIiwiRVhUX09QVElOX1VSTCIsImkxOG4iLCJnZXRVSUxhbmd1YWdlIiwiZ2V0VVJMIiwiTVlXT1RfT1BUSU5fUk9PVCIsIm1ha2VpZCIsInBvc3NpYmxlIiwiZ2V0U2hpZWxkQ29sb3IiLCJyYXRpbmciLCJjYXRlZ29yaWVzIiwiY2F0IiwicHVueWNvZGUiLCJpbml0aWFsX24iLCJpbml0aWFsX2JpYXMiLCJkZWxpbWl0ZXIiLCJkYW1wIiwidG1pbiIsInRtYXgiLCJza2V3IiwibWF4aW50IiwiZGVjb2RlX2RpZ2l0IiwiY3AiLCJlbmNvZGVfZGlnaXQiLCJmbGFnIiwiYWRhcHQiLCJudW1wb2ludHMiLCJmaXJzdHRpbWUiLCJlbmNvZGVfYmFzaWMiLCJiY3AiLCJwcmVzZXJ2ZUNhc2UiLCJjYXNlX2ZsYWdzIiwiaW5wdXRfbGVuZ3RoIiwib3V0IiwiYmlhcyIsImJhc2ljIiwiaWMiLCJvbGRpIiwiZGlnaXQiLCJSYW5nZUVycm9yIiwidG91dGYxNiIsImgiLCJpanYiLCJ3b3QiLCJpZG4iLCJ1dGYxNiIsImV4dHJhIiwiZ2V0TG9jYWxlIiwiY29tcGFyZVZlcnNpb25zIiwiYUNvbXBvbmVudHMiLCJiQ29tcG9uZW50cyIsImdlbmVyYXRlVXVpZFY0IiwidHMiLCJidWlsZFVybCIsImJhc2VVUkwiLCJnZXRSYW5kb21Cb29sIiwiZ2V0UmFuZG9tVmFsdWVzIiwiY2hlY2tMb2NhbGhvc3QiLCJnZXRzaGFyZWRsZXZlbCIsImdldENsZWFuRG9tYWluIiwiZ2V0RW5jb2RlZERvbWFpbiIsInBhcnQiLCJ0b2FzY2lpIiwiZW5jb2RlaG9zdG5hbWUiLCJBbmFseXRpY3NFdmVudCIsImNyZWF0ZVBheWxvYWQiLCJldiIsInV1aWQiLCJzZSIsInV0bVNvdXJjZSIsInRlc3RHcm91cCIsImV2ZW50UGF5bG9hZCIsInByb2R1Y3QiLCJwbGF0Zm9ybSIsImNvdW50cnkiLCJ1c2VyX2FnZW50IiwiZXZlbnRfdHlwZSIsInB1cmNoYXNlX3NvdXJjZSIsInRlc3RfZ3JvdXAiLCJldmVudE1lc3NhZ2UiLCJ2ZXJzaW9uTnVtYmVyIiwiaXNQcmVtaXVtIiwiZXZlbnRCb2R5IiwiaXNQcmVtaXVtVXNlciIsInVzZXJTdGF0ZSIsImlzVmFsaWRQYWdlRm9yQ29udGVudCIsInN0b3JlVXJsIiwiZ2V0Q3VycmVudFRhYiIsImN1cnJlbnRXaW5kb3ciLCJhZGRDYXRlZ29yeURlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJtaWdyYXRpb25zIiwicmVtaW5kZXJzIiwiR01BSUxfUFJPVEVDVElPTiIsIm1heFByb21vUG9wdXBzIiwiZW1haWxQcm90ZWN0aW9uIiwidGltZXNTaG93biIsInNob3VsZE92ZXJyaWRlQ29tcGxldGVseSIsIm5ld1N0YXRlVmFsdWUiLCJtZXJnZVN0YXRlIiwidXNlckV4aXN0aW5nU3RhdGUiLCJuZXdBcHBTdGF0ZSIsInJ1bk1pZ3JhdGlvbiIsImV4aXN0aW5nVmFsdWUiLCJuZXdBcHBWYWx1ZSIsImZvcm1SZXF1ZXN0IiwiZmluYWxIZWFkZXJzIiwianNvblJlcXVlc3QiLCJSZXF1ZXN0IiwiSGVhZGVycyIsInBvc3RGb3JtIiwicmVxIiwic2VuZFJlcXVlc3QiLCJwb3N0SnNvbiIsInJlc3BvbnNlIiwibW9kaWZpZWRSZXNwb25zZSIsInJlc3BvbnNlVGV4dCIsImV4Y2VwdGlvbiIsIldvdEFwaSIsIm1ldGhvZHMiLCJyZWdpc3RlciIsImdldFNlcnBzIiwiZ2V0VHJhY2tlcnNVcmxzIiwicmV2aWV3cyIsInJldmlld3NDb3VudGVyIiwibXlSZXZpZXciLCJkZWxldGVSZXZpZXciLCJzdWJtaXRSZXZpZXciLCJhbmFseXRpY3MiLCJnZXRMZWFrSW5mbyIsInVzZXJEYXRhQW5hbHl0aWNzIiwidXBkYXRlTWFpbENoaW1wVGFnc0VuZHBvaW50IiwiZ2V0SXNVc2VyVHJpYWxpbmciLCJydFN1Ymxhc3QiLCJydFdpdG5lc3MiLCJjb3VudGVycyIsInhociIsImdldFJ0U3VibGFzdCIsInNldFJ0U3VibGFzdCIsImlzVmFsaWRVcmwiLCJpc0Nocm9tZUluc3RhbnRVcmwiLCJnZXRDb21tZW50c0RhdGEiLCJyZXBvbnNlIiwiZGF0YVJlc3VsdCIsImNvbW1lbnRJdGVtIiwiYWR1bHQiLCJ1c2VyIiwiYXZhdGFyIiwid2NpZCIsInN0YXIiLCJzY29yZSIsImdldElzUHJlbWl1bSIsInRva2VuIiwiY29tbWVudHMiLCJwYWdlIiwic2FsdCIsImNvbW1lbnRzQ291bnQiLCJyZXFVcmwiLCJnZXRVc2VyUmV2aWV3IiwiYXBpRGF0YSIsInNlbmRDb21tZW50cyIsIkF1dGhvcml6YXRpb24iLCJkZWxldGVDb21tZW50cyIsImlzUnQiLCJ3ZyIsImF1dGhEZXRhaWxzIiwicmVnaXN0ZXJBbGwiLCJydFJlZ2lzdGVyIiwicHJlcGFyZUZvclJ0IiwicnRQYXJhbXMiLCJydE5vbmNlIiwidGFyZ2V0UGFyYW1zUXVlcnlzdHJpbmciLCJ0YXJnZXRQYXJhbXNUb1F1ZXJ5c3RyaW5nIiwiZ2V0QWRkaXRpb25hbFRhcmdldFBhcmFtcyIsInBhcmFtc1RvUXVlcnlzdHJpbmciLCJ0YXJnZXRQYXJhbXMiLCJsaW5rcyIsIndwMCIsIm5vdFJ0IiwicnRFeHRyYVRvcFBhcmFtcyIsInRvcE5vbmNlIiwidG9wUGFyYW1zIiwidG9wUXVlcnlTdHJpbmciLCJ0YXJnZXRzIiwidXBkYXRlZCIsImVuY1RhcmdldCIsImRlY09wdGlvbnMiLCJnZXRSdElkIiwiX3dvdFBsb3lkZXIiLCJzdWJzZndyZFRvUXVlcnlTdHJpbmciLCJzdWJzZndyZEFycmF5IiwiY29tcG9uZW50cyIsInN1YnNmd3JkUXVlcnlzdHJpbmciLCJxdWVyeVN0cmluZyIsInBhcmFtTmFtZSIsInBhcmFtVmFsdWUiLCJnZXREYXRhTGVhayIsInVwZGF0ZWRUaW1lIiwiZnJvbURhdGUiLCJhZGRIZWFkZXJzVG9YaHIiLCJzZXRSZXF1ZXN0SGVhZGVyIiwiZ2V0QW5hbHl0aWNzSW5mb0Zyb21Mb2NhbFN0b3JhZ2UiLCJ1dWlkRnJvbVdlYkFwcCIsInN5bmNBbmFseXRpY0luZm9XaXRoV2ViYXBwIiwic2VuZEFuYWx5dGljc0Zyb21CYWNrZ3JvdW5kIiwic2VuZEludGVybmFsQW5hbHl0aWNzIiwiZ2V0T3JJbml0QW5hbHl0aWNzSW5mb0Zyb21Mb2NhbFN0b3JhZ2UiLCJzZW5kVXNlckRhdGFBbmFseXRpY3MiLCJyZXBvcnRFcnJvciIsIkFjY2VwdCIsIndpdG5lc3NfaWQiLCJ1cGRhdGVNYWlsQ2hpbXBUYWdzIiwiZ2V0SXNUcmlhbGluZyIsImdldERlZmF1bHRTdGF0ZU9iamVjdCIsImZvcmNlIiwibGFzdEFjdGlvbiIsImdldEFwaSIsInJ0QXBpIiwiZ2V0UnRBcGkiLCJjb21tb24iLCJjaWQiLCJZMmxrIiwicmV0ZW50aW9uRXZlbnQiLCJpbnN0YWxsRXZlbnRGaXJlZCIsImZpcnN0UnVuRGF0ZSIsIndvdFRyYWNlSWQiLCJtYWtlV290VHJhY2VJZCIsImV4cGVyaW1lbnRhbEZlYXR1cmUiLCJwaGlzaGluZ1doaXRlbGlzdCIsInRlbXBsaXN0IiwicmF0aW5ncyIsImxvYWRpbmciLCJzZXJwcyIsInByb3RlY3Rpb24iLCJzZXR0aW5nc1Byb3RlY3Rpb24iLCJvcHRvdXRQb3B1cCIsInBhcmVudGFsIiwicGFyZW50YWxFeHRyYUljb24iLCJzaGllbGRzIiwic2V0dGluZ3NTaGllbGRzIiwic2V0dGluZ3NXYXJuaW5nIiwiYXNzaXN0YW50IiwiYXNzaXN0YW50SGFuZGxlVG9wIiwiYXNzaXN0YW50RXhwYW5kZWQiLCJ1cGdyYWRlUG9wVXAiLCJzaG93IiwibnVtYmVyT2ZTaG93IiwiZmlyc3RPZmZlcmluZ0RhdGUiLCJibG9ja1BvcFVwTm90aWZpY2F0aW9uIiwiYmxvY2tQb3BVcCIsInBoaXNoaW5nIiwibGVha01vbml0b3JpbmciLCJyYXRlVXNXaWRnZXQiLCJwb3B1cE9wZW5pbmdDb3VudGVyIiwib2ZmUmF0ZVdpZGdldCIsIm9mZlJhdGVUaW1lIiwibW9iaWxlTW9kYWwiLCJtb2JpbGVNb2RhbFRyaWdnZXIiLCJtb2JpbGVNb2RhbFJhdGVDb3VudCIsIm9uYm9hcmRpbmciLCJjdGEiLCJhcHBlYXJhbmNlIiwic3VydmV5IiwiaW5zdGFsbERhdGUiLCJpc1Nob3dlZCIsInByZXZWZXJzaW9uIiwiaXNGaXJzdFRpbWVVc2VyIiwic2hvd1doYXRzTmV3Iiwid2hhdHNOZXdTaG93bkxhc3RWZXJzaW9uIiwibmV3RmVhdHVyZXMiLCJ0cmFja2VyQmxvY2tlckRhdGEiLCJhbGxvd0xpc3QiLCJhbGxCbG9ja2VkIiwiaGlzdG9yeSIsImhpc3RvcnlNYXhMZW5ndGgiLCJyZWxvYWQiLCJyZWxvYWRBbGxvd0xpc3QiLCJmb2N1c2VkUmV2aWV3IiwiZ2V0SW5pdGlhbFJlbWluZGVycyIsImdldEluaXRpYWxDb3VudGVycyIsInJlbW90ZUNvbmZpZyIsInJlZnJlc2hJbnRlcnZhbEhvdXJzIiwiaXNEZWZhdWx0Q29uZmlnIiwiZmVhdHVyZXMiLCJzZXJwUG9wdXBDb3VudGVyIiwibmV3SW5mbyIsInVwZGF0ZWRUcyIsImVtYWlsIiwiYnJlYWNoZXMiLCJwaW5Xb3RQb3B1cCIsInBvcHVwV2FzU2hvd24iLCJmcmVlVXNlckJsb2NrZWRXZWJzaXRlQ291bnRlciIsInBvcHVwVjIiLCJ3YXNTaG93biIsInNjYW5UaW1lIiwiZ2V0UHJvdGVjdGVkVGltZSIsInNlbnREYXlzIiwiY29tcGxldGVkIiwiUkVNT1ZFX0ZST01fV0hJVEVMSVNUIiwiQUREX1RPX1dISVRFTElTVCIsIkFERF9UT19URU1QTElTVCIsIkNMRUFSX1RFTVBMSVNUIiwiU0FWRV9VU0VSX1JFVklFV19GUk9NX0FQSSIsIlNBVkVfUkFUSU5HIiwiU0VUX0NPTU1FTlRTX0NPVU5UIiwiU0FWRV9DT01NRU5UUyIsIkxPQURJTkdfQ09NTUVOVFMiLCJTRU5EX1FVRVJZX0FDVElPTiIsIlNFUlBfU0VORF9MSU5LU19BQ1RJT04iLCJTRVJQX01BUktfTElOS1NfUEVORElORyIsIkNMRUFSX1JBVElORyIsIkNMRUFSX0NPTU1FTlRTIiwiQ0xFQVJfVVNFUl9SRVZJRVdTIiwiU0FWRV9UQUJTIiwiU0VUX0FDVElWRV9UQUIiLCJTQVZFX1dJVE5FU1MiLCJTQVZFX1JUX1dJVE5FU1MiLCJTQVZFX1JFVEVOVElPTl9EQVlTIiwiU0FWRV9JTlNUQUxMIiwiU0FWRV9GSVJTVF9SVU5fREFURSIsIlRPX05FWFRfU1RFUCIsIlRPX1BSRVZJT1VTX1NURVAiLCJPVkVSX05FWFRfU1RFUCIsIk9WRVJfUFJFVklPVVNfU1RFUCIsIlJBVEVfU0FGRVRZIiwiUkFURV9DSElMRF9TQUZFVFkiLCJSQVRFX1NJVEUiLCJFRElUX1JFVklFVyIsIlNBVkVfUkVWSUVXIiwiREVMRVRFX1JFVklFVyIsIlVQREFURV9SRVZJRVdfVElNRVNUQU1QIiwiQUREX0NPTU1FTlRfQUNUSU9OIiwiVFJJUExFX05FWFRfU1RFUCIsIlRSSVBMRV9QUkVWSU9VU19TVEVQIiwiU0VORF9VU0VSX1JFVklFV19UT19TRVJWRVIiLCJQUk9URUNUSU9OX09OIiwiUFJPVEVDVElPTl9PRkYiLCJBTExfU0FGRV9CUk9XU0lOR19PTiIsIkFMTF9TQUZFX0JST1dTSU5HX09GRiIsIlBBUkVOVEFMX0NPTlRST0xfT0ZGIiwiUEFSRU5UQUxfQ09OVFJPTF9PTiIsIkdBTUJMSU5HX0NPTlRST0xfT0ZGIiwiR0FNQkxJTkdfQ09OVFJPTF9PTiIsIlBBUkVOVEFMX0NPTlRST0xfRVhUUkFfSUNPTl9PRkYiLCJQQVJFTlRBTF9DT05UUk9MX0VYVFJBX0lDT05fT04iLCJBTExfUE9QVVBfQ09OVFJPTFNfT04iLCJBTExfUE9QVVBfQ09OVFJPTFNfT0ZGIiwiU0VUX1NISUVMRFNfTEVWRUwiLCJTRVRfV0FSTklOR1NfTEVWRUwiLCJBU1NJU1RBTlRfT04iLCJBU1NJU1RBTlRfT0ZGIiwiQVNTSVNUQU5UX1NFVF9QT1NJVElPTiIsIkFTU0lTVEFOVF9TRVRfRVhQQU5ERUQiLCJMT0FEX1RSQUNLRVJTX0xJU1QiLCJMT0FEX1RSQUNLRVJTX0xJU1RfQ09NUExFVEVEIiwiUkVMT0FEX1RSQUNLRVJTX0RBVEFfT0ZGIiwiVFJBQ0tFUl9ERVRFQ1RFRCIsIlRPR0dMRV9CTE9DS19BTExfVFJBQ0tFUlMiLCJVUERBVEVfVFJBQ0tFUl9BTExPV19MSVNUIiwiREVMRVRFX1RSQUNLRVJfSElTVE9SWSIsIkZSRUVfVVNFUl9CTE9DS0VEX1dFQlNJVEUiLCJQSElTSElOR19PTiIsIlBISVNISU5HX09GRiIsIkxFQUtfTU9OSVRPUklOR19PTiIsIkxFQUtfTU9OSVRPUklOR19PRkYiLCJQSElTSElOR19XTF9BREQiLCJQSElTSElOR19XTF9SRU1PVkUiLCJTRVRfUkVNSU5ERVIiLCJSRU1PVkVfUkVNSU5ERVIiLCJVUERBVEVfVUlfQ09ORklHX0ZFQVRVUkVTIiwiVVBEQVRFX1VJX0NPTkZJR19CWV9LRVkiLCJIQU5ETEVfVVNFUl9EQVRBX0FOQUxZVElDUyIsIlNBVkVfU0VSUFNfQ09ORiIsIkRFTEVURV9SRVZJRVdfQUNUSU9OIiwiTE9HSU5fQUNUSU9OIiwiUkVHSVNURVJfQUNUSU9OIiwiRk9SR09UX0FDVElPTiIsIkdFVF9DT01NRU5UU19BQ1RJT04iLCJHRVRfQ09NTUVOVFNfQ09VTlQiLCJHRVRfQ09NTUVOVF9BTkRfUkFUSU5HIiwiTE9HT1VUX0FDVElPTiIsIlNBVkVfVVNFUl9UT0tFTiIsIlNBVkVfVVNFUl9EQVRBIiwiU0FWRV9VU0VSX1BMQU4iLCJHRVRfVVNFUl9QTEFOIiwiU0FWRV9VU0VSX1NPVVJDRSIsIkdFVF9JU19VU0VSX1RSSUFMSU5HIiwiU0FWRV9JU19VU0VSX1RSSUFMSU5HIiwiQ0xFQU5fVVNFUl9EQVRBIiwiRVJST1JfVVNFUl9BVVRIIiwiRVhQRVJJTUVOVEFMX0ZFQVRVUkUiLCJDT1VOVF9QT1BVUF9PUEVOSU5HIiwiT0ZGX1JBVEVfV0lER0VUIiwiQ0hFQ0tfUkFURV9XSURHRVRfREFURSIsIk1PQklMRV9UUklHR0VSX01PREFMIiwiTU9CSUxFX1JBVEVfQ09VTlQiLCJNT0JJTEVfVFJJR0dFUl9NT0RBTF9SRVNFVCIsIlRPX05FWFRfU1RFUF9PTkJPQVJESU5HIiwiVVBEQVRFX1NVUlZFWV9TVEFURSIsIk1BS0VfU1VSVkVZX1NIT1dFRCIsIlVQREFURV9DVEFfU1RBVFVTIiwiVVBEQVRFX0NUQV9BUFBFQVJBTkNFIiwiUE9QVVBfVFlQRSIsIlVQR1JBREVfUE9QVVAiLCJNQVJLX0ZJUlNUX09GRkVSSU5HX0RBVEUiLCJTRVRfQ1VSUkVOVF9WRVJTSU9OIiwiU0VUX1NIT1dfV0hBVFNfTkVXIiwiV09UX1VQR1JBREVfRVZFTlQiLCJPUEVOX0FERF9SRVZJRVdfQUNUSU9OIiwiVVBEQVRFX1JFVklFVyIsIlNFVF9SRVZJRVdfSU5fRk9DVVMiLCJDTEVBTl9ORVdfRkVBVFVSRVMiLCJHRVRfTEVBS19EQVRBIiwiTEVBS19JTkZPX0NPTVBMRVRFRCIsIkxFQUtfTU9OSVRPUklOR19ESVNNSVNTIiwiTEVBS19NT05JVE9SSU5HX0RJU01JU1NfQUxFUlQiLCJJTkNSRU1FTlRfUE9QVVBfQ09VTlRFUiIsIklOQ1JFTUVOVF9FTUFJTF9BRF9WSUVXUyIsIklOQ1JFTUVOVF9DT1VOVEVSIiwiUkVTRVRfQ09VTlRFUiIsIlJFU0VUX1JFTUlOREVSIiwiRElTTUlTU19QSU5fV09UX1BPUFVQIiwiVVBEQVRFX0dBX0lEIiwiVVBEQVRFX01BSUxDSElNUF9UQUciLCJUVVJOX09GRl9QT1BVUF9PTkJPQVJESU5HIiwiVVBEQVRFX1BPUFVQX1NDQU5fVElNRSIsInNhdmVSYXRpbmciLCJ1cGRhdGVSZXZpZXdUaW1lc3RhbXAiLCJ1c2VySWQiLCJzYXZlUmV0ZW50aW9udERheXMiLCJzYXZlSW5zdGFsbCIsInNhdmVGaXJzdFJ1bkRhdGUiLCJkaXNwYXRjaEV2ZW50V2l0aERhdGEiLCJyZXF1ZXN0U2VycHNDb25mIiwic2F2ZVNlcnBzQ29uZiIsInNlcyIsImZhcyIsImdhcyIsInR1cm5PblByb3RlY3Rpb24iLCJPcHRPdXRQb3BVcCIsInR1cm5PZmZQcm90ZWN0aW9uIiwibG9hZFRyYWNrZXJzTGlzdCIsInNldFNoaWVsZHNMZXZlbCIsInVwZGF0ZVN1cnZleVN0YXRlIiwibmV3U3VydmV5U3RhdGUiLCJzZXRSZXZpZXdJbkZvY3VzIiwicmV2aWV3IiwiZ2V0TGVha0RhdGEiLCJpbml0aWF0ZWQiLCJ1cGRhdGVQb3B1cFNjYW5UaW1lIiwiZmlyZSIsInNob3VsZEJsb2NrU2VuZEJ5U2FtcGxlUmF0ZSIsInJ0cCIsImxvZ2dlZCIsInRvZGF5IiwiZ2V0RGF0ZSIsIm1tIiwiZ2V0TW9udGgiLCJ5eXl5IiwiZ2V0RnVsbFllYXIiLCJjZDEiLCJjZDIiLCJjZDMiLCJjZDQiLCJjZDUiLCJUWVBFIiwibGFzdFJldGVudGlvbkRheSIsIm1pbkhvdXJzRnJvbUluc3RhbGwiLCJnZXRGaXJzdFJ1bkRhdGUiLCJzZXRGaXJzdFJ1bkRhdGUiLCJyZXBvcnQiLCJudW1PZkRheXMiLCJkYXlzIiwiaW5zdGFsbFN0YXJ0IiwiZ2V0RGF0ZVN0YXJ0IiwidG9kYXlTdGFydCIsIm1zU3RhcnREaWZmIiwiYWJzIiwiaG91cnNGcm9tVHJ1ZUluc3RhbGwiLCJkYXlzRGlmZiIsImRhdGUiLCJsaXZlUmVwb3J0IiwiRU1BSUxfVEVNUExBVEUiLCJMT0dJTl9URU1QTEFURSIsIlBBU1NXT1JEX1RFTVBMQVRFIiwiQ0FSRF9OVU1fVEVNUExBVEUiLCJQSE9ORV9URU1QTEFURSIsIkdFTkRFUl9URU1QTEFURSIsIkVNQUlMX1JFR0VYIiwicGFyc2VVcmxQYXJhbXMiLCJwYXJhbXNTdHJpbmciLCJyZXBsYWNlUGFyYW0iLCJwYXJzZWRQYXJhbXMiLCJmaWx0ZXJFbWFpbCIsImZpbHRlck5hbWUiLCJmaWx0ZXJQYXNzd29yZCIsImZpbHRlckNhcmQiLCJmaWx0ZXJQaG9uZSIsImZpbHRlckxvY2F0aW9uIiwiZmlsdGVyR2VuZGVyIiwiZmlsdGVyQWRkcmVzcyIsImZpbHRlclBvc3Rjb2RlIiwiZmlsdGVyQ29tcG9uZW50IiwiZGVjb2RlZENvbXBvbmVudCIsInZlcmlmeUlzU3RyaW5nIiwiZmlsdGVyQWxsIiwiY2xlYW5TZWFyY2giLCJmaWx0ZXJBbGxBcnJheSIsInVybEFycmF5IiwiZmlsdGVyZWR1cmxBcnJheSIsImZpbHRlcmVkVXJsIiwiZmlsdGVyQWxsT2JqZWN0IiwiaWdub3JlZEtleXMiLCJUQUJfRk9DVVNfRVZFTlRTIiwicXVlcnlSZXF1ZXN0QnVmZmVyIiwic2hvdWxkSW5qZWN0Iiwic2hvdWxkSW5qZWN0U2NyaXB0cyIsInRvZ2dsZVNsaWRlciIsIm9uQ2xpY2tlZCIsImhhbmRsZU5leHRQb3B1cFN0YXRlIiwiaXNDbG9zZWRPZmZlcmluZyIsImRvSGFuZGxlTmV4dFBvcHVwU3RhdGUiLCJzZXRTeXN0ZW1Qb3BVcFN0YXRlIiwiaXNQcm90ZWN0aW9uIiwiaXNQb3RlbnRpYWxCdXllciIsInNob3VsZFNob3dTcGVjaWFsT2ZmZXIiLCJzZXRVcGdyYWRlUG9wdXBTdGF0ZSIsInNldE5vcm1hbFBvcHVwU3RhdGUiLCJzcGVjaWFsT2ZmZXIiLCJwcm9tcHRDeWNsZURheXMiLCJzZXRCYWRnZVRleHQiLCJzZXRQb3B1cCIsImlzT2ZmZXJpbmdKdXN0Q2xvc2VkIiwic2V0RXJyb3JTdGF0ZSIsImhpZ2hsaWdodFNlY3Rpb24iLCJmb2N1c0V2ZW50VHlwZSIsImNoYW5nZUluZm8iLCJjdXJyZW50VGFiSWQiLCJwaW5nVG9BY3RpdmVUYWIiLCJpbmplY3RDb250ZW50U2NyaXB0cyIsInBvbmciLCJpc0FscmVhZHlJbmplY3RlZCIsImluamVjdGlvbnMiLCJjb250ZW50X3NjcmlwdHMiLCJub3JtYWxpemVSZWdleHAiLCJydW5fYXQiLCJzY3JpcHRpbmciLCJleGVjdXRlU2NyaXB0IiwiYWxsRnJhbWVzIiwiYWxsX2ZyYW1lcyIsImZpbGVzIiwianMiLCJjc3MiLCJpbnNlcnRDU1MiLCJyZXRyeVF1ZXJ5RGF0YSIsImN1clRhYiIsImNsZWFuVXJsIiwiZmV0Y2hSYXRpbmciLCJleHRyYWN0TGlua3MiLCJvcmciLCJnZXRSYXRpbmciLCJXT1RfUlVMRV9JREVOVElGSUVSIiwiX3RyYWNrZXJzTGlzdCIsIl90cmFja2Vyc01hcHBpbmciLCJfYWxsb3dMaXN0IiwiX2Jsb2NrQWxsIiwiaWRUb1VybE1hcHBpbmciLCJHRVRNQVRDSEVEUlVMRVNfUVVPVEFfSU5URVJWQUwiLCJNQVhfR0VUTUFUQ0hFRFJVTEVTX0NBTExTX1BFUl9JTlRFUlZBTCIsInJlcXVlc3RMaXN0ZW5lciIsInJlcXVlc3REZXRhaWxzIiwic3RhdGlzdGljS2V5IiwidHJhY2tlckRhdGEiLCJ0cmFja2Vyc0xpc3QiLCJpbml0aWF0b3IiLCJjdXJyZW50U3RhdHMiLCJzdGF0aXN0aWMiLCJmbHVzaEFsbG93TGlzdCIsImJsb2NrQWxsIiwidHJhY2tlcnNNYXBwaW5nIiwidHJhY2tlclVybCIsInRyYWNrZXIiLCJjbGVhclJ1bGVzIiwicmVtb3ZlZFJ1bGVzSWRzIiwiYWRkUnVsZXMiLCJhZGRlZFJ1bGVzIiwiY3JlYXRlQmxvY2tpbmdSdWxlIiwicnVsZUlkIiwicHJpb3JpdHkiLCJibG9ja2VkVHJhY2tlcnNOYW1lcyIsInRyYWNrZXJOYW1lIiwiYmxvY2tlZFRyYWNrZXJzVXJscyIsInRtcElkVG9VcmxNYXBwaW5nIiwidXJsVG9SdWxlSWQiLCJkZWNsYXJhdGl2ZU5ldFJlcXVlc3QiLCJ1cGRhdGVEeW5hbWljUnVsZXMiLCJnZXREeW5hbWljUnVsZXMiLCJjdXJyZW50UnVsZXMiLCJydWxlc1RvUmVtb3ZlSWRzIiwicnVsZSIsImlzV290UnVsZUlEIiwicmVtb3ZlUnVsZUlkcyIsImlkQXNTdHJpbmciLCJpbml0TGlzdGVuZXJzIiwiY3JlYXRlUGluV290UG9wdXBBbGFybSIsImNyZWF0ZUdldFVzZXJQbGFuQWxhcm0iLCJjcmVhdGVVcGRhdGVCbG9ja2VkU2l0ZXNTdGF0aXN0aWNzRGF0YUFsYXJtIiwiY3JlYXRlVXBkYXRlUG9wdXBTY2FuVGltZUFsYXJtIiwiYWxhcm1zIiwib25BbGFybSIsImFsYXJtIiwiZGlkU2hvdyIsInBhc3RCbG9ja2VkV2Vic2l0ZXMiLCJvbmVNb250aEFnbyIsInVwZGF0ZWREYXRhIiwiY3JlYXRlQWxhcm0iLCJBTEFSTV9JTlRFUlZBTF9EQVkiLCJ0b2dnbGVBbGFybSIsIm1pbnMiLCJpc1JlcGVhdGluZyIsImNsZWFyQWxhcm0iLCJzaG91bGRSZXN0YXJ0IiwiYWxhcm1JbmZvIiwicGVyaW9kSW5NaW51dGVzIiwiZGVsYXlJbk1pbnV0ZXMiLCJjbGVhckFsbCIsIkluaXRpYXRvciIsInN0YXRpYyIsInlvZHVsZU5hbWUiLCJkZXAiLCJyZWFkeSIsImFyZ1ZhbHMiLCJpbml0UmVzdWx0IiwiZ2V0Tm90SW5pdGVkTW9kdWxlcyIsImluaXRJblByb2dyZXNzIiwiaGFzQWxsQXJnc1JlYWR5IiwiaW5pdFdpdGhBcmdzIiwiaW5pdEF2YWlsYWJsZSIsInRtIiwiY2hlY2siLCJTZXJwIiwidmFsaWRhdGVQYWdlIiwicmoiLCJvbkRvbmUiLCJpbmplY3Rpb25UYXJnZXQiLCJpbmplY3Rpb25TY3JpcHQiLCJzY3JpcHRJbmplY3Rpb25Db25zdHJ1Y3RvclYzIiwic2VsZWN0b3JUb3BBZHMiLCJzZWxlY3RvckJvdHRvbUFkcyIsInNlbGVjdG9yTWFpbiIsInNlbGVjdG9yQ2l0ZSIsImhyZiIsImRlc2NTZWxlY3RvciIsImgzU2VsZWN0b3IiLCJkSXRlbSIsImFycmF5QWRzIiwiYXJyYXlNYWluIiwic2VycEFkIiwic2luZ2xlQWQiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJUZXh0IiwiZGVzY09wdGlvbiIsInJlZm9ybWF0IiwibzIiLCJncmVlbl9saW5rIiwic2luZ2xlTWFpbiIsImRlc2MiLCJhY2MiLCJjdXJyIiwic2VycE1haW4iLCJhZHMiLCJiYXNlVVJJIiwiaXNVcGRhdGVkIiwiYWxhcm1zTWFuYWdlciIsImNsZWFyQWxhcm1zIiwibXlFbGVtZW50Iiwic2V0RXhwZXJpbWVudGFsRGF0YSIsImZpcmVJbnN0YWxsRXZlbnQiLCJyZXRlbnRpb24iLCJwaUZpbHRlciIsImdldEFsbFRhYnMiLCJjb25zZWN1dGl2ZUNhY2hlTWlzc2VzIiwibGFzdEhvc3RMb29rZWR1cEluQ2FjaGUiLCJjb250ZW50U3RhdGVIYW5kbGVyIiwidHJhY2tlckJsb2NrZXIiLCJmb250c1N0eWxlU2hlZXQiLCJ1bnN1YnNjcmliZUNhY2hlIiwiYXBpV2l0bmVzcyIsInJ0QXBpV2l0bmVzcyIsImRvT25CYWNrZ3JvdW5kU3RhcnQiLCJydERldGFpbHMiLCJzYXZlV2l0bmVzcyIsInNhdmVSdFdpdG5lc3MiLCJjbGVhckNvbW1lbnRzIiwicmVxdWVzdFNlcnBDb25maWciLCJkZWxldGVUcmFja2Vyc0hpc3RvcnkiLCJ0YWJVcGRhdGVMaXN0ZW5lciIsInRhYkxpc3RlbmVyIiwid2luZG93TGlzdGVuZXIiLCJoYW5kbGVTZW5kTWVzc2FnZSIsInRvZ2dsZU9wdE91dEFsYXJtIiwiZ2V0Rm9udHMiLCJmb250cyIsInN0YXJ0TGVha01vbml0b3JpbmdJbnRlcnZhbCIsInRvZ2dsZUdldExlYWtEYXRhQWxhcm0iLCJzdXJ2ZXlEYXRhIiwic3RhcnRPcHRvdXRJbnRlcnZhbCIsImNoYW5nZVNoaWVsZExldmVscyIsInNldFVuaW5zdGFsbFVSTCIsInNldEJhZGdlQmFja2dyb3VuZENvbG9yIiwibGFuZ1RleHQiLCJnZXRNZXNzYWdlIiwiY29udGV4dE1lbnVzIiwicmVtb3ZlQWxsIiwicHJlQ2hlY2tMaW5rIiwib25IaXN0b3J5U3RhdGVVcGRhdGVkIiwib25RdWVyeURhdGFFdmVudCIsImNyZWF0ZVNlcnBSZXF1ZXN0QWxhcm0iLCJnYVBhcmFtcyIsInNlbmRJbnRlcm5hbEFuYWx5dGljc0V2ZW50Iiwib3BlblByZUNoZWNrIiwiaW5mbyIsIm1lbnVJdGVtSWQiLCJsaW5rVXJsIiwicmVhc29uIiwiZnJvbU1lbnVUb2dnbGUiLCJ3ZWJzaXRlRXh0ZXJuYWxNZXNzYWdlTGlzdGVuZXIiLCJ3aGl0ZWxpc3RlZERvbWFpbnMiLCJkb21haW4iLCJnZXREb21haW4iLCJ3aGl0ZWxpc3RlZERvbWFpbiIsImlzQWN0aXZlIiwiaW50ZXJuYWxFdmVudHMiLCJoYXNGaXJlZCIsIm9zIiwiY2xpZW50U3RyaW5ncyIsImNzIiwiZ2V0T1MiLCJvcGVuUHJlc2V0dGluZ3NQYWdlIiwidG9OZXh0U3RlcE9uYm9hcmRpbmciLCJleHBlcmltZW50YWxEYXRhIiwibGFzdFZlcnNpb24iLCJzYXZlRXhwZXJpbWVudGFsRGF0YSIsImluY2x1ZGVFeHBlcmltZW50YWxGZWF0dXJlcyIsIm51bVNlcnBzIiwiaXNFeHBlY3RlZEluQ2FjaGUiLCJnZXRDdXJyZW50IiwiYWN0aXZlV2luZG93Iiwic2F2ZVRhYnMiLCJ1cGRhdGVJY29uIiwic2V0SWNvbiIsInVwZGF0ZUljb25Ob3RpZmljYXRpb24iLCJzaGllbGRDb2xvciIsImJhZGdlVGV4dCIsImJhZGdlQ29sb3IiLCJpc0Rpc21pc3NlZCIsImlzQnJlYWNoZXNGb3VuZCIsImdldEZpbHRlcmVkU3RhdGUiLCJmaWx0ZXJlZEtleXMiLCJXT1RfQ09ORklHIiwic2hvd1doYXRzTmV3Rm9yVmVyc2lvbiIsImNvbmZpZ0tleVRvU2NoZWR1bGVyS2V5TWFwIiwidXBkYXRlU2NoZWR1bGVycyIsImV4aXN0aW5nRmVhdHVyZSIsImZlYXR1cmUiLCJjeWNsZU51bWJlciIsInNjaGVkdWxlcktleSIsInJlc2V0UmVtaW5kZXIiLCJzeW5jV09UQ29uZmlndXJhdGlvbiIsInNlbGZOYW1lIiwiaXNGaXJzdEluc3RhbGwiLCJpc1VwZGF0ZSIsInNob3VsZEZldGNoSW1tZWRpYXRlbHkiLCJzbGVlcCIsIm9rIiwicmVzcG9uc2VTdGF0dXMiLCJjdXJyZW50U3RhdGUiLCJleGlzdGluZ0ZlYXR1cmVzIiwiY29uZmlnRmlsZSIsImdldENvbmZpZ0Zyb21SZW1vdGUiLCJnZXRJbml0aWFsVUlDb25maWciLCJmcmVzaEZlYXR1cmVzIiwibWFya2VkRm9yRGVsZXRpb24iLCJmaWx0ZXJPdXRSZW1vdmVkRmVhdHVyZXMiLCJtYXJrZWRGb3JVcGRhdGUiLCJuZXdGZWF0dXJlIiwic2hvdWxkU2VsZWN0IiwiZ2V0UmFuZG9tT3B0aW9uIiwiZ2V0VXBkYXRlZE9wdGlvbiIsImZvclVwZGF0ZSIsInVzZXJEYXRhQW5hbHl0aWNzSGFuZGxlciIsImZvckRlbGV0aW9uIiwidXBkYXRlUmVtb3RlVUlDb25maWdGZWF0dXJlcyIsInN1bVdlaWdodHMiLCJ3ZWlnaHRQZXJjZW50YWdlIiwiY3VycmVudEZlYXR1cmUiLCJleGlzdGluZ09wdGlvbiIsImN1cnJJZCIsInVwZGF0ZWRPcHRpb24iLCJvcCIsIkFjdGlvblR5cGVzIiwiZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UiLCJhY3Rpb25UeXBlIiwiY3JlYXRlVGh1bmtNaWRkbGV3YXJlIiwiZXh0cmFBcmd1bWVudCIsInRodW5rIiwid2l0aEV4dHJhQXJndW1lbnQiLCJSZWR1eCIsImNvbWJpbmVSZWR1Y2VycyIsInJlZHVjZXJzIiwicmVkdWNlcktleXMiLCJmaW5hbFJlZHVjZXJzIiwiZmluYWxSZWR1Y2VyS2V5cyIsInNoYXBlQXNzZXJ0aW9uRXJyb3IiLCJyZWR1Y2VyIiwiYXNzZXJ0UmVkdWNlclNoYXBlIiwiaGFzQ2hhbmdlZCIsIl9pIiwicHJldmlvdXNTdGF0ZUZvcktleSIsIm5leHRTdGF0ZUZvcktleSIsImVycm9yTWVzc2FnZSIsIl9zdGF0ZSIsIm5ld1RhYnMiLCJ0b29NYW55IiwiY3VycmVudEhvc3REYXRhIiwicmF0ZSIsInJldmlld0xhc3RVcGRhdGVUaW1lc3RhbXAiLCJzYWZldHlDYXRlZ29yaWVzIiwiY2hpbGRTYWZldHlDYXRlZ29yaWVzIiwicmVwdXRhdGlvbkNhdGVnb3JpZXMiLCJpc0xvZ291dCIsInVzZXJTb3VyY2UiLCJpbmNyZW1lbnQiLCJuZXdVcGdyYWRlUG9wdXAiLCJzZXRNb250aCIsIm5ld0FyciIsIl9icmVhY2hlcyIsImlzRGlzbWlzc2VkRnJvbVNsaWRlciIsImJyZWFjaCIsImVtYWlsQWRkcmVzcyIsIm5ld0NvdW50IiwiZ2V0VXNlciIsInBhcnNlZFJlc3BvbnNlIiwicGFyc2VTdGF0dXMiLCJyb2xlcyIsImxvZ2luIiwibG9nb3V0IiwibWFpbCIsInBhc3MiLCJQYXNzMiIsImZvcmdvdCIsInNvY2lhbExvZ2luVXJsIiwibmV0d29yayIsIkdBIiwiaXNDb250ZW50U2NyaXB0Q29ubmVjdGVkIiwiZmlsdGVyTGlua3NCZWZvcmVTZW5kIiwicGFyc2VVc2VyUmV2aWV3IiwicmF3UmV2aWV3IiwidW5hdXRoUmV2aWV3cyIsImxhc3RGb2N1c2VkV2luZG93IiwiZmluYWxseSIsImdldENvbW1lbnRBbmRSYXRpbmciLCJub3RpZmljYXRpb24iLCJzZXRDb21tZW50c0NvdW50IiwibG9hZGluZ0NvbW1lbnRzIiwic2F2ZUNvbW1lbnRzIiwiZGF0YUZyb21BcGkiLCJjYXRlZ3MiLCJyYXRlQXJyIiwic3RhcnMiLCJ2b3RlIiwidXNlclJldmlld0RhdGEiLCJnZXRMZWFrSW5mb0NvbXBsZXRlZCIsInVzZXJEYXRhRmVhdHVyZSIsImVuZERhdGUiLCJmaWVsZHNUb1NlbmQiLCJzdGF0ZUZpZWxkcyIsImN1cnJlbnRVc2VyIiwiZmllbGQiLCJpc1RyaWFsaW5nIiwidHJpYWxFbmREYXRlIiwibGFzdFN0YXRlIiwiYXBwbHlNaWRkbGV3YXJlIiwiY3JlYXRlU3RvcmUiLCJwcmVsb2FkZWRTdGF0ZSIsImVuaGFuY2VyIiwiX3JlZjIiLCJjdXJyZW50UmVkdWNlciIsImN1cnJlbnRMaXN0ZW5lcnMiLCJuZXh0TGlzdGVuZXJzIiwiaXNEaXNwYXRjaGluZyIsImVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMiLCJpc1N1YnNjcmliZWQiLCJyZXBsYWNlUmVkdWNlciIsIm5leHRSZWR1Y2VyIiwib3V0ZXJTdWJzY3JpYmUiLCJvYnNlcnZlciIsIm9ic2VydmVTdGF0ZSIsIlJlZHV4VGh1bmsiLCJoYW5kbGVWZXJzaW9uVXBkYXRlcyIsIm5ld1ZlcnNpb24iLCJzaG91bGRTaG93V2hhdHNOZXciLCJzZXRDdXJyZW50VmVyc2lvbiIsIm1haW5BcHAiLCJpc0luaXQiLCJpbml0QXBwIiwiaXNXT1RVcGRhdGUiLCJkZWZhdWx0U3RhdGUiLCJtZXJnZWRTdGF0ZSIsImluaXRTdG9yZSIsIm9uSW5zdGFsbGVkIiwiZXZlbnRTcGVjaWZpY0ZpZWxkcyIsInZlcnNpb25fbnVtYmVyIiwiZnVsbF91c2VyX2FnZW50IiwiYWRkR2FzTGlzdGVuZXIiLCJweW1ldGEiLCJnYXN2IiwibGtpZnkiLCJ0eXBlSW5mbyIsImlzRmFzIiwiaXNHYXMiLCJ0YWJJbmZvIiwidHVybCIsInN1YnR5cGUiLCJmb3J0IiwiZnMiLCJlbGlkIiwiTm9vcGVuZXIiLCJjb250ZW50VHlwZUhlbHBlciIsImhhbmRsZVJlcXVlc3QiLCJzZXRUYWJSZWx0eXBlIiwicmVsdHlwZSJdLCJtYXBwaW5ncyI6IjthQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FBT0YsRUFDcEIsR0FBVyxFQUFQRSxHQUE4QixpQkFBVkYsR0FBc0JBLEdBQVNBLEVBQU1HLFdBQVksT0FBT0gsRUFDaEYsSUFBSUksRUFBS1gsT0FBT1ksT0FBTyxNQUd2QixHQUZBMUIsRUFBb0JrQixFQUFFTyxHQUN0Qlgs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USxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUN0QixJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDMUUsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQzFFLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFDbkMsSUFBUSxLQUFNLElBQVEsS0FDdEIsSUFBUSxLQUFNLElBQVEsS0FDdEIsSUFBUSxLQUVSLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFDMUIsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUss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YUEsRUFBVTBCLGFBQ2pDL1EsR0FBY2srRSxJQUNWQSxhQUFtQmxxSixNQUNuQmtxSixFQUFRL21KLFNBQVFuUCxHQUFLZzRFLEVBQVdOLFFBQVExM0UsS0FFeENnNEUsRUFBV04sUUFBUXcrRSxHQUV2Qjd1RSxFQUFVNEIsZ0JBR2xCelMsZUFDSWxlLE9BQU9vZ0IsUUFBUTZOLFVBQVV2UixZQUFZMStELEtBQUswL0ksY0FBY3QxSixLQUFLNFYsT0FDN0R2TixLQUFLMC9CLGlCQUFpQixVQUFXbnlCLEtBQUsyL0ksY0FBY3YxSixLQUFLNFYsU0FHakVyWCxFQUFPeXRDLFNBQVcsSUFBSXp0QyxFQUFPMDBFLE1BQzdCMTBFLEVBQU95dEMsU0FBUzhwQyxnQkFFT1QsS0FBTSxDQUFDLFVBQVciLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxNzkpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4yMSc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nLFxuICAgICAgSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCA9ICdJbnZhbGlkIGB2YXJpYWJsZWAgb3B0aW9uIHBhc3NlZCBpbnRvIGBfLnRlbXBsYXRlYCc7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGEgc2luZ2xlIHdoaXRlc3BhY2UgY2hhcmFjdGVyLiAqL1xuICB2YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKipcbiAgICogVXNlZCB0byB2YWxpZGF0ZSB0aGUgYHZhbGlkYXRlYCBvcHRpb24gaW4gYF8udGVtcGxhdGVgIHZhcmlhYmxlLlxuICAgKlxuICAgKiBGb3JiaWRzIGNoYXJhY3RlcnMgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgY2hhbmdlIHRoZSBtZWFuaW5nIG9mIHRoZSBmdW5jdGlvbiBhcmd1bWVudCBkZWZpbml0aW9uOlxuICAgKiAtIFwiKCksXCIgKG1vZGlmaWNhdGlvbiBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiPVwiIChkZWZhdWx0IHZhbHVlKVxuICAgKiAtIFwiW117fVwiIChkZXN0cnVjdHVyaW5nIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCIvXCIgKGJlZ2lubmluZyBvZiBhIGNvbW1lbnQpXG4gICAqIC0gd2hpdGVzcGFjZVxuICAgKi9cbiAgdmFyIHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzID0gL1soKT0se31cXFtcXF1cXC9cXHNdLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgICBpZiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgICAgfVxuXG4gICAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc0FycmF5QnVmZmVyID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNBcnJheUJ1ZmZlcixcbiAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG4gICAgICBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcCxcbiAgICAgIG5vZGVJc1JlZ0V4cCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzUmVnRXhwLFxuICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG4gICAgICBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQWdncmVnYXRvcmAgZm9yIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlBZ2dyZWdhdG9yKGFycmF5LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaFJpZ2h0KGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5ldmVyeWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFdmVyeShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZVJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZVJpZ2h0KGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVstLWxlbmd0aF07XG4gICAgfVxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhbiBBU0NJSSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgdmFyIGFzY2lpU2l6ZSA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcbiAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYFxuICAgKiB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50IG9yIGl0cyBrZXksIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEtleShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGVhY2hGdW5jKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlTWVhbihhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbmd0aCA/IChiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkgLyBsZW5ndGgpIDogTkFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbml0QWNjdW0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3Qgb3IgbGFzdCBlbGVtZW50IG9mXG4gICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBlYWNoRnVuYykge1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgICAgPyAoaW5pdEFjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICA6IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0QnlgIHdoaWNoIHVzZXMgYGNvbXBhcmVyYCB0byBkZWZpbmUgdGhlXG4gICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyZXIgVGhlIGZ1bmN0aW9uIHRvIGRlZmluZSBzb3J0IG9yZGVyLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTb3J0QnkoYXJyYXksIGNvbXBhcmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zdW1gIGFuZCBgXy5zdW1CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG4gICAgICBpZiAoY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gY3VycmVudCA6IChyZXN1bHQgKyBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9QYWlyc2AgYW5kIGBfLnRvUGFpcnNJbmAgd2hpY2ggY3JlYXRlcyBhbiBhcnJheVxuICAgKiBvZiBrZXktdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udHJpbWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byB0cmltLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUcmltKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmdcbiAgICAgID8gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSkucmVwbGFjZShyZVRyaW1TdGFydCwgJycpXG4gICAgICA6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICAgKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIGlmIChpdGVyYXRlZXMubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShpdGVyYXRlZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYmFzZUdldCh2YWx1ZSwgaXRlcmF0ZWUubGVuZ3RoID09PSAxID8gaXRlcmF0ZWVbMF0gOiBpdGVyYXRlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpdGVyYXRlZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaWRlbnRpdHldO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJyB8fCBrZXkgPT09ICdjb25zdHJ1Y3RvcicgfHwga2V5ID09PSAncHJvdG90eXBlJykge1xuICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICB2YXIgdmFsSXNOYU4gPSB2YWx1ZSAhPT0gdmFsdWUsXG4gICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSksXG4gICAgICAgICAgdmFsSXNVbmRlZmluZWQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gbmF0aXZlRmxvb3IoKGxvdyArIGhpZ2gpIC8gMiksXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKGFycmF5W21pZF0pLFxuICAgICAgICAgICAgb3RoSXNEZWZpbmVkID0gY29tcHV0ZWQgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IGNvbXB1dGVkID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBjb21wdXRlZCA9PT0gY29tcHV0ZWQsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKGNvbXB1dGVkKTtcblxuICAgICAgICBpZiAodmFsSXNOYU4pIHtcbiAgICAgICAgICB2YXIgc2V0TG93ID0gcmV0SGlnaGVzdCB8fCBvdGhJc1JlZmxleGl2ZTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1VuZGVmaW5lZCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIChyZXRIaWdoZXN0IHx8IG90aElzRGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNOdWxsKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc051bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmICFvdGhJc051bGwgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzU3ltYm9sKTtcbiAgICAgICAgfSBlbHNlIGlmIChvdGhJc051bGwgfHwgb3RoSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRMb3cgPSByZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0TG93KSB7XG4gICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlTWluKGhpZ2gsIE1BWF9BUlJBWV9JTkRFWCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkVW5pcWAgYW5kIGBfLnNvcnRlZFVuaXFCeWAgd2l0aG91dFxuICAgICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKCFpbmRleCB8fCAhZXEoY29tcHV0ZWQsIHNlZW4pKSB7XG4gICAgICAgICAgdmFyIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b051bWJlcmAgd2hpY2ggZG9lc24ndCBlbnN1cmUgY29ycmVjdFxuICAgICAqIGNvbnZlcnNpb25zIG9mIGJpbmFyeSwgaGV4YWRlY2ltYWwsIG9yIG9jdGFsIHN0cmluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICByZXR1cm4gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICAgICAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICBzZWVuID0gcmVzdWx0O1xuXG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgdmFyIHNldCA9IGl0ZXJhdGVlID8gbnVsbCA6IGNyZWF0ZVNldChhcnJheSk7XG4gICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9BcnJheShzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIHNlZW4gPSBuZXcgU2V0Q2FjaGU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VlbiA9IGl0ZXJhdGVlID8gW10gOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciBzZWVuSW5kZXggPSBzZWVuLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc2VlbkluZGV4LS0pIHtcbiAgICAgICAgICAgIGlmIChzZWVuW3NlZW5JbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXMoc2VlbiwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcHJvcGVydHkgcGF0aCB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IGRlbGV0ZSBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVwZGF0ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgcmV0dXJuIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB1cGRhdGVyKGJhc2VHZXQob2JqZWN0LCBwYXRoKSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kcm9wV2hpbGVgIGFuZCBgXy50YWtlV2hpbGVgXG4gICAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEcm9wXSBTcGVjaWZ5IGRyb3BwaW5nIGVsZW1lbnRzIGluc3RlYWQgb2YgdGFraW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXaGlsZShhcnJheSwgcHJlZGljYXRlLCBpc0Ryb3AsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xO1xuXG4gICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSAmJlxuICAgICAgICBwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7fVxuXG4gICAgICByZXR1cm4gaXNEcm9wXG4gICAgICAgID8gYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gMCA6IGluZGV4KSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IGxlbmd0aCkpXG4gICAgICAgIDogYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogMCksIChmcm9tUmlnaHQgPyBsZW5ndGggOiBpbmRleCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGB3cmFwcGVyVmFsdWVgIHdoaWNoIHJldHVybnMgdGhlIHJlc3VsdCBvZlxuICAgICAqIHBlcmZvcm1pbmcgYSBzZXF1ZW5jZSBvZiBhY3Rpb25zIG9uIHRoZSB1bndyYXBwZWQgYHZhbHVlYCwgd2hlcmUgZWFjaFxuICAgICAqIHN1Y2Nlc3NpdmUgYWN0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYWN0aW9ucyBBY3Rpb25zIHRvIHBlcmZvcm0gdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV3JhcHBlclZhbHVlKHZhbHVlLCBhY3Rpb25zKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnZhbHVlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlSZWR1Y2UoYWN0aW9ucywgZnVuY3Rpb24ocmVzdWx0LCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5mdW5jLmFwcGx5KGFjdGlvbi50aGlzQXJnLCBhcnJheVB1c2goW3Jlc3VsdF0sIGFjdGlvbi5hcmdzKSk7XG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy54b3JgLCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VYb3IoYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVVuaXEoYXJyYXlzWzBdKSA6IFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2luZGV4XSxcbiAgICAgICAgICAgIG90aEluZGV4ID0gLTE7XG5cbiAgICAgICAgd2hpbGUgKCsrb3RoSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAob3RoSW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBiYXNlRGlmZmVyZW5jZShyZXN1bHRbaW5kZXhdIHx8IGFycmF5LCBhcnJheXNbb3RoSW5kZXhdLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4ocmVzdWx0LCAxKSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy56aXBPYmplY3RgIHdoaWNoIGFzc2lnbnMgdmFsdWVzIHVzaW5nIGBhc3NpZ25GdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbkZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWmlwT2JqZWN0KHByb3BzLCB2YWx1ZXMsIGFzc2lnbkZ1bmMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICB2YWxzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5kZXggPCB2YWxzTGVuZ3RoID8gdmFsdWVzW2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgYXNzaWduRnVuYyhyZXN1bHQsIHByb3BzW2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGFuIGVtcHR5IGFycmF5IGlmIGl0J3Mgbm90IGFuIGFycmF5IGxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgdGhlIGNhc3QgYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBgaWRlbnRpdHlgIGlmIGl0J3Mgbm90IGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGNhc3QgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IGlkZW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBgYmFzZVJlc3RgIGFsaWFzIHdoaWNoIGNhbiBiZSByZXBsYWNlZCB3aXRoIGBpZGVudGl0eWAgYnkgbW9kdWxlXG4gICAgICogcmVwbGFjZW1lbnQgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdmFyIGNhc3RSZXN0ID0gYmFzZVJlc3Q7XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgYXJyYXlgIHRvIGEgc2xpY2UgaWYgaXQncyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBzbGljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0U2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIHJldHVybiAoIXN0YXJ0ICYmIGVuZCA+PSBsZW5ndGgpID8gYXJyYXkgOiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BjbGVhclRpbWVvdXRgXShodHRwczovL21kbi5pby9jbGVhclRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IGlkIFRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdCBvZiB0aGUgdGltZXIgdG8gY2xlYXIuXG4gICAgICovXG4gICAgdmFyIGNsZWFyVGltZW91dCA9IGN0eENsZWFyVGltZW91dCB8fCBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHJvb3QuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGRhdGEgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURhdGFWaWV3KGRhdGFWaWV3LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKGRhdGFWaWV3LmJ1ZmZlcikgOiBkYXRhVmlldy5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGByZWdleHBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVnZXhwIFRoZSByZWdleHAgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHJlZ2V4cC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVJlZ0V4cChyZWdleHApIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgcmVnZXhwLmNvbnN0cnVjdG9yKHJlZ2V4cC5zb3VyY2UsIHJlRmxhZ3MuZXhlYyhyZWdleHApKTtcbiAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGBzeW1ib2xgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN5bWJvbCBUaGUgc3ltYm9sIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVN5bWJvbChzeW1ib2wpIHtcbiAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mID8gT2JqZWN0KHN5bWJvbFZhbHVlT2YuY2FsbChzeW1ib2wpKSA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHZhbHVlcyB0byBzb3J0IHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICAgICAgdmFyIHZhbElzRGVmaW5lZCA9IHZhbHVlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIG90aElzRGVmaW5lZCA9IG90aGVyICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChvdGhlcik7XG5cbiAgICAgICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgICAgICh2YWxJc1N5bWJvbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUgJiYgIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAodmFsSXNOdWxsICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIXZhbElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCAmJiAhb3RoSXNTeW1ib2wgJiYgdmFsdWUgPCBvdGhlcikgfHxcbiAgICAgICAgICAgIChvdGhJc1N5bWJvbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUgJiYgIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghb3RoSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIW90aElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9yZGVyQnlgIHRvIGNvbXBhcmUgbXVsdGlwbGUgcHJvcGVydGllcyBvZiBhIHZhbHVlIHRvIGFub3RoZXJcbiAgICAgKiBhbmQgc3RhYmxlIHNvcnQgdGhlbS5cbiAgICAgKlxuICAgICAqIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsXG4gICAgICogc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3IgZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlclxuICAgICAqIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfHN0cmluZ1tdfSBvcmRlcnMgVGhlIG9yZGVyIHRvIHNvcnQgYnkgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIG9iakNyaXRlcmlhID0gb2JqZWN0LmNyaXRlcmlhLFxuICAgICAgICAgIG90aENyaXRlcmlhID0gb3RoZXIuY3JpdGVyaWEsXG4gICAgICAgICAgbGVuZ3RoID0gb2JqQ3JpdGVyaWEubGVuZ3RoLFxuICAgICAgICAgIG9yZGVyc0xlbmd0aCA9IG9yZGVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlQXNjZW5kaW5nKG9iakNyaXRlcmlhW2luZGV4XSwgb3RoQ3JpdGVyaWFbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIChvcmRlciA9PSAnZGVzYycgPyAtMSA6IDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBGaXhlcyBhbiBgQXJyYXkjc29ydGAgYnVnIGluIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgYXBwbGljYXRpb25zXG4gICAgICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byBwcm92aWRlIHRoZSBzYW1lIHZhbHVlIGZvclxuICAgICAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9OTAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QuaW5kZXggLSBvdGhlci5pbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cyxcbiAgICAgKiBwbGFjZWhvbGRlcnMsIGFuZCBwcm92aWRlZCBhcmd1bWVudHMgaW50byBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlZnRMZW5ndGggKyByYW5nZUxlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaG9sZGVyc1thcmdzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKHJhbmdlTGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleCsrXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGNvbXBvc2VBcmdzYCBleGNlcHQgdGhhdCB0aGUgYXJndW1lbnRzIGNvbXBvc2l0aW9uXG4gICAgICogaXMgdGFpbG9yZWQgZm9yIGBfLnBhcnRpYWxSaWdodGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNJbmRleCA9IC0xLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICByaWdodEluZGV4ID0gLTEsXG4gICAgICAgICAgcmlnaHRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHJhbmdlTGVuZ3RoICsgcmlnaHRMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgcmFuZ2VMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2FyZ3NJbmRleF0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0ID0gYXJnc0luZGV4O1xuICAgICAgd2hpbGUgKCsrcmlnaHRJbmRleCA8IHJpZ2h0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyByaWdodEluZGV4XSA9IHBhcnRpYWxzW3JpZ2h0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraG9sZGVyc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtvZmZzZXQgKyBob2xkZXJzW2hvbGRlcnNJbmRleF1dID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gICAgICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICAgICAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9scyhzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBhbmQgaW5oZXJpdGVkIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9sc0luKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmdyb3VwQnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2luaXRpYWxpemVyXSBUaGUgYWNjdW11bGF0b3Igb2JqZWN0IGluaXRpYWxpemVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIsIGluaXRpYWxpemVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlBZ2dyZWdhdG9yIDogYmFzZUFnZ3JlZ2F0b3IsXG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGluaXRpYWxpemVyID8gaW5pdGlhbGl6ZXIoKSA6IHt9O1xuXG4gICAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIHNldHRlciwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBhY2N1bXVsYXRvcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRWFjaChlYWNoRnVuYywgZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblxuICAgICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmxvd2VyRmlyc3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYFN0cmluZ2AgY2FzZSBtZXRob2QgdG8gdXNlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FzZUZpcnN0KG1ldGhvZE5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgICAgID8gc3RyaW5nVG9BcnJheShzdHJpbmcpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGNociA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IHN0clN5bWJvbHNbMF1cbiAgICAgICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cbiAgICAgICAgdmFyIHRyYWlsaW5nID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDEpLmpvaW4oJycpXG4gICAgICAgICAgOiBzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICAgICAgcmV0dXJuIGNoclttZXRob2ROYW1lXSgpICsgdHJhaWxpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmNhbWVsQ2FzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lIGVhY2ggd29yZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kZXIoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKHdvcmRzKGRlYnVycihzdHJpbmcpLnJlcGxhY2UocmVBcG9zLCAnJykpLCBjYWxsYmFjaywgJycpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBpbnN0YW5jZSBvZiBgQ3RvcmAgcmVnYXJkbGVzcyBvZlxuICAgICAqIHdoZXRoZXIgaXQgd2FzIGludm9rZWQgYXMgcGFydCBvZiBhIGBuZXdgIGV4cHJlc3Npb24gb3IgYnkgYGNhbGxgIG9yIGBhcHBseWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEN0b3IgVGhlIGNvbnN0cnVjdG9yIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdG9yKEN0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVXNlIGEgYHN3aXRjaGAgc3RhdGVtZW50IHRvIHdvcmsgd2l0aCBjbGFzcyBjb25zdHJ1Y3RvcnMuIFNlZVxuICAgICAgICAvLyBodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWZ1bmN0aW9uLW9iamVjdHMtY2FsbC10aGlzYXJndW1lbnQtYXJndW1lbnRzbGlzdFxuICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDdG9yO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0pO1xuICAgICAgICAgIGNhc2UgNzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoQ3Rvci5wcm90b3R5cGUpLFxuICAgICAgICAgICAgcmVzdWx0ID0gQ3Rvci5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG5cbiAgICAgICAgLy8gTWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3IuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2VzNS5naXRodWIuaW8vI3gxMy4yLjIgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGVuYWJsZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhcml0eSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpIHtcbiAgICAgIHZhciBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlcik7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvbGRlcnMgPSAobGVuZ3RoIDwgMyAmJiBhcmdzWzBdICE9PSBwbGFjZWhvbGRlciAmJiBhcmdzW2xlbmd0aCAtIDFdICE9PSBwbGFjZWhvbGRlcilcbiAgICAgICAgICA/IFtdXG4gICAgICAgICAgOiByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG5cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJncywgaG9sZGVycywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5IC0gbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZpbmRgIG9yIGBfLmZpbmRMYXN0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmluZEluZGV4RnVuYyBUaGUgZnVuY3Rpb24gdG8gZmluZCB0aGUgY29sbGVjdGlvbiBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmaW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbmQoZmluZEluZGV4RnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHZhciBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICAgICAgY29sbGVjdGlvbiA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICAgICAgcHJlZGljYXRlID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiBpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKTsgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXhGdW5jKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gLTEgPyBpdGVyYWJsZVtpdGVyYXRlZSA/IGNvbGxlY3Rpb25baW5kZXhdIDogaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmxvd2Agb3IgYF8uZmxvd1JpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxvdyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGbG93KGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmNzKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBmdW5jcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHByZXJlcSA9IExvZGFzaFdyYXBwZXIucHJvdG90eXBlLnRocnU7XG5cbiAgICAgICAgaWYgKGZyb21SaWdodCkge1xuICAgICAgICAgIGZ1bmNzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIHZhciBmdW5jID0gZnVuY3NbaW5kZXhdO1xuICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmVyZXEgJiYgIXdyYXBwZXIgJiYgZ2V0RnVuY05hbWUoZnVuYykgPT0gJ3dyYXBwZXInKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBMb2Rhc2hXcmFwcGVyKFtdLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB3cmFwcGVyID8gaW5kZXggOiBsZW5ndGg7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgZnVuYyA9IGZ1bmNzW2luZGV4XTtcblxuICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgICAgICBkYXRhID0gZnVuY05hbWUgPT0gJ3dyYXBwZXInID8gZ2V0RGF0YShmdW5jKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChkYXRhICYmIGlzTGF6aWFibGUoZGF0YVswXSkgJiZcbiAgICAgICAgICAgICAgICBkYXRhWzFdID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpICYmXG4gICAgICAgICAgICAgICAgIWRhdGFbNF0ubGVuZ3RoICYmIGRhdGFbOV0gPT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSB3cmFwcGVyW2dldEZ1bmNOYW1lKGRhdGFbMF0pXS5hcHBseSh3cmFwcGVyLCBkYXRhWzNdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3JhcHBlciA9IChmdW5jLmxlbmd0aCA9PSAxICYmIGlzTGF6aWFibGUoZnVuYykpXG4gICAgICAgICAgICAgID8gd3JhcHBlcltmdW5jTmFtZV0oKVxuICAgICAgICAgICAgICA6IHdyYXBwZXIudGhydShmdW5jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICBpZiAod3JhcHBlciAmJiBhcmdzLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5wbGFudCh2YWx1ZSkudmFsdWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gbGVuZ3RoID8gZnVuY3NbaW5kZXhdLmFwcGx5KHRoaXMsIGFyZ3MpIDogdmFsdWU7XG5cbiAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuY3NbaW5kZXhdLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCwgcGFydGlhbCBhcHBsaWNhdGlvbiwgYW5kIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNSaWdodF0gVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWRcbiAgICAgKiAgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc1JpZ2h0XSBUaGUgYHBhcnRpYWxzUmlnaHRgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSHlicmlkKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQXJ5ID0gYml0bWFzayAmIFdSQVBfQVJZX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUcsXG4gICAgICAgICAgaXNDdXJyaWVkID0gYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpLFxuICAgICAgICAgIGlzRmxpcCA9IGJpdG1hc2sgJiBXUkFQX0ZMSVBfRkxBRyxcbiAgICAgICAgICBDdG9yID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0N1cnJpZWQpIHtcbiAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlciksXG4gICAgICAgICAgICAgIGhvbGRlcnNDb3VudCA9IGNvdW50SG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzKSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFsc1JpZ2h0KSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzQ291bnQ7XG4gICAgICAgIGlmIChpc0N1cnJpZWQgJiYgbGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICB2YXIgbmV3SG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdGhpc0FyZyxcbiAgICAgICAgICAgIGFyZ3MsIG5ld0hvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSAtIGxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsXG4gICAgICAgICAgICBmbiA9IGlzQmluZEtleSA/IHRoaXNCaW5kaW5nW2Z1bmNdIDogZnVuYztcblxuICAgICAgICBsZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgaWYgKGFyZ1Bvcykge1xuICAgICAgICAgIGFyZ3MgPSByZW9yZGVyKGFyZ3MsIGFyZ1Bvcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGbGlwICYmIGxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBhcmdzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnkgJiYgYXJ5IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJncy5sZW5ndGggPSBhcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikge1xuICAgICAgICAgIGZuID0gQ3RvciB8fCBjcmVhdGVDdG9yKGZuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uaW52ZXJ0QnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdG9JdGVyYXRlZSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52ZXJ0ZXIoc2V0dGVyLCB0b0l0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCB0b0l0ZXJhdGVlKGl0ZXJhdGVlKSwge30pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHVzZWQgZm9yIGB1bmRlZmluZWRgIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU1hdGhPcGVyYXRpb24ob3BlcmF0b3IsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvdGhlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb1N0cmluZyhvdGhlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5vdmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXJyYXlGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG92ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlT3ZlcihhcnJheUZ1bmMpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihpdGVyYXRlZXMpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuICAgICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgIHZhciB0aGlzQXJnID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gYXJyYXlGdW5jKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AgYmFzZWQgb24gYGxlbmd0aGAuIFRoZSBgY2hhcnNgIHN0cmluZ1xuICAgICAqIGlzIHRydW5jYXRlZCBpZiB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgZXhjZWVkcyBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhZGRpbmcobGVuZ3RoLCBjaGFycykge1xuICAgICAgY2hhcnMgPSBjaGFycyA9PT0gdW5kZWZpbmVkID8gJyAnIDogYmFzZVRvU3RyaW5nKGNoYXJzKTtcblxuICAgICAgdmFyIGNoYXJzTGVuZ3RoID0gY2hhcnMubGVuZ3RoO1xuICAgICAgaWYgKGNoYXJzTGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gY2hhcnNMZW5ndGggPyBiYXNlUmVwZWF0KGNoYXJzLCBsZW5ndGgpIDogY2hhcnM7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVJlcGVhdChjaGFycywgbmF0aXZlQ2VpbChsZW5ndGggLyBzdHJpbmdTaXplKGNoYXJzKSkpO1xuICAgICAgcmV0dXJuIGhhc1VuaWNvZGUoY2hhcnMpXG4gICAgICAgID8gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkocmVzdWx0KSwgMCwgbGVuZ3RoKS5qb2luKCcnKVxuICAgICAgICA6IHJlc3VsdC5zbGljZSgwLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmdcbiAgICAgKiBvZiBgdGhpc0FyZ2AgYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKSxcbiAgICAgICAgICAgIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcblxuICAgICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYXJnc0xlbmd0aC0tKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXgrK10gPSBhcmd1bWVudHNbKythcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnJhbmdlYCBvciBgXy5yYW5nZVJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmFuZ2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmFuZ2UoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgICBpZiAoc3RlcCAmJiB0eXBlb2Ygc3RlcCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdGFydCwgZW5kLCBzdGVwKSkge1xuICAgICAgICAgIGVuZCA9IHN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IChzdGFydCA8IGVuZCA/IDEgOiAtMSkgOiB0b0Zpbml0ZShzdGVwKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHJlbGF0aW9uYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVsYXRpb25hbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihvcGVyYXRvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICBpZiAoISh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgJiYgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG90aGVyID0gdG9OdW1iZXIob3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gY29udGludWUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwRnVuYyBUaGUgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBgZnVuY2Agd3JhcHBlci5cbiAgICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVjdXJyeShmdW5jLCBiaXRtYXNrLCB3cmFwRnVuYywgcGxhY2Vob2xkZXIsIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0N1cnJ5ID0gYml0bWFzayAmIFdSQVBfQ1VSUllfRkxBRyxcbiAgICAgICAgICBuZXdIb2xkZXJzID0gaXNDdXJyeSA/IGhvbGRlcnMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3SG9sZGVyc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IGhvbGRlcnMsXG4gICAgICAgICAgbmV3UGFydGlhbHMgPSBpc0N1cnJ5ID8gcGFydGlhbHMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3UGFydGlhbHNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBwYXJ0aWFscztcblxuICAgICAgYml0bWFzayB8PSAoaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9GTEFHIDogV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgYml0bWFzayAmPSB+KGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA6IFdSQVBfUEFSVElBTF9GTEFHKTtcblxuICAgICAgaWYgKCEoYml0bWFzayAmIFdSQVBfQ1VSUllfQk9VTkRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBuZXdQYXJ0aWFscywgbmV3SG9sZGVycywgbmV3UGFydGlhbHNSaWdodCxcbiAgICAgICAgbmV3SG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIHZhciByZXN1bHQgPSB3cmFwRnVuYy5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgaWYgKGlzTGF6aWFibGUoZnVuYykpIHtcbiAgICAgICAgc2V0RGF0YShyZXN1bHQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHJlc3VsdCwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ucm91bmRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYE1hdGhgIG1ldGhvZCB0byB1c2Ugd2hlbiByb3VuZGluZy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByb3VuZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSb3VuZChtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IE1hdGhbbWV0aG9kTmFtZV07XG4gICAgICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBwcmVjaXNpb24pIHtcbiAgICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uID09IG51bGwgPyAwIDogbmF0aXZlTWluKHRvSW50ZWdlcihwcmVjaXNpb24pLCAyOTIpO1xuICAgICAgICBpZiAocHJlY2lzaW9uICYmIG5hdGl2ZUlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBhcnJTdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChhcnJTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIGFyclN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBhcnJheTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBvYmpTdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAob2JqU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBvYmpTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gb2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICAgIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggZmxhdHRlbnMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdFJlc3QoZnVuYykge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHVuZGVmaW5lZCwgZmxhdHRlbiksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzSW4sIGdldFN5bWJvbHNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0RGF0YSA9ICFtZXRhTWFwID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RnVuY05hbWUoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IChmdW5jLm5hbWUgKyAnJyksXG4gICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcbiAgICAgICAgICBsZW5ndGggPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywgcmVzdWx0KSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IGFycmF5W2xlbmd0aF0sXG4gICAgICAgICAgICBvdGhlckZ1bmMgPSBkYXRhLmZ1bmM7XG4gICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJndW1lbnQgcGxhY2Vob2xkZXIgdmFsdWUgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SG9sZGVyKGZ1bmMpIHtcbiAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuICAgICAgcmV0dXJuIG9iamVjdC5wbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcIml0ZXJhdGVlXCIgZnVuY3Rpb24uIElmIGBfLml0ZXJhdGVlYCBpcyBjdXN0b21pemVkLFxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG4gICAgICogSWYgYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgdGhlIGNob3NlbiBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlbSBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2hvc2VuIGZ1bmN0aW9uIG9yIGl0cyByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoLml0ZXJhdGVlIHx8IGl0ZXJhdGVlO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSBpdGVyYXRlZSA/IGJhc2VJdGVyYXRlZSA6IHJlc3VsdDtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgICAgIDogZGF0YS5tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHdoaWxlIChvYmplY3QpIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICAgICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG4gICAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmlldywgYXBwbHlpbmcgYW55IGB0cmFuc2Zvcm1zYCB0byB0aGUgYHN0YXJ0YCBhbmQgYGVuZGAgcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHN0YXJ0YCBhbmQgYGVuZGBcbiAgICAgKiAgcG9zaXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZpZXcoc3RhcnQsIGVuZCwgdHJhbnNmb3Jtcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG4gICAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZHJvcCc6ICAgICAgc3RhcnQgKz0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZHJvcFJpZ2h0JzogZW5kIC09IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2VSaWdodCc6IHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0LCBlbmQgLSBzaXplKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgd3JhcHBlciBkZXRhaWxzIGZyb20gdGhlIGBzb3VyY2VgIGJvZHkgY29tbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V3JhcERldGFpbHMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdChyZVNwbGl0RGV0YWlscykgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgaGFzRnVuYykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG4gICAgICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgICAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTWFwYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBgU2V0YCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gICAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICAgICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHdyYXBwZXIgYGRldGFpbHNgIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBgc291cmNlYCBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc291cmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuICAgICAgdmFyIGxlbmd0aCA9IGRldGFpbHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuam9pbihsZW5ndGggPiAyID8gJywgJyA6ICcgJyk7XG4gICAgICByZXR1cm4gc291cmNlLnJlcGxhY2UocmVXcmFwQ29tbWVudCwgJ3tcXG4vKiBbd3JhcHBlZCB3aXRoICcgKyBkZXRhaWxzICsgJ10gKi9cXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gICAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgICAgICkge1xuICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgIG90aGVyID0gbG9kYXNoW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBvdGhlciAhPSAnZnVuY3Rpb24nIHx8ICEoZnVuY05hbWUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZnVuYyA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGdldERhdGEob3RoZXIpO1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBmdW5jID09PSBkYXRhWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICAgIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBpcyBjYXBhYmxlIG9mIGJlaW5nIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIHZhciBpc01hc2thYmxlID0gY29yZUpzRGF0YSA/IGlzRnVuY3Rpb24gOiBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAgICAgKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGZ1bmN0aW9uIG1ldGFkYXRhIG9mIGBzb3VyY2VgIGludG8gYGRhdGFgLlxuICAgICAqXG4gICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cbiAgICAgKiBUaGlzIGlzIHBvc3NpYmxlIGJlY2F1c2UgbWV0aG9kcyBsaWtlIGBfLmJpbmRgLCBgXy5jdXJyeWAsIGFuZCBgXy5wYXJ0aWFsYFxuICAgICAqIG1heSBiZSBhcHBsaWVkIHJlZ2FyZGxlc3Mgb2YgZXhlY3V0aW9uIG9yZGVyLiBNZXRob2RzIGxpa2UgYF8uYXJ5YCBhbmRcbiAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuICAgICAqIGV4ZWN1dGVkIGltcG9ydGFudCwgcHJldmVudGluZyB0aGUgbWVyZ2luZyBvZiBtZXRhZGF0YS4gSG93ZXZlciwgd2UgbWFrZVxuICAgICAqIGFuIGV4Y2VwdGlvbiBmb3IgYSBzYWZlIGNvbWJpbmVkIGNhc2Ugd2hlcmUgY3VycmllZCBmdW5jdGlvbnMgaGF2ZSBgXy5hcnlgXG4gICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIHNvdXJjZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRhdGFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRGF0YShkYXRhLCBzb3VyY2UpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gZGF0YVsxXSxcbiAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuICAgICAgICAgIG5ld0JpdG1hc2sgPSBiaXRtYXNrIHwgc3JjQml0bWFzayxcbiAgICAgICAgICBpc0NvbW1vbiA9IG5ld0JpdG1hc2sgPCAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcgfCBXUkFQX0FSWV9GTEFHKTtcblxuICAgICAgdmFyIGlzQ29tYm8gPVxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykpICYmIChzb3VyY2VbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSk7XG5cbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuICAgICAgaWYgKCEoaXNDb21tb24gfHwgaXNDb21ibykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGB0aGlzQXJnYCBpZiBhdmFpbGFibGUuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG4gICAgICAgIC8vIFNldCB3aGVuIGN1cnJ5aW5nIGEgYm91bmQgZnVuY3Rpb24uXG4gICAgICAgIG5ld0JpdG1hc2sgfD0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHID8gMCA6IFdSQVBfQ1VSUllfQk9VTkRfRkxBRztcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCBhcmd1bWVudHMuXG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbM107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzID0gZGF0YVszXTtcbiAgICAgICAgZGF0YVszXSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3MocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNF0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCByaWdodCBhcmd1bWVudHMuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBwYXJ0aWFscyA9IGRhdGFbNV07XG4gICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNl0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbNV0sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs2XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbN107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJ5YCBpZiBpdCdzIHNtYWxsZXIuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcbiAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gPT0gbnVsbCA/IHNvdXJjZVs4XSA6IG5hdGl2ZU1pbihkYXRhWzhdLCBzb3VyY2VbOF0pO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICBpZiAoZGF0YVs5XSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGFbOV0gPSBzb3VyY2VbOV07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBmdW5jYCBhbmQgbWVyZ2UgYml0bWFza3MuXG4gICAgICBkYXRhWzBdID0gc291cmNlWzBdO1xuICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICAgICAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IDIgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgZmlyc3QgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIGZpcnN0IGVsZW1lbnQsIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGFycmF5W2xlbmd0aF0gPSBpc0luZGV4KGluZGV4LCBhcnJMZW5ndGgpID8gb2xkQXJyYXlbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiB0aGlzIGZ1bmN0aW9uIGJlY29tZXMgaG90LCBpLmUuIGlzIGludm9rZWQgYSBsb3QgaW4gYSBzaG9ydFxuICAgICAqIHBlcmlvZCBvZiB0aW1lLCBpdCB3aWxsIHRyaXAgaXRzIGJyZWFrZXIgYW5kIHRyYW5zaXRpb24gdG8gYW4gaWRlbnRpdHlcbiAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcbiAgICAgKiBbVjggaXNzdWUgMjA3MF0oaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VGltZW91dCA9IGN0eFNldFRpbWVvdXQgfHwgZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgcmV0dXJuIHJvb3Quc2V0VGltZW91dChmdW5jLCB3YWl0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYHdyYXBwZXJgIHRvIG1pbWljIHRoZSBzb3VyY2Ugb2YgYHJlZmVyZW5jZWBcbiAgICAgKiB3aXRoIHdyYXBwZXIgZGV0YWlscyBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgc291cmNlIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgd3JhcHBlcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V3JhcFRvU3RyaW5nKHdyYXBwZXIsIHJlZmVyZW5jZSwgYml0bWFzaykge1xuICAgICAgdmFyIHNvdXJjZSA9IChyZWZlcmVuY2UgKyAnJyk7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICAgICAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgc2l6ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXG4gICAgICAgIGFycmF5W3JhbmRdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGFycmF5Lmxlbmd0aCA9IHNpemU7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgdmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgfVxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgICAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd3JhcHBlciBgZGV0YWlsc2AgYmFzZWQgb24gYGJpdG1hc2tgIGZsYWdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkZXRhaWxzYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG4gICAgICBhcnJheUVhY2god3JhcEZsYWdzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICdfLicgKyBwYWlyWzBdO1xuICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBkZXRhaWxzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHdyYXBwZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd3JhcHBlciBUaGUgd3JhcHBlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2xvbmUod3JhcHBlcikge1xuICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh3cmFwcGVyLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2luZGV4X18gID0gd3JhcHBlci5fX2luZGV4X187XG4gICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAgICAgKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcbiAgICAgKiBhbmQvb3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNvbmNhdChhcnJheSwgMiwgWzNdLCBbWzRdXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoIC0gMSksXG4gICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGFyZ3NbaW5kZXggLSAxXSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsQnlgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sIFt7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZUJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIG9yZGVyIGFuZFxuICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZVdpdGgob2JqZWN0cywgW3sgJ3gnOiAxLCAneSc6IDIgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZVdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChjb21wYXJhdG9yKSkge1xuICAgICAgICBjb21wYXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbHMgZWxlbWVudHMgb2YgYGFycmF5YCB3aXRoIGB2YWx1ZWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90XG4gICAgICogaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8uZmlsbChhcnJheSwgJ2EnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2EnLCAnYSddXG4gICAgICpcbiAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuICAgICAqIC8vID0+IFsyLCAyLCAyXVxuICAgICAqXG4gICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzQsICcqJywgJyonLCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICYmIHR5cGVvZiBzdGFydCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgdmFsdWUsIHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAncGViYmxlcyc7IH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG4gICAgICAgICAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApXG4gICAgICAgICAgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBgYXJyYXlgIGEgc2luZ2xlIGxldmVsIGRlZXAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIDEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVlcChbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYGFycmF5YCB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlcHRoKGFycmF5LCBkZXB0aCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZyb21QYWlycyhbWydhJywgMV0sIFsnYicsIDJdXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBmaXJzdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhlYWQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmhlYWQoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhlYWQoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgaW4gYGFycmF5YFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGFsbCBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsyXVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcbiAgICAgKiBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlcGFyYXRvcj0nLCddIFRoZSBlbGVtZW50IHNlcGFyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBqb2luZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmpvaW4oWydhJywgJ2InLCAnYyddLCAnficpO1xuICAgICAqIC8vID0+ICdhfmJ+YydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcbiAgICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbGVtZW50IGF0IGluZGV4IGBuYCBvZiBgYXJyYXlgLiBJZiBgbmAgaXMgbmVnYXRpdmUsIHRoZSBudGhcbiAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIC0yKTtcbiAgICAgKiAvLyA9PiAnYyc7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlTnRoKGFycmF5LCB0b0ludGVnZXIobikpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAgICAgKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgdmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbChhcnJheSwgWydhJywgJ2MnXSk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlQnlgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMyB9LCB7ICd4JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxCeShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsV2l0aChhcnJheSwgW3sgJ3gnOiAzLCAneSc6IDQgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiA1LCAneSc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50cyBmcm9tIGBhcnJheWAgY29ycmVzcG9uZGluZyB0byBgaW5kZXhlc2AgYW5kIHJldHVybnMgYW5cbiAgICAgKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5hdGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKiB2YXIgcHVsbGVkID0gXy5wdWxsQXQoYXJyYXksIFsxLCAzXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnZCddXG4gICAgICovXG4gICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgYXJyYXlNYXAoaW5kZXhlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmZpbHRlcmAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnB1bGxgXG4gICAgICogdG8gcHVsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDRdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgYGFycmF5YCBzbyB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGJlY29tZXMgdGhlIGxhc3QsIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGJlY29tZXMgdGhlIHNlY29uZCB0byBsYXN0LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgIGFuZCBpcyBiYXNlZCBvblxuICAgICAqIFtgQXJyYXkjcmV2ZXJzZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3JldmVyc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5yZXZlcnNlKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICAgKiBbYEFycmF5I3NsaWNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvc2xpY2UpIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlXG4gICAgICogcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGhpZ2hlc3RcbiAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cbiAgICAgKiBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4KFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubGFzdEluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpIC0gMTtcbiAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXEoWzEsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFCeWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXFCeShbMS4xLCAxLjIsIDIuMywgMi40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMSwgMi4zXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRhaWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWlsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZShhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG4gICAgICogdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLiBFbGVtZW50c1xuICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgZnJvbSBhbGwgZ2l2ZW4gYXJyYXlzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsyXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb20gdGhlIGZpcnN0XG4gICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbVxuICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXksIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG4gICAgICogaXMga2VwdC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1clxuICAgICAqIGluIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXFCeShbMi4xLCAxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS5UaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIHVuZGVmaW5lZCwgY29tcGFyYXRvcikgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG4gICAgICogZWxlbWVudHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgcmVncm91cGluZyB0aGUgZWxlbWVudHMgdG8gdGhlaXIgcHJlLXppcFxuICAgICAqIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwKHppcHBlZCk7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgIGFycmF5ID0gYXJyYXlGaWx0ZXIoYXJyYXksIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoZ3JvdXAubGVuZ3RoLCBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSk7XG4gICAgICogLy8gPT4gW1sxLCAxMCwgMTAwXSwgWzIsIDIwLCAyMDBdXVxuICAgICAqXG4gICAgICogXy51bnppcFdpdGgoemlwcGVkLCBfLmFkZCk7XG4gICAgICogLy8gPT4gWzMsIDMwLCAzMDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXBXaXRoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdW56aXAoYXJyYXkpO1xuICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdW5kZWZpbmVkLCBncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzIsIDEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKi9cbiAgICB2YXIgd2l0aG91dCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgaXMgdGhlXG4gICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gYXJyYXlzLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlclxuICAgICAqIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ud2l0aG91dFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICovXG4gICAgdmFyIHhvciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkXG4gICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjIsIDMuNF1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ueG9yQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHhvckJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKi9cbiAgICB2YXIgemlwID0gYmFzZVJlc3QodW56aXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mcm9tUGFpcnNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgdHdvIGFycmF5cyxcbiAgICAgKiBvbmUgb2YgcHJvcGVydHkgaWRlbnRpZmllcnMgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydhJywgJ2InXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYXNzaWduVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3REZWVwKFsnYS5iWzBdLmMnLCAnYS5iWzFdLmQnXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3REZWVwKHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyBncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBhICsgYiArIGM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzExMSwgMjIyXVxuICAgICAqL1xuICAgIHZhciB6aXBXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBpdGVyYXRlZSA9IGxlbmd0aCA+IDEgPyBhcnJheXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdW56aXBXaXRoKGFycmF5cywgaXRlcmF0ZWUpO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCB3cmFwcyBgdmFsdWVgIHdpdGggZXhwbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuIFRoZSByZXN1bHQgb2Ygc3VjaCBzZXF1ZW5jZXMgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfXG4gICAgICogICAuY2hhaW4odXNlcnMpXG4gICAgICogICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgLm1hcChmdW5jdGlvbihvKSB7XG4gICAgICogICAgIHJldHVybiBvLnVzZXIgKyAnIGlzICcgKyBvLmFnZTtcbiAgICAgKiAgIH0pXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcbiAgICAgIHJlc3VsdC5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG9cbiAgICAgKiBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UgaW4gb3JkZXIgdG8gbW9kaWZ5IGludGVybWVkaWF0ZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuICAgICAqICAgIGFycmF5LnBvcCgpO1xuICAgICAqICB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnRhcGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJwYXNzIHRocnVcIiB2YWx1ZXMgcmVwbGFjaW5nIGludGVybWVkaWF0ZVxuICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKCcgIGFiYyAgJylcbiAgICAgKiAgLmNoYWluKClcbiAgICAgKiAgLnRyaW0oKVxuICAgICAqICAudGhydShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAqICB9KVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhydSh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5hdGAuXG4gICAgICpcbiAgICAgKiBAbmFtZSBhdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfKG9iamVjdCkuYXQoWydhWzBdLmIuYycsICdhWzFdJ10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIHdyYXBwZXJBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKHBhdGhzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKG9iamVjdCkgeyByZXR1cm4gYmFzZUF0KG9iamVjdCwgcGF0aHMpOyB9O1xuXG4gICAgICBpZiAobGVuZ3RoID4gMSB8fCB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCB8fFxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikgfHwgIWlzSW5kZXgoc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCwgK3N0YXJ0ICsgKGxlbmd0aCA/IDEgOiAwKSk7XG4gICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAnYXJncyc6IFtpbnRlcmNlcHRvcl0sXG4gICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSwgdGhpcy5fX2NoYWluX18pLnRocnUoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXkucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycykuaGVhZCgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKVxuICAgICAqICAgLmNoYWluKClcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC5waWNrKCd1c2VyJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgcmV0dXJuIGNoYWluKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjb21taXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuICAgICAqIHZhciB3cmFwcGVkID0gXyhhcnJheSkucHVzaCgzKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubGFzdCgpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ29tbWl0KCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHRoaXMudmFsdWUoKSwgdGhpcy5fX2NoYWluX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG4gICAgICogW2l0ZXJhdG9yIHByb3RvY29sXShodHRwczovL21kbi5pby9pdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG5leHRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXh0IGl0ZXJhdG9yIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMSB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDIgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IHRydWUsICd2YWx1ZSc6IHVuZGVmaW5lZCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG4gICAgICBpZiAodGhpcy5fX3ZhbHVlc19fID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdG9BcnJheSh0aGlzLnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmUgPSB0aGlzLl9faW5kZXhfXyA+PSB0aGlzLl9fdmFsdWVzX18ubGVuZ3RoLFxuICAgICAgICAgIHZhbHVlID0gZG9uZSA/IHVuZGVmaW5lZCA6IHRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtcblxuICAgICAgcmV0dXJuIHsgJ2RvbmUnOiBkb25lLCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIHdyYXBwZXIgdG8gYmUgaXRlcmFibGUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBTeW1ib2wuaXRlcmF0b3JcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkW1N5bWJvbC5pdGVyYXRvcl0oKSA9PT0gd3JhcHBlZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBBcnJheS5mcm9tKHdyYXBwZWQpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb0l0ZXJhdG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgcGxhbnRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKS5tYXAoc3F1YXJlKTtcbiAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG4gICAgICpcbiAgICAgKiBvdGhlci52YWx1ZSgpO1xuICAgICAqIC8vID0+IFs5LCAxNl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUGxhbnQodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcztcblxuICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcbiAgICAgICAgdmFyIGNsb25lID0gd3JhcHBlckNsb25lKHBhcmVudCk7XG4gICAgICAgIGNsb25lLl9faW5kZXhfXyA9IDA7XG4gICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IGNsb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGNsb25lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX193cmFwcGVkX187XG4gICAgICB9XG4gICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLnJldmVyc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIHdyYXBwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSB7XG4gICAgICAgICAgd3JhcHBlZCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5yZXZlcnNlKCk7XG4gICAgICAgIHdyYXBwZWQuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAgICdhcmdzJzogW3JldmVyc2VdLFxuICAgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlZCwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2ZcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICArK3Jlc3VsdFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBbZW1wdHkgY29sbGVjdGlvbnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VtcHR5X3NldCkgYmVjYXVzZVxuICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG4gICAgICogZWxlbWVudHMgb2YgZW1wdHkgY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUV2ZXJ5IDogYmFzZUV2ZXJ5O1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5yZWplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBDb21iaW5pbmcgc2V2ZXJhbCBwcmVkaWNhdGVzIHVzaW5nIGBfLm92ZXJFdmVyeWAgb3IgYF8ub3ZlclNvbWVgLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLm92ZXJTb21lKFt7ICdhZ2UnOiAzNiB9LCBbJ2FnZScsIDQwXV0pKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogMzAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDMwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDMwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAgICAgLy8gYW5kIGVzY2FwZSB0aGUgY29tbWVudCwgdGh1cyBpbmplY3RpbmcgY29kZSB0aGF0IGdldHMgZXZhbGVkLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKVxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gICAgICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gICAgICAvLyBwb3RlbnRpYWwgY29tbWFuZCBpbmplY3Rpb24gYXR0YWNrcy5cbiAgICAgIGVsc2UgaWYgKHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzLnRlc3QodmFyaWFibGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzLlxuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICAgICAodmFyaWFibGVcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAgICAgKGlzRXNjYXBpbmdcbiAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcbiAgICAgICAgICAgOiAnJ1xuICAgICAgICApICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgICAgICAuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgICAgIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byBsb3dlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xvd2VyKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICctLWZvby1iYXItLSdcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb2JhcidcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnX19mb29fYmFyX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Mb3dlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9VcHBlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvVXBwZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1VwcGVyKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPT0JBUidcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9VcHBlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbSgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLm1hcChbJyAgZm9vICAnLCAnICBiYXIgICddLCBfLnRyaW0pO1xuICAgICAqIC8vID0+IFsnZm9vJywgJ2JhciddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlVHJpbShzdHJpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCBfLm1hdGNoZXMoeyAnYSc6IDQgfSldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0aGVcbiAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcbiAgICAgKiBvYmplY3QgdmFsdWUgaXMgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG4gICAgICogYHNyY1ZhbHVlYCB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZVxuICAgICAqIGBfLmlzRXF1YWxgIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG4gICAgICogLy8gPT4geyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlc1Byb3BlcnR5KCdhJywgMSksIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIGJhc2VDbG9uZShzcmNWYWx1ZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgxKSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKFsnYScsICdiJ10pKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tZXRob2RgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uLCB0aGVuIG1ldGhvZHNcbiAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVzZSBgXy5ydW5JbkNvbnRleHRgIHRvIGNyZWF0ZSBhIHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHRvXG4gICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gdm93ZWxzKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIF8uZmlsdGVyKHN0cmluZywgZnVuY3Rpb24odikge1xuICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSk7XG4gICAgICogXy52b3dlbHMoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXygnZnJlZCcpLnZvd2VscygpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBwcm9wcyk7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgJiZcbiAgICAgICAgICAhKGlzT2JqZWN0KHNvdXJjZSkgJiYgKG1ldGhvZE5hbWVzLmxlbmd0aCB8fCAhcHJvcHMubGVuZ3RoKSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB0aGlzO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluID0gIShpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHx8ICEhb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zID0gcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuXG4gICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShvYmplY3QsIGFycmF5UHVzaChbdGhpcy52YWx1ZSgpXSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBpZiAocm9vdC5fID09PSB0aGlzKSB7XG4gICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLm5vb3ApO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBhcmd1bWVudCBhdCBpbmRleCBgbmAuIElmIGBuYCBpcyBuZWdhdGl2ZSxcbiAgICAgKiB0aGUgbnRoIGFyZ3VtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKC0yKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2MnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoQXJnKG4pIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYmFzZU50aChhcmdzLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGl0ZXJhdGVlc2Agd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzXG4gICAgICogYW5kIHJldHVybnMgdGhlaXIgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXIoW01hdGgubWF4LCBNYXRoLm1pbl0pO1xuICAgICAqXG4gICAgICogZnVuYygxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbNCwgMV1cbiAgICAgKi9cbiAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBtYXRjaGVzRnVuYyA9IF8ub3ZlclNvbWUoW3sgJ2EnOiAxIH0sIHsgJ2EnOiAyIH1dKVxuICAgICAqIHZhciBtYXRjaGVzUHJvcGVydHlGdW5jID0gXy5vdmVyU29tZShbWydhJywgMV0sIFsnYScsIDJdXSlcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGludmFyaWFudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcignTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgIH0pKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSB3YXJuaW5nXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJy4vZW1wdHlGdW5jdGlvbicpO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb247XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHdhcm5pbmcgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAyID8gX2xlbiAtIDIgOiAwKSwgX2tleSA9IDI7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0LmluZGV4T2YoJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICcpID09PSAwKSB7XG4gICAgICByZXR1cm47IC8vIElnbm9yZSBDb21wb3NpdGVDb21wb25lbnQgcHJvcHR5cGUgY2hlY2suXG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICB9IGNhdGNoICh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBPYmplY3QuYXNzaWduXG4gKi9cblxuLy8gaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLW9iamVjdC5hc3NpZ25cblxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2VzKSB7XG4gIGlmICh0YXJnZXQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gdGFyZ2V0IGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICB9XG5cbiAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XG4gIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgZm9yICh2YXIgbmV4dEluZGV4ID0gMTsgbmV4dEluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgbmV4dEluZGV4KyspIHtcbiAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tuZXh0SW5kZXhdO1xuICAgIGlmIChuZXh0U291cmNlID09IG51bGwpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBmcm9tID0gT2JqZWN0KG5leHRTb3VyY2UpO1xuXG4gICAgLy8gV2UgZG9uJ3QgY3VycmVudGx5IHN1cHBvcnQgYWNjZXNzb3JzIG5vciBwcm94aWVzLiBUaGVyZWZvcmUgdGhpc1xuICAgIC8vIGNvcHkgY2Fubm90IHRocm93LiBJZiB3ZSBldmVyIHN1cHBvcnRlZCB0aGlzIHRoZW4gd2UgbXVzdCBoYW5kbGVcbiAgICAvLyBleGNlcHRpb25zIGFuZCBzaWRlLWVmZmVjdHMuIFdlIGRvbid0IHN1cHBvcnQgc3ltYm9scyBzbyB0aGV5IHdvbid0XG4gICAgLy8gYmUgdHJhbnNmZXJyZWQuXG5cbiAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuICAgICAgICB0b1trZXldID0gZnJvbVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0bztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhc3NpZ247IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEV4ZWN1dGlvbkVudmlyb25tZW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxuLyoqXG4gKiBTaW1wbGUsIGxpZ2h0d2VpZ2h0IG1vZHVsZSBhc3Npc3Rpbmcgd2l0aCB0aGUgZGV0ZWN0aW9uIGFuZCBjb250ZXh0IG9mXG4gKiBXb3JrZXIuIEhlbHBzIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY2llcyBhbmQgYWxsb3dzIGNvZGUgdG8gcmVhc29uIGFib3V0XG4gKiB3aGV0aGVyIG9yIG5vdCB0aGV5IGFyZSBpbiBhIFdvcmtlciwgZXZlbiBpZiB0aGV5IG5ldmVyIGluY2x1ZGUgdGhlIG1haW5cbiAqIGBSZWFjdFdvcmtlcmAgZGVwZW5kZW5jeS5cbiAqL1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0ge1xuXG4gIGNhblVzZURPTTogY2FuVXNlRE9NLFxuXG4gIGNhblVzZVdvcmtlcnM6IHR5cGVvZiBXb3JrZXIgIT09ICd1bmRlZmluZWQnLFxuXG4gIGNhblVzZUV2ZW50TGlzdGVuZXJzOiBjYW5Vc2VET00gJiYgISEod2luZG93LmFkZEV2ZW50TGlzdGVuZXIgfHwgd2luZG93LmF0dGFjaEV2ZW50KSxcblxuICBjYW5Vc2VWaWV3cG9ydDogY2FuVXNlRE9NICYmICEhd2luZG93LnNjcmVlbixcblxuICBpc0luV29ya2VyOiAhY2FuVXNlRE9NIC8vIEZvciBub3csIHRoaXMgaXMgdHJ1ZSAtIG1pZ2h0IGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdE1vdW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRE9NUHJvcGVydHkgPSByZXF1aXJlKCcuL0RPTVByb3BlcnR5Jyk7XG52YXIgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnLi9SZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXInKTtcbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcbnZhciBSZWFjdERPTUZlYXR1cmVGbGFncyA9IHJlcXVpcmUoJy4vUmVhY3RET01GZWF0dXJlRmxhZ3MnKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xudmFyIFJlYWN0RW1wdHlDb21wb25lbnRSZWdpc3RyeSA9IHJlcXVpcmUoJy4vUmVhY3RFbXB0eUNvbXBvbmVudFJlZ2lzdHJ5Jyk7XG52YXIgUmVhY3RJbnN0YW5jZUhhbmRsZXMgPSByZXF1aXJlKCcuL1JlYWN0SW5zdGFuY2VIYW5kbGVzJyk7XG52YXIgUmVhY3RJbnN0YW5jZU1hcCA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0YW5jZU1hcCcpO1xudmFyIFJlYWN0TWFya3VwQ2hlY2tzdW0gPSByZXF1aXJlKCcuL1JlYWN0TWFya3VwQ2hlY2tzdW0nKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKCcuL1JlYWN0UGVyZicpO1xudmFyIFJlYWN0UmVjb25jaWxlciA9IHJlcXVpcmUoJy4vUmVhY3RSZWNvbmNpbGVyJyk7XG52YXIgUmVhY3RVcGRhdGVRdWV1ZSA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVRdWV1ZScpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVzJyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5T2JqZWN0Jyk7XG52YXIgY29udGFpbnNOb2RlID0gcmVxdWlyZSgnZmJqcy9saWIvY29udGFpbnNOb2RlJyk7XG52YXIgaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudCcpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIHNldElubmVySFRNTCA9IHJlcXVpcmUoJy4vc2V0SW5uZXJIVE1MJyk7XG52YXIgc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQgPSByZXF1aXJlKCcuL3Nob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50Jyk7XG52YXIgdmFsaWRhdGVET01OZXN0aW5nID0gcmVxdWlyZSgnLi92YWxpZGF0ZURPTU5lc3RpbmcnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG52YXIgQVRUUl9OQU1FID0gRE9NUHJvcGVydHkuSURfQVRUUklCVVRFX05BTUU7XG52YXIgbm9kZUNhY2hlID0ge307XG5cbnZhciBFTEVNRU5UX05PREVfVFlQRSA9IDE7XG52YXIgRE9DX05PREVfVFlQRSA9IDk7XG52YXIgRE9DVU1FTlRfRlJBR01FTlRfTk9ERV9UWVBFID0gMTE7XG5cbnZhciBvd25lckRvY3VtZW50Q29udGV4dEtleSA9ICdfX1JlYWN0TW91bnRfb3duZXJEb2N1bWVudCQnICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG5cbi8qKiBNYXBwaW5nIGZyb20gcmVhY3RSb290SUQgdG8gUmVhY3QgY29tcG9uZW50IGluc3RhbmNlLiAqL1xudmFyIGluc3RhbmNlc0J5UmVhY3RSb290SUQgPSB7fTtcblxuLyoqIE1hcHBpbmcgZnJvbSByZWFjdFJvb3RJRCB0byBgY29udGFpbmVyYCBub2Rlcy4gKi9cbnZhciBjb250YWluZXJzQnlSZWFjdFJvb3RJRCA9IHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvKiogX19ERVZfXy1vbmx5IG1hcHBpbmcgZnJvbSByZWFjdFJvb3RJRCB0byByb290IGVsZW1lbnRzLiAqL1xuICB2YXIgcm9vdEVsZW1lbnRzQnlSZWFjdFJvb3RJRCA9IHt9O1xufVxuXG4vLyBVc2VkIHRvIHN0b3JlIGJyZWFkdGgtZmlyc3Qgc2VhcmNoIHN0YXRlIGluIGZpbmRDb21wb25lbnRSb290LlxudmFyIGZpbmRDb21wb25lbnRSb290UmV1c2FibGVBcnJheSA9IFtdO1xuXG4vKipcbiAqIEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgY2hhcmFjdGVyXG4gKiB0aGF0J3Mgbm90IGNvbW1vbiBiZXR3ZWVuIHRoZSB0d28gZ2l2ZW4gc3RyaW5ncy5cbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBpbmRleCBvZiB0aGUgY2hhcmFjdGVyIHdoZXJlIHRoZSBzdHJpbmdzIGRpdmVyZ2VcbiAqL1xuZnVuY3Rpb24gZmlyc3REaWZmZXJlbmNlSW5kZXgoc3RyaW5nMSwgc3RyaW5nMikge1xuICB2YXIgbWluTGVuID0gTWF0aC5taW4oc3RyaW5nMS5sZW5ndGgsIHN0cmluZzIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaW5MZW47IGkrKykge1xuICAgIGlmIChzdHJpbmcxLmNoYXJBdChpKSAhPT0gc3RyaW5nMi5jaGFyQXQoaSkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyaW5nMS5sZW5ndGggPT09IHN0cmluZzIubGVuZ3RoID8gLTEgOiBtaW5MZW47XG59XG5cbi8qKlxuICogQHBhcmFtIHtET01FbGVtZW50fERPTURvY3VtZW50fSBjb250YWluZXIgRE9NIGVsZW1lbnQgdGhhdCBtYXkgY29udGFpblxuICogYSBSZWFjdCBjb21wb25lbnRcbiAqIEByZXR1cm4gez8qfSBET00gZWxlbWVudCB0aGF0IG1heSBoYXZlIHRoZSByZWFjdFJvb3QgSUQsIG9yIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpIHtcbiAgaWYgKCFjb250YWluZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IERPQ19OT0RFX1RZUEUpIHtcbiAgICByZXR1cm4gY29udGFpbmVyLmRvY3VtZW50RWxlbWVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBET00gZWxlbWVudCB0aGF0IG1heSBjb250YWluIGEgUmVhY3QgY29tcG9uZW50LlxuICogQHJldHVybiB7P3N0cmluZ30gQSBcInJlYWN0Um9vdFwiIElELCBpZiBhIFJlYWN0IGNvbXBvbmVudCBpcyByZW5kZXJlZC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmVhY3RSb290SUQoY29udGFpbmVyKSB7XG4gIHZhciByb290RWxlbWVudCA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICByZXR1cm4gcm9vdEVsZW1lbnQgJiYgUmVhY3RNb3VudC5nZXRJRChyb290RWxlbWVudCk7XG59XG5cbi8qKlxuICogQWNjZXNzaW5nIG5vZGVbQVRUUl9OQU1FXSBvciBjYWxsaW5nIGdldEF0dHJpYnV0ZShBVFRSX05BTUUpIG9uIGEgZm9ybVxuICogZWxlbWVudCBjYW4gcmV0dXJuIGl0cyBjb250cm9sIHdob3NlIG5hbWUgb3IgSUQgZXF1YWxzIEFUVFJfTkFNRS4gQWxsXG4gKiBET00gbm9kZXMgc3VwcG9ydCBgZ2V0QXR0cmlidXRlTm9kZWAgYnV0IHRoaXMgY2FuIGFsc28gZ2V0IGNhbGxlZCBvblxuICogb3RoZXIgb2JqZWN0cyBzbyBqdXN0IHJldHVybiAnJyBpZiB3ZSdyZSBnaXZlbiBzb21ldGhpbmcgb3RoZXIgdGhhbiBhXG4gKiBET00gbm9kZSAoc3VjaCBhcyB3aW5kb3cpLlxuICpcbiAqIEBwYXJhbSB7P0RPTUVsZW1lbnR8RE9NV2luZG93fERPTURvY3VtZW50fERPTVRleHROb2RlfSBub2RlIERPTSBub2RlLlxuICogQHJldHVybiB7c3RyaW5nfSBJRCBvZiB0aGUgc3VwcGxpZWQgYGRvbU5vZGVgLlxuICovXG5mdW5jdGlvbiBnZXRJRChub2RlKSB7XG4gIHZhciBpZCA9IGludGVybmFsR2V0SUQobm9kZSk7XG4gIGlmIChpZCkge1xuICAgIGlmIChub2RlQ2FjaGUuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICB2YXIgY2FjaGVkID0gbm9kZUNhY2hlW2lkXTtcbiAgICAgIGlmIChjYWNoZWQgIT09IG5vZGUpIHtcbiAgICAgICAgISFpc1ZhbGlkKGNhY2hlZCwgaWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0TW91bnQ6IFR3byB2YWxpZCBidXQgdW5lcXVhbCBub2RlcyB3aXRoIHRoZSBzYW1lIGAlc2A6ICVzJywgQVRUUl9OQU1FLCBpZCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIG5vZGVDYWNoZVtpZF0gPSBub2RlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBub2RlQ2FjaGVbaWRdID0gbm9kZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaWQ7XG59XG5cbmZ1bmN0aW9uIGludGVybmFsR2V0SUQobm9kZSkge1xuICAvLyBJZiBub2RlIGlzIHNvbWV0aGluZyBsaWtlIGEgd2luZG93LCBkb2N1bWVudCwgb3IgdGV4dCBub2RlLCBub25lIG9mXG4gIC8vIHdoaWNoIHN1cHBvcnQgYXR0cmlidXRlcyBvciBhIC5nZXRBdHRyaWJ1dGUgbWV0aG9kLCBncmFjZWZ1bGx5IHJldHVyblxuICAvLyB0aGUgZW1wdHkgc3RyaW5nLCBhcyBpZiB0aGUgYXR0cmlidXRlIHdlcmUgbWlzc2luZy5cbiAgcmV0dXJuIG5vZGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoQVRUUl9OQU1FKSB8fCAnJztcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBSZWFjdC1zcGVjaWZpYyBJRCBvZiB0aGUgZ2l2ZW4gbm9kZS5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgVGhlIERPTSBub2RlIHdob3NlIElEIHdpbGwgYmUgc2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSB2YWx1ZSBvZiB0aGUgSUQgYXR0cmlidXRlLlxuICovXG5mdW5jdGlvbiBzZXRJRChub2RlLCBpZCkge1xuICB2YXIgb2xkSUQgPSBpbnRlcm5hbEdldElEKG5vZGUpO1xuICBpZiAob2xkSUQgIT09IGlkKSB7XG4gICAgZGVsZXRlIG5vZGVDYWNoZVtvbGRJRF07XG4gIH1cbiAgbm9kZS5zZXRBdHRyaWJ1dGUoQVRUUl9OQU1FLCBpZCk7XG4gIG5vZGVDYWNoZVtpZF0gPSBub2RlO1xufVxuXG4vKipcbiAqIEZpbmRzIHRoZSBub2RlIHdpdGggdGhlIHN1cHBsaWVkIFJlYWN0LWdlbmVyYXRlZCBET00gSUQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIEEgUmVhY3QtZ2VuZXJhdGVkIERPTSBJRC5cbiAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IERPTSBub2RlIHdpdGggdGhlIHN1cHBsZWQgYGlkYC5cbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBnZXROb2RlKGlkKSB7XG4gIGlmICghbm9kZUNhY2hlLmhhc093blByb3BlcnR5KGlkKSB8fCAhaXNWYWxpZChub2RlQ2FjaGVbaWRdLCBpZCkpIHtcbiAgICBub2RlQ2FjaGVbaWRdID0gUmVhY3RNb3VudC5maW5kUmVhY3ROb2RlQnlJRChpZCk7XG4gIH1cbiAgcmV0dXJuIG5vZGVDYWNoZVtpZF07XG59XG5cbi8qKlxuICogRmluZHMgdGhlIG5vZGUgd2l0aCB0aGUgc3VwcGxpZWQgcHVibGljIFJlYWN0IGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSB7Kn0gaW5zdGFuY2UgQSBwdWJsaWMgUmVhY3QgaW5zdGFuY2UuXG4gKiBAcmV0dXJuIHs/RE9NRWxlbWVudH0gRE9NIG5vZGUgd2l0aCB0aGUgc3VwcGxlZCBgaWRgLlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgdmFyIGlkID0gUmVhY3RJbnN0YW5jZU1hcC5nZXQoaW5zdGFuY2UpLl9yb290Tm9kZUlEO1xuICBpZiAoUmVhY3RFbXB0eUNvbXBvbmVudFJlZ2lzdHJ5LmlzTnVsbENvbXBvbmVudElEKGlkKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghbm9kZUNhY2hlLmhhc093blByb3BlcnR5KGlkKSB8fCAhaXNWYWxpZChub2RlQ2FjaGVbaWRdLCBpZCkpIHtcbiAgICBub2RlQ2FjaGVbaWRdID0gUmVhY3RNb3VudC5maW5kUmVhY3ROb2RlQnlJRChpZCk7XG4gIH1cbiAgcmV0dXJuIG5vZGVDYWNoZVtpZF07XG59XG5cbi8qKlxuICogQSBub2RlIGlzIFwidmFsaWRcIiBpZiBpdCBpcyBjb250YWluZWQgYnkgYSBjdXJyZW50bHkgbW91bnRlZCBjb250YWluZXIuXG4gKlxuICogVGhpcyBtZWFucyB0aGF0IHRoZSBub2RlIGRvZXMgbm90IGhhdmUgdG8gYmUgY29udGFpbmVkIGJ5IGEgZG9jdW1lbnQgaW5cbiAqIG9yZGVyIHRvIGJlIGNvbnNpZGVyZWQgdmFsaWQuXG4gKlxuICogQHBhcmFtIHs/RE9NRWxlbWVudH0gbm9kZSBUaGUgY2FuZGlkYXRlIERPTSBub2RlLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBleHBlY3RlZCBJRCBvZiB0aGUgbm9kZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIG5vZGUgaXMgY29udGFpbmVkIGJ5IGEgbW91bnRlZCBjb250YWluZXIuXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWQobm9kZSwgaWQpIHtcbiAgaWYgKG5vZGUpIHtcbiAgICAhKGludGVybmFsR2V0SUQobm9kZSkgPT09IGlkKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdE1vdW50OiBVbmV4cGVjdGVkIG1vZGlmaWNhdGlvbiBvZiBgJXNgJywgQVRUUl9OQU1FKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgY29udGFpbmVyID0gUmVhY3RNb3VudC5maW5kUmVhY3RDb250YWluZXJGb3JJRChpZCk7XG4gICAgaWYgKGNvbnRhaW5lciAmJiBjb250YWluc05vZGUoY29udGFpbmVyLCBub2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENhdXNlcyB0aGUgY2FjaGUgdG8gZm9yZ2V0IGFib3V0IG9uZSBSZWFjdC1zcGVjaWZpYyBJRC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElEIHRvIGZvcmdldC5cbiAqL1xuZnVuY3Rpb24gcHVyZ2VJRChpZCkge1xuICBkZWxldGUgbm9kZUNhY2hlW2lkXTtcbn1cblxudmFyIGRlZXBlc3ROb2RlU29GYXIgPSBudWxsO1xuZnVuY3Rpb24gZmluZERlZXBlc3RDYWNoZWRBbmNlc3RvckltcGwoYW5jZXN0b3JJRCkge1xuICB2YXIgYW5jZXN0b3IgPSBub2RlQ2FjaGVbYW5jZXN0b3JJRF07XG4gIGlmIChhbmNlc3RvciAmJiBpc1ZhbGlkKGFuY2VzdG9yLCBhbmNlc3RvcklEKSkge1xuICAgIGRlZXBlc3ROb2RlU29GYXIgPSBhbmNlc3RvcjtcbiAgfSBlbHNlIHtcbiAgICAvLyBUaGlzIG5vZGUgaXNuJ3QgcG9wdWxhdGVkIGluIHRoZSBjYWNoZSwgc28gcHJlc3VtYWJseSBub25lIG9mIGl0c1xuICAgIC8vIGRlc2NlbmRhbnRzIGFyZS4gQnJlYWsgb3V0IG9mIHRoZSBsb29wLlxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiB0aGUgZGVlcGVzdCBjYWNoZWQgbm9kZSB3aG9zZSBJRCBpcyBhIHByZWZpeCBvZiBgdGFyZ2V0SURgLlxuICovXG5mdW5jdGlvbiBmaW5kRGVlcGVzdENhY2hlZEFuY2VzdG9yKHRhcmdldElEKSB7XG4gIGRlZXBlc3ROb2RlU29GYXIgPSBudWxsO1xuICBSZWFjdEluc3RhbmNlSGFuZGxlcy50cmF2ZXJzZUFuY2VzdG9ycyh0YXJnZXRJRCwgZmluZERlZXBlc3RDYWNoZWRBbmNlc3RvckltcGwpO1xuXG4gIHZhciBmb3VuZE5vZGUgPSBkZWVwZXN0Tm9kZVNvRmFyO1xuICBkZWVwZXN0Tm9kZVNvRmFyID0gbnVsbDtcbiAgcmV0dXJuIGZvdW5kTm9kZTtcbn1cblxuLyoqXG4gKiBNb3VudHMgdGhpcyBjb21wb25lbnQgYW5kIGluc2VydHMgaXQgaW50byB0aGUgRE9NLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGNvbXBvbmVudEluc3RhbmNlIFRoZSBpbnN0YW5jZSB0byBtb3VudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSByb290SUQgRE9NIElEIG9mIHRoZSByb290IG5vZGUuXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBET00gZWxlbWVudCB0byBtb3VudCBpbnRvLlxuICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICogQHBhcmFtIHtib29sZWFufSBzaG91bGRSZXVzZU1hcmt1cCBJZiB0cnVlLCBkbyBub3QgaW5zZXJ0IG1hcmt1cFxuICovXG5mdW5jdGlvbiBtb3VudENvbXBvbmVudEludG9Ob2RlKGNvbXBvbmVudEluc3RhbmNlLCByb290SUQsIGNvbnRhaW5lciwgdHJhbnNhY3Rpb24sIHNob3VsZFJldXNlTWFya3VwLCBjb250ZXh0KSB7XG4gIGlmIChSZWFjdERPTUZlYXR1cmVGbGFncy51c2VDcmVhdGVFbGVtZW50KSB7XG4gICAgY29udGV4dCA9IGFzc2lnbih7fSwgY29udGV4dCk7XG4gICAgaWYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSkge1xuICAgICAgY29udGV4dFtvd25lckRvY3VtZW50Q29udGV4dEtleV0gPSBjb250YWluZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHRbb3duZXJEb2N1bWVudENvbnRleHRLZXldID0gY29udGFpbmVyLm93bmVyRG9jdW1lbnQ7XG4gICAgfVxuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGNvbnRleHQgPT09IGVtcHR5T2JqZWN0KSB7XG4gICAgICBjb250ZXh0ID0ge307XG4gICAgfVxuICAgIHZhciB0YWcgPSBjb250YWluZXIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBjb250ZXh0W3ZhbGlkYXRlRE9NTmVzdGluZy5hbmNlc3RvckluZm9Db250ZXh0S2V5XSA9IHZhbGlkYXRlRE9NTmVzdGluZy51cGRhdGVkQW5jZXN0b3JJbmZvKG51bGwsIHRhZywgbnVsbCk7XG4gIH1cbiAgdmFyIG1hcmt1cCA9IFJlYWN0UmVjb25jaWxlci5tb3VudENvbXBvbmVudChjb21wb25lbnRJbnN0YW5jZSwgcm9vdElELCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gIGNvbXBvbmVudEluc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudC5fdG9wTGV2ZWxXcmFwcGVyID0gY29tcG9uZW50SW5zdGFuY2U7XG4gIFJlYWN0TW91bnQuX21vdW50SW1hZ2VJbnRvTm9kZShtYXJrdXAsIGNvbnRhaW5lciwgc2hvdWxkUmV1c2VNYXJrdXAsIHRyYW5zYWN0aW9uKTtcbn1cblxuLyoqXG4gKiBCYXRjaGVkIG1vdW50LlxuICpcbiAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGNvbXBvbmVudEluc3RhbmNlIFRoZSBpbnN0YW5jZSB0byBtb3VudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSByb290SUQgRE9NIElEIG9mIHRoZSByb290IG5vZGUuXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBET00gZWxlbWVudCB0byBtb3VudCBpbnRvLlxuICogQHBhcmFtIHtib29sZWFufSBzaG91bGRSZXVzZU1hcmt1cCBJZiB0cnVlLCBkbyBub3QgaW5zZXJ0IG1hcmt1cFxuICovXG5mdW5jdGlvbiBiYXRjaGVkTW91bnRDb21wb25lbnRJbnRvTm9kZShjb21wb25lbnRJbnN0YW5jZSwgcm9vdElELCBjb250YWluZXIsIHNob3VsZFJldXNlTWFya3VwLCBjb250ZXh0KSB7XG4gIHZhciB0cmFuc2FjdGlvbiA9IFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uLmdldFBvb2xlZChcbiAgLyogZm9yY2VIVE1MICovc2hvdWxkUmV1c2VNYXJrdXApO1xuICB0cmFuc2FjdGlvbi5wZXJmb3JtKG1vdW50Q29tcG9uZW50SW50b05vZGUsIG51bGwsIGNvbXBvbmVudEluc3RhbmNlLCByb290SUQsIGNvbnRhaW5lciwgdHJhbnNhY3Rpb24sIHNob3VsZFJldXNlTWFya3VwLCBjb250ZXh0KTtcbiAgUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24ucmVsZWFzZSh0cmFuc2FjdGlvbik7XG59XG5cbi8qKlxuICogVW5tb3VudHMgYSBjb21wb25lbnQgYW5kIHJlbW92ZXMgaXQgZnJvbSB0aGUgRE9NLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGluc3RhbmNlIFJlYWN0IGNvbXBvbmVudCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIERPTSBlbGVtZW50IHRvIHVubW91bnQgZnJvbS5cbiAqIEBmaW5hbFxuICogQGludGVybmFsXG4gKiBAc2VlIHtSZWFjdE1vdW50LnVubW91bnRDb21wb25lbnRBdE5vZGV9XG4gKi9cbmZ1bmN0aW9uIHVubW91bnRDb21wb25lbnRGcm9tTm9kZShpbnN0YW5jZSwgY29udGFpbmVyKSB7XG4gIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KGluc3RhbmNlKTtcblxuICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NfTk9ERV9UWVBFKSB7XG4gICAgY29udGFpbmVyID0gY29udGFpbmVyLmRvY3VtZW50RWxlbWVudDtcbiAgfVxuXG4gIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2VtcHR5aW5nLWEtbm9kZVxuICB3aGlsZSAoY29udGFpbmVyLmxhc3RDaGlsZCkge1xuICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjb250YWluZXIubGFzdENoaWxkKTtcbiAgfVxufVxuXG4vKipcbiAqIFRydWUgaWYgdGhlIHN1cHBsaWVkIERPTSBub2RlIGhhcyBhIGRpcmVjdCBSZWFjdC1yZW5kZXJlZCBjaGlsZCB0aGF0IGlzXG4gKiBub3QgYSBSZWFjdCByb290IGVsZW1lbnQuIFVzZWZ1bCBmb3Igd2FybmluZyBpbiBgcmVuZGVyYCxcbiAqIGB1bm1vdW50Q29tcG9uZW50QXROb2RlYCwgZXRjLlxuICpcbiAqIEBwYXJhbSB7P0RPTUVsZW1lbnR9IG5vZGUgVGhlIGNhbmRpZGF0ZSBET00gbm9kZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIERPTSBlbGVtZW50IGNvbnRhaW5zIGEgZGlyZWN0IGNoaWxkIHRoYXQgd2FzXG4gKiByZW5kZXJlZCBieSBSZWFjdCBidXQgaXMgbm90IGEgcm9vdCBlbGVtZW50LlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGhhc05vblJvb3RSZWFjdENoaWxkKG5vZGUpIHtcbiAgdmFyIHJlYWN0Um9vdElEID0gZ2V0UmVhY3RSb290SUQobm9kZSk7XG4gIHJldHVybiByZWFjdFJvb3RJRCA/IHJlYWN0Um9vdElEICE9PSBSZWFjdEluc3RhbmNlSGFuZGxlcy5nZXRSZWFjdFJvb3RJREZyb21Ob2RlSUQocmVhY3RSb290SUQpIDogZmFsc2U7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgKGRlZXBlc3QpIGFuY2VzdG9yIG9mIGEgbm9kZSB3aGljaCBpcyByZW5kZXJlZCBieSB0aGlzIGNvcHlcbiAqIG9mIFJlYWN0LlxuICovXG5mdW5jdGlvbiBmaW5kRmlyc3RSZWFjdERPTUltcGwobm9kZSkge1xuICAvLyBUaGlzIG5vZGUgbWlnaHQgYmUgZnJvbSBhbm90aGVyIFJlYWN0IGluc3RhbmNlLCBzbyB3ZSBtYWtlIHN1cmUgbm90IHRvXG4gIC8vIGV4YW1pbmUgdGhlIG5vZGUgY2FjaGUgaGVyZVxuICBmb3IgKDsgbm9kZSAmJiBub2RlLnBhcmVudE5vZGUgIT09IG5vZGU7IG5vZGUgPSBub2RlLnBhcmVudE5vZGUpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgLy8gTm90IGEgRE9NRWxlbWVudCwgdGhlcmVmb3JlIG5vdCBhIFJlYWN0IGNvbXBvbmVudFxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBub2RlSUQgPSBpbnRlcm5hbEdldElEKG5vZGUpO1xuICAgIGlmICghbm9kZUlEKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIHJlYWN0Um9vdElEID0gUmVhY3RJbnN0YW5jZUhhbmRsZXMuZ2V0UmVhY3RSb290SURGcm9tTm9kZUlEKG5vZGVJRCk7XG5cbiAgICAvLyBJZiBjb250YWluZXJzQnlSZWFjdFJvb3RJRCBjb250YWlucyB0aGUgY29udGFpbmVyIHdlIGZpbmQgYnkgY3Jhd2xpbmcgdXBcbiAgICAvLyB0aGUgdHJlZSwgd2Uga25vdyB0aGF0IHRoaXMgaW5zdGFuY2Ugb2YgUmVhY3QgcmVuZGVyZWQgdGhlIG5vZGUuXG4gICAgLy8gbmIuIGlzVmFsaWQncyBzdHJhdGVneSAod2l0aCBjb250YWluc05vZGUpIGRvZXMgbm90IHdvcmsgYmVjYXVzZSByZW5kZXJcbiAgICAvLyB0cmVlcyBtYXkgYmUgbmVzdGVkIGFuZCB3ZSBkb24ndCB3YW50IGEgZmFsc2UgcG9zaXRpdmUgaW4gdGhhdCBjYXNlLlxuICAgIHZhciBjdXJyZW50ID0gbm9kZTtcbiAgICB2YXIgbGFzdElEO1xuICAgIGRvIHtcbiAgICAgIGxhc3RJRCA9IGludGVybmFsR2V0SUQoY3VycmVudCk7XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnROb2RlO1xuICAgICAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgICAvLyBUaGUgcGFzc2VkLWluIG5vZGUgaGFzIGJlZW4gZGV0YWNoZWQgZnJvbSB0aGUgY29udGFpbmVyIGl0IHdhc1xuICAgICAgICAvLyBvcmlnaW5hbGx5IHJlbmRlcmVkIGludG8uXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKGxhc3RJRCAhPT0gcmVhY3RSb290SUQpO1xuXG4gICAgaWYgKGN1cnJlbnQgPT09IGNvbnRhaW5lcnNCeVJlYWN0Um9vdElEW3JlYWN0Um9vdElEXSkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFRlbXBvcmFyeSAoPykgaGFjayBzbyB0aGF0IHdlIGNhbiBzdG9yZSBhbGwgdG9wLWxldmVsIHBlbmRpbmcgdXBkYXRlcyBvblxuICogY29tcG9zaXRlcyBpbnN0ZWFkIG9mIGhhdmluZyB0byB3b3JyeSBhYm91dCBkaWZmZXJlbnQgdHlwZXMgb2YgY29tcG9uZW50c1xuICogaGVyZS5cbiAqL1xudmFyIFRvcExldmVsV3JhcHBlciA9IGZ1bmN0aW9uICgpIHt9O1xuVG9wTGV2ZWxXcmFwcGVyLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBUb3BMZXZlbFdyYXBwZXIuZGlzcGxheU5hbWUgPSAnVG9wTGV2ZWxXcmFwcGVyJztcbn1cblRvcExldmVsV3JhcHBlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAvLyB0aGlzLnByb3BzIGlzIGFjdHVhbGx5IGEgUmVhY3RFbGVtZW50XG4gIHJldHVybiB0aGlzLnByb3BzO1xufTtcblxuLyoqXG4gKiBNb3VudGluZyBpcyB0aGUgcHJvY2VzcyBvZiBpbml0aWFsaXppbmcgYSBSZWFjdCBjb21wb25lbnQgYnkgY3JlYXRpbmcgaXRzXG4gKiByZXByZXNlbnRhdGl2ZSBET00gZWxlbWVudHMgYW5kIGluc2VydGluZyB0aGVtIGludG8gYSBzdXBwbGllZCBgY29udGFpbmVyYC5cbiAqIEFueSBwcmlvciBjb250ZW50IGluc2lkZSBgY29udGFpbmVyYCBpcyBkZXN0cm95ZWQgaW4gdGhlIHByb2Nlc3MuXG4gKlxuICogICBSZWFjdE1vdW50LnJlbmRlcihcbiAqICAgICBjb21wb25lbnQsXG4gKiAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpXG4gKiAgICk7XG4gKlxuICogICA8ZGl2IGlkPVwiY29udGFpbmVyXCI+ICAgICAgICAgICAgICAgICAgIDwtLSBTdXBwbGllZCBgY29udGFpbmVyYC5cbiAqICAgICA8ZGl2IGRhdGEtcmVhY3RpZD1cIi4zXCI+ICAgICAgICAgICAgICA8LS0gUmVuZGVyZWQgcmVhY3RSb290IG9mIFJlYWN0XG4gKiAgICAgICAvLyAuLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuXG4gKiAgICAgPC9kaXY+XG4gKiAgIDwvZGl2PlxuICpcbiAqIEluc2lkZSBvZiBgY29udGFpbmVyYCwgdGhlIGZpcnN0IGVsZW1lbnQgcmVuZGVyZWQgaXMgdGhlIFwicmVhY3RSb290XCIuXG4gKi9cbnZhciBSZWFjdE1vdW50ID0ge1xuXG4gIFRvcExldmVsV3JhcHBlcjogVG9wTGV2ZWxXcmFwcGVyLFxuXG4gIC8qKiBFeHBvc2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMgKiovXG4gIF9pbnN0YW5jZXNCeVJlYWN0Um9vdElEOiBpbnN0YW5jZXNCeVJlYWN0Um9vdElELFxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIGEgaG9vayBwcm92aWRlZCB0byBzdXBwb3J0IHJlbmRlcmluZyBSZWFjdCBjb21wb25lbnRzIHdoaWxlXG4gICAqIGVuc3VyaW5nIHRoYXQgdGhlIGFwcGFyZW50IHNjcm9sbCBwb3NpdGlvbiBvZiBpdHMgYGNvbnRhaW5lcmAgZG9lcyBub3RcbiAgICogY2hhbmdlLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBUaGUgYGNvbnRhaW5lcmAgYmVpbmcgcmVuZGVyZWQgaW50by5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gcmVuZGVyQ2FsbGJhY2sgVGhpcyBtdXN0IGJlIGNhbGxlZCBvbmNlIHRvIGRvIHRoZSByZW5kZXIuXG4gICAqL1xuICBzY3JvbGxNb25pdG9yOiBmdW5jdGlvbiAoY29udGFpbmVyLCByZW5kZXJDYWxsYmFjaykge1xuICAgIHJlbmRlckNhbGxiYWNrKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRha2UgYSBjb21wb25lbnQgdGhhdCdzIGFscmVhZHkgbW91bnRlZCBpbnRvIHRoZSBET00gYW5kIHJlcGxhY2UgaXRzIHByb3BzXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IHByZXZDb21wb25lbnQgY29tcG9uZW50IGluc3RhbmNlIGFscmVhZHkgaW4gdGhlIERPTVxuICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbmV4dEVsZW1lbnQgY29tcG9uZW50IGluc3RhbmNlIHRvIHJlbmRlclxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBjb250YWluZXIgdG8gcmVuZGVyIGludG9cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uIHRyaWdnZXJlZCBvbiBjb21wbGV0aW9uXG4gICAqL1xuICBfdXBkYXRlUm9vdENvbXBvbmVudDogZnVuY3Rpb24gKHByZXZDb21wb25lbnQsIG5leHRFbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgUmVhY3RNb3VudC5zY3JvbGxNb25pdG9yKGNvbnRhaW5lciwgZnVuY3Rpb24gKCkge1xuICAgICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlRWxlbWVudEludGVybmFsKHByZXZDb21wb25lbnQsIG5leHRFbGVtZW50KTtcbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBSZWFjdFVwZGF0ZVF1ZXVlLmVucXVldWVDYWxsYmFja0ludGVybmFsKHByZXZDb21wb25lbnQsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAvLyBSZWNvcmQgdGhlIHJvb3QgZWxlbWVudCBpbiBjYXNlIGl0IGxhdGVyIGdldHMgdHJhbnNwbGFudGVkLlxuICAgICAgcm9vdEVsZW1lbnRzQnlSZWFjdFJvb3RJRFtnZXRSZWFjdFJvb3RJRChjb250YWluZXIpXSA9IGdldFJlYWN0Um9vdEVsZW1lbnRJbkNvbnRhaW5lcihjb250YWluZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBwcmV2Q29tcG9uZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGNvbXBvbmVudCBpbnRvIHRoZSBpbnN0YW5jZSBtYXAgYW5kIHN0YXJ0cyBzY3JvbGwgdmFsdWVcbiAgICogbW9uaXRvcmluZ1xuICAgKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBuZXh0Q29tcG9uZW50IGNvbXBvbmVudCBpbnN0YW5jZSB0byByZW5kZXJcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBjb250YWluZXIgY29udGFpbmVyIHRvIHJlbmRlciBpbnRvXG4gICAqIEByZXR1cm4ge3N0cmluZ30gcmVhY3RSb290IElEIHByZWZpeFxuICAgKi9cbiAgX3JlZ2lzdGVyQ29tcG9uZW50OiBmdW5jdGlvbiAobmV4dENvbXBvbmVudCwgY29udGFpbmVyKSB7XG4gICAgIShjb250YWluZXIgJiYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFX1RZUEUgfHwgY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERV9UWVBFKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnX3JlZ2lzdGVyQ29tcG9uZW50KC4uLik6IFRhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmVuc3VyZVNjcm9sbFZhbHVlTW9uaXRvcmluZygpO1xuXG4gICAgdmFyIHJlYWN0Um9vdElEID0gUmVhY3RNb3VudC5yZWdpc3RlckNvbnRhaW5lcihjb250YWluZXIpO1xuICAgIGluc3RhbmNlc0J5UmVhY3RSb290SURbcmVhY3RSb290SURdID0gbmV4dENvbXBvbmVudDtcbiAgICByZXR1cm4gcmVhY3RSb290SUQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIG5ldyBjb21wb25lbnQgaW50byB0aGUgRE9NLlxuICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbmV4dEVsZW1lbnQgZWxlbWVudCB0byByZW5kZXJcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBjb250YWluZXIgY29udGFpbmVyIHRvIHJlbmRlciBpbnRvXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvdWxkUmV1c2VNYXJrdXAgaWYgd2Ugc2hvdWxkIHNraXAgdGhlIG1hcmt1cCBpbnNlcnRpb25cbiAgICogQHJldHVybiB7UmVhY3RDb21wb25lbnR9IG5leHRDb21wb25lbnRcbiAgICovXG4gIF9yZW5kZXJOZXdSb290Q29tcG9uZW50OiBmdW5jdGlvbiAobmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgc2hvdWxkUmV1c2VNYXJrdXAsIGNvbnRleHQpIHtcbiAgICAvLyBWYXJpb3VzIHBhcnRzIG9mIG91ciBjb2RlIChzdWNoIGFzIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50J3NcbiAgICAvLyBfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50KSBhc3N1bWUgdGhhdCBjYWxscyB0byByZW5kZXIgYXJlbid0IG5lc3RlZDtcbiAgICAvLyB2ZXJpZnkgdGhhdCB0aGF0J3MgdGhlIGNhc2UuXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9PSBudWxsLCAnX3JlbmRlck5ld1Jvb3RDb21wb25lbnQoKTogUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiAnICsgJ29mIHByb3BzIGFuZCBzdGF0ZTsgdHJpZ2dlcmluZyBuZXN0ZWQgY29tcG9uZW50IHVwZGF0ZXMgZnJvbSAnICsgJ3JlbmRlciBpcyBub3QgYWxsb3dlZC4gSWYgbmVjZXNzYXJ5LCB0cmlnZ2VyIG5lc3RlZCB1cGRhdGVzIGluICcgKyAnY29tcG9uZW50RGlkVXBkYXRlLiBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiAlcy4nLCBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGNvbXBvbmVudEluc3RhbmNlID0gaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChuZXh0RWxlbWVudCwgbnVsbCk7XG4gICAgdmFyIHJlYWN0Um9vdElEID0gUmVhY3RNb3VudC5fcmVnaXN0ZXJDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UsIGNvbnRhaW5lcik7XG5cbiAgICAvLyBUaGUgaW5pdGlhbCByZW5kZXIgaXMgc3luY2hyb25vdXMgYnV0IGFueSB1cGRhdGVzIHRoYXQgaGFwcGVuIGR1cmluZ1xuICAgIC8vIHJlbmRlcmluZywgaW4gY29tcG9uZW50V2lsbE1vdW50IG9yIGNvbXBvbmVudERpZE1vdW50LCB3aWxsIGJlIGJhdGNoZWRcbiAgICAvLyBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgYmF0Y2hpbmcgc3RyYXRlZ3kuXG5cbiAgICBSZWFjdFVwZGF0ZXMuYmF0Y2hlZFVwZGF0ZXMoYmF0Y2hlZE1vdW50Q29tcG9uZW50SW50b05vZGUsIGNvbXBvbmVudEluc3RhbmNlLCByZWFjdFJvb3RJRCwgY29udGFpbmVyLCBzaG91bGRSZXVzZU1hcmt1cCwgY29udGV4dCk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gUmVjb3JkIHRoZSByb290IGVsZW1lbnQgaW4gY2FzZSBpdCBsYXRlciBnZXRzIHRyYW5zcGxhbnRlZC5cbiAgICAgIHJvb3RFbGVtZW50c0J5UmVhY3RSb290SURbcmVhY3RSb290SURdID0gZ2V0UmVhY3RSb290RWxlbWVudEluQ29udGFpbmVyKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBvbmVudEluc3RhbmNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIGEgUmVhY3QgY29tcG9uZW50IGludG8gdGhlIERPTSBpbiB0aGUgc3VwcGxpZWQgYGNvbnRhaW5lcmAuXG4gICAqXG4gICAqIElmIHRoZSBSZWFjdCBjb21wb25lbnQgd2FzIHByZXZpb3VzbHkgcmVuZGVyZWQgaW50byBgY29udGFpbmVyYCwgdGhpcyB3aWxsXG4gICAqIHBlcmZvcm0gYW4gdXBkYXRlIG9uIGl0IGFuZCBvbmx5IG11dGF0ZSB0aGUgRE9NIGFzIG5lY2Vzc2FyeSB0byByZWZsZWN0IHRoZVxuICAgKiBsYXRlc3QgUmVhY3QgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBwYXJlbnRDb21wb25lbnQgVGhlIGNvbmNlcHR1YWwgcGFyZW50IG9mIHRoaXMgcmVuZGVyIHRyZWUuXG4gICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBuZXh0RWxlbWVudCBDb21wb25lbnQgZWxlbWVudCB0byByZW5kZXIuXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIERPTSBlbGVtZW50IHRvIHJlbmRlciBpbnRvLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24gdHJpZ2dlcmVkIG9uIGNvbXBsZXRpb25cbiAgICogQHJldHVybiB7UmVhY3RDb21wb25lbnR9IENvbXBvbmVudCBpbnN0YW5jZSByZW5kZXJlZCBpbiBgY29udGFpbmVyYC5cbiAgICovXG4gIHJlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyOiBmdW5jdGlvbiAocGFyZW50Q29tcG9uZW50LCBuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgICEocGFyZW50Q29tcG9uZW50ICE9IG51bGwgJiYgcGFyZW50Q29tcG9uZW50Ll9yZWFjdEludGVybmFsSW5zdGFuY2UgIT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAncGFyZW50Q29tcG9uZW50IG11c3QgYmUgYSB2YWxpZCBSZWFjdCBDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIFJlYWN0TW91bnQuX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHBhcmVudENvbXBvbmVudCwgbmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spO1xuICB9LFxuXG4gIF9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogZnVuY3Rpb24gKHBhcmVudENvbXBvbmVudCwgbmV4dEVsZW1lbnQsIGNvbnRhaW5lciwgY2FsbGJhY2spIHtcbiAgICAhUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KG5leHRFbGVtZW50KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdERPTS5yZW5kZXIoKTogSW52YWxpZCBjb21wb25lbnQgZWxlbWVudC4lcycsIHR5cGVvZiBuZXh0RWxlbWVudCA9PT0gJ3N0cmluZycgPyAnIEluc3RlYWQgb2YgcGFzc2luZyBhbiBlbGVtZW50IHN0cmluZywgbWFrZSBzdXJlIHRvIGluc3RhbnRpYXRlICcgKyAnaXQgYnkgcGFzc2luZyBpdCB0byBSZWFjdC5jcmVhdGVFbGVtZW50LicgOiB0eXBlb2YgbmV4dEVsZW1lbnQgPT09ICdmdW5jdGlvbicgPyAnIEluc3RlYWQgb2YgcGFzc2luZyBhIGNvbXBvbmVudCBjbGFzcywgbWFrZSBzdXJlIHRvIGluc3RhbnRpYXRlICcgKyAnaXQgYnkgcGFzc2luZyBpdCB0byBSZWFjdC5jcmVhdGVFbGVtZW50LicgOlxuICAgIC8vIENoZWNrIGlmIGl0IHF1YWNrcyBsaWtlIGFuIGVsZW1lbnRcbiAgICBuZXh0RWxlbWVudCAhPSBudWxsICYmIG5leHRFbGVtZW50LnByb3BzICE9PSB1bmRlZmluZWQgPyAnIFRoaXMgbWF5IGJlIGNhdXNlZCBieSB1bmludGVudGlvbmFsbHkgbG9hZGluZyB0d28gaW5kZXBlbmRlbnQgJyArICdjb3BpZXMgb2YgUmVhY3QuJyA6ICcnKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghY29udGFpbmVyIHx8ICFjb250YWluZXIudGFnTmFtZSB8fCBjb250YWluZXIudGFnTmFtZS50b1VwcGVyQ2FzZSgpICE9PSAnQk9EWScsICdyZW5kZXIoKTogUmVuZGVyaW5nIGNvbXBvbmVudHMgZGlyZWN0bHkgaW50byBkb2N1bWVudC5ib2R5IGlzICcgKyAnZGlzY291cmFnZWQsIHNpbmNlIGl0cyBjaGlsZHJlbiBhcmUgb2Z0ZW4gbWFuaXB1bGF0ZWQgYnkgdGhpcmQtcGFydHkgJyArICdzY3JpcHRzIGFuZCBicm93c2VyIGV4dGVuc2lvbnMuIFRoaXMgbWF5IGxlYWQgdG8gc3VidGxlICcgKyAncmVjb25jaWxpYXRpb24gaXNzdWVzLiBUcnkgcmVuZGVyaW5nIGludG8gYSBjb250YWluZXIgZWxlbWVudCBjcmVhdGVkICcgKyAnZm9yIHlvdXIgYXBwLicpIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIG5leHRXcmFwcGVkRWxlbWVudCA9IG5ldyBSZWFjdEVsZW1lbnQoVG9wTGV2ZWxXcmFwcGVyLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBuZXh0RWxlbWVudCk7XG5cbiAgICB2YXIgcHJldkNvbXBvbmVudCA9IGluc3RhbmNlc0J5UmVhY3RSb290SURbZ2V0UmVhY3RSb290SUQoY29udGFpbmVyKV07XG5cbiAgICBpZiAocHJldkNvbXBvbmVudCkge1xuICAgICAgdmFyIHByZXZXcmFwcGVkRWxlbWVudCA9IHByZXZDb21wb25lbnQuX2N1cnJlbnRFbGVtZW50O1xuICAgICAgdmFyIHByZXZFbGVtZW50ID0gcHJldldyYXBwZWRFbGVtZW50LnByb3BzO1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50KHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkpIHtcbiAgICAgICAgdmFyIHB1YmxpY0luc3QgPSBwcmV2Q29tcG9uZW50Ll9yZW5kZXJlZENvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgICAgICB2YXIgdXBkYXRlZENhbGxiYWNrID0gY2FsbGJhY2sgJiYgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNhbGxiYWNrLmNhbGwocHVibGljSW5zdCk7XG4gICAgICAgIH07XG4gICAgICAgIFJlYWN0TW91bnQuX3VwZGF0ZVJvb3RDb21wb25lbnQocHJldkNvbXBvbmVudCwgbmV4dFdyYXBwZWRFbGVtZW50LCBjb250YWluZXIsIHVwZGF0ZWRDYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBwdWJsaWNJbnN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUmVhY3RNb3VudC51bm1vdW50Q29tcG9uZW50QXROb2RlKGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlYWN0Um9vdEVsZW1lbnQgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICB2YXIgY29udGFpbmVySGFzUmVhY3RNYXJrdXAgPSByZWFjdFJvb3RFbGVtZW50ICYmICEhaW50ZXJuYWxHZXRJRChyZWFjdFJvb3RFbGVtZW50KTtcbiAgICB2YXIgY29udGFpbmVySGFzTm9uUm9vdFJlYWN0Q2hpbGQgPSBoYXNOb25Sb290UmVhY3RDaGlsZChjb250YWluZXIpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFjb250YWluZXJIYXNOb25Sb290UmVhY3RDaGlsZCwgJ3JlbmRlciguLi4pOiBSZXBsYWNpbmcgUmVhY3QtcmVuZGVyZWQgY2hpbGRyZW4gd2l0aCBhIG5ldyByb290ICcgKyAnY29tcG9uZW50LiBJZiB5b3UgaW50ZW5kZWQgdG8gdXBkYXRlIHRoZSBjaGlsZHJlbiBvZiB0aGlzIG5vZGUsICcgKyAneW91IHNob3VsZCBpbnN0ZWFkIGhhdmUgdGhlIGV4aXN0aW5nIGNoaWxkcmVuIHVwZGF0ZSB0aGVpciBzdGF0ZSAnICsgJ2FuZCByZW5kZXIgdGhlIG5ldyBjb21wb25lbnRzIGluc3RlYWQgb2YgY2FsbGluZyBSZWFjdERPTS5yZW5kZXIuJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICghY29udGFpbmVySGFzUmVhY3RNYXJrdXAgfHwgcmVhY3RSb290RWxlbWVudC5uZXh0U2libGluZykge1xuICAgICAgICB2YXIgcm9vdEVsZW1lbnRTaWJsaW5nID0gcmVhY3RSb290RWxlbWVudDtcbiAgICAgICAgd2hpbGUgKHJvb3RFbGVtZW50U2libGluZykge1xuICAgICAgICAgIGlmIChpbnRlcm5hbEdldElEKHJvb3RFbGVtZW50U2libGluZykpIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAncmVuZGVyKCk6IFRhcmdldCBub2RlIGhhcyBtYXJrdXAgcmVuZGVyZWQgYnkgUmVhY3QsIGJ1dCB0aGVyZSAnICsgJ2FyZSB1bnJlbGF0ZWQgbm9kZXMgYXMgd2VsbC4gVGhpcyBpcyBtb3N0IGNvbW1vbmx5IGNhdXNlZCBieSAnICsgJ3doaXRlLXNwYWNlIGluc2VydGVkIGFyb3VuZCBzZXJ2ZXItcmVuZGVyZWQgbWFya3VwLicpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJvb3RFbGVtZW50U2libGluZyA9IHJvb3RFbGVtZW50U2libGluZy5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzaG91bGRSZXVzZU1hcmt1cCA9IGNvbnRhaW5lckhhc1JlYWN0TWFya3VwICYmICFwcmV2Q29tcG9uZW50ICYmICFjb250YWluZXJIYXNOb25Sb290UmVhY3RDaGlsZDtcbiAgICB2YXIgY29tcG9uZW50ID0gUmVhY3RNb3VudC5fcmVuZGVyTmV3Um9vdENvbXBvbmVudChuZXh0V3JhcHBlZEVsZW1lbnQsIGNvbnRhaW5lciwgc2hvdWxkUmV1c2VNYXJrdXAsIHBhcmVudENvbXBvbmVudCAhPSBudWxsID8gcGFyZW50Q29tcG9uZW50Ll9yZWFjdEludGVybmFsSW5zdGFuY2UuX3Byb2Nlc3NDaGlsZENvbnRleHQocGFyZW50Q29tcG9uZW50Ll9yZWFjdEludGVybmFsSW5zdGFuY2UuX2NvbnRleHQpIDogZW1wdHlPYmplY3QpLl9yZW5kZXJlZENvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2suY2FsbChjb21wb25lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIGEgUmVhY3QgY29tcG9uZW50IGludG8gdGhlIERPTSBpbiB0aGUgc3VwcGxpZWQgYGNvbnRhaW5lcmAuXG4gICAqXG4gICAqIElmIHRoZSBSZWFjdCBjb21wb25lbnQgd2FzIHByZXZpb3VzbHkgcmVuZGVyZWQgaW50byBgY29udGFpbmVyYCwgdGhpcyB3aWxsXG4gICAqIHBlcmZvcm0gYW4gdXBkYXRlIG9uIGl0IGFuZCBvbmx5IG11dGF0ZSB0aGUgRE9NIGFzIG5lY2Vzc2FyeSB0byByZWZsZWN0IHRoZVxuICAgKiBsYXRlc3QgUmVhY3QgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbmV4dEVsZW1lbnQgQ29tcG9uZW50IGVsZW1lbnQgdG8gcmVuZGVyLlxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBET00gZWxlbWVudCB0byByZW5kZXIgaW50by5cbiAgICogQHBhcmFtIHs/ZnVuY3Rpb259IGNhbGxiYWNrIGZ1bmN0aW9uIHRyaWdnZXJlZCBvbiBjb21wbGV0aW9uXG4gICAqIEByZXR1cm4ge1JlYWN0Q29tcG9uZW50fSBDb21wb25lbnQgaW5zdGFuY2UgcmVuZGVyZWQgaW4gYGNvbnRhaW5lcmAuXG4gICAqL1xuICByZW5kZXI6IGZ1bmN0aW9uIChuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBSZWFjdE1vdW50Ll9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcihudWxsLCBuZXh0RWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGNvbnRhaW5lciBub2RlIGludG8gd2hpY2ggUmVhY3QgY29tcG9uZW50cyB3aWxsIGJlIHJlbmRlcmVkLlxuICAgKiBUaGlzIGFsc28gY3JlYXRlcyB0aGUgXCJyZWFjdFJvb3RcIiBJRCB0aGF0IHdpbGwgYmUgYXNzaWduZWQgdG8gdGhlIGVsZW1lbnRcbiAgICogcmVuZGVyZWQgd2l0aGluLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciBET00gZWxlbWVudCB0byByZWdpc3RlciBhcyBhIGNvbnRhaW5lci5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgXCJyZWFjdFJvb3RcIiBJRCBvZiBlbGVtZW50cyByZW5kZXJlZCB3aXRoaW4uXG4gICAqL1xuICByZWdpc3RlckNvbnRhaW5lcjogZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgIHZhciByZWFjdFJvb3RJRCA9IGdldFJlYWN0Um9vdElEKGNvbnRhaW5lcik7XG4gICAgaWYgKHJlYWN0Um9vdElEKSB7XG4gICAgICAvLyBJZiBvbmUgZXhpc3RzLCBtYWtlIHN1cmUgaXQgaXMgYSB2YWxpZCBcInJlYWN0Um9vdFwiIElELlxuICAgICAgcmVhY3RSb290SUQgPSBSZWFjdEluc3RhbmNlSGFuZGxlcy5nZXRSZWFjdFJvb3RJREZyb21Ob2RlSUQocmVhY3RSb290SUQpO1xuICAgIH1cbiAgICBpZiAoIXJlYWN0Um9vdElEKSB7XG4gICAgICAvLyBObyB2YWxpZCBcInJlYWN0Um9vdFwiIElEIGZvdW5kLCBjcmVhdGUgb25lLlxuICAgICAgcmVhY3RSb290SUQgPSBSZWFjdEluc3RhbmNlSGFuZGxlcy5jcmVhdGVSZWFjdFJvb3RJRCgpO1xuICAgIH1cbiAgICBjb250YWluZXJzQnlSZWFjdFJvb3RJRFtyZWFjdFJvb3RJRF0gPSBjb250YWluZXI7XG4gICAgcmV0dXJuIHJlYWN0Um9vdElEO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVbm1vdW50cyBhbmQgZGVzdHJveXMgdGhlIFJlYWN0IGNvbXBvbmVudCByZW5kZXJlZCBpbiB0aGUgYGNvbnRhaW5lcmAuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIERPTSBlbGVtZW50IGNvbnRhaW5pbmcgYSBSZWFjdCBjb21wb25lbnQuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYSBjb21wb25lbnQgd2FzIGZvdW5kIGluIGFuZCB1bm1vdW50ZWQgZnJvbVxuICAgKiAgICAgICAgICAgICAgICAgICBgY29udGFpbmVyYFxuICAgKi9cbiAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgIC8vIFZhcmlvdXMgcGFydHMgb2Ygb3VyIGNvZGUgKHN1Y2ggYXMgUmVhY3RDb21wb3NpdGVDb21wb25lbnQnc1xuICAgIC8vIF9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQpIGFzc3VtZSB0aGF0IGNhbGxzIHRvIHJlbmRlciBhcmVuJ3QgbmVzdGVkO1xuICAgIC8vIHZlcmlmeSB0aGF0IHRoYXQncyB0aGUgY2FzZS4gKFN0cmljdGx5IHNwZWFraW5nLCB1bm1vdW50aW5nIHdvbid0IGNhdXNlIGFcbiAgICAvLyByZW5kZXIgYnV0IHdlIHN0aWxsIGRvbid0IGV4cGVjdCB0byBiZSBpbiBhIHJlbmRlciBjYWxsIGhlcmUuKVxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPT0gbnVsbCwgJ3VubW91bnRDb21wb25lbnRBdE5vZGUoKTogUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiAnICsgJ29mIHByb3BzIGFuZCBzdGF0ZTsgdHJpZ2dlcmluZyBuZXN0ZWQgY29tcG9uZW50IHVwZGF0ZXMgZnJvbSByZW5kZXIgJyArICdpcyBub3QgYWxsb3dlZC4gSWYgbmVjZXNzYXJ5LCB0cmlnZ2VyIG5lc3RlZCB1cGRhdGVzIGluICcgKyAnY29tcG9uZW50RGlkVXBkYXRlLiBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiAlcy4nLCBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpIDogdW5kZWZpbmVkO1xuXG4gICAgIShjb250YWluZXIgJiYgKGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRUxFTUVOVF9OT0RFX1RZUEUgfHwgY29udGFpbmVyLm5vZGVUeXBlID09PSBET0NfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERV9UWVBFKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndW5tb3VudENvbXBvbmVudEF0Tm9kZSguLi4pOiBUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICAgIHZhciByZWFjdFJvb3RJRCA9IGdldFJlYWN0Um9vdElEKGNvbnRhaW5lcik7XG4gICAgdmFyIGNvbXBvbmVudCA9IGluc3RhbmNlc0J5UmVhY3RSb290SURbcmVhY3RSb290SURdO1xuICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGUgbm9kZSBiZWluZyB1bm1vdW50ZWQgd2FzIHJlbmRlcmVkIGJ5IFJlYWN0LCBidXQgaXNuJ3QgYVxuICAgICAgLy8gcm9vdCBub2RlLlxuICAgICAgdmFyIGNvbnRhaW5lckhhc05vblJvb3RSZWFjdENoaWxkID0gaGFzTm9uUm9vdFJlYWN0Q2hpbGQoY29udGFpbmVyKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNvbnRhaW5lciBpdHNlbGYgaXMgYSBSZWFjdCByb290IG5vZGUuXG4gICAgICB2YXIgY29udGFpbmVySUQgPSBpbnRlcm5hbEdldElEKGNvbnRhaW5lcik7XG4gICAgICB2YXIgaXNDb250YWluZXJSZWFjdFJvb3QgPSBjb250YWluZXJJRCAmJiBjb250YWluZXJJRCA9PT0gUmVhY3RJbnN0YW5jZUhhbmRsZXMuZ2V0UmVhY3RSb290SURGcm9tTm9kZUlEKGNvbnRhaW5lcklEKTtcblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWNvbnRhaW5lckhhc05vblJvb3RSZWFjdENoaWxkLCAndW5tb3VudENvbXBvbmVudEF0Tm9kZSgpOiBUaGUgbm9kZSB5b3VcXCdyZSBhdHRlbXB0aW5nIHRvIHVubW91bnQgJyArICd3YXMgcmVuZGVyZWQgYnkgUmVhY3QgYW5kIGlzIG5vdCBhIHRvcC1sZXZlbCBjb250YWluZXIuICVzJywgaXNDb250YWluZXJSZWFjdFJvb3QgPyAnWW91IG1heSBoYXZlIGFjY2lkZW50YWxseSBwYXNzZWQgaW4gYSBSZWFjdCByb290IG5vZGUgaW5zdGVhZCAnICsgJ29mIGl0cyBjb250YWluZXIuJyA6ICdJbnN0ZWFkLCBoYXZlIHRoZSBwYXJlbnQgY29tcG9uZW50IHVwZGF0ZSBpdHMgc3RhdGUgYW5kICcgKyAncmVyZW5kZXIgaW4gb3JkZXIgdG8gcmVtb3ZlIHRoaXMgY29tcG9uZW50LicpIDogdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyh1bm1vdW50Q29tcG9uZW50RnJvbU5vZGUsIGNvbXBvbmVudCwgY29udGFpbmVyKTtcbiAgICBkZWxldGUgaW5zdGFuY2VzQnlSZWFjdFJvb3RJRFtyZWFjdFJvb3RJRF07XG4gICAgZGVsZXRlIGNvbnRhaW5lcnNCeVJlYWN0Um9vdElEW3JlYWN0Um9vdElEXTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgZGVsZXRlIHJvb3RFbGVtZW50c0J5UmVhY3RSb290SURbcmVhY3RSb290SURdO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICAvKipcbiAgICogRmluZHMgdGhlIGNvbnRhaW5lciBET00gZWxlbWVudCB0aGF0IGNvbnRhaW5zIFJlYWN0IGNvbXBvbmVudCB0byB3aGljaCB0aGVcbiAgICogc3VwcGxpZWQgRE9NIGBpZGAgYmVsb25ncy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRCBvZiBhbiBlbGVtZW50IHJlbmRlcmVkIGJ5IGEgUmVhY3QgY29tcG9uZW50LlxuICAgKiBAcmV0dXJuIHs/RE9NRWxlbWVudH0gRE9NIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgYGlkYC5cbiAgICovXG4gIGZpbmRSZWFjdENvbnRhaW5lckZvcklEOiBmdW5jdGlvbiAoaWQpIHtcbiAgICB2YXIgcmVhY3RSb290SUQgPSBSZWFjdEluc3RhbmNlSGFuZGxlcy5nZXRSZWFjdFJvb3RJREZyb21Ob2RlSUQoaWQpO1xuICAgIHZhciBjb250YWluZXIgPSBjb250YWluZXJzQnlSZWFjdFJvb3RJRFtyZWFjdFJvb3RJRF07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHJvb3RFbGVtZW50ID0gcm9vdEVsZW1lbnRzQnlSZWFjdFJvb3RJRFtyZWFjdFJvb3RJRF07XG4gICAgICBpZiAocm9vdEVsZW1lbnQgJiYgcm9vdEVsZW1lbnQucGFyZW50Tm9kZSAhPT0gY29udGFpbmVyKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKFxuICAgICAgICAvLyBDYWxsIGludGVybmFsR2V0SUQgaGVyZSBiZWNhdXNlIGdldElEIGNhbGxzIGlzVmFsaWQgd2hpY2ggY2FsbHNcbiAgICAgICAgLy8gZmluZFJlYWN0Q29udGFpbmVyRm9ySUQgKHRoaXMgZnVuY3Rpb24pLlxuICAgICAgICBpbnRlcm5hbEdldElEKHJvb3RFbGVtZW50KSA9PT0gcmVhY3RSb290SUQsICdSZWFjdE1vdW50OiBSb290IGVsZW1lbnQgSUQgZGlmZmVyZWQgZnJvbSByZWFjdFJvb3RJRC4nKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGNvbnRhaW5lckNoaWxkID0gY29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChjb250YWluZXJDaGlsZCAmJiByZWFjdFJvb3RJRCA9PT0gaW50ZXJuYWxHZXRJRChjb250YWluZXJDaGlsZCkpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgY29udGFpbmVyIGhhcyBhIG5ldyBjaGlsZCB3aXRoIHRoZSBzYW1lIElEIGFzIHRoZSBvbGRcbiAgICAgICAgICAvLyByb290IGVsZW1lbnQsIHRoZW4gcm9vdEVsZW1lbnRzQnlSZWFjdFJvb3RJRFtyZWFjdFJvb3RJRF0gaXNcbiAgICAgICAgICAvLyBqdXN0IHN0YWxlIGFuZCBuZWVkcyB0byBiZSB1cGRhdGVkLiBUaGUgY2FzZSB0aGF0IGRlc2VydmVzIGFcbiAgICAgICAgICAvLyB3YXJuaW5nIGlzIHdoZW4gdGhlIGNvbnRhaW5lciBpcyBlbXB0eS5cbiAgICAgICAgICByb290RWxlbWVudHNCeVJlYWN0Um9vdElEW3JlYWN0Um9vdElEXSA9IGNvbnRhaW5lckNoaWxkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnUmVhY3RNb3VudDogUm9vdCBlbGVtZW50IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBpdHMgb3JpZ2luYWwgJyArICdjb250YWluZXIuIE5ldyBjb250YWluZXI6ICVzJywgcm9vdEVsZW1lbnQucGFyZW50Tm9kZSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29udGFpbmVyO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGaW5kcyBhbiBlbGVtZW50IHJlbmRlcmVkIGJ5IFJlYWN0IHdpdGggdGhlIHN1cHBsaWVkIElELlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgYSBET00gbm9kZSBpbiB0aGUgUmVhY3QgY29tcG9uZW50LlxuICAgKiBAcmV0dXJuIHtET01FbGVtZW50fSBSb290IERPTSBub2RlIG9mIHRoZSBSZWFjdCBjb21wb25lbnQuXG4gICAqL1xuICBmaW5kUmVhY3ROb2RlQnlJRDogZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIHJlYWN0Um9vdCA9IFJlYWN0TW91bnQuZmluZFJlYWN0Q29udGFpbmVyRm9ySUQoaWQpO1xuICAgIHJldHVybiBSZWFjdE1vdW50LmZpbmRDb21wb25lbnRSb290KHJlYWN0Um9vdCwgaWQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUcmF2ZXJzZXMgdXAgdGhlIGFuY2VzdG9ycyBvZiB0aGUgc3VwcGxpZWQgbm9kZSB0byBmaW5kIGEgbm9kZSB0aGF0IGlzIGFcbiAgICogRE9NIHJlcHJlc2VudGF0aW9uIG9mIGEgUmVhY3QgY29tcG9uZW50IHJlbmRlcmVkIGJ5IHRoaXMgY29weSBvZiBSZWFjdC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBub2RlXG4gICAqIEByZXR1cm4gez9ET01FdmVudFRhcmdldH1cbiAgICogQGludGVybmFsXG4gICAqL1xuICBnZXRGaXJzdFJlYWN0RE9NOiBmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiBmaW5kRmlyc3RSZWFjdERPTUltcGwobm9kZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmRzIGEgbm9kZSB3aXRoIHRoZSBzdXBwbGllZCBgdGFyZ2V0SURgIGluc2lkZSBvZiB0aGUgc3VwcGxpZWRcbiAgICogYGFuY2VzdG9yTm9kZWAuICBFeHBsb2l0cyB0aGUgSUQgbmFtaW5nIHNjaGVtZSB0byBwZXJmb3JtIHRoZSBzZWFyY2hcbiAgICogcXVpY2tseS5cbiAgICpcbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gYW5jZXN0b3JOb2RlIFNlYXJjaCBmcm9tIHRoaXMgcm9vdC5cbiAgICogQHBhcmFybSB7c3RyaW5nfSB0YXJnZXRJRCBJRCBvZiB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb21wb25lbnQuXG4gICAqIEByZXR1cm4ge0RPTUV2ZW50VGFyZ2V0fSBET00gbm9kZSB3aXRoIHRoZSBzdXBwbGllZCBgdGFyZ2V0SURgLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGZpbmRDb21wb25lbnRSb290OiBmdW5jdGlvbiAoYW5jZXN0b3JOb2RlLCB0YXJnZXRJRCkge1xuICAgIHZhciBmaXJzdENoaWxkcmVuID0gZmluZENvbXBvbmVudFJvb3RSZXVzYWJsZUFycmF5O1xuICAgIHZhciBjaGlsZEluZGV4ID0gMDtcblxuICAgIHZhciBkZWVwZXN0QW5jZXN0b3IgPSBmaW5kRGVlcGVzdENhY2hlZEFuY2VzdG9yKHRhcmdldElEKSB8fCBhbmNlc3Rvck5vZGU7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gVGhpcyB3aWxsIHRocm93IG9uIHRoZSBuZXh0IGxpbmU7IGdpdmUgYW4gZWFybHkgd2FybmluZ1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZGVlcGVzdEFuY2VzdG9yICE9IG51bGwsICdSZWFjdCBjYW5cXCd0IGZpbmQgdGhlIHJvb3QgY29tcG9uZW50IG5vZGUgZm9yIGRhdGEtcmVhY3RpZCB2YWx1ZSAnICsgJ2Alc2AuIElmIHlvdVxcJ3JlIHNlZWluZyB0aGlzIG1lc3NhZ2UsIGl0IHByb2JhYmx5IG1lYW5zIHRoYXQgJyArICd5b3VcXCd2ZSBsb2FkZWQgdHdvIGNvcGllcyBvZiBSZWFjdCBvbiB0aGUgcGFnZS4gQXQgdGhpcyB0aW1lLCBvbmx5ICcgKyAnYSBzaW5nbGUgY29weSBvZiBSZWFjdCBjYW4gYmUgbG9hZGVkIGF0IGEgdGltZS4nLCB0YXJnZXRJRCkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZmlyc3RDaGlsZHJlblswXSA9IGRlZXBlc3RBbmNlc3Rvci5maXJzdENoaWxkO1xuICAgIGZpcnN0Q2hpbGRyZW4ubGVuZ3RoID0gMTtcblxuICAgIHdoaWxlIChjaGlsZEluZGV4IDwgZmlyc3RDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIHZhciBjaGlsZCA9IGZpcnN0Q2hpbGRyZW5bY2hpbGRJbmRleCsrXTtcbiAgICAgIHZhciB0YXJnZXRDaGlsZDtcblxuICAgICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICAgIHZhciBjaGlsZElEID0gUmVhY3RNb3VudC5nZXRJRChjaGlsZCk7XG4gICAgICAgIGlmIChjaGlsZElEKSB7XG4gICAgICAgICAgLy8gRXZlbiBpZiB3ZSBmaW5kIHRoZSBub2RlIHdlJ3JlIGxvb2tpbmcgZm9yLCB3ZSBmaW5pc2ggbG9vcGluZ1xuICAgICAgICAgIC8vIHRocm91Z2ggaXRzIHNpYmxpbmdzIHRvIGVuc3VyZSB0aGV5J3JlIGNhY2hlZCBzbyB0aGF0IHdlIGRvbid0IGhhdmVcbiAgICAgICAgICAvLyB0byByZXZpc2l0IHRoaXMgbm9kZSBhZ2Fpbi4gT3RoZXJ3aXNlLCB3ZSBtYWtlIG5eMiBjYWxscyB0byBnZXRJRFxuICAgICAgICAgIC8vIHdoZW4gdmlzaXRpbmcgdGhlIG1hbnkgY2hpbGRyZW4gb2YgYSBzaW5nbGUgbm9kZSBpbiBvcmRlci5cblxuICAgICAgICAgIGlmICh0YXJnZXRJRCA9PT0gY2hpbGRJRCkge1xuICAgICAgICAgICAgdGFyZ2V0Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgICB9IGVsc2UgaWYgKFJlYWN0SW5zdGFuY2VIYW5kbGVzLmlzQW5jZXN0b3JJRE9mKGNoaWxkSUQsIHRhcmdldElEKSkge1xuICAgICAgICAgICAgLy8gSWYgd2UgZmluZCBhIGNoaWxkIHdob3NlIElEIGlzIGFuIGFuY2VzdG9yIG9mIHRoZSBnaXZlbiBJRCxcbiAgICAgICAgICAgIC8vIHRoZW4gd2UgY2FuIGJlIHN1cmUgdGhhdCB3ZSBvbmx5IHdhbnQgdG8gc2VhcmNoIHRoZSBzdWJ0cmVlXG4gICAgICAgICAgICAvLyByb290ZWQgYXQgdGhpcyBjaGlsZCwgc28gd2UgY2FuIHRocm93IG91dCB0aGUgcmVzdCBvZiB0aGVcbiAgICAgICAgICAgIC8vIHNlYXJjaCBzdGF0ZS5cbiAgICAgICAgICAgIGZpcnN0Q2hpbGRyZW4ubGVuZ3RoID0gY2hpbGRJbmRleCA9IDA7XG4gICAgICAgICAgICBmaXJzdENoaWxkcmVuLnB1c2goY2hpbGQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHRoaXMgY2hpbGQgaGFkIG5vIElELCB0aGVuIHRoZXJlJ3MgYSBjaGFuY2UgdGhhdCBpdCB3YXNcbiAgICAgICAgICAvLyBpbmplY3RlZCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSBicm93c2VyLCBhcyB3aGVuIGEgYDx0YWJsZT5gXG4gICAgICAgICAgLy8gZWxlbWVudCBzcHJvdXRzIGFuIGV4dHJhIGA8dGJvZHk+YCBjaGlsZCBhcyBhIHNpZGUgZWZmZWN0IG9mXG4gICAgICAgICAgLy8gYC5pbm5lckhUTUxgIHBhcnNpbmcuIE9wdGltaXN0aWNhbGx5IGNvbnRpbnVlIGRvd24gdGhpc1xuICAgICAgICAgIC8vIGJyYW5jaCwgYnV0IG5vdCBiZWZvcmUgZXhhbWluaW5nIHRoZSBvdGhlciBzaWJsaW5ncy5cbiAgICAgICAgICBmaXJzdENoaWxkcmVuLnB1c2goY2hpbGQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0Q2hpbGQpIHtcbiAgICAgICAgLy8gRW1wdHlpbmcgZmlyc3RDaGlsZHJlbi9maW5kQ29tcG9uZW50Um9vdFJldXNhYmxlQXJyYXkgaXNcbiAgICAgICAgLy8gbm90IG5lY2Vzc2FyeSBmb3IgY29ycmVjdG5lc3MsIGJ1dCBpdCBoZWxwcyB0aGUgR0MgcmVjbGFpbVxuICAgICAgICAvLyBhbnkgbm9kZXMgdGhhdCB3ZXJlIGxlZnQgYXQgdGhlIGVuZCBvZiB0aGUgc2VhcmNoLlxuICAgICAgICBmaXJzdENoaWxkcmVuLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldENoaWxkO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZpcnN0Q2hpbGRyZW4ubGVuZ3RoID0gMDtcblxuICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdmaW5kQ29tcG9uZW50Um9vdCguLi4sICVzKTogVW5hYmxlIHRvIGZpbmQgZWxlbWVudC4gVGhpcyBwcm9iYWJseSAnICsgJ21lYW5zIHRoZSBET00gd2FzIHVuZXhwZWN0ZWRseSBtdXRhdGVkIChlLmcuLCBieSB0aGUgYnJvd3NlciksICcgKyAndXN1YWxseSBkdWUgdG8gZm9yZ2V0dGluZyBhIDx0Ym9keT4gd2hlbiB1c2luZyB0YWJsZXMsIG5lc3RpbmcgdGFncyAnICsgJ2xpa2UgPGZvcm0+LCA8cD4sIG9yIDxhPiwgb3IgdXNpbmcgbm9uLVNWRyBlbGVtZW50cyBpbiBhbiA8c3ZnPiAnICsgJ3BhcmVudC4gJyArICdUcnkgaW5zcGVjdGluZyB0aGUgY2hpbGQgbm9kZXMgb2YgdGhlIGVsZW1lbnQgd2l0aCBSZWFjdCBJRCBgJXNgLicsIHRhcmdldElELCBSZWFjdE1vdW50LmdldElEKGFuY2VzdG9yTm9kZSkpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgfSxcblxuICBfbW91bnRJbWFnZUludG9Ob2RlOiBmdW5jdGlvbiAobWFya3VwLCBjb250YWluZXIsIHNob3VsZFJldXNlTWFya3VwLCB0cmFuc2FjdGlvbikge1xuICAgICEoY29udGFpbmVyICYmIChjb250YWluZXIubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERV9UWVBFIHx8IGNvbnRhaW5lci5ub2RlVHlwZSA9PT0gRE9DX05PREVfVFlQRSB8fCBjb250YWluZXIubm9kZVR5cGUgPT09IERPQ1VNRU5UX0ZSQUdNRU5UX05PREVfVFlQRSkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ21vdW50Q29tcG9uZW50SW50b05vZGUoLi4uKTogVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgdmFsaWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKHNob3VsZFJldXNlTWFya3VwKSB7XG4gICAgICB2YXIgcm9vdEVsZW1lbnQgPSBnZXRSZWFjdFJvb3RFbGVtZW50SW5Db250YWluZXIoY29udGFpbmVyKTtcbiAgICAgIGlmIChSZWFjdE1hcmt1cENoZWNrc3VtLmNhblJldXNlTWFya3VwKG1hcmt1cCwgcm9vdEVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBjaGVja3N1bSA9IHJvb3RFbGVtZW50LmdldEF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSk7XG4gICAgICAgIHJvb3RFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSk7XG5cbiAgICAgICAgdmFyIHJvb3RNYXJrdXAgPSByb290RWxlbWVudC5vdXRlckhUTUw7XG4gICAgICAgIHJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZShSZWFjdE1hcmt1cENoZWNrc3VtLkNIRUNLU1VNX0FUVFJfTkFNRSwgY2hlY2tzdW0pO1xuXG4gICAgICAgIHZhciBub3JtYWxpemVkTWFya3VwID0gbWFya3VwO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIC8vIGJlY2F1c2Ugcm9vdE1hcmt1cCBpcyByZXRyaWV2ZWQgZnJvbSB0aGUgRE9NLCB2YXJpb3VzIG5vcm1hbGl6YXRpb25zXG4gICAgICAgICAgLy8gd2lsbCBoYXZlIG9jY3VycmVkIHdoaWNoIHdpbGwgbm90IGJlIHByZXNlbnQgaW4gYG1hcmt1cGAuIEhlcmUsXG4gICAgICAgICAgLy8gaW5zZXJ0IG1hcmt1cCBpbnRvIGEgPGRpdj4gb3IgPGlmcmFtZT4gZGVwZW5kaW5nIG9uIHRoZSBjb250YWluZXJcbiAgICAgICAgICAvLyB0eXBlIHRvIHBlcmZvcm0gdGhlIHNhbWUgbm9ybWFsaXphdGlvbnMgYmVmb3JlIGNvbXBhcmluZy5cbiAgICAgICAgICB2YXIgbm9ybWFsaXplcjtcbiAgICAgICAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSkge1xuICAgICAgICAgICAgbm9ybWFsaXplciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbm9ybWFsaXplci5pbm5lckhUTUwgPSBtYXJrdXA7XG4gICAgICAgICAgICBub3JtYWxpemVkTWFya3VwID0gbm9ybWFsaXplci5pbm5lckhUTUw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9ybWFsaXplcik7XG4gICAgICAgICAgICBub3JtYWxpemVyLmNvbnRlbnREb2N1bWVudC53cml0ZShtYXJrdXApO1xuICAgICAgICAgICAgbm9ybWFsaXplZE1hcmt1cCA9IG5vcm1hbGl6ZXIuY29udGVudERvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG5vcm1hbGl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkaWZmSW5kZXggPSBmaXJzdERpZmZlcmVuY2VJbmRleChub3JtYWxpemVkTWFya3VwLCByb290TWFya3VwKTtcbiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSAnIChjbGllbnQpICcgKyBub3JtYWxpemVkTWFya3VwLnN1YnN0cmluZyhkaWZmSW5kZXggLSAyMCwgZGlmZkluZGV4ICsgMjApICsgJ1xcbiAoc2VydmVyKSAnICsgcm9vdE1hcmt1cC5zdWJzdHJpbmcoZGlmZkluZGV4IC0gMjAsIGRpZmZJbmRleCArIDIwKTtcblxuICAgICAgICAhKGNvbnRhaW5lci5ub2RlVHlwZSAhPT0gRE9DX05PREVfVFlQRSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnWW91XFwncmUgdHJ5aW5nIHRvIHJlbmRlciBhIGNvbXBvbmVudCB0byB0aGUgZG9jdW1lbnQgdXNpbmcgJyArICdzZXJ2ZXIgcmVuZGVyaW5nIGJ1dCB0aGUgY2hlY2tzdW0gd2FzIGludmFsaWQuIFRoaXMgdXN1YWxseSAnICsgJ21lYW5zIHlvdSByZW5kZXJlZCBhIGRpZmZlcmVudCBjb21wb25lbnQgdHlwZSBvciBwcm9wcyBvbiAnICsgJ3RoZSBjbGllbnQgZnJvbSB0aGUgb25lIG9uIHRoZSBzZXJ2ZXIsIG9yIHlvdXIgcmVuZGVyKCkgJyArICdtZXRob2RzIGFyZSBpbXB1cmUuIFJlYWN0IGNhbm5vdCBoYW5kbGUgdGhpcyBjYXNlIGR1ZSB0byAnICsgJ2Nyb3NzLWJyb3dzZXIgcXVpcmtzIGJ5IHJlbmRlcmluZyBhdCB0aGUgZG9jdW1lbnQgcm9vdC4gWW91ICcgKyAnc2hvdWxkIGxvb2sgZm9yIGVudmlyb25tZW50IGRlcGVuZGVudCBjb2RlIGluIHlvdXIgY29tcG9uZW50cyAnICsgJ2FuZCBlbnN1cmUgdGhlIHByb3BzIGFyZSB0aGUgc2FtZSBjbGllbnQgYW5kIHNlcnZlciBzaWRlOlxcbiVzJywgZGlmZmVyZW5jZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdSZWFjdCBhdHRlbXB0ZWQgdG8gcmV1c2UgbWFya3VwIGluIGEgY29udGFpbmVyIGJ1dCB0aGUgJyArICdjaGVja3N1bSB3YXMgaW52YWxpZC4gVGhpcyBnZW5lcmFsbHkgbWVhbnMgdGhhdCB5b3UgYXJlICcgKyAndXNpbmcgc2VydmVyIHJlbmRlcmluZyBhbmQgdGhlIG1hcmt1cCBnZW5lcmF0ZWQgb24gdGhlICcgKyAnc2VydmVyIHdhcyBub3Qgd2hhdCB0aGUgY2xpZW50IHdhcyBleHBlY3RpbmcuIFJlYWN0IGluamVjdGVkICcgKyAnbmV3IG1hcmt1cCB0byBjb21wZW5zYXRlIHdoaWNoIHdvcmtzIGJ1dCB5b3UgaGF2ZSBsb3N0IG1hbnkgJyArICdvZiB0aGUgYmVuZWZpdHMgb2Ygc2VydmVyIHJlbmRlcmluZy4gSW5zdGVhZCwgZmlndXJlIG91dCAnICsgJ3doeSB0aGUgbWFya3VwIGJlaW5nIGdlbmVyYXRlZCBpcyBkaWZmZXJlbnQgb24gdGhlIGNsaWVudCAnICsgJ29yIHNlcnZlcjpcXG4lcycsIGRpZmZlcmVuY2UpIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgIShjb250YWluZXIubm9kZVR5cGUgIT09IERPQ19OT0RFX1RZUEUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1lvdVxcJ3JlIHRyeWluZyB0byByZW5kZXIgYSBjb21wb25lbnQgdG8gdGhlIGRvY3VtZW50IGJ1dCAnICsgJ3lvdSBkaWRuXFwndCB1c2Ugc2VydmVyIHJlbmRlcmluZy4gV2UgY2FuXFwndCBkbyB0aGlzICcgKyAnd2l0aG91dCB1c2luZyBzZXJ2ZXIgcmVuZGVyaW5nIGR1ZSB0byBjcm9zcy1icm93c2VyIHF1aXJrcy4gJyArICdTZWUgUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdHJpbmcoKSBmb3Igc2VydmVyIHJlbmRlcmluZy4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAodHJhbnNhY3Rpb24udXNlQ3JlYXRlRWxlbWVudCkge1xuICAgICAgd2hpbGUgKGNvbnRhaW5lci5sYXN0Q2hpbGQpIHtcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5sYXN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1hcmt1cCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldElubmVySFRNTChjb250YWluZXIsIG1hcmt1cCk7XG4gICAgfVxuICB9LFxuXG4gIG93bmVyRG9jdW1lbnRDb250ZXh0S2V5OiBvd25lckRvY3VtZW50Q29udGV4dEtleSxcblxuICAvKipcbiAgICogUmVhY3QgSUQgdXRpbGl0aWVzLlxuICAgKi9cblxuICBnZXRSZWFjdFJvb3RJRDogZ2V0UmVhY3RSb290SUQsXG5cbiAgZ2V0SUQ6IGdldElELFxuXG4gIHNldElEOiBzZXRJRCxcblxuICBnZXROb2RlOiBnZXROb2RlLFxuXG4gIGdldE5vZGVGcm9tSW5zdGFuY2U6IGdldE5vZGVGcm9tSW5zdGFuY2UsXG5cbiAgaXNWYWxpZDogaXNWYWxpZCxcblxuICBwdXJnZUlEOiBwdXJnZUlEXG59O1xuXG5SZWFjdFBlcmYubWVhc3VyZU1ldGhvZHMoUmVhY3RNb3VudCwgJ1JlYWN0TW91bnQnLCB7XG4gIF9yZW5kZXJOZXdSb290Q29tcG9uZW50OiAnX3JlbmRlck5ld1Jvb3RDb21wb25lbnQnLFxuICBfbW91bnRJbWFnZUludG9Ob2RlOiAnX21vdW50SW1hZ2VJbnRvTm9kZSdcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TW91bnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RWxlbWVudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi9PYmplY3QuYXNzaWduJyk7XG52YXIgY2FuRGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL2NhbkRlZmluZVByb3BlcnR5Jyk7XG5cbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudCB0eXBlLiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2xbJ2ZvciddICYmIFN5bWJvbFsnZm9yJ10oJ3JlYWN0LmVsZW1lbnQnKSB8fCAweGVhYzc7XG5cbnZhciBSRVNFUlZFRF9QUk9QUyA9IHtcbiAga2V5OiB0cnVlLFxuICByZWY6IHRydWUsXG4gIF9fc2VsZjogdHJ1ZSxcbiAgX19zb3VyY2U6IHRydWVcbn07XG5cbi8qKlxuICogQmFzZSBjb25zdHJ1Y3RvciBmb3IgYWxsIFJlYWN0IGVsZW1lbnRzLiBUaGlzIGlzIG9ubHkgdXNlZCB0byBtYWtlIHRoaXNcbiAqIHdvcmsgd2l0aCBhIGR5bmFtaWMgaW5zdGFuY2VvZiBjaGVjay4gTm90aGluZyBzaG91bGQgbGl2ZSBvbiB0aGlzIHByb3RvdHlwZS5cbiAqXG4gKiBAcGFyYW0geyp9IHR5cGVcbiAqIEBwYXJhbSB7Kn0ga2V5XG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlZlxuICogQHBhcmFtIHsqfSBzZWxmIEEgKnRlbXBvcmFyeSogaGVscGVyIHRvIGRldGVjdCBwbGFjZXMgd2hlcmUgYHRoaXNgIGlzXG4gKiBkaWZmZXJlbnQgZnJvbSB0aGUgYG93bmVyYCB3aGVuIFJlYWN0LmNyZWF0ZUVsZW1lbnQgaXMgY2FsbGVkLCBzbyB0aGF0IHdlXG4gKiBjYW4gd2Fybi4gV2Ugd2FudCB0byBnZXQgcmlkIG9mIG93bmVyIGFuZCByZXBsYWNlIHN0cmluZyBgcmVmYHMgd2l0aCBhcnJvd1xuICogZnVuY3Rpb25zLCBhbmQgYXMgbG9uZyBhcyBgdGhpc2AgYW5kIG93bmVyIGFyZSB0aGUgc2FtZSwgdGhlcmUgd2lsbCBiZSBub1xuICogY2hhbmdlIGluIGJlaGF2aW9yLlxuICogQHBhcmFtIHsqfSBzb3VyY2UgQW4gYW5ub3RhdGlvbiBvYmplY3QgKGFkZGVkIGJ5IGEgdHJhbnNwaWxlciBvciBvdGhlcndpc2UpXG4gKiBpbmRpY2F0aW5nIGZpbGVuYW1lLCBsaW5lIG51bWJlciwgYW5kL29yIG90aGVyIGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHsqfSBvd25lclxuICogQHBhcmFtIHsqfSBwcm9wc1xuICogQGludGVybmFsXG4gKi9cbnZhciBSZWFjdEVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKSB7XG4gIHZhciBlbGVtZW50ID0ge1xuICAgIC8vIFRoaXMgdGFnIGFsbG93IHVzIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgYXMgYSBSZWFjdCBFbGVtZW50XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcblxuICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICB0eXBlOiB0eXBlLFxuICAgIGtleToga2V5LFxuICAgIHJlZjogcmVmLFxuICAgIHByb3BzOiBwcm9wcyxcblxuICAgIC8vIFJlY29yZCB0aGUgY29tcG9uZW50IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGlzIGVsZW1lbnQuXG4gICAgX293bmVyOiBvd25lclxuICB9O1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVGhlIHZhbGlkYXRpb24gZmxhZyBpcyBjdXJyZW50bHkgbXV0YXRpdmUuIFdlIHB1dCBpdCBvblxuICAgIC8vIGFuIGV4dGVybmFsIGJhY2tpbmcgc3RvcmUgc28gdGhhdCB3ZSBjYW4gZnJlZXplIHRoZSB3aG9sZSBvYmplY3QuXG4gICAgLy8gVGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBhIFdlYWtNYXAgb25jZSB0aGV5IGFyZSBpbXBsZW1lbnRlZCBpblxuICAgIC8vIGNvbW1vbmx5IHVzZWQgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzLlxuICAgIGVsZW1lbnQuX3N0b3JlID0ge307XG5cbiAgICAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG4gICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIC8vIHNlbGYgYW5kIHNvdXJjZSBhcmUgREVWIG9ubHkgcHJvcGVydGllcy5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBzZWxmXG4gICAgICB9KTtcbiAgICAgIC8vIFR3byBlbGVtZW50cyBjcmVhdGVkIGluIHR3byBkaWZmZXJlbnQgcGxhY2VzIHNob3VsZCBiZSBjb25zaWRlcmVkXG4gICAgICAvLyBlcXVhbCBmb3IgdGVzdGluZyBwdXJwb3NlcyBhbmQgdGhlcmVmb3JlIHdlIGhpZGUgaXQgZnJvbSBlbnVtZXJhdGlvbi5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NvdXJjZScsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IHNvdXJjZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IGZhbHNlO1xuICAgICAgZWxlbWVudC5fc2VsZiA9IHNlbGY7XG4gICAgICBlbGVtZW50Ll9zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIE9iamVjdC5mcmVlemUoZWxlbWVudC5wcm9wcyk7XG4gICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSwgY29uZmlnLCBjaGlsZHJlbikge1xuICB2YXIgcHJvcE5hbWU7XG5cbiAgLy8gUmVzZXJ2ZWQgbmFtZXMgYXJlIGV4dHJhY3RlZFxuICB2YXIgcHJvcHMgPSB7fTtcblxuICB2YXIga2V5ID0gbnVsbDtcbiAgdmFyIHJlZiA9IG51bGw7XG4gIHZhciBzZWxmID0gbnVsbDtcbiAgdmFyIHNvdXJjZSA9IG51bGw7XG5cbiAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgcmVmID0gY29uZmlnLnJlZiA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZy5yZWY7XG4gICAga2V5ID0gY29uZmlnLmtleSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6ICcnICsgY29uZmlnLmtleTtcbiAgICBzZWxmID0gY29uZmlnLl9fc2VsZiA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZy5fX3NlbGY7XG4gICAgc291cmNlID0gY29uZmlnLl9fc291cmNlID09PSB1bmRlZmluZWQgPyBudWxsIDogY29uZmlnLl9fc291cmNlO1xuICAgIC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENoaWxkcmVuIGNhbiBiZSBtb3JlIHRoYW4gb25lIGFyZ3VtZW50LCBhbmQgdGhvc2UgYXJlIHRyYW5zZmVycmVkIG9udG9cbiAgLy8gdGhlIG5ld2x5IGFsbG9jYXRlZCBwcm9wcyBvYmplY3QuXG4gIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgfVxuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgfVxuXG4gIC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcbiAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgaWYgKHR5cGVvZiBwcm9wc1twcm9wTmFtZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LCBwcm9wcyk7XG59O1xuXG5SZWFjdEVsZW1lbnQuY3JlYXRlRmFjdG9yeSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gIHZhciBmYWN0b3J5ID0gUmVhY3RFbGVtZW50LmNyZWF0ZUVsZW1lbnQuYmluZChudWxsLCB0eXBlKTtcbiAgLy8gRXhwb3NlIHRoZSB0eXBlIG9uIHRoZSBmYWN0b3J5IGFuZCB0aGUgcHJvdG90eXBlIHNvIHRoYXQgaXQgY2FuIGJlXG4gIC8vIGVhc2lseSBhY2Nlc3NlZCBvbiBlbGVtZW50cy4gRS5nLiBgPEZvbyAvPi50eXBlID09PSBGb29gLlxuICAvLyBUaGlzIHNob3VsZCBub3QgYmUgbmFtZWQgYGNvbnN0cnVjdG9yYCBzaW5jZSB0aGlzIG1heSBub3QgYmUgdGhlIGZ1bmN0aW9uXG4gIC8vIHRoYXQgY3JlYXRlZCB0aGUgZWxlbWVudCwgYW5kIGl0IG1heSBub3QgZXZlbiBiZSBhIGNvbnN0cnVjdG9yLlxuICAvLyBMZWdhY3kgaG9vayBUT0RPOiBXYXJuIGlmIHRoaXMgaXMgYWNjZXNzZWRcbiAgZmFjdG9yeS50eXBlID0gdHlwZTtcbiAgcmV0dXJuIGZhY3Rvcnk7XG59O1xuXG5SZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlS2V5ID0gZnVuY3Rpb24gKG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudChvbGRFbGVtZW50LnR5cGUsIG5ld0tleSwgb2xkRWxlbWVudC5yZWYsIG9sZEVsZW1lbnQuX3NlbGYsIG9sZEVsZW1lbnQuX3NvdXJjZSwgb2xkRWxlbWVudC5fb3duZXIsIG9sZEVsZW1lbnQucHJvcHMpO1xuXG4gIHJldHVybiBuZXdFbGVtZW50O1xufTtcblxuUmVhY3RFbGVtZW50LmNsb25lQW5kUmVwbGFjZVByb3BzID0gZnVuY3Rpb24gKG9sZEVsZW1lbnQsIG5ld1Byb3BzKSB7XG4gIHZhciBuZXdFbGVtZW50ID0gUmVhY3RFbGVtZW50KG9sZEVsZW1lbnQudHlwZSwgb2xkRWxlbWVudC5rZXksIG9sZEVsZW1lbnQucmVmLCBvbGRFbGVtZW50Ll9zZWxmLCBvbGRFbGVtZW50Ll9zb3VyY2UsIG9sZEVsZW1lbnQuX293bmVyLCBuZXdQcm9wcyk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBJZiB0aGUga2V5IG9uIHRoZSBvcmlnaW5hbCBpcyB2YWxpZCwgdGhlbiB0aGUgY2xvbmUgaXMgdmFsaWRcbiAgICBuZXdFbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSBvbGRFbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQ7XG4gIH1cblxuICByZXR1cm4gbmV3RWxlbWVudDtcbn07XG5cblJlYWN0RWxlbWVudC5jbG9uZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29uZmlnLCBjaGlsZHJlbikge1xuICB2YXIgcHJvcE5hbWU7XG5cbiAgLy8gT3JpZ2luYWwgcHJvcHMgYXJlIGNvcGllZFxuICB2YXIgcHJvcHMgPSBhc3NpZ24oe30sIGVsZW1lbnQucHJvcHMpO1xuXG4gIC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcbiAgdmFyIGtleSA9IGVsZW1lbnQua2V5O1xuICB2YXIgcmVmID0gZWxlbWVudC5yZWY7XG4gIC8vIFNlbGYgaXMgcHJlc2VydmVkIHNpbmNlIHRoZSBvd25lciBpcyBwcmVzZXJ2ZWQuXG4gIHZhciBzZWxmID0gZWxlbWVudC5fc2VsZjtcbiAgLy8gU291cmNlIGlzIHByZXNlcnZlZCBzaW5jZSBjbG9uZUVsZW1lbnQgaXMgdW5saWtlbHkgdG8gYmUgdGFyZ2V0ZWQgYnkgYVxuICAvLyB0cmFuc3BpbGVyLCBhbmQgdGhlIG9yaWdpbmFsIHNvdXJjZSBpcyBwcm9iYWJseSBhIGJldHRlciBpbmRpY2F0b3Igb2YgdGhlXG4gIC8vIHRydWUgb3duZXIuXG4gIHZhciBzb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7XG5cbiAgLy8gT3duZXIgd2lsbCBiZSBwcmVzZXJ2ZWQsIHVubGVzcyByZWYgaXMgb3ZlcnJpZGRlblxuICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcblxuICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICBpZiAoY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBTaWxlbnRseSBzdGVhbCB0aGUgcmVmIGZyb20gdGhlIHBhcmVudC5cbiAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgfVxuICAgIGlmIChjb25maWcua2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG4gICAgLy8gUmVtYWluaW5nIHByb3BlcnRpZXMgb3ZlcnJpZGUgZXhpc3RpbmcgcHJvcHNcbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENoaWxkcmVuIGNhbiBiZSBtb3JlIHRoYW4gb25lIGFyZ3VtZW50LCBhbmQgdGhvc2UgYXJlIHRyYW5zZmVycmVkIG9udG9cbiAgLy8gdGhlIG5ld2x5IGFsbG9jYXRlZCBwcm9wcyBvYmplY3QuXG4gIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgfVxuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdEVsZW1lbnQoZWxlbWVudC50eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIHZhbGlkIGNvbXBvbmVudC5cbiAqIEBmaW5hbFxuICovXG5SZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbiAob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RWxlbWVudDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RQZXJmXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBSZWFjdFBlcmYgaXMgYSBnZW5lcmFsIEFPUCBzeXN0ZW0gZGVzaWduZWQgdG8gbWVhc3VyZSBwZXJmb3JtYW5jZS4gVGhpc1xuICogbW9kdWxlIG9ubHkgaGFzIHRoZSBob29rczogc2VlIFJlYWN0RGVmYXVsdFBlcmYgZm9yIHRoZSBhbmFseXNpcyB0b29sLlxuICovXG52YXIgUmVhY3RQZXJmID0ge1xuICAvKipcbiAgICogQm9vbGVhbiB0byBlbmFibGUvZGlzYWJsZSBtZWFzdXJlbWVudC4gU2V0IHRvIGZhbHNlIGJ5IGRlZmF1bHQgdG8gcHJldmVudFxuICAgKiBhY2NpZGVudGFsIGxvZ2dpbmcgYW5kIHBlcmYgbG9zcy5cbiAgICovXG4gIGVuYWJsZU1lYXN1cmU6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBIb2xkcyBvbnRvIHRoZSBtZWFzdXJlIGZ1bmN0aW9uIGluIHVzZS4gQnkgZGVmYXVsdCwgZG9uJ3QgbWVhc3VyZVxuICAgKiBhbnl0aGluZywgYnV0IHdlJ2xsIG92ZXJyaWRlIHRoaXMgaWYgd2UgaW5qZWN0IGEgbWVhc3VyZSBmdW5jdGlvbi5cbiAgICovXG4gIHN0b3JlZE1lYXN1cmU6IF9ub01lYXN1cmUsXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3RcbiAgICogQHBhcmFtIHtzdHJpbmd9IG9iamVjdE5hbWVcbiAgICogQHBhcmFtIHtvYmplY3Q8c3RyaW5nPn0gbWV0aG9kTmFtZXNcbiAgICovXG4gIG1lYXN1cmVNZXRob2RzOiBmdW5jdGlvbiAob2JqZWN0LCBvYmplY3ROYW1lLCBtZXRob2ROYW1lcykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gbWV0aG9kTmFtZXMpIHtcbiAgICAgICAgaWYgKCFtZXRob2ROYW1lcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0W2tleV0gPSBSZWFjdFBlcmYubWVhc3VyZShvYmplY3ROYW1lLCBtZXRob2ROYW1lc1trZXldLCBvYmplY3Rba2V5XSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBVc2UgdGhpcyB0byB3cmFwIG1ldGhvZHMgeW91IHdhbnQgdG8gbWVhc3VyZS4gWmVybyBvdmVyaGVhZCBpbiBwcm9kdWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gb2JqTmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZm5OYW1lXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmNcbiAgICogQHJldHVybiB7ZnVuY3Rpb259XG4gICAqL1xuICBtZWFzdXJlOiBmdW5jdGlvbiAob2JqTmFtZSwgZm5OYW1lLCBmdW5jKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBtZWFzdXJlZEZ1bmMgPSBudWxsO1xuICAgICAgdmFyIHdyYXBwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChSZWFjdFBlcmYuZW5hYmxlTWVhc3VyZSkge1xuICAgICAgICAgIGlmICghbWVhc3VyZWRGdW5jKSB7XG4gICAgICAgICAgICBtZWFzdXJlZEZ1bmMgPSBSZWFjdFBlcmYuc3RvcmVkTWVhc3VyZShvYmpOYW1lLCBmbk5hbWUsIGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbWVhc3VyZWRGdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICB3cmFwcGVyLmRpc3BsYXlOYW1lID0gb2JqTmFtZSArICdfJyArIGZuTmFtZTtcbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYztcbiAgfSxcblxuICBpbmplY3Rpb246IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtZWFzdXJlXG4gICAgICovXG4gICAgaW5qZWN0TWVhc3VyZTogZnVuY3Rpb24gKG1lYXN1cmUpIHtcbiAgICAgIFJlYWN0UGVyZi5zdG9yZWRNZWFzdXJlID0gbWVhc3VyZTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogU2ltcGx5IHBhc3NlcyB0aHJvdWdoIHRoZSBtZWFzdXJlZCBmdW5jdGlvbiwgd2l0aG91dCBtZWFzdXJpbmcgaXQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG9iak5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBmbk5hbWVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmNcbiAqIEByZXR1cm4ge2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBfbm9NZWFzdXJlKG9iak5hbWUsIGZuTmFtZSwgZnVuYykge1xuICByZXR1cm4gZnVuYztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFBlcmY7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0VXBkYXRlc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIENhbGxiYWNrUXVldWUgPSByZXF1aXJlKCcuL0NhbGxiYWNrUXVldWUnKTtcbnZhciBQb29sZWRDbGFzcyA9IHJlcXVpcmUoJy4vUG9vbGVkQ2xhc3MnKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKCcuL1JlYWN0UGVyZicpO1xudmFyIFJlYWN0UmVjb25jaWxlciA9IHJlcXVpcmUoJy4vUmVhY3RSZWNvbmNpbGVyJyk7XG52YXIgVHJhbnNhY3Rpb24gPSByZXF1aXJlKCcuL1RyYW5zYWN0aW9uJyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxudmFyIGRpcnR5Q29tcG9uZW50cyA9IFtdO1xudmFyIGFzYXBDYWxsYmFja1F1ZXVlID0gQ2FsbGJhY2tRdWV1ZS5nZXRQb29sZWQoKTtcbnZhciBhc2FwRW5xdWV1ZWQgPSBmYWxzZTtcblxudmFyIGJhdGNoaW5nU3RyYXRlZ3kgPSBudWxsO1xuXG5mdW5jdGlvbiBlbnN1cmVJbmplY3RlZCgpIHtcbiAgIShSZWFjdFVwZGF0ZXMuUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbiAmJiBiYXRjaGluZ1N0cmF0ZWd5KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdFVwZGF0ZXM6IG11c3QgaW5qZWN0IGEgcmVjb25jaWxlIHRyYW5zYWN0aW9uIGNsYXNzIGFuZCBiYXRjaGluZyAnICsgJ3N0cmF0ZWd5JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xufVxuXG52YXIgTkVTVEVEX1VQREFURVMgPSB7XG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRpcnR5Q29tcG9uZW50c0xlbmd0aCA9IGRpcnR5Q29tcG9uZW50cy5sZW5ndGg7XG4gIH0sXG4gIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuZGlydHlDb21wb25lbnRzTGVuZ3RoICE9PSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBBZGRpdGlvbmFsIHVwZGF0ZXMgd2VyZSBlbnF1ZXVlZCBieSBjb21wb25lbnREaWRVcGRhdGUgaGFuZGxlcnMgb3JcbiAgICAgIC8vIHNpbWlsYXI7IGJlZm9yZSBvdXIgb3duIFVQREFURV9RVUVVRUlORyB3cmFwcGVyIGNsb3Nlcywgd2Ugd2FudCB0byBydW5cbiAgICAgIC8vIHRoZXNlIG5ldyB1cGRhdGVzIHNvIHRoYXQgaWYgQSdzIGNvbXBvbmVudERpZFVwZGF0ZSBjYWxscyBzZXRTdGF0ZSBvblxuICAgICAgLy8gQiwgQiB3aWxsIHVwZGF0ZSBiZWZvcmUgdGhlIGNhbGxiYWNrIEEncyB1cGRhdGVyIHByb3ZpZGVkIHdoZW4gY2FsbGluZ1xuICAgICAgLy8gc2V0U3RhdGUuXG4gICAgICBkaXJ0eUNvbXBvbmVudHMuc3BsaWNlKDAsIHRoaXMuZGlydHlDb21wb25lbnRzTGVuZ3RoKTtcbiAgICAgIGZsdXNoQmF0Y2hlZFVwZGF0ZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGlydHlDb21wb25lbnRzLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9XG59O1xuXG52YXIgVVBEQVRFX1FVRVVFSU5HID0ge1xuICBpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jYWxsYmFja1F1ZXVlLnJlc2V0KCk7XG4gIH0sXG4gIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5jYWxsYmFja1F1ZXVlLm5vdGlmeUFsbCgpO1xuICB9XG59O1xuXG52YXIgVFJBTlNBQ1RJT05fV1JBUFBFUlMgPSBbTkVTVEVEX1VQREFURVMsIFVQREFURV9RVUVVRUlOR107XG5cbmZ1bmN0aW9uIFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24oKSB7XG4gIHRoaXMucmVpbml0aWFsaXplVHJhbnNhY3Rpb24oKTtcbiAgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGggPSBudWxsO1xuICB0aGlzLmNhbGxiYWNrUXVldWUgPSBDYWxsYmFja1F1ZXVlLmdldFBvb2xlZCgpO1xuICB0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uID0gUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24uZ2V0UG9vbGVkKCAvKiBmb3JjZUhUTUwgKi9mYWxzZSk7XG59XG5cbmFzc2lnbihSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uLnByb3RvdHlwZSwgVHJhbnNhY3Rpb24uTWl4aW4sIHtcbiAgZ2V0VHJhbnNhY3Rpb25XcmFwcGVyczogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBUUkFOU0FDVElPTl9XUkFQUEVSUztcbiAgfSxcblxuICBkZXN0cnVjdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kaXJ0eUNvbXBvbmVudHNMZW5ndGggPSBudWxsO1xuICAgIENhbGxiYWNrUXVldWUucmVsZWFzZSh0aGlzLmNhbGxiYWNrUXVldWUpO1xuICAgIHRoaXMuY2FsbGJhY2tRdWV1ZSA9IG51bGw7XG4gICAgUmVhY3RVcGRhdGVzLlJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24ucmVsZWFzZSh0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uKTtcbiAgICB0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uID0gbnVsbDtcbiAgfSxcblxuICBwZXJmb3JtOiBmdW5jdGlvbiAobWV0aG9kLCBzY29wZSwgYSkge1xuICAgIC8vIEVzc2VudGlhbGx5IGNhbGxzIGB0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uLnBlcmZvcm0obWV0aG9kLCBzY29wZSwgYSlgXG4gICAgLy8gd2l0aCB0aGlzIHRyYW5zYWN0aW9uJ3Mgd3JhcHBlcnMgYXJvdW5kIGl0LlxuICAgIHJldHVybiBUcmFuc2FjdGlvbi5NaXhpbi5wZXJmb3JtLmNhbGwodGhpcywgdGhpcy5yZWNvbmNpbGVUcmFuc2FjdGlvbi5wZXJmb3JtLCB0aGlzLnJlY29uY2lsZVRyYW5zYWN0aW9uLCBtZXRob2QsIHNjb3BlLCBhKTtcbiAgfVxufSk7XG5cblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uKTtcblxuZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMoY2FsbGJhY2ssIGEsIGIsIGMsIGQsIGUpIHtcbiAgZW5zdXJlSW5qZWN0ZWQoKTtcbiAgYmF0Y2hpbmdTdHJhdGVneS5iYXRjaGVkVXBkYXRlcyhjYWxsYmFjaywgYSwgYiwgYywgZCwgZSk7XG59XG5cbi8qKlxuICogQXJyYXkgY29tcGFyYXRvciBmb3IgUmVhY3RDb21wb25lbnRzIGJ5IG1vdW50IG9yZGVyaW5nLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGMxIGZpcnN0IGNvbXBvbmVudCB5b3UncmUgY29tcGFyaW5nXG4gKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBjMiBzZWNvbmQgY29tcG9uZW50IHlvdSdyZSBjb21wYXJpbmdcbiAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJuIHZhbHVlIHVzYWJsZSBieSBBcnJheS5wcm90b3R5cGUuc29ydCgpLlxuICovXG5mdW5jdGlvbiBtb3VudE9yZGVyQ29tcGFyYXRvcihjMSwgYzIpIHtcbiAgcmV0dXJuIGMxLl9tb3VudE9yZGVyIC0gYzIuX21vdW50T3JkZXI7XG59XG5cbmZ1bmN0aW9uIHJ1bkJhdGNoZWRVcGRhdGVzKHRyYW5zYWN0aW9uKSB7XG4gIHZhciBsZW4gPSB0cmFuc2FjdGlvbi5kaXJ0eUNvbXBvbmVudHNMZW5ndGg7XG4gICEobGVuID09PSBkaXJ0eUNvbXBvbmVudHMubGVuZ3RoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBmbHVzaCB0cmFuc2FjdGlvblxcJ3Mgc3RvcmVkIGRpcnR5LWNvbXBvbmVudHMgbGVuZ3RoICglcykgdG8gJyArICdtYXRjaCBkaXJ0eS1jb21wb25lbnRzIGFycmF5IGxlbmd0aCAoJXMpLicsIGxlbiwgZGlydHlDb21wb25lbnRzLmxlbmd0aCkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gIC8vIFNpbmNlIHJlY29uY2lsaW5nIGEgY29tcG9uZW50IGhpZ2hlciBpbiB0aGUgb3duZXIgaGllcmFyY2h5IHVzdWFsbHkgKG5vdFxuICAvLyBhbHdheXMgLS0gc2VlIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpKSB3aWxsIHJlY29uY2lsZSBjaGlsZHJlbiwgcmVjb25jaWxlXG4gIC8vIHRoZW0gYmVmb3JlIHRoZWlyIGNoaWxkcmVuIGJ5IHNvcnRpbmcgdGhlIGFycmF5LlxuICBkaXJ0eUNvbXBvbmVudHMuc29ydChtb3VudE9yZGVyQ29tcGFyYXRvcik7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIC8vIElmIGEgY29tcG9uZW50IGlzIHVubW91bnRlZCBiZWZvcmUgcGVuZGluZyBjaGFuZ2VzIGFwcGx5LCBpdCB3aWxsIHN0aWxsXG4gICAgLy8gYmUgaGVyZSwgYnV0IHdlIGFzc3VtZSB0aGF0IGl0IGhhcyBjbGVhcmVkIGl0cyBfcGVuZGluZ0NhbGxiYWNrcyBhbmRcbiAgICAvLyB0aGF0IHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeSBpcyBhIG5vb3AuXG4gICAgdmFyIGNvbXBvbmVudCA9IGRpcnR5Q29tcG9uZW50c1tpXTtcblxuICAgIC8vIElmIHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeSBoYXBwZW5zIHRvIGVucXVldWUgYW55IG5ldyB1cGRhdGVzLCB3ZVxuICAgIC8vIHNob3VsZG4ndCBleGVjdXRlIHRoZSBjYWxsYmFja3MgdW50aWwgdGhlIG5leHQgcmVuZGVyIGhhcHBlbnMsIHNvXG4gICAgLy8gc3Rhc2ggdGhlIGNhbGxiYWNrcyBmaXJzdFxuICAgIHZhciBjYWxsYmFja3MgPSBjb21wb25lbnQuX3BlbmRpbmdDYWxsYmFja3M7XG4gICAgY29tcG9uZW50Ll9wZW5kaW5nQ2FsbGJhY2tzID0gbnVsbDtcblxuICAgIFJlYWN0UmVjb25jaWxlci5wZXJmb3JtVXBkYXRlSWZOZWNlc3NhcnkoY29tcG9uZW50LCB0cmFuc2FjdGlvbi5yZWNvbmNpbGVUcmFuc2FjdGlvbik7XG5cbiAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNhbGxiYWNrcy5sZW5ndGg7IGorKykge1xuICAgICAgICB0cmFuc2FjdGlvbi5jYWxsYmFja1F1ZXVlLmVucXVldWUoY2FsbGJhY2tzW2pdLCBjb21wb25lbnQuZ2V0UHVibGljSW5zdGFuY2UoKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnZhciBmbHVzaEJhdGNoZWRVcGRhdGVzID0gZnVuY3Rpb24gKCkge1xuICAvLyBSZWFjdFVwZGF0ZXNGbHVzaFRyYW5zYWN0aW9uJ3Mgd3JhcHBlcnMgd2lsbCBjbGVhciB0aGUgZGlydHlDb21wb25lbnRzXG4gIC8vIGFycmF5IGFuZCBwZXJmb3JtIGFueSB1cGRhdGVzIGVucXVldWVkIGJ5IG1vdW50LXJlYWR5IGhhbmRsZXJzIChpLmUuLFxuICAvLyBjb21wb25lbnREaWRVcGRhdGUpIGJ1dCB3ZSBuZWVkIHRvIGNoZWNrIGhlcmUgdG9vIGluIG9yZGVyIHRvIGNhdGNoXG4gIC8vIHVwZGF0ZXMgZW5xdWV1ZWQgYnkgc2V0U3RhdGUgY2FsbGJhY2tzIGFuZCBhc2FwIGNhbGxzLlxuICB3aGlsZSAoZGlydHlDb21wb25lbnRzLmxlbmd0aCB8fCBhc2FwRW5xdWV1ZWQpIHtcbiAgICBpZiAoZGlydHlDb21wb25lbnRzLmxlbmd0aCkge1xuICAgICAgdmFyIHRyYW5zYWN0aW9uID0gUmVhY3RVcGRhdGVzRmx1c2hUcmFuc2FjdGlvbi5nZXRQb29sZWQoKTtcbiAgICAgIHRyYW5zYWN0aW9uLnBlcmZvcm0ocnVuQmF0Y2hlZFVwZGF0ZXMsIG51bGwsIHRyYW5zYWN0aW9uKTtcbiAgICAgIFJlYWN0VXBkYXRlc0ZsdXNoVHJhbnNhY3Rpb24ucmVsZWFzZSh0cmFuc2FjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGFzYXBFbnF1ZXVlZCkge1xuICAgICAgYXNhcEVucXVldWVkID0gZmFsc2U7XG4gICAgICB2YXIgcXVldWUgPSBhc2FwQ2FsbGJhY2tRdWV1ZTtcbiAgICAgIGFzYXBDYWxsYmFja1F1ZXVlID0gQ2FsbGJhY2tRdWV1ZS5nZXRQb29sZWQoKTtcbiAgICAgIHF1ZXVlLm5vdGlmeUFsbCgpO1xuICAgICAgQ2FsbGJhY2tRdWV1ZS5yZWxlYXNlKHF1ZXVlKTtcbiAgICB9XG4gIH1cbn07XG5mbHVzaEJhdGNoZWRVcGRhdGVzID0gUmVhY3RQZXJmLm1lYXN1cmUoJ1JlYWN0VXBkYXRlcycsICdmbHVzaEJhdGNoZWRVcGRhdGVzJywgZmx1c2hCYXRjaGVkVXBkYXRlcyk7XG5cbi8qKlxuICogTWFyayBhIGNvbXBvbmVudCBhcyBuZWVkaW5nIGEgcmVyZW5kZXIsIGFkZGluZyBhbiBvcHRpb25hbCBjYWxsYmFjayB0byBhXG4gKiBsaXN0IG9mIGZ1bmN0aW9ucyB3aGljaCB3aWxsIGJlIGV4ZWN1dGVkIG9uY2UgdGhlIHJlcmVuZGVyIG9jY3Vycy5cbiAqL1xuZnVuY3Rpb24gZW5xdWV1ZVVwZGF0ZShjb21wb25lbnQpIHtcbiAgZW5zdXJlSW5qZWN0ZWQoKTtcblxuICAvLyBWYXJpb3VzIHBhcnRzIG9mIG91ciBjb2RlIChzdWNoIGFzIFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50J3NcbiAgLy8gX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudCkgYXNzdW1lIHRoYXQgY2FsbHMgdG8gcmVuZGVyIGFyZW4ndCBuZXN0ZWQ7XG4gIC8vIHZlcmlmeSB0aGF0IHRoYXQncyB0aGUgY2FzZS4gKFRoaXMgaXMgY2FsbGVkIGJ5IGVhY2ggdG9wLWxldmVsIHVwZGF0ZVxuICAvLyBmdW5jdGlvbiwgbGlrZSBzZXRQcm9wcywgc2V0U3RhdGUsIGZvcmNlVXBkYXRlLCBldGMuOyBjcmVhdGlvbiBhbmRcbiAgLy8gZGVzdHJ1Y3Rpb24gb2YgdG9wLWxldmVsIGNvbXBvbmVudHMgaXMgZ3VhcmRlZCBpbiBSZWFjdE1vdW50LilcblxuICBpZiAoIWJhdGNoaW5nU3RyYXRlZ3kuaXNCYXRjaGluZ1VwZGF0ZXMpIHtcbiAgICBiYXRjaGluZ1N0cmF0ZWd5LmJhdGNoZWRVcGRhdGVzKGVucXVldWVVcGRhdGUsIGNvbXBvbmVudCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZGlydHlDb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbn1cblxuLyoqXG4gKiBFbnF1ZXVlIGEgY2FsbGJhY2sgdG8gYmUgcnVuIGF0IHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgYmF0Y2hpbmcgY3ljbGUuIFRocm93c1xuICogaWYgbm8gdXBkYXRlcyBhcmUgY3VycmVudGx5IGJlaW5nIHBlcmZvcm1lZC5cbiAqL1xuZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgY29udGV4dCkge1xuICAhYmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdFVwZGF0ZXMuYXNhcDogQ2FuXFwndCBlbnF1ZXVlIGFuIGFzYXAgY2FsbGJhY2sgaW4gYSBjb250ZXh0IHdoZXJlJyArICd1cGRhdGVzIGFyZSBub3QgYmVpbmcgYmF0Y2hlZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIGFzYXBDYWxsYmFja1F1ZXVlLmVucXVldWUoY2FsbGJhY2ssIGNvbnRleHQpO1xuICBhc2FwRW5xdWV1ZWQgPSB0cnVlO1xufVxuXG52YXIgUmVhY3RVcGRhdGVzSW5qZWN0aW9uID0ge1xuICBpbmplY3RSZWNvbmNpbGVUcmFuc2FjdGlvbjogZnVuY3Rpb24gKFJlY29uY2lsZVRyYW5zYWN0aW9uKSB7XG4gICAgIVJlY29uY2lsZVRyYW5zYWN0aW9uID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGEgcmVjb25jaWxlIHRyYW5zYWN0aW9uIGNsYXNzJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIFJlYWN0VXBkYXRlcy5SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uID0gUmVjb25jaWxlVHJhbnNhY3Rpb247XG4gIH0sXG5cbiAgaW5qZWN0QmF0Y2hpbmdTdHJhdGVneTogZnVuY3Rpb24gKF9iYXRjaGluZ1N0cmF0ZWd5KSB7XG4gICAgIV9iYXRjaGluZ1N0cmF0ZWd5ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGEgYmF0Y2hpbmcgc3RyYXRlZ3knKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgISh0eXBlb2YgX2JhdGNoaW5nU3RyYXRlZ3kuYmF0Y2hlZFVwZGF0ZXMgPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0VXBkYXRlczogbXVzdCBwcm92aWRlIGEgYmF0Y2hlZFVwZGF0ZXMoKSBmdW5jdGlvbicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAhKHR5cGVvZiBfYmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcyA9PT0gJ2Jvb2xlYW4nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdFVwZGF0ZXM6IG11c3QgcHJvdmlkZSBhbiBpc0JhdGNoaW5nVXBkYXRlcyBib29sZWFuIGF0dHJpYnV0ZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICBiYXRjaGluZ1N0cmF0ZWd5ID0gX2JhdGNoaW5nU3RyYXRlZ3k7XG4gIH1cbn07XG5cbnZhciBSZWFjdFVwZGF0ZXMgPSB7XG4gIC8qKlxuICAgKiBSZWFjdCByZWZlcmVuY2VzIGBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uYCB1c2luZyB0aGlzIHByb3BlcnR5IGluIG9yZGVyXG4gICAqIHRvIGFsbG93IGRlcGVuZGVuY3kgaW5qZWN0aW9uLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb246IG51bGwsXG5cbiAgYmF0Y2hlZFVwZGF0ZXM6IGJhdGNoZWRVcGRhdGVzLFxuICBlbnF1ZXVlVXBkYXRlOiBlbnF1ZXVlVXBkYXRlLFxuICBmbHVzaEJhdGNoZWRVcGRhdGVzOiBmbHVzaEJhdGNoZWRVcGRhdGVzLFxuICBpbmplY3Rpb246IFJlYWN0VXBkYXRlc0luamVjdGlvbixcbiAgYXNhcDogYXNhcFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFVwZGF0ZXM7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGVtcHR5RnVuY3Rpb25cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gbWFrZUVtcHR5RnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW5kIGRpc2NhcmRzIGlucHV0czsgaXQgaGFzIG5vIHNpZGUgZWZmZWN0cy4gVGhpcyBpc1xuICogcHJpbWFyaWx5IHVzZWZ1bCBpZGlvbWF0aWNhbGx5IGZvciBvdmVycmlkYWJsZSBmdW5jdGlvbiBlbmRwb2ludHMgd2hpY2hcbiAqIGFsd2F5cyBuZWVkIHRvIGJlIGNhbGxhYmxlLCBzaW5jZSBKUyBsYWNrcyBhIG51bGwtY2FsbCBpZGlvbSBhbGEgQ29jb2EuXG4gKi9cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuXG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zID0gbWFrZUVtcHR5RnVuY3Rpb247XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UgPSBtYWtlRW1wdHlGdW5jdGlvbihmYWxzZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKHRydWUpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwgPSBtYWtlRW1wdHlGdW5jdGlvbihudWxsKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUaGlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zQXJndW1lbnQgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVtcHR5RnVuY3Rpb247IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0Q3VycmVudE93bmVyXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHRoZSBjdXJyZW50IG93bmVyLlxuICpcbiAqIFRoZSBjdXJyZW50IG93bmVyIGlzIHRoZSBjb21wb25lbnQgd2hvIHNob3VsZCBvd24gYW55IGNvbXBvbmVudHMgdGhhdCBhcmVcbiAqIGN1cnJlbnRseSBiZWluZyBjb25zdHJ1Y3RlZC5cbiAqL1xudmFyIFJlYWN0Q3VycmVudE93bmVyID0ge1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHR5cGUge1JlYWN0Q29tcG9uZW50fVxuICAgKi9cbiAgY3VycmVudDogbnVsbFxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q3VycmVudE93bmVyOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBFdmVudENvbnN0YW50c1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGtleU1pcnJvciA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU1pcnJvcicpO1xuXG52YXIgUHJvcGFnYXRpb25QaGFzZXMgPSBrZXlNaXJyb3IoeyBidWJibGVkOiBudWxsLCBjYXB0dXJlZDogbnVsbCB9KTtcblxuLyoqXG4gKiBUeXBlcyBvZiByYXcgc2lnbmFscyBmcm9tIHRoZSBicm93c2VyIGNhdWdodCBhdCB0aGUgdG9wIGxldmVsLlxuICovXG52YXIgdG9wTGV2ZWxUeXBlcyA9IGtleU1pcnJvcih7XG4gIHRvcEFib3J0OiBudWxsLFxuICB0b3BCbHVyOiBudWxsLFxuICB0b3BDYW5QbGF5OiBudWxsLFxuICB0b3BDYW5QbGF5VGhyb3VnaDogbnVsbCxcbiAgdG9wQ2hhbmdlOiBudWxsLFxuICB0b3BDbGljazogbnVsbCxcbiAgdG9wQ29tcG9zaXRpb25FbmQ6IG51bGwsXG4gIHRvcENvbXBvc2l0aW9uU3RhcnQ6IG51bGwsXG4gIHRvcENvbXBvc2l0aW9uVXBkYXRlOiBudWxsLFxuICB0b3BDb250ZXh0TWVudTogbnVsbCxcbiAgdG9wQ29weTogbnVsbCxcbiAgdG9wQ3V0OiBudWxsLFxuICB0b3BEb3VibGVDbGljazogbnVsbCxcbiAgdG9wRHJhZzogbnVsbCxcbiAgdG9wRHJhZ0VuZDogbnVsbCxcbiAgdG9wRHJhZ0VudGVyOiBudWxsLFxuICB0b3BEcmFnRXhpdDogbnVsbCxcbiAgdG9wRHJhZ0xlYXZlOiBudWxsLFxuICB0b3BEcmFnT3ZlcjogbnVsbCxcbiAgdG9wRHJhZ1N0YXJ0OiBudWxsLFxuICB0b3BEcm9wOiBudWxsLFxuICB0b3BEdXJhdGlvbkNoYW5nZTogbnVsbCxcbiAgdG9wRW1wdGllZDogbnVsbCxcbiAgdG9wRW5jcnlwdGVkOiBudWxsLFxuICB0b3BFbmRlZDogbnVsbCxcbiAgdG9wRXJyb3I6IG51bGwsXG4gIHRvcEZvY3VzOiBudWxsLFxuICB0b3BJbnB1dDogbnVsbCxcbiAgdG9wS2V5RG93bjogbnVsbCxcbiAgdG9wS2V5UHJlc3M6IG51bGwsXG4gIHRvcEtleVVwOiBudWxsLFxuICB0b3BMb2FkOiBudWxsLFxuICB0b3BMb2FkZWREYXRhOiBudWxsLFxuICB0b3BMb2FkZWRNZXRhZGF0YTogbnVsbCxcbiAgdG9wTG9hZFN0YXJ0OiBudWxsLFxuICB0b3BNb3VzZURvd246IG51bGwsXG4gIHRvcE1vdXNlTW92ZTogbnVsbCxcbiAgdG9wTW91c2VPdXQ6IG51bGwsXG4gIHRvcE1vdXNlT3ZlcjogbnVsbCxcbiAgdG9wTW91c2VVcDogbnVsbCxcbiAgdG9wUGFzdGU6IG51bGwsXG4gIHRvcFBhdXNlOiBudWxsLFxuICB0b3BQbGF5OiBudWxsLFxuICB0b3BQbGF5aW5nOiBudWxsLFxuICB0b3BQcm9ncmVzczogbnVsbCxcbiAgdG9wUmF0ZUNoYW5nZTogbnVsbCxcbiAgdG9wUmVzZXQ6IG51bGwsXG4gIHRvcFNjcm9sbDogbnVsbCxcbiAgdG9wU2Vla2VkOiBudWxsLFxuICB0b3BTZWVraW5nOiBudWxsLFxuICB0b3BTZWxlY3Rpb25DaGFuZ2U6IG51bGwsXG4gIHRvcFN0YWxsZWQ6IG51bGwsXG4gIHRvcFN1Ym1pdDogbnVsbCxcbiAgdG9wU3VzcGVuZDogbnVsbCxcbiAgdG9wVGV4dElucHV0OiBudWxsLFxuICB0b3BUaW1lVXBkYXRlOiBudWxsLFxuICB0b3BUb3VjaENhbmNlbDogbnVsbCxcbiAgdG9wVG91Y2hFbmQ6IG51bGwsXG4gIHRvcFRvdWNoTW92ZTogbnVsbCxcbiAgdG9wVG91Y2hTdGFydDogbnVsbCxcbiAgdG9wVm9sdW1lQ2hhbmdlOiBudWxsLFxuICB0b3BXYWl0aW5nOiBudWxsLFxuICB0b3BXaGVlbDogbnVsbFxufSk7XG5cbnZhciBFdmVudENvbnN0YW50cyA9IHtcbiAgdG9wTGV2ZWxUeXBlczogdG9wTGV2ZWxUeXBlcyxcbiAgUHJvcGFnYXRpb25QaGFzZXM6IFByb3BhZ2F0aW9uUGhhc2VzXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50Q29uc3RhbnRzOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBQb29sZWRDbGFzc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuXG4vKipcbiAqIFN0YXRpYyBwb29sZXJzLiBTZXZlcmFsIGN1c3RvbSB2ZXJzaW9ucyBmb3IgZWFjaCBwb3RlbnRpYWwgbnVtYmVyIG9mXG4gKiBhcmd1bWVudHMuIEEgY29tcGxldGVseSBnZW5lcmljIHBvb2xlciBpcyBlYXN5IHRvIGltcGxlbWVudCwgYnV0IHdvdWxkXG4gKiByZXF1aXJlIGFjY2Vzc2luZyB0aGUgYGFyZ3VtZW50c2Agb2JqZWN0LiBJbiBlYWNoIG9mIHRoZXNlLCBgdGhpc2AgcmVmZXJzIHRvXG4gKiB0aGUgQ2xhc3MgaXRzZWxmLCBub3QgYW4gaW5zdGFuY2UuIElmIGFueSBvdGhlcnMgYXJlIG5lZWRlZCwgc2ltcGx5IGFkZCB0aGVtXG4gKiBoZXJlLCBvciBpbiB0aGVpciBvd24gZmlsZXMuXG4gKi9cbnZhciBvbmVBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uIChjb3B5RmllbGRzRnJvbSkge1xuICB2YXIgS2xhc3MgPSB0aGlzO1xuICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBjb3B5RmllbGRzRnJvbSk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgS2xhc3MoY29weUZpZWxkc0Zyb20pO1xuICB9XG59O1xuXG52YXIgdHdvQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbiAoYTEsIGEyKSB7XG4gIHZhciBLbGFzcyA9IHRoaXM7XG4gIGlmIChLbGFzcy5pbnN0YW5jZVBvb2wubGVuZ3RoKSB7XG4gICAgdmFyIGluc3RhbmNlID0gS2xhc3MuaW5zdGFuY2VQb29sLnBvcCgpO1xuICAgIEtsYXNzLmNhbGwoaW5zdGFuY2UsIGExLCBhMik7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgS2xhc3MoYTEsIGEyKTtcbiAgfVxufTtcblxudmFyIHRocmVlQXJndW1lbnRQb29sZXIgPSBmdW5jdGlvbiAoYTEsIGEyLCBhMykge1xuICB2YXIgS2xhc3MgPSB0aGlzO1xuICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBLbGFzcyhhMSwgYTIsIGEzKTtcbiAgfVxufTtcblxudmFyIGZvdXJBcmd1bWVudFBvb2xlciA9IGZ1bmN0aW9uIChhMSwgYTIsIGEzLCBhNCkge1xuICB2YXIgS2xhc3MgPSB0aGlzO1xuICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzLCBhNCk7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgS2xhc3MoYTEsIGEyLCBhMywgYTQpO1xuICB9XG59O1xuXG52YXIgZml2ZUFyZ3VtZW50UG9vbGVyID0gZnVuY3Rpb24gKGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgS2xhc3MgPSB0aGlzO1xuICBpZiAoS2xhc3MuaW5zdGFuY2VQb29sLmxlbmd0aCkge1xuICAgIHZhciBpbnN0YW5jZSA9IEtsYXNzLmluc3RhbmNlUG9vbC5wb3AoKTtcbiAgICBLbGFzcy5jYWxsKGluc3RhbmNlLCBhMSwgYTIsIGEzLCBhNCwgYTUpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IEtsYXNzKGExLCBhMiwgYTMsIGE0LCBhNSk7XG4gIH1cbn07XG5cbnZhciBzdGFuZGFyZFJlbGVhc2VyID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gIHZhciBLbGFzcyA9IHRoaXM7XG4gICEoaW5zdGFuY2UgaW5zdGFuY2VvZiBLbGFzcykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVHJ5aW5nIHRvIHJlbGVhc2UgYW4gaW5zdGFuY2UgaW50byBhIHBvb2wgb2YgYSBkaWZmZXJlbnQgdHlwZS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIGluc3RhbmNlLmRlc3RydWN0b3IoKTtcbiAgaWYgKEtsYXNzLmluc3RhbmNlUG9vbC5sZW5ndGggPCBLbGFzcy5wb29sU2l6ZSkge1xuICAgIEtsYXNzLmluc3RhbmNlUG9vbC5wdXNoKGluc3RhbmNlKTtcbiAgfVxufTtcblxudmFyIERFRkFVTFRfUE9PTF9TSVpFID0gMTA7XG52YXIgREVGQVVMVF9QT09MRVIgPSBvbmVBcmd1bWVudFBvb2xlcjtcblxuLyoqXG4gKiBBdWdtZW50cyBgQ29weUNvbnN0cnVjdG9yYCB0byBiZSBhIHBvb2xhYmxlIGNsYXNzLCBhdWdtZW50aW5nIG9ubHkgdGhlIGNsYXNzXG4gKiBpdHNlbGYgKHN0YXRpY2FsbHkpIG5vdCBhZGRpbmcgYW55IHByb3RvdHlwaWNhbCBmaWVsZHMuIEFueSBDb3B5Q29uc3RydWN0b3JcbiAqIHlvdSBnaXZlIHRoaXMgbWF5IGhhdmUgYSBgcG9vbFNpemVgIHByb3BlcnR5LCBhbmQgd2lsbCBsb29rIGZvciBhXG4gKiBwcm90b3R5cGljYWwgYGRlc3RydWN0b3JgIG9uIGluc3RhbmNlcyAob3B0aW9uYWwpLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IENvcHlDb25zdHJ1Y3RvciBDb25zdHJ1Y3RvciB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlc2V0LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcG9vbGVyIEN1c3RvbWl6YWJsZSBwb29sZXIuXG4gKi9cbnZhciBhZGRQb29saW5nVG8gPSBmdW5jdGlvbiAoQ29weUNvbnN0cnVjdG9yLCBwb29sZXIpIHtcbiAgdmFyIE5ld0tsYXNzID0gQ29weUNvbnN0cnVjdG9yO1xuICBOZXdLbGFzcy5pbnN0YW5jZVBvb2wgPSBbXTtcbiAgTmV3S2xhc3MuZ2V0UG9vbGVkID0gcG9vbGVyIHx8IERFRkFVTFRfUE9PTEVSO1xuICBpZiAoIU5ld0tsYXNzLnBvb2xTaXplKSB7XG4gICAgTmV3S2xhc3MucG9vbFNpemUgPSBERUZBVUxUX1BPT0xfU0laRTtcbiAgfVxuICBOZXdLbGFzcy5yZWxlYXNlID0gc3RhbmRhcmRSZWxlYXNlcjtcbiAgcmV0dXJuIE5ld0tsYXNzO1xufTtcblxudmFyIFBvb2xlZENsYXNzID0ge1xuICBhZGRQb29saW5nVG86IGFkZFBvb2xpbmdUbyxcbiAgb25lQXJndW1lbnRQb29sZXI6IG9uZUFyZ3VtZW50UG9vbGVyLFxuICB0d29Bcmd1bWVudFBvb2xlcjogdHdvQXJndW1lbnRQb29sZXIsXG4gIHRocmVlQXJndW1lbnRQb29sZXI6IHRocmVlQXJndW1lbnRQb29sZXIsXG4gIGZvdXJBcmd1bWVudFBvb2xlcjogZm91ckFyZ3VtZW50UG9vbGVyLFxuICBmaXZlQXJndW1lbnRQb29sZXI6IGZpdmVBcmd1bWVudFBvb2xlclxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBQb29sZWRDbGFzczsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUga2V5T2ZcbiAqL1xuXG4vKipcbiAqIEFsbG93cyBleHRyYWN0aW9uIG9mIGEgbWluaWZpZWQga2V5LiBMZXQncyB0aGUgYnVpbGQgc3lzdGVtIG1pbmlmeSBrZXlzXG4gKiB3aXRob3V0IGxvc2luZyB0aGUgYWJpbGl0eSB0byBkeW5hbWljYWxseSB1c2Uga2V5IHN0cmluZ3MgYXMgdmFsdWVzXG4gKiB0aGVtc2VsdmVzLiBQYXNzIGluIGFuIG9iamVjdCB3aXRoIGEgc2luZ2xlIGtleS92YWwgcGFpciBhbmQgaXQgd2lsbCByZXR1cm5cbiAqIHlvdSB0aGUgc3RyaW5nIGtleSBvZiB0aGF0IHNpbmdsZSByZWNvcmQuIFN1cHBvc2UgeW91IHdhbnQgdG8gZ3JhYiB0aGVcbiAqIHZhbHVlIGZvciBhIGtleSAnY2xhc3NOYW1lJyBpbnNpZGUgb2YgYW4gb2JqZWN0LiBLZXkvdmFsIG1pbmlmaWNhdGlvbiBtYXlcbiAqIGhhdmUgYWxpYXNlZCB0aGF0IGtleSB0byBiZSAneGExMicuIGtleU9mKHtjbGFzc05hbWU6IG51bGx9KSB3aWxsIHJldHVyblxuICogJ3hhMTInIGluIHRoYXQgY2FzZS4gUmVzb2x2ZSBrZXlzIHlvdSB3YW50IHRvIHVzZSBvbmNlIGF0IHN0YXJ0dXAgdGltZSwgdGhlblxuICogcmV1c2UgdGhvc2UgcmVzb2x1dGlvbnMuXG4gKi9cblwidXNlIHN0cmljdFwiO1xuXG52YXIga2V5T2YgPSBmdW5jdGlvbiAob25lS2V5T2JqKSB7XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIG9uZUtleU9iaikge1xuICAgIGlmICghb25lS2V5T2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlPZjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RSZWNvbmNpbGVyXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RSZWYgPSByZXF1aXJlKCcuL1JlYWN0UmVmJyk7XG5cbi8qKlxuICogSGVscGVyIHRvIGNhbGwgUmVhY3RSZWYuYXR0YWNoUmVmcyB3aXRoIHRoaXMgY29tcG9zaXRlIGNvbXBvbmVudCwgc3BsaXQgb3V0XG4gKiB0byBhdm9pZCBhbGxvY2F0aW9ucyBpbiB0aGUgdHJhbnNhY3Rpb24gbW91bnQtcmVhZHkgcXVldWUuXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaFJlZnMoKSB7XG4gIFJlYWN0UmVmLmF0dGFjaFJlZnModGhpcywgdGhpcy5fY3VycmVudEVsZW1lbnQpO1xufVxuXG52YXIgUmVhY3RSZWNvbmNpbGVyID0ge1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgY29tcG9uZW50LCByZW5kZXJzIG1hcmt1cCwgYW5kIHJlZ2lzdGVycyBldmVudCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGludGVybmFsSW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJvb3RJRCBET00gSUQgb2YgdGhlIHJvb3Qgbm9kZS5cbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEByZXR1cm4gez9zdHJpbmd9IFJlbmRlcmVkIG1hcmt1cCB0byBiZSBpbnNlcnRlZCBpbnRvIHRoZSBET00uXG4gICAqIEBmaW5hbFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbiAoaW50ZXJuYWxJbnN0YW5jZSwgcm9vdElELCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgIHZhciBtYXJrdXAgPSBpbnRlcm5hbEluc3RhbmNlLm1vdW50Q29tcG9uZW50KHJvb3RJRCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudCAmJiBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudC5yZWYgIT0gbnVsbCkge1xuICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShhdHRhY2hSZWZzLCBpbnRlcm5hbEluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcmt1cDtcbiAgfSxcblxuICAvKipcbiAgICogUmVsZWFzZXMgYW55IHJlc291cmNlcyBhbGxvY2F0ZWQgYnkgYG1vdW50Q29tcG9uZW50YC5cbiAgICpcbiAgICogQGZpbmFsXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24gKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICBSZWFjdFJlZi5kZXRhY2hSZWZzKGludGVybmFsSW5zdGFuY2UsIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50KTtcbiAgICBpbnRlcm5hbEluc3RhbmNlLnVubW91bnRDb21wb25lbnQoKTtcbiAgfSxcblxuICAvKipcbiAgICogVXBkYXRlIGEgY29tcG9uZW50IHVzaW5nIGEgbmV3IGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGludGVybmFsSW5zdGFuY2VcbiAgICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IG5leHRFbGVtZW50XG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHRcbiAgICogQGludGVybmFsXG4gICAqL1xuICByZWNlaXZlQ29tcG9uZW50OiBmdW5jdGlvbiAoaW50ZXJuYWxJbnN0YW5jZSwgbmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgdmFyIHByZXZFbGVtZW50ID0gaW50ZXJuYWxJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQ7XG5cbiAgICBpZiAobmV4dEVsZW1lbnQgPT09IHByZXZFbGVtZW50ICYmIGNvbnRleHQgPT09IGludGVybmFsSW5zdGFuY2UuX2NvbnRleHQpIHtcbiAgICAgIC8vIFNpbmNlIGVsZW1lbnRzIGFyZSBpbW11dGFibGUgYWZ0ZXIgdGhlIG93bmVyIGlzIHJlbmRlcmVkLFxuICAgICAgLy8gd2UgY2FuIGRvIGEgY2hlYXAgaWRlbnRpdHkgY29tcGFyZSBoZXJlIHRvIGRldGVybWluZSBpZiB0aGlzIGlzIGFcbiAgICAgIC8vIHN1cGVyZmx1b3VzIHJlY29uY2lsZS4gSXQncyBwb3NzaWJsZSBmb3Igc3RhdGUgdG8gYmUgbXV0YWJsZSBidXQgc3VjaFxuICAgICAgLy8gY2hhbmdlIHNob3VsZCB0cmlnZ2VyIGFuIHVwZGF0ZSBvZiB0aGUgb3duZXIgd2hpY2ggd291bGQgcmVjcmVhdGVcbiAgICAgIC8vIHRoZSBlbGVtZW50LiBXZSBleHBsaWNpdGx5IGNoZWNrIGZvciB0aGUgZXhpc3RlbmNlIG9mIGFuIG93bmVyIHNpbmNlXG4gICAgICAvLyBpdCdzIHBvc3NpYmxlIGZvciBhbiBlbGVtZW50IGNyZWF0ZWQgb3V0c2lkZSBhIGNvbXBvc2l0ZSB0byBiZVxuICAgICAgLy8gZGVlcGx5IG11dGF0ZWQgYW5kIHJldXNlZC5cblxuICAgICAgLy8gVE9ETzogQmFpbGluZyBvdXQgZWFybHkgaXMganVzdCBhIHBlcmYgb3B0aW1pemF0aW9uIHJpZ2h0P1xuICAgICAgLy8gVE9ETzogUmVtb3ZpbmcgdGhlIHJldHVybiBzdGF0ZW1lbnQgc2hvdWxkIGFmZmVjdCBjb3JyZWN0bmVzcz9cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcmVmc0NoYW5nZWQgPSBSZWFjdFJlZi5zaG91bGRVcGRhdGVSZWZzKHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCk7XG5cbiAgICBpZiAocmVmc0NoYW5nZWQpIHtcbiAgICAgIFJlYWN0UmVmLmRldGFjaFJlZnMoaW50ZXJuYWxJbnN0YW5jZSwgcHJldkVsZW1lbnQpO1xuICAgIH1cblxuICAgIGludGVybmFsSW5zdGFuY2UucmVjZWl2ZUNvbXBvbmVudChuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuXG4gICAgaWYgKHJlZnNDaGFuZ2VkICYmIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50ICYmIGludGVybmFsSW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50LnJlZiAhPSBudWxsKSB7XG4gICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGF0dGFjaFJlZnMsIGludGVybmFsSW5zdGFuY2UpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRmx1c2ggYW55IGRpcnR5IGNoYW5nZXMgaW4gYSBjb21wb25lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGludGVybmFsSW5zdGFuY2VcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeTogZnVuY3Rpb24gKGludGVybmFsSW5zdGFuY2UsIHRyYW5zYWN0aW9uKSB7XG4gICAgaW50ZXJuYWxJbnN0YW5jZS5wZXJmb3JtVXBkYXRlSWZOZWNlc3NhcnkodHJhbnNhY3Rpb24pO1xuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RSZWNvbmNpbGVyOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTeW50aGV0aWNFdmVudFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBQb29sZWRDbGFzcyA9IHJlcXVpcmUoJy4vUG9vbGVkQ2xhc3MnKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIEV2ZW50SW50ZXJmYWNlID0ge1xuICB0eXBlOiBudWxsLFxuICB0YXJnZXQ6IG51bGwsXG4gIC8vIGN1cnJlbnRUYXJnZXQgaXMgc2V0IHdoZW4gZGlzcGF0Y2hpbmc7IG5vIHVzZSBpbiBjb3B5aW5nIGl0IGhlcmVcbiAgY3VycmVudFRhcmdldDogZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc051bGwsXG4gIGV2ZW50UGhhc2U6IG51bGwsXG4gIGJ1YmJsZXM6IG51bGwsXG4gIGNhbmNlbGFibGU6IG51bGwsXG4gIHRpbWVTdGFtcDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIGV2ZW50LnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuICB9LFxuICBkZWZhdWx0UHJldmVudGVkOiBudWxsLFxuICBpc1RydXN0ZWQ6IG51bGxcbn07XG5cbi8qKlxuICogU3ludGhldGljIGV2ZW50cyBhcmUgZGlzcGF0Y2hlZCBieSBldmVudCBwbHVnaW5zLCB0eXBpY2FsbHkgaW4gcmVzcG9uc2UgdG8gYVxuICogdG9wLWxldmVsIGV2ZW50IGRlbGVnYXRpb24gaGFuZGxlci5cbiAqXG4gKiBUaGVzZSBzeXN0ZW1zIHNob3VsZCBnZW5lcmFsbHkgdXNlIHBvb2xpbmcgdG8gcmVkdWNlIHRoZSBmcmVxdWVuY3kgb2YgZ2FyYmFnZVxuICogY29sbGVjdGlvbi4gVGhlIHN5c3RlbSBzaG91bGQgY2hlY2sgYGlzUGVyc2lzdGVudGAgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlXG4gKiBldmVudCBzaG91bGQgYmUgcmVsZWFzZWQgaW50byB0aGUgcG9vbCBhZnRlciBiZWluZyBkaXNwYXRjaGVkLiBVc2VycyB0aGF0XG4gKiBuZWVkIGEgcGVyc2lzdGVkIGV2ZW50IHNob3VsZCBpbnZva2UgYHBlcnNpc3RgLlxuICpcbiAqIFN5bnRoZXRpYyBldmVudHMgKGFuZCBzdWJjbGFzc2VzKSBpbXBsZW1lbnQgdGhlIERPTSBMZXZlbCAzIEV2ZW50cyBBUEkgYnlcbiAqIG5vcm1hbGl6aW5nIGJyb3dzZXIgcXVpcmtzLiBTdWJjbGFzc2VzIGRvIG5vdCBuZWNlc3NhcmlseSBoYXZlIHRvIGltcGxlbWVudCBhXG4gKiBET00gaW50ZXJmYWNlOyBjdXN0b20gYXBwbGljYXRpb24tc3BlY2lmaWMgZXZlbnRzIGNhbiBhbHNvIHN1YmNsYXNzIHRoaXMuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIENvbmZpZ3VyYXRpb24gdXNlZCB0byBkaXNwYXRjaCB0aGlzIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGRpc3BhdGNoTWFya2VyIE1hcmtlciBpZGVudGlmeWluZyB0aGUgZXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB0aGlzLmRpc3BhdGNoQ29uZmlnID0gZGlzcGF0Y2hDb25maWc7XG4gIHRoaXMuZGlzcGF0Y2hNYXJrZXIgPSBkaXNwYXRjaE1hcmtlcjtcbiAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuXG4gIHZhciBJbnRlcmZhY2UgPSB0aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtcbiAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKSB7XG4gICAgaWYgKCFJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIG5vcm1hbGl6ZSA9IEludGVyZmFjZVtwcm9wTmFtZV07XG4gICAgaWYgKG5vcm1hbGl6ZSkge1xuICAgICAgdGhpc1twcm9wTmFtZV0gPSBub3JtYWxpemUobmF0aXZlRXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvcE5hbWUgPT09ICd0YXJnZXQnKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IG5hdGl2ZUV2ZW50W3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgZGVmYXVsdFByZXZlbnRlZCA9IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgIT0gbnVsbCA/IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgOiBuYXRpdmVFdmVudC5yZXR1cm5WYWx1ZSA9PT0gZmFsc2U7XG4gIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zVHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZTtcbiAgfVxuICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0ZhbHNlO1xufVxuXG5hc3NpZ24oU3ludGhldGljRXZlbnQucHJvdG90eXBlLCB7XG5cbiAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGV2ZW50LCAnVGhpcyBzeW50aGV0aWMgZXZlbnQgaXMgcmV1c2VkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLiBJZiB5b3VcXCdyZSAnICsgJ3NlZWluZyB0aGlzLCB5b3VcXCdyZSBjYWxsaW5nIGBwcmV2ZW50RGVmYXVsdGAgb24gYSAnICsgJ3JlbGVhc2VkL251bGxpZmllZCBzeW50aGV0aWMgZXZlbnQuIFRoaXMgaXMgYSBuby1vcC4gU2VlICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1ldmVudC1wb29saW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLicpIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoIWV2ZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9LFxuXG4gIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGV2ZW50LCAnVGhpcyBzeW50aGV0aWMgZXZlbnQgaXMgcmV1c2VkIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLiBJZiB5b3VcXCdyZSAnICsgJ3NlZWluZyB0aGlzLCB5b3VcXCdyZSBjYWxsaW5nIGBzdG9wUHJvcGFnYXRpb25gIG9uIGEgJyArICdyZWxlYXNlZC9udWxsaWZpZWQgc3ludGhldGljIGV2ZW50LiBUaGlzIGlzIGEgbm8tb3AuIFNlZSAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3QtZXZlbnQtcG9vbGluZyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCFldmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFdlIHJlbGVhc2UgYWxsIGRpc3BhdGNoZWQgYFN5bnRoZXRpY0V2ZW50YHMgYWZ0ZXIgZWFjaCBldmVudCBsb29wLCBhZGRpbmdcbiAgICogdGhlbSBiYWNrIGludG8gdGhlIHBvb2wuIFRoaXMgYWxsb3dzIGEgd2F5IHRvIGhvbGQgb250byBhIHJlZmVyZW5jZSB0aGF0XG4gICAqIHdvbid0IGJlIGFkZGVkIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICovXG4gIHBlcnNpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmlzUGVyc2lzdGVudCA9IGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhpcyBldmVudCBzaG91bGQgYmUgcmVsZWFzZWQgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoaXMgc2hvdWxkIG5vdCBiZSByZWxlYXNlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgaXNQZXJzaXN0ZW50OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zRmFsc2UsXG5cbiAgLyoqXG4gICAqIGBQb29sZWRDbGFzc2AgbG9va3MgZm9yIGBkZXN0cnVjdG9yYCBvbiBlYWNoIGluc3RhbmNlIGl0IHJlbGVhc2VzLlxuICAgKi9cbiAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBJbnRlcmZhY2UgPSB0aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpIHtcbiAgICAgIHRoaXNbcHJvcE5hbWVdID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaENvbmZpZyA9IG51bGw7XG4gICAgdGhpcy5kaXNwYXRjaE1hcmtlciA9IG51bGw7XG4gICAgdGhpcy5uYXRpdmVFdmVudCA9IG51bGw7XG4gIH1cblxufSk7XG5cblN5bnRoZXRpY0V2ZW50LkludGVyZmFjZSA9IEV2ZW50SW50ZXJmYWNlO1xuXG4vKipcbiAqIEhlbHBlciB0byByZWR1Y2UgYm9pbGVycGxhdGUgd2hlbiBjcmVhdGluZyBzdWJjbGFzc2VzLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IENsYXNzXG4gKiBAcGFyYW0gez9vYmplY3R9IEludGVyZmFjZVxuICovXG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MgPSBmdW5jdGlvbiAoQ2xhc3MsIEludGVyZmFjZSkge1xuICB2YXIgU3VwZXIgPSB0aGlzO1xuXG4gIHZhciBwcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN1cGVyLnByb3RvdHlwZSk7XG4gIGFzc2lnbihwcm90b3R5cGUsIENsYXNzLnByb3RvdHlwZSk7XG4gIENsYXNzLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2xhc3M7XG5cbiAgQ2xhc3MuSW50ZXJmYWNlID0gYXNzaWduKHt9LCBTdXBlci5JbnRlcmZhY2UsIEludGVyZmFjZSk7XG4gIENsYXNzLmF1Z21lbnRDbGFzcyA9IFN1cGVyLmF1Z21lbnRDbGFzcztcblxuICBQb29sZWRDbGFzcy5hZGRQb29saW5nVG8oQ2xhc3MsIFBvb2xlZENsYXNzLmZvdXJBcmd1bWVudFBvb2xlcik7XG59O1xuXG5Qb29sZWRDbGFzcy5hZGRQb29saW5nVG8oU3ludGhldGljRXZlbnQsIFBvb2xlZENsYXNzLmZvdXJBcmd1bWVudFBvb2xlcik7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljRXZlbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIERPTVByb3BlcnR5XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuXG5mdW5jdGlvbiBjaGVja01hc2sodmFsdWUsIGJpdG1hc2spIHtcbiAgcmV0dXJuICh2YWx1ZSAmIGJpdG1hc2spID09PSBiaXRtYXNrO1xufVxuXG52YXIgRE9NUHJvcGVydHlJbmplY3Rpb24gPSB7XG4gIC8qKlxuICAgKiBNYXBwaW5nIGZyb20gbm9ybWFsaXplZCwgY2FtZWxjYXNlZCBwcm9wZXJ0eSBuYW1lcyB0byBhIGNvbmZpZ3VyYXRpb24gdGhhdFxuICAgKiBzcGVjaWZpZXMgaG93IHRoZSBhc3NvY2lhdGVkIERPTSBwcm9wZXJ0eSBzaG91bGQgYmUgYWNjZXNzZWQgb3IgcmVuZGVyZWQuXG4gICAqL1xuICBNVVNUX1VTRV9BVFRSSUJVVEU6IDB4MSxcbiAgTVVTVF9VU0VfUFJPUEVSVFk6IDB4MixcbiAgSEFTX1NJREVfRUZGRUNUUzogMHg0LFxuICBIQVNfQk9PTEVBTl9WQUxVRTogMHg4LFxuICBIQVNfTlVNRVJJQ19WQUxVRTogMHgxMCxcbiAgSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUU6IDB4MjAgfCAweDEwLFxuICBIQVNfT1ZFUkxPQURFRF9CT09MRUFOX1ZBTFVFOiAweDQwLFxuXG4gIC8qKlxuICAgKiBJbmplY3Qgc29tZSBzcGVjaWFsaXplZCBrbm93bGVkZ2UgYWJvdXQgdGhlIERPTS4gVGhpcyB0YWtlcyBhIGNvbmZpZyBvYmplY3RcbiAgICogd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqXG4gICAqIGlzQ3VzdG9tQXR0cmlidXRlOiBmdW5jdGlvbiB0aGF0IGdpdmVuIGFuIGF0dHJpYnV0ZSBuYW1lIHdpbGwgcmV0dXJuIHRydWVcbiAgICogaWYgaXQgY2FuIGJlIGluc2VydGVkIGludG8gdGhlIERPTSB2ZXJiYXRpbS4gVXNlZnVsIGZvciBkYXRhLSogb3IgYXJpYS0qXG4gICAqIGF0dHJpYnV0ZXMgd2hlcmUgaXQncyBpbXBvc3NpYmxlIHRvIGVudW1lcmF0ZSBhbGwgb2YgdGhlIHBvc3NpYmxlXG4gICAqIGF0dHJpYnV0ZSBuYW1lcyxcbiAgICpcbiAgICogUHJvcGVydGllczogb2JqZWN0IG1hcHBpbmcgRE9NIHByb3BlcnR5IG5hbWUgdG8gb25lIG9mIHRoZVxuICAgKiBET01Qcm9wZXJ0eUluamVjdGlvbiBjb25zdGFudHMgb3IgbnVsbC4gSWYgeW91ciBhdHRyaWJ1dGUgaXNuJ3QgaW4gaGVyZSxcbiAgICogaXQgd29uJ3QgZ2V0IHdyaXR0ZW4gdG8gdGhlIERPTS5cbiAgICpcbiAgICogRE9NQXR0cmlidXRlTmFtZXM6IG9iamVjdCBtYXBwaW5nIFJlYWN0IGF0dHJpYnV0ZSBuYW1lIHRvIHRoZSBET01cbiAgICogYXR0cmlidXRlIG5hbWUuIEF0dHJpYnV0ZSBuYW1lcyBub3Qgc3BlY2lmaWVkIHVzZSB0aGUgKipsb3dlcmNhc2UqKlxuICAgKiBub3JtYWxpemVkIG5hbWUuXG4gICAqXG4gICAqIERPTUF0dHJpYnV0ZU5hbWVzcGFjZXM6IG9iamVjdCBtYXBwaW5nIFJlYWN0IGF0dHJpYnV0ZSBuYW1lIHRvIHRoZSBET01cbiAgICogYXR0cmlidXRlIG5hbWVzcGFjZSBVUkwuIChBdHRyaWJ1dGUgbmFtZXMgbm90IHNwZWNpZmllZCB1c2Ugbm8gbmFtZXNwYWNlLilcbiAgICpcbiAgICogRE9NUHJvcGVydHlOYW1lczogc2ltaWxhciB0byBET01BdHRyaWJ1dGVOYW1lcyBidXQgZm9yIERPTSBwcm9wZXJ0aWVzLlxuICAgKiBQcm9wZXJ0eSBuYW1lcyBub3Qgc3BlY2lmaWVkIHVzZSB0aGUgbm9ybWFsaXplZCBuYW1lLlxuICAgKlxuICAgKiBET01NdXRhdGlvbk1ldGhvZHM6IFByb3BlcnRpZXMgdGhhdCByZXF1aXJlIHNwZWNpYWwgbXV0YXRpb24gbWV0aG9kcy4gSWZcbiAgICogYHZhbHVlYCBpcyB1bmRlZmluZWQsIHRoZSBtdXRhdGlvbiBtZXRob2Qgc2hvdWxkIHVuc2V0IHRoZSBwcm9wZXJ0eS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGRvbVByb3BlcnR5Q29uZmlnIHRoZSBjb25maWcgYXMgZGVzY3JpYmVkIGFib3ZlLlxuICAgKi9cbiAgaW5qZWN0RE9NUHJvcGVydHlDb25maWc6IGZ1bmN0aW9uIChkb21Qcm9wZXJ0eUNvbmZpZykge1xuICAgIHZhciBJbmplY3Rpb24gPSBET01Qcm9wZXJ0eUluamVjdGlvbjtcbiAgICB2YXIgUHJvcGVydGllcyA9IGRvbVByb3BlcnR5Q29uZmlnLlByb3BlcnRpZXMgfHwge307XG4gICAgdmFyIERPTUF0dHJpYnV0ZU5hbWVzcGFjZXMgPSBkb21Qcm9wZXJ0eUNvbmZpZy5ET01BdHRyaWJ1dGVOYW1lc3BhY2VzIHx8IHt9O1xuICAgIHZhciBET01BdHRyaWJ1dGVOYW1lcyA9IGRvbVByb3BlcnR5Q29uZmlnLkRPTUF0dHJpYnV0ZU5hbWVzIHx8IHt9O1xuICAgIHZhciBET01Qcm9wZXJ0eU5hbWVzID0gZG9tUHJvcGVydHlDb25maWcuRE9NUHJvcGVydHlOYW1lcyB8fCB7fTtcbiAgICB2YXIgRE9NTXV0YXRpb25NZXRob2RzID0gZG9tUHJvcGVydHlDb25maWcuRE9NTXV0YXRpb25NZXRob2RzIHx8IHt9O1xuXG4gICAgaWYgKGRvbVByb3BlcnR5Q29uZmlnLmlzQ3VzdG9tQXR0cmlidXRlKSB7XG4gICAgICBET01Qcm9wZXJ0eS5faXNDdXN0b21BdHRyaWJ1dGVGdW5jdGlvbnMucHVzaChkb21Qcm9wZXJ0eUNvbmZpZy5pc0N1c3RvbUF0dHJpYnV0ZSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gUHJvcGVydGllcykge1xuICAgICAgISFET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdpbmplY3RET01Qcm9wZXJ0eUNvbmZpZyguLi4pOiBZb3VcXCdyZSB0cnlpbmcgdG8gaW5qZWN0IERPTSBwcm9wZXJ0eSAnICsgJ1xcJyVzXFwnIHdoaWNoIGhhcyBhbHJlYWR5IGJlZW4gaW5qZWN0ZWQuIFlvdSBtYXkgYmUgYWNjaWRlbnRhbGx5ICcgKyAnaW5qZWN0aW5nIHRoZSBzYW1lIERPTSBwcm9wZXJ0eSBjb25maWcgdHdpY2UsIG9yIHlvdSBtYXkgYmUgJyArICdpbmplY3RpbmcgdHdvIGNvbmZpZ3MgdGhhdCBoYXZlIGNvbmZsaWN0aW5nIHByb3BlcnR5IG5hbWVzLicsIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBsb3dlckNhc2VkID0gcHJvcE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhciBwcm9wQ29uZmlnID0gUHJvcGVydGllc1twcm9wTmFtZV07XG5cbiAgICAgIHZhciBwcm9wZXJ0eUluZm8gPSB7XG4gICAgICAgIGF0dHJpYnV0ZU5hbWU6IGxvd2VyQ2FzZWQsXG4gICAgICAgIGF0dHJpYnV0ZU5hbWVzcGFjZTogbnVsbCxcbiAgICAgICAgcHJvcGVydHlOYW1lOiBwcm9wTmFtZSxcbiAgICAgICAgbXV0YXRpb25NZXRob2Q6IG51bGwsXG5cbiAgICAgICAgbXVzdFVzZUF0dHJpYnV0ZTogY2hlY2tNYXNrKHByb3BDb25maWcsIEluamVjdGlvbi5NVVNUX1VTRV9BVFRSSUJVVEUpLFxuICAgICAgICBtdXN0VXNlUHJvcGVydHk6IGNoZWNrTWFzayhwcm9wQ29uZmlnLCBJbmplY3Rpb24uTVVTVF9VU0VfUFJPUEVSVFkpLFxuICAgICAgICBoYXNTaWRlRWZmZWN0czogY2hlY2tNYXNrKHByb3BDb25maWcsIEluamVjdGlvbi5IQVNfU0lERV9FRkZFQ1RTKSxcbiAgICAgICAgaGFzQm9vbGVhblZhbHVlOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19CT09MRUFOX1ZBTFVFKSxcbiAgICAgICAgaGFzTnVtZXJpY1ZhbHVlOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19OVU1FUklDX1ZBTFVFKSxcbiAgICAgICAgaGFzUG9zaXRpdmVOdW1lcmljVmFsdWU6IGNoZWNrTWFzayhwcm9wQ29uZmlnLCBJbmplY3Rpb24uSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUUpLFxuICAgICAgICBoYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlOiBjaGVja01hc2socHJvcENvbmZpZywgSW5qZWN0aW9uLkhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUUpXG4gICAgICB9O1xuXG4gICAgICAhKCFwcm9wZXJ0eUluZm8ubXVzdFVzZUF0dHJpYnV0ZSB8fCAhcHJvcGVydHlJbmZvLm11c3RVc2VQcm9wZXJ0eSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRE9NUHJvcGVydHk6IENhbm5vdCByZXF1aXJlIHVzaW5nIGJvdGggYXR0cmlidXRlIGFuZCBwcm9wZXJ0eTogJXMnLCBwcm9wTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICAgIShwcm9wZXJ0eUluZm8ubXVzdFVzZVByb3BlcnR5IHx8ICFwcm9wZXJ0eUluZm8uaGFzU2lkZUVmZmVjdHMpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0RPTVByb3BlcnR5OiBQcm9wZXJ0aWVzIHRoYXQgaGF2ZSBzaWRlIGVmZmVjdHMgbXVzdCB1c2UgcHJvcGVydHk6ICVzJywgcHJvcE5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICEocHJvcGVydHlJbmZvLmhhc0Jvb2xlYW5WYWx1ZSArIHByb3BlcnR5SW5mby5oYXNOdW1lcmljVmFsdWUgKyBwcm9wZXJ0eUluZm8uaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZSA8PSAxKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdET01Qcm9wZXJ0eTogVmFsdWUgY2FuIGJlIG9uZSBvZiBib29sZWFuLCBvdmVybG9hZGVkIGJvb2xlYW4sIG9yICcgKyAnbnVtZXJpYyB2YWx1ZSwgYnV0IG5vdCBhIGNvbWJpbmF0aW9uOiAlcycsIHByb3BOYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIERPTVByb3BlcnR5LmdldFBvc3NpYmxlU3RhbmRhcmROYW1lW2xvd2VyQ2FzZWRdID0gcHJvcE5hbWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChET01BdHRyaWJ1dGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBET01BdHRyaWJ1dGVOYW1lc1twcm9wTmFtZV07XG4gICAgICAgIHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBET01Qcm9wZXJ0eS5nZXRQb3NzaWJsZVN0YW5kYXJkTmFtZVthdHRyaWJ1dGVOYW1lXSA9IHByb3BOYW1lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChET01BdHRyaWJ1dGVOYW1lc3BhY2VzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZXNwYWNlID0gRE9NQXR0cmlidXRlTmFtZXNwYWNlc1twcm9wTmFtZV07XG4gICAgICB9XG5cbiAgICAgIGlmIChET01Qcm9wZXJ0eU5hbWVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBwcm9wZXJ0eUluZm8ucHJvcGVydHlOYW1lID0gRE9NUHJvcGVydHlOYW1lc1twcm9wTmFtZV07XG4gICAgICB9XG5cbiAgICAgIGlmIChET01NdXRhdGlvbk1ldGhvZHMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHByb3BlcnR5SW5mby5tdXRhdGlvbk1ldGhvZCA9IERPTU11dGF0aW9uTWV0aG9kc1twcm9wTmFtZV07XG4gICAgICB9XG5cbiAgICAgIERPTVByb3BlcnR5LnByb3BlcnRpZXNbcHJvcE5hbWVdID0gcHJvcGVydHlJbmZvO1xuICAgIH1cbiAgfVxufTtcbnZhciBkZWZhdWx0VmFsdWVDYWNoZSA9IHt9O1xuXG4vKipcbiAqIERPTVByb3BlcnR5IGV4cG9ydHMgbG9va3VwIG9iamVjdHMgdGhhdCBjYW4gYmUgdXNlZCBsaWtlIGZ1bmN0aW9uczpcbiAqXG4gKiAgID4gRE9NUHJvcGVydHkuaXNWYWxpZFsnaWQnXVxuICogICB0cnVlXG4gKiAgID4gRE9NUHJvcGVydHkuaXNWYWxpZFsnZm9vYmFyJ11cbiAqICAgdW5kZWZpbmVkXG4gKlxuICogQWx0aG91Z2ggdGhpcyBtYXkgYmUgY29uZnVzaW5nLCBpdCBwZXJmb3JtcyBiZXR0ZXIgaW4gZ2VuZXJhbC5cbiAqXG4gKiBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2tleS1leGlzdHNcbiAqIEBzZWUgaHR0cDovL2pzcGVyZi5jb20va2V5LW1pc3NpbmdcbiAqL1xudmFyIERPTVByb3BlcnR5ID0ge1xuXG4gIElEX0FUVFJJQlVURV9OQU1FOiAnZGF0YS1yZWFjdGlkJyxcblxuICAvKipcbiAgICogTWFwIGZyb20gcHJvcGVydHkgXCJzdGFuZGFyZCBuYW1lXCIgdG8gYW4gb2JqZWN0IHdpdGggaW5mbyBhYm91dCBob3cgdG8gc2V0XG4gICAqIHRoZSBwcm9wZXJ0eSBpbiB0aGUgRE9NLiBFYWNoIG9iamVjdCBjb250YWluczpcbiAgICpcbiAgICogYXR0cmlidXRlTmFtZTpcbiAgICogICBVc2VkIHdoZW4gcmVuZGVyaW5nIG1hcmt1cCBvciB3aXRoIGAqQXR0cmlidXRlKClgLlxuICAgKiBhdHRyaWJ1dGVOYW1lc3BhY2VcbiAgICogcHJvcGVydHlOYW1lOlxuICAgKiAgIFVzZWQgb24gRE9NIG5vZGUgaW5zdGFuY2VzLiAoVGhpcyBpbmNsdWRlcyBwcm9wZXJ0aWVzIHRoYXQgbXV0YXRlIGR1ZSB0b1xuICAgKiAgIGV4dGVybmFsIGZhY3RvcnMuKVxuICAgKiBtdXRhdGlvbk1ldGhvZDpcbiAgICogICBJZiBub24tbnVsbCwgdXNlZCBpbnN0ZWFkIG9mIHRoZSBwcm9wZXJ0eSBvciBgc2V0QXR0cmlidXRlKClgIGFmdGVyXG4gICAqICAgaW5pdGlhbCByZW5kZXIuXG4gICAqIG11c3RVc2VBdHRyaWJ1dGU6XG4gICAqICAgV2hldGhlciB0aGUgcHJvcGVydHkgbXVzdCBiZSBhY2Nlc3NlZCBhbmQgbXV0YXRlZCB1c2luZyBgKkF0dHJpYnV0ZSgpYC5cbiAgICogICAoVGhpcyBpbmNsdWRlcyBhbnl0aGluZyB0aGF0IGZhaWxzIGA8cHJvcE5hbWU+IGluIDxlbGVtZW50PmAuKVxuICAgKiBtdXN0VXNlUHJvcGVydHk6XG4gICAqICAgV2hldGhlciB0aGUgcHJvcGVydHkgbXVzdCBiZSBhY2Nlc3NlZCBhbmQgbXV0YXRlZCBhcyBhbiBvYmplY3QgcHJvcGVydHkuXG4gICAqIGhhc1NpZGVFZmZlY3RzOlxuICAgKiAgIFdoZXRoZXIgb3Igbm90IHNldHRpbmcgYSB2YWx1ZSBjYXVzZXMgc2lkZSBlZmZlY3RzIHN1Y2ggYXMgdHJpZ2dlcmluZ1xuICAgKiAgIHJlc291cmNlcyB0byBiZSBsb2FkZWQgb3IgdGV4dCBzZWxlY3Rpb24gY2hhbmdlcy4gSWYgdHJ1ZSwgd2UgcmVhZCBmcm9tXG4gICAqICAgdGhlIERPTSBiZWZvcmUgdXBkYXRpbmcgdG8gZW5zdXJlIHRoYXQgdGhlIHZhbHVlIGlzIG9ubHkgc2V0IGlmIGl0IGhhc1xuICAgKiAgIGNoYW5nZWQuXG4gICAqIGhhc0Jvb2xlYW5WYWx1ZTpcbiAgICogICBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgcmVtb3ZlZCB3aGVuIHNldCB0byBhIGZhbHNleSB2YWx1ZS5cbiAgICogaGFzTnVtZXJpY1ZhbHVlOlxuICAgKiAgIFdoZXRoZXIgdGhlIHByb3BlcnR5IG11c3QgYmUgbnVtZXJpYyBvciBwYXJzZSBhcyBhIG51bWVyaWMgYW5kIHNob3VsZCBiZVxuICAgKiAgIHJlbW92ZWQgd2hlbiBzZXQgdG8gYSBmYWxzZXkgdmFsdWUuXG4gICAqIGhhc1Bvc2l0aXZlTnVtZXJpY1ZhbHVlOlxuICAgKiAgIFdoZXRoZXIgdGhlIHByb3BlcnR5IG11c3QgYmUgcG9zaXRpdmUgbnVtZXJpYyBvciBwYXJzZSBhcyBhIHBvc2l0aXZlXG4gICAqICAgbnVtZXJpYyBhbmQgc2hvdWxkIGJlIHJlbW92ZWQgd2hlbiBzZXQgdG8gYSBmYWxzZXkgdmFsdWUuXG4gICAqIGhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWU6XG4gICAqICAgV2hldGhlciB0aGUgcHJvcGVydHkgY2FuIGJlIHVzZWQgYXMgYSBmbGFnIGFzIHdlbGwgYXMgd2l0aCBhIHZhbHVlLlxuICAgKiAgIFJlbW92ZWQgd2hlbiBzdHJpY3RseSBlcXVhbCB0byBmYWxzZTsgcHJlc2VudCB3aXRob3V0IGEgdmFsdWUgd2hlblxuICAgKiAgIHN0cmljdGx5IGVxdWFsIHRvIHRydWU7IHByZXNlbnQgd2l0aCBhIHZhbHVlIG90aGVyd2lzZS5cbiAgICovXG4gIHByb3BlcnRpZXM6IHt9LFxuXG4gIC8qKlxuICAgKiBNYXBwaW5nIGZyb20gbG93ZXJjYXNlIHByb3BlcnR5IG5hbWVzIHRvIHRoZSBwcm9wZXJseSBjYXNlZCB2ZXJzaW9uLCB1c2VkXG4gICAqIHRvIHdhcm4gaW4gdGhlIGNhc2Ugb2YgbWlzc2luZyBwcm9wZXJ0aWVzLiBBdmFpbGFibGUgb25seSBpbiBfX0RFVl9fLlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgZ2V0UG9zc2libGVTdGFuZGFyZE5hbWU6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB7fSA6IG51bGwsXG5cbiAgLyoqXG4gICAqIEFsbCBvZiB0aGUgaXNDdXN0b21BdHRyaWJ1dGUoKSBmdW5jdGlvbnMgdGhhdCBoYXZlIGJlZW4gaW5qZWN0ZWQuXG4gICAqL1xuICBfaXNDdXN0b21BdHRyaWJ1dGVGdW5jdGlvbnM6IFtdLFxuXG4gIC8qKlxuICAgKiBDaGVja3Mgd2hldGhlciBhIHByb3BlcnR5IG5hbWUgaXMgYSBjdXN0b20gYXR0cmlidXRlLlxuICAgKiBAbWV0aG9kXG4gICAqL1xuICBpc0N1c3RvbUF0dHJpYnV0ZTogZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IERPTVByb3BlcnR5Ll9pc0N1c3RvbUF0dHJpYnV0ZUZ1bmN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlzQ3VzdG9tQXR0cmlidXRlRm4gPSBET01Qcm9wZXJ0eS5faXNDdXN0b21BdHRyaWJ1dGVGdW5jdGlvbnNbaV07XG4gICAgICBpZiAoaXNDdXN0b21BdHRyaWJ1dGVGbihhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkZWZhdWx0IHByb3BlcnR5IHZhbHVlIGZvciBhIERPTSBwcm9wZXJ0eSAoaS5lLiwgbm90IGFuXG4gICAqIGF0dHJpYnV0ZSkuIE1vc3QgZGVmYXVsdCB2YWx1ZXMgYXJlICcnIG9yIGZhbHNlLCBidXQgbm90IGFsbC4gV29yc2UgeWV0LFxuICAgKiBzb21lIChpbiBwYXJ0aWN1bGFyLCBgdHlwZWApIHZhcnkgZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGVsZW1lbnQuXG4gICAqXG4gICAqIFRPRE86IElzIGl0IGJldHRlciB0byBncmFiIGFsbCB0aGUgcG9zc2libGUgcHJvcGVydGllcyB3aGVuIGNyZWF0aW5nIGFuXG4gICAqIGVsZW1lbnQgdG8gYXZvaWQgaGF2aW5nIHRvIGNyZWF0ZSB0aGUgc2FtZSBlbGVtZW50IHR3aWNlP1xuICAgKi9cbiAgZ2V0RGVmYXVsdFZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uIChub2RlTmFtZSwgcHJvcCkge1xuICAgIHZhciBub2RlRGVmYXVsdHMgPSBkZWZhdWx0VmFsdWVDYWNoZVtub2RlTmFtZV07XG4gICAgdmFyIHRlc3RFbGVtZW50O1xuICAgIGlmICghbm9kZURlZmF1bHRzKSB7XG4gICAgICBkZWZhdWx0VmFsdWVDYWNoZVtub2RlTmFtZV0gPSBub2RlRGVmYXVsdHMgPSB7fTtcbiAgICB9XG4gICAgaWYgKCEocHJvcCBpbiBub2RlRGVmYXVsdHMpKSB7XG4gICAgICB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpO1xuICAgICAgbm9kZURlZmF1bHRzW3Byb3BdID0gdGVzdEVsZW1lbnRbcHJvcF07XG4gICAgfVxuICAgIHJldHVybiBub2RlRGVmYXVsdHNbcHJvcF07XG4gIH0sXG5cbiAgaW5qZWN0aW9uOiBET01Qcm9wZXJ0eUluamVjdGlvblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBET01Qcm9wZXJ0eTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RJbnN0YW5jZUhhbmRsZXNcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RSb290SW5kZXggPSByZXF1aXJlKCcuL1JlYWN0Um9vdEluZGV4Jyk7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxudmFyIFNFUEFSQVRPUiA9ICcuJztcbnZhciBTRVBBUkFUT1JfTEVOR1RIID0gU0VQQVJBVE9SLmxlbmd0aDtcblxuLyoqXG4gKiBNYXhpbXVtIGRlcHRoIG9mIHRyYXZlcnNhbHMgYmVmb3JlIHdlIGNvbnNpZGVyIHRoZSBwb3NzaWJpbGl0eSBvZiBhIGJhZCBJRC5cbiAqL1xudmFyIE1BWF9UUkVFX0RFUFRIID0gMTAwMDA7XG5cbi8qKlxuICogQ3JlYXRlcyBhIERPTSBJRCBwcmVmaXggdG8gdXNlIHdoZW4gbW91bnRpbmcgUmVhY3QgY29tcG9uZW50cy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggQSB1bmlxdWUgaW50ZWdlclxuICogQHJldHVybiB7c3RyaW5nfSBSZWFjdCByb290IElELlxuICogQGludGVybmFsXG4gKi9cbmZ1bmN0aW9uIGdldFJlYWN0Um9vdElEU3RyaW5nKGluZGV4KSB7XG4gIHJldHVybiBTRVBBUkFUT1IgKyBpbmRleC50b1N0cmluZygzNik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgY2hhcmFjdGVyIGluIHRoZSBzdXBwbGllZCBJRCBpcyBhIHNlcGFyYXRvciBvciB0aGUgZW5kLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBBIFJlYWN0IERPTSBJRC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleCBvZiB0aGUgY2hhcmFjdGVyIHRvIGNoZWNrLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgY2hhcmFjdGVyIGlzIGEgc2VwYXJhdG9yIG9yIGVuZCBvZiB0aGUgSUQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpc0JvdW5kYXJ5KGlkLCBpbmRleCkge1xuICByZXR1cm4gaWQuY2hhckF0KGluZGV4KSA9PT0gU0VQQVJBVE9SIHx8IGluZGV4ID09PSBpZC5sZW5ndGg7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBzdXBwbGllZCBzdHJpbmcgaXMgYSB2YWxpZCBSZWFjdCBET00gSUQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIEEgUmVhY3QgRE9NIElELCBtYXliZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHN0cmluZyBpcyBhIHZhbGlkIFJlYWN0IERPTSBJRC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRJRChpZCkge1xuICByZXR1cm4gaWQgPT09ICcnIHx8IGlkLmNoYXJBdCgwKSA9PT0gU0VQQVJBVE9SICYmIGlkLmNoYXJBdChpZC5sZW5ndGggLSAxKSAhPT0gU0VQQVJBVE9SO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZmlyc3QgSUQgaXMgYW4gYW5jZXN0b3Igb2Ygb3IgZXF1YWwgdG8gdGhlIHNlY29uZCBJRC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYW5jZXN0b3JJRFxuICogQHBhcmFtIHtzdHJpbmd9IGRlc2NlbmRhbnRJRFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgYW5jZXN0b3JJRGAgaXMgYW4gYW5jZXN0b3Igb2YgYGRlc2NlbmRhbnRJRGAuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gaXNBbmNlc3RvcklET2YoYW5jZXN0b3JJRCwgZGVzY2VuZGFudElEKSB7XG4gIHJldHVybiBkZXNjZW5kYW50SUQuaW5kZXhPZihhbmNlc3RvcklEKSA9PT0gMCAmJiBpc0JvdW5kYXJ5KGRlc2NlbmRhbnRJRCwgYW5jZXN0b3JJRC5sZW5ndGgpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHBhcmVudCBJRCBvZiB0aGUgc3VwcGxpZWQgUmVhY3QgRE9NIElELCBgaWRgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiBhIGNvbXBvbmVudC5cbiAqIEByZXR1cm4ge3N0cmluZ30gSUQgb2YgdGhlIHBhcmVudCwgb3IgYW4gZW1wdHkgc3RyaW5nLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0UGFyZW50SUQoaWQpIHtcbiAgcmV0dXJuIGlkID8gaWQuc3Vic3RyKDAsIGlkLmxhc3RJbmRleE9mKFNFUEFSQVRPUikpIDogJyc7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmV4dCBET00gSUQgb24gdGhlIHRyZWUgcGF0aCBmcm9tIHRoZSBzdXBwbGllZCBgYW5jZXN0b3JJRGAgdG8gdGhlXG4gKiBzdXBwbGllZCBgZGVzdGluYXRpb25JRGAuIElmIHRoZXkgYXJlIGVxdWFsLCB0aGUgSUQgaXMgcmV0dXJuZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGFuY2VzdG9ySUQgSUQgb2YgYW4gYW5jZXN0b3Igbm9kZSBvZiBgZGVzdGluYXRpb25JRGAuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVzdGluYXRpb25JRCBJRCBvZiB0aGUgZGVzdGluYXRpb24gbm9kZS5cbiAqIEByZXR1cm4ge3N0cmluZ30gTmV4dCBJRCBvbiB0aGUgcGF0aCBmcm9tIGBhbmNlc3RvcklEYCB0byBgZGVzdGluYXRpb25JRGAuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBnZXROZXh0RGVzY2VuZGFudElEKGFuY2VzdG9ySUQsIGRlc3RpbmF0aW9uSUQpIHtcbiAgIShpc1ZhbGlkSUQoYW5jZXN0b3JJRCkgJiYgaXNWYWxpZElEKGRlc3RpbmF0aW9uSUQpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdnZXROZXh0RGVzY2VuZGFudElEKCVzLCAlcyk6IFJlY2VpdmVkIGFuIGludmFsaWQgUmVhY3QgRE9NIElELicsIGFuY2VzdG9ySUQsIGRlc3RpbmF0aW9uSUQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgIWlzQW5jZXN0b3JJRE9mKGFuY2VzdG9ySUQsIGRlc3RpbmF0aW9uSUQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2dldE5leHREZXNjZW5kYW50SUQoLi4uKTogUmVhY3QgaGFzIG1hZGUgYW4gaW52YWxpZCBhc3N1bXB0aW9uIGFib3V0ICcgKyAndGhlIERPTSBoaWVyYXJjaHkuIEV4cGVjdGVkIGAlc2AgdG8gYmUgYW4gYW5jZXN0b3Igb2YgYCVzYC4nLCBhbmNlc3RvcklELCBkZXN0aW5hdGlvbklEKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIGlmIChhbmNlc3RvcklEID09PSBkZXN0aW5hdGlvbklEKSB7XG4gICAgcmV0dXJuIGFuY2VzdG9ySUQ7XG4gIH1cbiAgLy8gU2tpcCBvdmVyIHRoZSBhbmNlc3RvciBhbmQgdGhlIGltbWVkaWF0ZSBzZXBhcmF0b3IuIFRyYXZlcnNlIHVudGlsIHdlIGhpdFxuICAvLyBhbm90aGVyIHNlcGFyYXRvciBvciB3ZSByZWFjaCB0aGUgZW5kIG9mIGBkZXN0aW5hdGlvbklEYC5cbiAgdmFyIHN0YXJ0ID0gYW5jZXN0b3JJRC5sZW5ndGggKyBTRVBBUkFUT1JfTEVOR1RIO1xuICB2YXIgaTtcbiAgZm9yIChpID0gc3RhcnQ7IGkgPCBkZXN0aW5hdGlvbklELmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlzQm91bmRhcnkoZGVzdGluYXRpb25JRCwgaSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVzdGluYXRpb25JRC5zdWJzdHIoMCwgaSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmVhcmVzdCBjb21tb24gYW5jZXN0b3IgSUQgb2YgdHdvIElEcy5cbiAqXG4gKiBVc2luZyB0aGlzIElEIHNjaGVtZSwgdGhlIG5lYXJlc3QgY29tbW9uIGFuY2VzdG9yIElEIGlzIHRoZSBsb25nZXN0IGNvbW1vblxuICogcHJlZml4IG9mIHRoZSB0d28gSURzIHRoYXQgaW1tZWRpYXRlbHkgcHJlY2VkZWQgYSBcIm1hcmtlclwiIGluIGJvdGggc3RyaW5ncy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gb25lSURcbiAqIEBwYXJhbSB7c3RyaW5nfSB0d29JRFxuICogQHJldHVybiB7c3RyaW5nfSBOZWFyZXN0IGNvbW1vbiBhbmNlc3RvciBJRCwgb3IgdGhlIGVtcHR5IHN0cmluZyBpZiBub25lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0Rmlyc3RDb21tb25BbmNlc3RvcklEKG9uZUlELCB0d29JRCkge1xuICB2YXIgbWluTGVuZ3RoID0gTWF0aC5taW4ob25lSUQubGVuZ3RoLCB0d29JRC5sZW5ndGgpO1xuICBpZiAobWluTGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHZhciBsYXN0Q29tbW9uTWFya2VySW5kZXggPSAwO1xuICAvLyBVc2UgYDw9YCB0byB0cmF2ZXJzZSB1bnRpbCB0aGUgXCJFT0xcIiBvZiB0aGUgc2hvcnRlciBzdHJpbmcuXG4gIGZvciAodmFyIGkgPSAwOyBpIDw9IG1pbkxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGlzQm91bmRhcnkob25lSUQsIGkpICYmIGlzQm91bmRhcnkodHdvSUQsIGkpKSB7XG4gICAgICBsYXN0Q29tbW9uTWFya2VySW5kZXggPSBpO1xuICAgIH0gZWxzZSBpZiAob25lSUQuY2hhckF0KGkpICE9PSB0d29JRC5jaGFyQXQoaSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICB2YXIgbG9uZ2VzdENvbW1vbklEID0gb25lSUQuc3Vic3RyKDAsIGxhc3RDb21tb25NYXJrZXJJbmRleCk7XG4gICFpc1ZhbGlkSUQobG9uZ2VzdENvbW1vbklEKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdnZXRGaXJzdENvbW1vbkFuY2VzdG9ySUQoJXMsICVzKTogRXhwZWN0ZWQgYSB2YWxpZCBSZWFjdCBET00gSUQ6ICVzJywgb25lSUQsIHR3b0lELCBsb25nZXN0Q29tbW9uSUQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIGxvbmdlc3RDb21tb25JRDtcbn1cblxuLyoqXG4gKiBUcmF2ZXJzZXMgdGhlIHBhcmVudCBwYXRoIGJldHdlZW4gdHdvIElEcyAoZWl0aGVyIHVwIG9yIGRvd24pLiBUaGUgSURzIG11c3RcbiAqIG5vdCBiZSB0aGUgc2FtZSwgYW5kIHRoZXJlIG11c3QgZXhpc3QgYSBwYXJlbnQgcGF0aCBiZXR3ZWVuIHRoZW0uIElmIHRoZVxuICogY2FsbGJhY2sgcmV0dXJucyBgZmFsc2VgLCB0cmF2ZXJzYWwgaXMgc3RvcHBlZC5cbiAqXG4gKiBAcGFyYW0gez9zdHJpbmd9IHN0YXJ0IElEIGF0IHdoaWNoIHRvIHN0YXJ0IHRyYXZlcnNhbC5cbiAqIEBwYXJhbSB7P3N0cmluZ30gc3RvcCBJRCBhdCB3aGljaCB0byBlbmQgdHJhdmVyc2FsLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgQ2FsbGJhY2sgdG8gaW52b2tlIGVhY2ggSUQgd2l0aC5cbiAqIEBwYXJhbSB7Kn0gYXJnIEFyZ3VtZW50IHRvIGludm9rZSB0aGUgY2FsbGJhY2sgd2l0aC5cbiAqIEBwYXJhbSB7P2Jvb2xlYW59IHNraXBGaXJzdCBXaGV0aGVyIG9yIG5vdCB0byBza2lwIHRoZSBmaXJzdCBub2RlLlxuICogQHBhcmFtIHs/Ym9vbGVhbn0gc2tpcExhc3QgV2hldGhlciBvciBub3QgdG8gc2tpcCB0aGUgbGFzdCBub2RlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2VQYXJlbnRQYXRoKHN0YXJ0LCBzdG9wLCBjYiwgYXJnLCBza2lwRmlyc3QsIHNraXBMYXN0KSB7XG4gIHN0YXJ0ID0gc3RhcnQgfHwgJyc7XG4gIHN0b3AgPSBzdG9wIHx8ICcnO1xuICAhKHN0YXJ0ICE9PSBzdG9wKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd0cmF2ZXJzZVBhcmVudFBhdGgoLi4uKTogQ2Fubm90IHRyYXZlcnNlIGZyb20gYW5kIHRvIHRoZSBzYW1lIElELCBgJXNgLicsIHN0YXJ0KSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIHZhciB0cmF2ZXJzZVVwID0gaXNBbmNlc3RvcklET2Yoc3RvcCwgc3RhcnQpO1xuICAhKHRyYXZlcnNlVXAgfHwgaXNBbmNlc3RvcklET2Yoc3RhcnQsIHN0b3ApKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICd0cmF2ZXJzZVBhcmVudFBhdGgoJXMsICVzLCAuLi4pOiBDYW5ub3QgdHJhdmVyc2UgZnJvbSB0d28gSURzIHRoYXQgZG8gJyArICdub3QgaGF2ZSBhIHBhcmVudCBwYXRoLicsIHN0YXJ0LCBzdG9wKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIC8vIFRyYXZlcnNlIGZyb20gYHN0YXJ0YCB0byBgc3RvcGAgb25lIGRlcHRoIGF0IGEgdGltZS5cbiAgdmFyIGRlcHRoID0gMDtcbiAgdmFyIHRyYXZlcnNlID0gdHJhdmVyc2VVcCA/IGdldFBhcmVudElEIDogZ2V0TmV4dERlc2NlbmRhbnRJRDtcbiAgZm9yICh2YXIgaWQgPSBzdGFydDs7IC8qIHVudGlsIGJyZWFrICovaWQgPSB0cmF2ZXJzZShpZCwgc3RvcCkpIHtcbiAgICB2YXIgcmV0O1xuICAgIGlmICgoIXNraXBGaXJzdCB8fCBpZCAhPT0gc3RhcnQpICYmICghc2tpcExhc3QgfHwgaWQgIT09IHN0b3ApKSB7XG4gICAgICByZXQgPSBjYihpZCwgdHJhdmVyc2VVcCwgYXJnKTtcbiAgICB9XG4gICAgaWYgKHJldCA9PT0gZmFsc2UgfHwgaWQgPT09IHN0b3ApIHtcbiAgICAgIC8vIE9ubHkgYnJlYWsgLy9hZnRlci8vIHZpc2l0aW5nIGBzdG9wYC5cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAhKGRlcHRoKysgPCBNQVhfVFJFRV9ERVBUSCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndHJhdmVyc2VQYXJlbnRQYXRoKCVzLCAlcywgLi4uKTogRGV0ZWN0ZWQgYW4gaW5maW5pdGUgbG9vcCB3aGlsZSAnICsgJ3RyYXZlcnNpbmcgdGhlIFJlYWN0IERPTSBJRCB0cmVlLiBUaGlzIG1heSBiZSBkdWUgdG8gbWFsZm9ybWVkIElEczogJXMnLCBzdGFydCwgc3RvcCwgaWQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIE1hbmFnZXMgdGhlIElEcyBhc3NpZ25lZCB0byBET00gcmVwcmVzZW50YXRpb25zIG9mIFJlYWN0IGNvbXBvbmVudHMuIFRoaXNcbiAqIHVzZXMgYSBzcGVjaWZpYyBzY2hlbWUgaW4gb3JkZXIgdG8gdHJhdmVyc2UgdGhlIERPTSBlZmZpY2llbnRseSAoZS5nLiBpblxuICogb3JkZXIgdG8gc2ltdWxhdGUgZXZlbnRzKS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIFJlYWN0SW5zdGFuY2VIYW5kbGVzID0ge1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgUmVhY3Qgcm9vdCBJRFxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgUmVhY3Qgcm9vdCBJRC5cbiAgICovXG4gIGNyZWF0ZVJlYWN0Um9vdElEOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldFJlYWN0Um9vdElEU3RyaW5nKFJlYWN0Um9vdEluZGV4LmNyZWF0ZVJlYWN0Um9vdEluZGV4KCkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgUmVhY3QgSUQgYnkgam9pbmluZyBhIHJvb3QgSUQgd2l0aCBhIG5hbWUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByb290SUQgUm9vdCBJRCBvZiBhIHBhcmVudCBjb21wb25lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEEgY29tcG9uZW50J3MgbmFtZSAoYXMgZmxhdHRlbmVkIGNoaWxkcmVuKS5cbiAgICogQHJldHVybiB7c3RyaW5nfSBBIFJlYWN0IElELlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNyZWF0ZVJlYWN0SUQ6IGZ1bmN0aW9uIChyb290SUQsIG5hbWUpIHtcbiAgICByZXR1cm4gcm9vdElEICsgbmFtZTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgRE9NIElEIG9mIHRoZSBSZWFjdCBjb21wb25lbnQgdGhhdCBpcyB0aGUgcm9vdCBvZiB0aGUgdHJlZSB0aGF0XG4gICAqIGNvbnRhaW5zIHRoZSBSZWFjdCBjb21wb25lbnQgd2l0aCB0aGUgc3VwcGxpZWQgRE9NIElELlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgRE9NIElEIG9mIGEgUmVhY3QgY29tcG9uZW50LlxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfSBET00gSUQgb2YgdGhlIFJlYWN0IGNvbXBvbmVudCB0aGF0IGlzIHRoZSByb290LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldFJlYWN0Um9vdElERnJvbU5vZGVJRDogZnVuY3Rpb24gKGlkKSB7XG4gICAgaWYgKGlkICYmIGlkLmNoYXJBdCgwKSA9PT0gU0VQQVJBVE9SICYmIGlkLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciBpbmRleCA9IGlkLmluZGV4T2YoU0VQQVJBVE9SLCAxKTtcbiAgICAgIHJldHVybiBpbmRleCA+IC0xID8gaWQuc3Vic3RyKDAsIGluZGV4KSA6IGlkO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogVHJhdmVyc2VzIHRoZSBJRCBoaWVyYXJjaHkgYW5kIGludm9rZXMgdGhlIHN1cHBsaWVkIGBjYmAgb24gYW55IElEcyB0aGF0XG4gICAqIHNob3VsZCB3b3VsZCByZWNlaXZlIGEgYG1vdXNlRW50ZXJgIG9yIGBtb3VzZUxlYXZlYCBldmVudC5cbiAgICpcbiAgICogTk9URTogRG9lcyBub3QgaW52b2tlIHRoZSBjYWxsYmFjayBvbiB0aGUgbmVhcmVzdCBjb21tb24gYW5jZXN0b3IgYmVjYXVzZVxuICAgKiBub3RoaW5nIFwiZW50ZXJlZFwiIG9yIFwibGVmdFwiIHRoYXQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxlYXZlSUQgSUQgYmVpbmcgbGVmdC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGVudGVySUQgSUQgYmVpbmcgZW50ZXJlZC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgQ2FsbGJhY2sgdG8gaW52b2tlIG9uIGVhY2ggZW50ZXJlZC9sZWZ0IElELlxuICAgKiBAcGFyYW0geyp9IHVwQXJnIEFyZ3VtZW50IHRvIGludm9rZSB0aGUgY2FsbGJhY2sgd2l0aCBvbiBsZWZ0IElEcy5cbiAgICogQHBhcmFtIHsqfSBkb3duQXJnIEFyZ3VtZW50IHRvIGludm9rZSB0aGUgY2FsbGJhY2sgd2l0aCBvbiBlbnRlcmVkIElEcy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICB0cmF2ZXJzZUVudGVyTGVhdmU6IGZ1bmN0aW9uIChsZWF2ZUlELCBlbnRlcklELCBjYiwgdXBBcmcsIGRvd25BcmcpIHtcbiAgICB2YXIgYW5jZXN0b3JJRCA9IGdldEZpcnN0Q29tbW9uQW5jZXN0b3JJRChsZWF2ZUlELCBlbnRlcklEKTtcbiAgICBpZiAoYW5jZXN0b3JJRCAhPT0gbGVhdmVJRCkge1xuICAgICAgdHJhdmVyc2VQYXJlbnRQYXRoKGxlYXZlSUQsIGFuY2VzdG9ySUQsIGNiLCB1cEFyZywgZmFsc2UsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoYW5jZXN0b3JJRCAhPT0gZW50ZXJJRCkge1xuICAgICAgdHJhdmVyc2VQYXJlbnRQYXRoKGFuY2VzdG9ySUQsIGVudGVySUQsIGNiLCBkb3duQXJnLCB0cnVlLCBmYWxzZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTaW11bGF0ZXMgdGhlIHRyYXZlcnNhbCBvZiBhIHR3by1waGFzZSwgY2FwdHVyZS9idWJibGUgZXZlbnQgZGlzcGF0Y2guXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgdHJhdmVyc2FsIGhhcHBlbnMgb24gSURzIHdpdGhvdXQgdG91Y2hpbmcgdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldElEIElEIG9mIHRoZSB0YXJnZXQgbm9kZS5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgQ2FsbGJhY2sgdG8gaW52b2tlLlxuICAgKiBAcGFyYW0geyp9IGFyZyBBcmd1bWVudCB0byBpbnZva2UgdGhlIGNhbGxiYWNrIHdpdGguXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdHJhdmVyc2VUd29QaGFzZTogZnVuY3Rpb24gKHRhcmdldElELCBjYiwgYXJnKSB7XG4gICAgaWYgKHRhcmdldElEKSB7XG4gICAgICB0cmF2ZXJzZVBhcmVudFBhdGgoJycsIHRhcmdldElELCBjYiwgYXJnLCB0cnVlLCBmYWxzZSk7XG4gICAgICB0cmF2ZXJzZVBhcmVudFBhdGgodGFyZ2V0SUQsICcnLCBjYiwgYXJnLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIGB0cmF2ZXJzZVR3b1BoYXNlYCBidXQgc2tpcHMgdGhlIGB0YXJnZXRJRGAuXG4gICAqL1xuICB0cmF2ZXJzZVR3b1BoYXNlU2tpcFRhcmdldDogZnVuY3Rpb24gKHRhcmdldElELCBjYiwgYXJnKSB7XG4gICAgaWYgKHRhcmdldElEKSB7XG4gICAgICB0cmF2ZXJzZVBhcmVudFBhdGgoJycsIHRhcmdldElELCBjYiwgYXJnLCB0cnVlLCB0cnVlKTtcbiAgICAgIHRyYXZlcnNlUGFyZW50UGF0aCh0YXJnZXRJRCwgJycsIGNiLCBhcmcsIHRydWUsIHRydWUpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVHJhdmVyc2UgYSBub2RlIElELCBjYWxsaW5nIHRoZSBzdXBwbGllZCBgY2JgIGZvciBlYWNoIGFuY2VzdG9yIElELiBGb3JcbiAgICogZXhhbXBsZSwgcGFzc2luZyBgLjAuJHJvdy0wLjFgIHdvdWxkIHJlc3VsdCBpbiBgY2JgIGdldHRpbmcgY2FsbGVkXG4gICAqIHdpdGggYC4wYCwgYC4wLiRyb3ctMGAsIGFuZCBgLjAuJHJvdy0wLjFgLlxuICAgKlxuICAgKiBOT1RFOiBUaGlzIHRyYXZlcnNhbCBoYXBwZW5zIG9uIElEcyB3aXRob3V0IHRvdWNoaW5nIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRJRCBJRCBvZiB0aGUgdGFyZ2V0IG5vZGUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIENhbGxiYWNrIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSBhcmcgQXJndW1lbnQgdG8gaW52b2tlIHRoZSBjYWxsYmFjayB3aXRoLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHRyYXZlcnNlQW5jZXN0b3JzOiBmdW5jdGlvbiAodGFyZ2V0SUQsIGNiLCBhcmcpIHtcbiAgICB0cmF2ZXJzZVBhcmVudFBhdGgoJycsIHRhcmdldElELCBjYiwgYXJnLCB0cnVlLCBmYWxzZSk7XG4gIH0sXG5cbiAgZ2V0Rmlyc3RDb21tb25BbmNlc3RvcklEOiBnZXRGaXJzdENvbW1vbkFuY2VzdG9ySUQsXG5cbiAgLyoqXG4gICAqIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXROZXh0RGVzY2VuZGFudElEOiBnZXROZXh0RGVzY2VuZGFudElELFxuXG4gIGlzQW5jZXN0b3JJRE9mOiBpc0FuY2VzdG9ySURPZixcblxuICBTRVBBUkFUT1I6IFNFUEFSQVRPUlxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW5zdGFuY2VIYW5kbGVzOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBFdmVudFBsdWdpbkh1YlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50UGx1Z2luUmVnaXN0cnkgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luUmVnaXN0cnknKTtcbnZhciBFdmVudFBsdWdpblV0aWxzID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpblV0aWxzJyk7XG52YXIgUmVhY3RFcnJvclV0aWxzID0gcmVxdWlyZSgnLi9SZWFjdEVycm9yVXRpbHMnKTtcblxudmFyIGFjY3VtdWxhdGVJbnRvID0gcmVxdWlyZSgnLi9hY2N1bXVsYXRlSW50bycpO1xudmFyIGZvckVhY2hBY2N1bXVsYXRlZCA9IHJlcXVpcmUoJy4vZm9yRWFjaEFjY3VtdWxhdGVkJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuLyoqXG4gKiBJbnRlcm5hbCBzdG9yZSBmb3IgZXZlbnQgbGlzdGVuZXJzXG4gKi9cbnZhciBsaXN0ZW5lckJhbmsgPSB7fTtcblxuLyoqXG4gKiBJbnRlcm5hbCBxdWV1ZSBvZiBldmVudHMgdGhhdCBoYXZlIGFjY3VtdWxhdGVkIHRoZWlyIGRpc3BhdGNoZXMgYW5kIGFyZVxuICogd2FpdGluZyB0byBoYXZlIHRoZWlyIGRpc3BhdGNoZXMgZXhlY3V0ZWQuXG4gKi9cbnZhciBldmVudFF1ZXVlID0gbnVsbDtcblxuLyoqXG4gKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGFuZCByZWxlYXNlcyBpdCBiYWNrIGludG8gdGhlIHBvb2wsIHVubGVzcyBwZXJzaXN0ZW50LlxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gZXZlbnQgU3ludGhldGljIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNpbXVsYXRlZCBJZiB0aGUgZXZlbnQgaXMgc2ltdWxhdGVkIChjaGFuZ2VzIGV4biBiZWhhdmlvcilcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UgPSBmdW5jdGlvbiAoZXZlbnQsIHNpbXVsYXRlZCkge1xuICBpZiAoZXZlbnQpIHtcbiAgICBFdmVudFBsdWdpblV0aWxzLmV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCwgc2ltdWxhdGVkKTtcblxuICAgIGlmICghZXZlbnQuaXNQZXJzaXN0ZW50KCkpIHtcbiAgICAgIGV2ZW50LmNvbnN0cnVjdG9yLnJlbGVhc2UoZXZlbnQpO1xuICAgIH1cbiAgfVxufTtcbnZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQgPSBmdW5jdGlvbiAoZSkge1xuICByZXR1cm4gZXhlY3V0ZURpc3BhdGNoZXNBbmRSZWxlYXNlKGUsIHRydWUpO1xufTtcbnZhciBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VUb3BMZXZlbCA9IGZ1bmN0aW9uIChlKSB7XG4gIHJldHVybiBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2UoZSwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiAtIGBJbnN0YW5jZUhhbmRsZWA6IFtyZXF1aXJlZF0gTW9kdWxlIHRoYXQgcGVyZm9ybXMgbG9naWNhbCB0cmF2ZXJzYWxzIG9mIERPTVxuICogICBoaWVyYXJjaHkgZ2l2ZW4gaWRzIG9mIHRoZSBsb2dpY2FsIERPTSBlbGVtZW50cyBpbnZvbHZlZC5cbiAqL1xudmFyIEluc3RhbmNlSGFuZGxlID0gbnVsbDtcblxuZnVuY3Rpb24gdmFsaWRhdGVJbnN0YW5jZUhhbmRsZSgpIHtcbiAgdmFyIHZhbGlkID0gSW5zdGFuY2VIYW5kbGUgJiYgSW5zdGFuY2VIYW5kbGUudHJhdmVyc2VUd29QaGFzZSAmJiBJbnN0YW5jZUhhbmRsZS50cmF2ZXJzZUVudGVyTGVhdmU7XG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHZhbGlkLCAnSW5zdGFuY2VIYW5kbGUgbm90IGluamVjdGVkIGJlZm9yZSB1c2UhJykgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogVGhpcyBpcyBhIHVuaWZpZWQgaW50ZXJmYWNlIGZvciBldmVudCBwbHVnaW5zIHRvIGJlIGluc3RhbGxlZCBhbmQgY29uZmlndXJlZC5cbiAqXG4gKiBFdmVudCBwbHVnaW5zIGNhbiBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICpcbiAqICAgYGV4dHJhY3RFdmVudHNgIHtmdW5jdGlvbihzdHJpbmcsIERPTUV2ZW50VGFyZ2V0LCBzdHJpbmcsIG9iamVjdCk6ICp9XG4gKiAgICAgUmVxdWlyZWQuIFdoZW4gYSB0b3AtbGV2ZWwgZXZlbnQgaXMgZmlyZWQsIHRoaXMgbWV0aG9kIGlzIGV4cGVjdGVkIHRvXG4gKiAgICAgZXh0cmFjdCBzeW50aGV0aWMgZXZlbnRzIHRoYXQgd2lsbCBpbiB0dXJuIGJlIHF1ZXVlZCBhbmQgZGlzcGF0Y2hlZC5cbiAqXG4gKiAgIGBldmVudFR5cGVzYCB7b2JqZWN0fVxuICogICAgIE9wdGlvbmFsLCBwbHVnaW5zIHRoYXQgZmlyZSBldmVudHMgbXVzdCBwdWJsaXNoIGEgbWFwcGluZyBvZiByZWdpc3RyYXRpb25cbiAqICAgICBuYW1lcyB0aGF0IGFyZSB1c2VkIHRvIHJlZ2lzdGVyIGxpc3RlbmVycy4gVmFsdWVzIG9mIHRoaXMgbWFwcGluZyBtdXN0XG4gKiAgICAgYmUgb2JqZWN0cyB0aGF0IGNvbnRhaW4gYHJlZ2lzdHJhdGlvbk5hbWVgIG9yIGBwaGFzZWRSZWdpc3RyYXRpb25OYW1lc2AuXG4gKlxuICogICBgZXhlY3V0ZURpc3BhdGNoYCB7ZnVuY3Rpb24ob2JqZWN0LCBmdW5jdGlvbiwgc3RyaW5nKX1cbiAqICAgICBPcHRpb25hbCwgYWxsb3dzIHBsdWdpbnMgdG8gb3ZlcnJpZGUgaG93IGFuIGV2ZW50IGdldHMgZGlzcGF0Y2hlZC4gQnlcbiAqICAgICBkZWZhdWx0LCB0aGUgbGlzdGVuZXIgaXMgc2ltcGx5IGludm9rZWQuXG4gKlxuICogRWFjaCBwbHVnaW4gdGhhdCBpcyBpbmplY3RlZCBpbnRvIGBFdmVudHNQbHVnaW5IdWJgIGlzIGltbWVkaWF0ZWx5IG9wZXJhYmxlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xudmFyIEV2ZW50UGx1Z2luSHViID0ge1xuXG4gIC8qKlxuICAgKiBNZXRob2RzIGZvciBpbmplY3RpbmcgZGVwZW5kZW5jaWVzLlxuICAgKi9cbiAgaW5qZWN0aW9uOiB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gSW5qZWN0ZWRNb3VudFxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBpbmplY3RNb3VudDogRXZlbnRQbHVnaW5VdGlscy5pbmplY3Rpb24uaW5qZWN0TW91bnQsXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gSW5qZWN0ZWRJbnN0YW5jZUhhbmRsZVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBpbmplY3RJbnN0YW5jZUhhbmRsZTogZnVuY3Rpb24gKEluamVjdGVkSW5zdGFuY2VIYW5kbGUpIHtcbiAgICAgIEluc3RhbmNlSGFuZGxlID0gSW5qZWN0ZWRJbnN0YW5jZUhhbmRsZTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhbGlkYXRlSW5zdGFuY2VIYW5kbGUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0SW5zdGFuY2VIYW5kbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhbGlkYXRlSW5zdGFuY2VIYW5kbGUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBJbnN0YW5jZUhhbmRsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHthcnJheX0gSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGluamVjdEV2ZW50UGx1Z2luT3JkZXI6IEV2ZW50UGx1Z2luUmVnaXN0cnkuaW5qZWN0RXZlbnRQbHVnaW5PcmRlcixcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpbmplY3RlZE5hbWVzVG9QbHVnaW5zIE1hcCBmcm9tIG5hbWVzIHRvIHBsdWdpbiBtb2R1bGVzLlxuICAgICAqL1xuICAgIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZTogRXZlbnRQbHVnaW5SZWdpc3RyeS5pbmplY3RFdmVudFBsdWdpbnNCeU5hbWVcblxuICB9LFxuXG4gIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnczogRXZlbnRQbHVnaW5SZWdpc3RyeS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MsXG5cbiAgcmVnaXN0cmF0aW9uTmFtZU1vZHVsZXM6IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMsXG5cbiAgLyoqXG4gICAqIFN0b3JlcyBgbGlzdGVuZXJgIGF0IGBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV1baWRdYC4gSXMgaWRlbXBvdGVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIElEIG9mIHRoZSBET00gZWxlbWVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgTmFtZSBvZiBsaXN0ZW5lciAoZS5nLiBgb25DbGlja2ApLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGNhbGxiYWNrIHRvIHN0b3JlLlxuICAgKi9cbiAgcHV0TGlzdGVuZXI6IGZ1bmN0aW9uIChpZCwgcmVnaXN0cmF0aW9uTmFtZSwgbGlzdGVuZXIpIHtcbiAgICAhKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgJXMgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgdHlwZSAlcycsIHJlZ2lzdHJhdGlvbk5hbWUsIHR5cGVvZiBsaXN0ZW5lcikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lID0gbGlzdGVuZXJCYW5rW3JlZ2lzdHJhdGlvbk5hbWVdIHx8IChsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV0gPSB7fSk7XG4gICAgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWVbaWRdID0gbGlzdGVuZXI7XG5cbiAgICB2YXIgUGx1Z2luTW9kdWxlID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICBpZiAoUGx1Z2luTW9kdWxlICYmIFBsdWdpbk1vZHVsZS5kaWRQdXRMaXN0ZW5lcikge1xuICAgICAgUGx1Z2luTW9kdWxlLmRpZFB1dExpc3RlbmVyKGlkLCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBOYW1lIG9mIGxpc3RlbmVyIChlLmcuIGBvbkNsaWNrYCkuXG4gICAqIEByZXR1cm4gez9mdW5jdGlvbn0gVGhlIHN0b3JlZCBjYWxsYmFjay5cbiAgICovXG4gIGdldExpc3RlbmVyOiBmdW5jdGlvbiAoaWQsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICB2YXIgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUgPSBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgcmV0dXJuIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lICYmIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lW2lkXTtcbiAgfSxcblxuICAvKipcbiAgICogRGVsZXRlcyBhIGxpc3RlbmVyIGZyb20gdGhlIHJlZ2lzdHJhdGlvbiBiYW5rLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVnaXN0cmF0aW9uTmFtZSBOYW1lIG9mIGxpc3RlbmVyIChlLmcuIGBvbkNsaWNrYCkuXG4gICAqL1xuICBkZWxldGVMaXN0ZW5lcjogZnVuY3Rpb24gKGlkLCByZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgdmFyIFBsdWdpbk1vZHVsZSA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgaWYgKFBsdWdpbk1vZHVsZSAmJiBQbHVnaW5Nb2R1bGUud2lsbERlbGV0ZUxpc3RlbmVyKSB7XG4gICAgICBQbHVnaW5Nb2R1bGUud2lsbERlbGV0ZUxpc3RlbmVyKGlkLCByZWdpc3RyYXRpb25OYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgYmFua0ZvclJlZ2lzdHJhdGlvbk5hbWUgPSBsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgLy8gVE9ETzogVGhpcyBzaG91bGQgbmV2ZXIgYmUgbnVsbCAtLSB3aGVuIGlzIGl0P1xuICAgIGlmIChiYW5rRm9yUmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgZGVsZXRlIGJhbmtGb3JSZWdpc3RyYXRpb25OYW1lW2lkXTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgYWxsIGxpc3RlbmVycyBmb3IgdGhlIERPTSBlbGVtZW50IHdpdGggdGhlIHN1cHBsaWVkIElELlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgKi9cbiAgZGVsZXRlQWxsTGlzdGVuZXJzOiBmdW5jdGlvbiAoaWQpIHtcbiAgICBmb3IgKHZhciByZWdpc3RyYXRpb25OYW1lIGluIGxpc3RlbmVyQmFuaykge1xuICAgICAgaWYgKCFsaXN0ZW5lckJhbmtbcmVnaXN0cmF0aW9uTmFtZV1baWRdKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgUGx1Z2luTW9kdWxlID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgIGlmIChQbHVnaW5Nb2R1bGUgJiYgUGx1Z2luTW9kdWxlLndpbGxEZWxldGVMaXN0ZW5lcikge1xuICAgICAgICBQbHVnaW5Nb2R1bGUud2lsbERlbGV0ZUxpc3RlbmVyKGlkLCByZWdpc3RyYXRpb25OYW1lKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIGxpc3RlbmVyQmFua1tyZWdpc3RyYXRpb25OYW1lXVtpZF07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBbGxvd3MgcmVnaXN0ZXJlZCBwbHVnaW5zIGFuIG9wcG9ydHVuaXR5IHRvIGV4dHJhY3QgZXZlbnRzIGZyb20gdG9wLWxldmVsXG4gICAqIG5hdGl2ZSBicm93c2VyIGV2ZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgRXZlbnRDb25zdGFudHNgLlxuICAgKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSB0b3BMZXZlbFRhcmdldCBUaGUgbGlzdGVuaW5nIGNvbXBvbmVudCByb290IG5vZGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFRhcmdldElEIElEIG9mIGB0b3BMZXZlbFRhcmdldGAuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAgICogQHJldHVybiB7Kn0gQW4gYWNjdW11bGF0aW9uIG9mIHN5bnRoZXRpYyBldmVudHMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHZhciBldmVudHM7XG4gICAgdmFyIHBsdWdpbnMgPSBFdmVudFBsdWdpblJlZ2lzdHJ5LnBsdWdpbnM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBOb3QgZXZlcnkgcGx1Z2luIGluIHRoZSBvcmRlcmluZyBtYXkgYmUgbG9hZGVkIGF0IHJ1bnRpbWUuXG4gICAgICB2YXIgcG9zc2libGVQbHVnaW4gPSBwbHVnaW5zW2ldO1xuICAgICAgaWYgKHBvc3NpYmxlUGx1Z2luKSB7XG4gICAgICAgIHZhciBleHRyYWN0ZWRFdmVudHMgPSBwb3NzaWJsZVBsdWdpbi5leHRyYWN0RXZlbnRzKHRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICAgIGlmIChleHRyYWN0ZWRFdmVudHMpIHtcbiAgICAgICAgICBldmVudHMgPSBhY2N1bXVsYXRlSW50byhldmVudHMsIGV4dHJhY3RlZEV2ZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50cztcbiAgfSxcblxuICAvKipcbiAgICogRW5xdWV1ZXMgYSBzeW50aGV0aWMgZXZlbnQgdGhhdCBzaG91bGQgYmUgZGlzcGF0Y2hlZCB3aGVuXG4gICAqIGBwcm9jZXNzRXZlbnRRdWV1ZWAgaXMgaW52b2tlZC5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBldmVudHMgQW4gYWNjdW11bGF0aW9uIG9mIHN5bnRoZXRpYyBldmVudHMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZUV2ZW50czogZnVuY3Rpb24gKGV2ZW50cykge1xuICAgIGlmIChldmVudHMpIHtcbiAgICAgIGV2ZW50UXVldWUgPSBhY2N1bXVsYXRlSW50byhldmVudFF1ZXVlLCBldmVudHMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbGwgc3ludGhldGljIGV2ZW50cyBvbiB0aGUgZXZlbnQgcXVldWUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJvY2Vzc0V2ZW50UXVldWU6IGZ1bmN0aW9uIChzaW11bGF0ZWQpIHtcbiAgICAvLyBTZXQgYGV2ZW50UXVldWVgIHRvIG51bGwgYmVmb3JlIHByb2Nlc3NpbmcgaXQgc28gdGhhdCB3ZSBjYW4gdGVsbCBpZiBtb3JlXG4gICAgLy8gZXZlbnRzIGdldCBlbnF1ZXVlZCB3aGlsZSBwcm9jZXNzaW5nLlxuICAgIHZhciBwcm9jZXNzaW5nRXZlbnRRdWV1ZSA9IGV2ZW50UXVldWU7XG4gICAgZXZlbnRRdWV1ZSA9IG51bGw7XG4gICAgaWYgKHNpbXVsYXRlZCkge1xuICAgICAgZm9yRWFjaEFjY3VtdWxhdGVkKHByb2Nlc3NpbmdFdmVudFF1ZXVlLCBleGVjdXRlRGlzcGF0Y2hlc0FuZFJlbGVhc2VTaW11bGF0ZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JFYWNoQWNjdW11bGF0ZWQocHJvY2Vzc2luZ0V2ZW50UXVldWUsIGV4ZWN1dGVEaXNwYXRjaGVzQW5kUmVsZWFzZVRvcExldmVsKTtcbiAgICB9XG4gICAgISFldmVudFF1ZXVlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3Byb2Nlc3NFdmVudFF1ZXVlKCk6IEFkZGl0aW9uYWwgZXZlbnRzIHdlcmUgZW5xdWV1ZWQgd2hpbGUgcHJvY2Vzc2luZyAnICsgJ2FuIGV2ZW50IHF1ZXVlLiBTdXBwb3J0IGZvciB0aGlzIGhhcyBub3QgeWV0IGJlZW4gaW1wbGVtZW50ZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIC8vIFRoaXMgd291bGQgYmUgYSBnb29kIHRpbWUgdG8gcmV0aHJvdyBpZiBhbnkgb2YgdGhlIGV2ZW50IGhhbmRsZXJzIHRocmV3LlxuICAgIFJlYWN0RXJyb3JVdGlscy5yZXRocm93Q2F1Z2h0RXJyb3IoKTtcbiAgfSxcblxuICAvKipcbiAgICogVGhlc2UgYXJlIG5lZWRlZCBmb3IgdGVzdHMgb25seS4gRG8gbm90IHVzZSFcbiAgICovXG4gIF9fcHVyZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBsaXN0ZW5lckJhbmsgPSB7fTtcbiAgfSxcblxuICBfX2dldExpc3RlbmVyQmFuazogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBsaXN0ZW5lckJhbms7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudFBsdWdpbkh1YjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RJbnN0YW5jZU1hcFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBgUmVhY3RJbnN0YW5jZU1hcGAgbWFpbnRhaW5zIGEgbWFwcGluZyBmcm9tIGEgcHVibGljIGZhY2luZyBzdGF0ZWZ1bFxuICogaW5zdGFuY2UgKGtleSkgYW5kIHRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiAodmFsdWUpLiBUaGlzIGFsbG93cyBwdWJsaWNcbiAqIG1ldGhvZHMgdG8gYWNjZXB0IHRoZSB1c2VyIGZhY2luZyBpbnN0YW5jZSBhcyBhbiBhcmd1bWVudCBhbmQgbWFwIHRoZW0gYmFja1xuICogdG8gaW50ZXJuYWwgbWV0aG9kcy5cbiAqL1xuXG4vLyBUT0RPOiBSZXBsYWNlIHRoaXMgd2l0aCBFUzY6IHZhciBSZWFjdEluc3RhbmNlTWFwID0gbmV3IE1hcCgpO1xudmFyIFJlYWN0SW5zdGFuY2VNYXAgPSB7XG5cbiAgLyoqXG4gICAqIFRoaXMgQVBJIHNob3VsZCBiZSBjYWxsZWQgYGRlbGV0ZWAgYnV0IHdlJ2QgaGF2ZSB0byBtYWtlIHN1cmUgdG8gYWx3YXlzXG4gICAqIHRyYW5zZm9ybSB0aGVzZSB0byBzdHJpbmdzIGZvciBJRSBzdXBwb3J0LiBXaGVuIHRoaXMgdHJhbnNmb3JtIGlzIGZ1bGx5XG4gICAqIHN1cHBvcnRlZCB3ZSBjYW4gcmVuYW1lIGl0LlxuICAgKi9cbiAgcmVtb3ZlOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAga2V5Ll9yZWFjdEludGVybmFsSW5zdGFuY2UgPSB1bmRlZmluZWQ7XG4gIH0sXG5cbiAgZ2V0OiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIGtleS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlO1xuICB9LFxuXG4gIGhhczogZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXkuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSAhPT0gdW5kZWZpbmVkO1xuICB9LFxuXG4gIHNldDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICBrZXkuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSA9IHZhbHVlO1xuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RJbnN0YW5jZU1hcDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZW1wdHlPYmplY3RcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eU9iamVjdCA9IHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eU9iamVjdDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRXZlbnRQcm9wYWdhdG9yc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xudmFyIEV2ZW50UGx1Z2luSHViID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpbkh1YicpO1xuXG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxudmFyIGFjY3VtdWxhdGVJbnRvID0gcmVxdWlyZSgnLi9hY2N1bXVsYXRlSW50bycpO1xudmFyIGZvckVhY2hBY2N1bXVsYXRlZCA9IHJlcXVpcmUoJy4vZm9yRWFjaEFjY3VtdWxhdGVkJyk7XG5cbnZhciBQcm9wYWdhdGlvblBoYXNlcyA9IEV2ZW50Q29uc3RhbnRzLlByb3BhZ2F0aW9uUGhhc2VzO1xudmFyIGdldExpc3RlbmVyID0gRXZlbnRQbHVnaW5IdWIuZ2V0TGlzdGVuZXI7XG5cbi8qKlxuICogU29tZSBldmVudCB0eXBlcyBoYXZlIGEgbm90aW9uIG9mIGRpZmZlcmVudCByZWdpc3RyYXRpb24gbmFtZXMgZm9yIGRpZmZlcmVudFxuICogXCJwaGFzZXNcIiBvZiBwcm9wYWdhdGlvbi4gVGhpcyBmaW5kcyBsaXN0ZW5lcnMgYnkgYSBnaXZlbiBwaGFzZS5cbiAqL1xuZnVuY3Rpb24gbGlzdGVuZXJBdFBoYXNlKGlkLCBldmVudCwgcHJvcGFnYXRpb25QaGFzZSkge1xuICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3Byb3BhZ2F0aW9uUGhhc2VdO1xuICByZXR1cm4gZ2V0TGlzdGVuZXIoaWQsIHJlZ2lzdHJhdGlvbk5hbWUpO1xufVxuXG4vKipcbiAqIFRhZ3MgYSBgU3ludGhldGljRXZlbnRgIHdpdGggZGlzcGF0Y2hlZCBsaXN0ZW5lcnMuIENyZWF0aW5nIHRoaXMgZnVuY3Rpb25cbiAqIGhlcmUsIGFsbG93cyB1cyB0byBub3QgaGF2ZSB0byBiaW5kIG9yIGNyZWF0ZSBmdW5jdGlvbnMgZm9yIGVhY2ggZXZlbnQuXG4gKiBNdXRhdGluZyB0aGUgZXZlbnQncyBtZW1iZXJzIGFsbG93cyB1cyB0byBub3QgaGF2ZSB0byBjcmVhdGUgYSB3cmFwcGluZ1xuICogXCJkaXNwYXRjaFwiIG9iamVjdCB0aGF0IHBhaXJzIHRoZSBldmVudCB3aXRoIHRoZSBsaXN0ZW5lci5cbiAqL1xuZnVuY3Rpb24gYWNjdW11bGF0ZURpcmVjdGlvbmFsRGlzcGF0Y2hlcyhkb21JRCwgdXB3YXJkcywgZXZlbnQpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhkb21JRCwgJ0Rpc3BhdGNoaW5nIGlkIG11c3Qgbm90IGJlIG51bGwnKSA6IHVuZGVmaW5lZDtcbiAgfVxuICB2YXIgcGhhc2UgPSB1cHdhcmRzID8gUHJvcGFnYXRpb25QaGFzZXMuYnViYmxlZCA6IFByb3BhZ2F0aW9uUGhhc2VzLmNhcHR1cmVkO1xuICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lckF0UGhhc2UoZG9tSUQsIGV2ZW50LCBwaGFzZSk7XG4gIGlmIChsaXN0ZW5lcikge1xuICAgIGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgIGV2ZW50Ll9kaXNwYXRjaElEcyA9IGFjY3VtdWxhdGVJbnRvKGV2ZW50Ll9kaXNwYXRjaElEcywgZG9tSUQpO1xuICB9XG59XG5cbi8qKlxuICogQ29sbGVjdCBkaXNwYXRjaGVzIChtdXN0IGJlIGVudGlyZWx5IGNvbGxlY3RlZCBiZWZvcmUgZGlzcGF0Y2hpbmcgLSBzZWUgdW5pdFxuICogdGVzdHMpLiBMYXppbHkgYWxsb2NhdGUgdGhlIGFycmF5IHRvIGNvbnNlcnZlIG1lbW9yeS4gIFdlIG11c3QgbG9vcCB0aHJvdWdoXG4gKiBlYWNoIGV2ZW50IGFuZCBwZXJmb3JtIHRoZSB0cmF2ZXJzYWwgZm9yIGVhY2ggb25lLiBXZSBjYW5ub3QgcGVyZm9ybSBhXG4gKiBzaW5nbGUgdHJhdmVyc2FsIGZvciB0aGUgZW50aXJlIGNvbGxlY3Rpb24gb2YgZXZlbnRzIGJlY2F1c2UgZWFjaCBldmVudCBtYXlcbiAqIGhhdmUgYSBkaWZmZXJlbnQgdGFyZ2V0LlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlKGV2ZW50KSB7XG4gIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgIEV2ZW50UGx1Z2luSHViLmluamVjdGlvbi5nZXRJbnN0YW5jZUhhbmRsZSgpLnRyYXZlcnNlVHdvUGhhc2UoZXZlbnQuZGlzcGF0Y2hNYXJrZXIsIGFjY3VtdWxhdGVEaXJlY3Rpb25hbERpc3BhdGNoZXMsIGV2ZW50KTtcbiAgfVxufVxuXG4vKipcbiAqIFNhbWUgYXMgYGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVgLCBidXQgc2tpcHMgb3ZlciB0aGUgdGFyZ2V0SUQuXG4gKi9cbmZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTaW5nbGVTa2lwVGFyZ2V0KGV2ZW50KSB7XG4gIGlmIChldmVudCAmJiBldmVudC5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcykge1xuICAgIEV2ZW50UGx1Z2luSHViLmluamVjdGlvbi5nZXRJbnN0YW5jZUhhbmRsZSgpLnRyYXZlcnNlVHdvUGhhc2VTa2lwVGFyZ2V0KGV2ZW50LmRpc3BhdGNoTWFya2VyLCBhY2N1bXVsYXRlRGlyZWN0aW9uYWxEaXNwYXRjaGVzLCBldmVudCk7XG4gIH1cbn1cblxuLyoqXG4gKiBBY2N1bXVsYXRlcyB3aXRob3V0IHJlZ2FyZCB0byBkaXJlY3Rpb24sIGRvZXMgbm90IGxvb2sgZm9yIHBoYXNlZFxuICogcmVnaXN0cmF0aW9uIG5hbWVzLiBTYW1lIGFzIGBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZWAgYnV0IHdpdGhvdXRcbiAqIHJlcXVpcmluZyB0aGF0IHRoZSBgZGlzcGF0Y2hNYXJrZXJgIGJlIHRoZSBzYW1lIGFzIHRoZSBkaXNwYXRjaGVkIElELlxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlzcGF0Y2hlcyhpZCwgaWdub3JlZERpcmVjdGlvbiwgZXZlbnQpIHtcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50LmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgdmFyIGxpc3RlbmVyID0gZ2V0TGlzdGVuZXIoaWQsIHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gYWNjdW11bGF0ZUludG8oZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gICAgICBldmVudC5fZGlzcGF0Y2hJRHMgPSBhY2N1bXVsYXRlSW50byhldmVudC5fZGlzcGF0Y2hJRHMsIGlkKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2N1bXVsYXRlcyBkaXNwYXRjaGVzIG9uIGFuIGBTeW50aGV0aWNFdmVudGAsIGJ1dCBvbmx5IGZvciB0aGVcbiAqIGBkaXNwYXRjaE1hcmtlcmAuXG4gKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudFxuICovXG5mdW5jdGlvbiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlc1NpbmdsZShldmVudCkge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgIGFjY3VtdWxhdGVEaXNwYXRjaGVzKGV2ZW50LmRpc3BhdGNoTWFya2VyLCBudWxsLCBldmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudHMpIHtcbiAgZm9yRWFjaEFjY3VtdWxhdGVkKGV2ZW50cywgYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NpbmdsZSk7XG59XG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZURpc3BhdGNoZXNTa2lwVGFyZ2V0KGV2ZW50cykge1xuICBmb3JFYWNoQWNjdW11bGF0ZWQoZXZlbnRzLCBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2luZ2xlU2tpcFRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVFbnRlckxlYXZlRGlzcGF0Y2hlcyhsZWF2ZSwgZW50ZXIsIGZyb21JRCwgdG9JRCkge1xuICBFdmVudFBsdWdpbkh1Yi5pbmplY3Rpb24uZ2V0SW5zdGFuY2VIYW5kbGUoKS50cmF2ZXJzZUVudGVyTGVhdmUoZnJvbUlELCB0b0lELCBhY2N1bXVsYXRlRGlzcGF0Y2hlcywgbGVhdmUsIGVudGVyKTtcbn1cblxuZnVuY3Rpb24gYWNjdW11bGF0ZURpcmVjdERpc3BhdGNoZXMoZXZlbnRzKSB7XG4gIGZvckVhY2hBY2N1bXVsYXRlZChldmVudHMsIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzU2luZ2xlKTtcbn1cblxuLyoqXG4gKiBBIHNtYWxsIHNldCBvZiBwcm9wYWdhdGlvbiBwYXR0ZXJucywgZWFjaCBvZiB3aGljaCB3aWxsIGFjY2VwdCBhIHNtYWxsIGFtb3VudFxuICogb2YgaW5mb3JtYXRpb24sIGFuZCBnZW5lcmF0ZSBhIHNldCBvZiBcImRpc3BhdGNoIHJlYWR5IGV2ZW50IG9iamVjdHNcIiAtIHdoaWNoXG4gKiBhcmUgc2V0cyBvZiBldmVudHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBhbm5vdGF0ZWQgd2l0aCBhIHNldCBvZiBkaXNwYXRjaGVkXG4gKiBsaXN0ZW5lciBmdW5jdGlvbnMvaWRzLiBUaGUgQVBJIGlzIGRlc2lnbmVkIHRoaXMgd2F5IHRvIGRpc2NvdXJhZ2UgdGhlc2VcbiAqIHByb3BhZ2F0aW9uIHN0cmF0ZWdpZXMgZnJvbSBhY3R1YWxseSBleGVjdXRpbmcgdGhlIGRpc3BhdGNoZXMsIHNpbmNlIHdlXG4gKiBhbHdheXMgd2FudCB0byBjb2xsZWN0IHRoZSBlbnRpcmUgc2V0IG9mIGRpc3BhdGNoZXMgYmVmb3JlIGV4ZWN1dGluZyBldmVudCBhXG4gKiBzaW5nbGUgb25lLlxuICpcbiAqIEBjb25zdHJ1Y3RvciBFdmVudFByb3BhZ2F0b3JzXG4gKi9cbnZhciBFdmVudFByb3BhZ2F0b3JzID0ge1xuICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzOiBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzLFxuICBhY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzU2tpcFRhcmdldDogYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlc1NraXBUYXJnZXQsXG4gIGFjY3VtdWxhdGVEaXJlY3REaXNwYXRjaGVzOiBhY2N1bXVsYXRlRGlyZWN0RGlzcGF0Y2hlcyxcbiAgYWNjdW11bGF0ZUVudGVyTGVhdmVEaXNwYXRjaGVzOiBhY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXNcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRQcm9wYWdhdG9yczsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgU3ludGhldGljVUlFdmVudFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcblxudmFyIGdldEV2ZW50VGFyZ2V0ID0gcmVxdWlyZSgnLi9nZXRFdmVudFRhcmdldCcpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgVUlFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBVSUV2ZW50SW50ZXJmYWNlID0ge1xuICB2aWV3OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudmlldykge1xuICAgICAgcmV0dXJuIGV2ZW50LnZpZXc7XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KGV2ZW50KTtcbiAgICBpZiAodGFyZ2V0ICE9IG51bGwgJiYgdGFyZ2V0LndpbmRvdyA9PT0gdGFyZ2V0KSB7XG4gICAgICAvLyB0YXJnZXQgaXMgYSB3aW5kb3cgb2JqZWN0XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIHZhciBkb2MgPSB0YXJnZXQub3duZXJEb2N1bWVudDtcbiAgICAvLyBUT0RPOiBGaWd1cmUgb3V0IHdoeSBgb3duZXJEb2N1bWVudGAgaXMgc29tZXRpbWVzIHVuZGVmaW5lZCBpbiBJRTguXG4gICAgaWYgKGRvYykge1xuICAgICAgcmV0dXJuIGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgfSxcbiAgZGV0YWlsOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gZXZlbnQuZGV0YWlsIHx8IDA7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIENvbmZpZ3VyYXRpb24gdXNlZCB0byBkaXNwYXRjaCB0aGlzIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGRpc3BhdGNoTWFya2VyIE1hcmtlciBpZGVudGlmeWluZyB0aGUgZXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQGV4dGVuZHMge1N5bnRoZXRpY0V2ZW50fVxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNVSUV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIFN5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuXG5TeW50aGV0aWNFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljVUlFdmVudCwgVUlFdmVudEludGVyZmFjZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljVUlFdmVudDsiLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUga2V5TWlycm9yXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJy4vaW52YXJpYW50Jyk7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhbiBlbnVtZXJhdGlvbiB3aXRoIGtleXMgZXF1YWwgdG8gdGhlaXIgdmFsdWUuXG4gKlxuICogRm9yIGV4YW1wbGU6XG4gKlxuICogICB2YXIgQ09MT1JTID0ga2V5TWlycm9yKHtibHVlOiBudWxsLCByZWQ6IG51bGx9KTtcbiAqICAgdmFyIG15Q29sb3IgPSBDT0xPUlMuYmx1ZTtcbiAqICAgdmFyIGlzQ29sb3JWYWxpZCA9ICEhQ09MT1JTW215Q29sb3JdO1xuICpcbiAqIFRoZSBsYXN0IGxpbmUgY291bGQgbm90IGJlIHBlcmZvcm1lZCBpZiB0aGUgdmFsdWVzIG9mIHRoZSBnZW5lcmF0ZWQgZW51bSB3ZXJlXG4gKiBub3QgZXF1YWwgdG8gdGhlaXIga2V5cy5cbiAqXG4gKiAgIElucHV0OiAge2tleTE6IHZhbDEsIGtleTI6IHZhbDJ9XG4gKiAgIE91dHB1dDoge2tleTE6IGtleTEsIGtleTI6IGtleTJ9XG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9ialxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG52YXIga2V5TWlycm9yID0gZnVuY3Rpb24gKG9iaikge1xuICB2YXIgcmV0ID0ge307XG4gIHZhciBrZXk7XG4gICEob2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmICFBcnJheS5pc0FycmF5KG9iaikpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2tleU1pcnJvciguLi4pOiBBcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXRba2V5XSA9IGtleTtcbiAgfVxuICByZXR1cm4gcmV0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlNaXJyb3I7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIHNldElubmVySFRNTFxuICovXG5cbi8qIGdsb2JhbHMgTVNBcHAgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgV0hJVEVTUEFDRV9URVNUID0gL15bIFxcclxcblxcdFxcZl0vO1xudmFyIE5PTlZJU0lCTEVfVEVTVCA9IC88KCEtLXxsaW5rfG5vc2NyaXB0fG1ldGF8c2NyaXB0fHN0eWxlKVsgXFxyXFxuXFx0XFxmXFwvPl0vO1xuXG4vKipcbiAqIFNldCB0aGUgaW5uZXJIVE1MIHByb3BlcnR5IG9mIGEgbm9kZSwgZW5zdXJpbmcgdGhhdCB3aGl0ZXNwYWNlIGlzIHByZXNlcnZlZFxuICogZXZlbiBpbiBJRTguXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuICogQGludGVybmFsXG4gKi9cbnZhciBzZXRJbm5lckhUTUwgPSBmdW5jdGlvbiAobm9kZSwgaHRtbCkge1xuICBub2RlLmlubmVySFRNTCA9IGh0bWw7XG59O1xuXG4vLyBXaW44IGFwcHM6IEFsbG93IGFsbCBodG1sIHRvIGJlIGluc2VydGVkXG5pZiAodHlwZW9mIE1TQXBwICE9PSAndW5kZWZpbmVkJyAmJiBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbikge1xuICBzZXRJbm5lckhUTUwgPSBmdW5jdGlvbiAobm9kZSwgaHRtbCkge1xuICAgIE1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIG5vZGUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICB9KTtcbiAgfTtcbn1cblxuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAvLyBJRTg6IFdoZW4gdXBkYXRpbmcgYSBqdXN0IGNyZWF0ZWQgbm9kZSB3aXRoIGlubmVySFRNTCBvbmx5IGxlYWRpbmdcbiAgLy8gd2hpdGVzcGFjZSBpcyByZW1vdmVkLiBXaGVuIHVwZGF0aW5nIGFuIGV4aXN0aW5nIG5vZGUgd2l0aCBpbm5lckhUTUxcbiAgLy8gd2hpdGVzcGFjZSBpbiByb290IFRleHROb2RlcyBpcyBhbHNvIGNvbGxhcHNlZC5cbiAgLy8gQHNlZSBxdWlya3Ntb2RlLm9yZy9idWdyZXBvcnRzL2FyY2hpdmVzLzIwMDQvMTEvaW5uZXJodG1sX2FuZF90Lmh0bWxcblxuICAvLyBGZWF0dXJlIGRldGVjdGlvbjsgb25seSBJRTggaXMga25vd24gdG8gYmVoYXZlIGltcHJvcGVybHkgbGlrZSB0aGlzLlxuICB2YXIgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGVzdEVsZW1lbnQuaW5uZXJIVE1MID0gJyAnO1xuICBpZiAodGVzdEVsZW1lbnQuaW5uZXJIVE1MID09PSAnJykge1xuICAgIHNldElubmVySFRNTCA9IGZ1bmN0aW9uIChub2RlLCBodG1sKSB7XG4gICAgICAvLyBNYWdpYyB0aGVvcnk6IElFOCBzdXBwb3NlZGx5IGRpZmZlcmVudGlhdGVzIGJldHdlZW4gYWRkZWQgYW5kIHVwZGF0ZWRcbiAgICAgIC8vIG5vZGVzIHdoZW4gcHJvY2Vzc2luZyBpbm5lckhUTUwsIGlubmVySFRNTCBvbiB1cGRhdGVkIG5vZGVzIHN1ZmZlcnNcbiAgICAgIC8vIGZyb20gd29yc2Ugd2hpdGVzcGFjZSBiZWhhdmlvci4gUmUtYWRkaW5nIGEgbm9kZSBsaWtlIHRoaXMgdHJpZ2dlcnNcbiAgICAgIC8vIHRoZSBpbml0aWFsIGFuZCBtb3JlIGZhdm9yYWJsZSB3aGl0ZXNwYWNlIGJlaGF2aW9yLlxuICAgICAgLy8gVE9ETzogV2hhdCB0byBkbyBvbiBhIGRldGFjaGVkIG5vZGU/XG4gICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobm9kZSwgbm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIGFsc28gaW1wbGVtZW50IGEgd29ya2Fyb3VuZCBmb3Igbm9uLXZpc2libGUgdGFncyBkaXNhcHBlYXJpbmcgaW50b1xuICAgICAgLy8gdGhpbiBhaXIgb24gSUU4LCB0aGlzIG9ubHkgaGFwcGVucyBpZiB0aGVyZSBpcyBubyB2aXNpYmxlIHRleHRcbiAgICAgIC8vIGluLWZyb250IG9mIHRoZSBub24tdmlzaWJsZSB0YWdzLiBQaWdneWJhY2sgb24gdGhlIHdoaXRlc3BhY2UgZml4XG4gICAgICAvLyBhbmQgc2ltcGx5IGNoZWNrIGlmIGFueSBub24tdmlzaWJsZSB0YWdzIGFwcGVhciBpbiB0aGUgc291cmNlLlxuICAgICAgaWYgKFdISVRFU1BBQ0VfVEVTVC50ZXN0KGh0bWwpIHx8IGh0bWxbMF0gPT09ICc8JyAmJiBOT05WSVNJQkxFX1RFU1QudGVzdChodG1sKSkge1xuICAgICAgICAvLyBSZWNvdmVyIGxlYWRpbmcgd2hpdGVzcGFjZSBieSB0ZW1wb3JhcmlseSBwcmVwZW5kaW5nIGFueSBjaGFyYWN0ZXIuXG4gICAgICAgIC8vIFxcdUZFRkYgaGFzIHRoZSBwb3RlbnRpYWwgYWR2YW50YWdlIG9mIGJlaW5nIHplcm8td2lkdGgvaW52aXNpYmxlLlxuICAgICAgICAvLyBVZ2xpZnlKUyBkcm9wcyBVK0ZFRkYgY2hhcnMgd2hlbiBwYXJzaW5nLCBzbyB1c2UgU3RyaW5nLmZyb21DaGFyQ29kZVxuICAgICAgICAvLyBpbiBob3BlcyB0aGF0IHRoaXMgaXMgcHJlc2VydmVkIGV2ZW4gaWYgXCJcXHVGRUZGXCIgaXMgdHJhbnNmb3JtZWQgdG9cbiAgICAgICAgLy8gdGhlIGFjdHVhbCBVbmljb2RlIGNoYXJhY3RlciAoYnkgQmFiZWwsIGZvciBleGFtcGxlKS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21pc2hvby9VZ2xpZnlKUzIvYmxvYi92Mi40LjIwL2xpYi9wYXJzZS5qcyNMMjE2XG4gICAgICAgIG5vZGUuaW5uZXJIVE1MID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweEZFRkYpICsgaHRtbDtcblxuICAgICAgICAvLyBkZWxldGVEYXRhIGxlYXZlcyBhbiBlbXB0eSBgVGV4dE5vZGVgIHdoaWNoIG9mZnNldHMgdGhlIGluZGV4IG9mIGFsbFxuICAgICAgICAvLyBjaGlsZHJlbi4gRGVmaW5pdGVseSB3YW50IHRvIGF2b2lkIHRoaXMuXG4gICAgICAgIHZhciB0ZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKHRleHROb2RlLmRhdGEubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZCh0ZXh0Tm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dE5vZGUuZGVsZXRlRGF0YSgwLCAxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRJbm5lckhUTUw7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlclxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEVTQ0FQRV9MT09LVVAgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJz4nOiAnJmd0OycsXG4gICc8JzogJyZsdDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgJ1xcJyc6ICcmI3gyNzsnXG59O1xuXG52YXIgRVNDQVBFX1JFR0VYID0gL1smPjxcIiddL2c7XG5cbmZ1bmN0aW9uIGVzY2FwZXIobWF0Y2gpIHtcbiAgcmV0dXJuIEVTQ0FQRV9MT09LVVBbbWF0Y2hdO1xufVxuXG4vKipcbiAqIEVzY2FwZXMgdGV4dCB0byBwcmV2ZW50IHNjcmlwdGluZyBhdHRhY2tzLlxuICpcbiAqIEBwYXJhbSB7Kn0gdGV4dCBUZXh0IHZhbHVlIHRvIGVzY2FwZS5cbiAqIEByZXR1cm4ge3N0cmluZ30gQW4gZXNjYXBlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3Nlcih0ZXh0KSB7XG4gIHJldHVybiAoJycgKyB0ZXh0KS5yZXBsYWNlKEVTQ0FQRV9SRUdFWCwgZXNjYXBlcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXJcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRDb25zdGFudHMgPSByZXF1aXJlKCcuL0V2ZW50Q29uc3RhbnRzJyk7XG52YXIgRXZlbnRQbHVnaW5IdWIgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luSHViJyk7XG52YXIgRXZlbnRQbHVnaW5SZWdpc3RyeSA9IHJlcXVpcmUoJy4vRXZlbnRQbHVnaW5SZWdpc3RyeScpO1xudmFyIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4gPSByZXF1aXJlKCcuL1JlYWN0RXZlbnRFbWl0dGVyTWl4aW4nKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKCcuL1JlYWN0UGVyZicpO1xudmFyIFZpZXdwb3J0TWV0cmljcyA9IHJlcXVpcmUoJy4vVmlld3BvcnRNZXRyaWNzJyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBpc0V2ZW50U3VwcG9ydGVkID0gcmVxdWlyZSgnLi9pc0V2ZW50U3VwcG9ydGVkJyk7XG5cbi8qKlxuICogU3VtbWFyeSBvZiBgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyYCBldmVudCBoYW5kbGluZzpcbiAqXG4gKiAgLSBUb3AtbGV2ZWwgZGVsZWdhdGlvbiBpcyB1c2VkIHRvIHRyYXAgbW9zdCBuYXRpdmUgYnJvd3NlciBldmVudHMuIFRoaXNcbiAqICAgIG1heSBvbmx5IG9jY3VyIGluIHRoZSBtYWluIHRocmVhZCBhbmQgaXMgdGhlIHJlc3BvbnNpYmlsaXR5IG9mXG4gKiAgICBSZWFjdEV2ZW50TGlzdGVuZXIsIHdoaWNoIGlzIGluamVjdGVkIGFuZCBjYW4gdGhlcmVmb3JlIHN1cHBvcnQgcGx1Z2dhYmxlXG4gKiAgICBldmVudCBzb3VyY2VzLiBUaGlzIGlzIHRoZSBvbmx5IHdvcmsgdGhhdCBvY2N1cnMgaW4gdGhlIG1haW4gdGhyZWFkLlxuICpcbiAqICAtIFdlIG5vcm1hbGl6ZSBhbmQgZGUtZHVwbGljYXRlIGV2ZW50cyB0byBhY2NvdW50IGZvciBicm93c2VyIHF1aXJrcy4gVGhpc1xuICogICAgbWF5IGJlIGRvbmUgaW4gdGhlIHdvcmtlciB0aHJlYWQuXG4gKlxuICogIC0gRm9yd2FyZCB0aGVzZSBuYXRpdmUgZXZlbnRzICh3aXRoIHRoZSBhc3NvY2lhdGVkIHRvcC1sZXZlbCB0eXBlIHVzZWQgdG9cbiAqICAgIHRyYXAgaXQpIHRvIGBFdmVudFBsdWdpbkh1YmAsIHdoaWNoIGluIHR1cm4gd2lsbCBhc2sgcGx1Z2lucyBpZiB0aGV5IHdhbnRcbiAqICAgIHRvIGV4dHJhY3QgYW55IHN5bnRoZXRpYyBldmVudHMuXG4gKlxuICogIC0gVGhlIGBFdmVudFBsdWdpbkh1YmAgd2lsbCB0aGVuIHByb2Nlc3MgZWFjaCBldmVudCBieSBhbm5vdGF0aW5nIHRoZW0gd2l0aFxuICogICAgXCJkaXNwYXRjaGVzXCIsIGEgc2VxdWVuY2Ugb2YgbGlzdGVuZXJzIGFuZCBJRHMgdGhhdCBjYXJlIGFib3V0IHRoYXQgZXZlbnQuXG4gKlxuICogIC0gVGhlIGBFdmVudFBsdWdpbkh1YmAgdGhlbiBkaXNwYXRjaGVzIHRoZSBldmVudHMuXG4gKlxuICogT3ZlcnZpZXcgb2YgUmVhY3QgYW5kIHRoZSBldmVudCBzeXN0ZW06XG4gKlxuICogKy0tLS0tLS0tLS0tLSsgICAgLlxuICogfCAgICBET00gICAgIHwgICAgLlxuICogKy0tLS0tLS0tLS0tLSsgICAgLlxuICogICAgICAgfCAgICAgICAgICAgLlxuICogICAgICAgdiAgICAgICAgICAgLlxuICogKy0tLS0tLS0tLS0tLSsgICAgLlxuICogfCBSZWFjdEV2ZW50IHwgICAgLlxuICogfCAgTGlzdGVuZXIgIHwgICAgLlxuICogKy0tLS0tLS0tLS0tLSsgICAgLiAgICAgICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0rXG4gKiAgICAgICB8ICAgICAgICAgICAuICAgICAgICAgICAgICAgKy0tLS0tLS0tK3xTaW1wbGVFdmVudHxcbiAqICAgICAgIHwgICAgICAgICAgIC4gICAgICAgICAgICAgICB8ICAgICAgICAgfFBsdWdpbiAgICAgfFxuICogKy0tLS0tfC0tLS0tLSsgICAgLiAgICAgICAgICAgICAgIHYgICAgICAgICArLS0tLS0tLS0tLS0rXG4gKiB8ICAgICB8ICAgICAgfCAgICAuICAgICstLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0rXG4gKiB8ICAgICArLS0tLS0tLS0tLS0uLS0tPnxFdmVudFBsdWdpbkh1YnwgICAgICAgICAgICAgICAgICAgIHwgICAgRXZlbnQgICB8XG4gKiB8ICAgICAgICAgICAgfCAgICAuICAgIHwgICAgICAgICAgICAgIHwgICAgICstLS0tLS0tLS0tLSsgIHwgUHJvcGFnYXRvcnN8XG4gKiB8IFJlYWN0RXZlbnQgfCAgICAuICAgIHwgICAgICAgICAgICAgIHwgICAgIHxUYXBFdmVudCAgIHwgIHwtLS0tLS0tLS0tLS18XG4gKiB8ICBFbWl0dGVyICAgfCAgICAuICAgIHwgICAgICAgICAgICAgIHw8LS0tK3xQbHVnaW4gICAgIHwgIHxvdGhlciBwbHVnaW58XG4gKiB8ICAgICAgICAgICAgfCAgICAuICAgIHwgICAgICAgICAgICAgIHwgICAgICstLS0tLS0tLS0tLSsgIHwgIHV0aWxpdGllcyB8XG4gKiB8ICAgICArLS0tLS0tLS0tLS0uLS0tPnwgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0rXG4gKiB8ICAgICB8ICAgICAgfCAgICAuICAgICstLS0tLS0tLS0tLS0tLStcbiAqICstLS0tLXwtLS0tLS0rICAgIC4gICAgICAgICAgICAgICAgXiAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogICAgICAgfCAgICAgICAgICAgLiAgICAgICAgICAgICAgICB8ICAgICAgICB8RW50ZXIvTGVhdmV8XG4gKiAgICAgICArICAgICAgICAgICAuICAgICAgICAgICAgICAgICstLS0tLS0tK3xQbHVnaW4gICAgIHxcbiAqICstLS0tLS0tLS0tLS0tKyAgIC4gICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tK1xuICogfCBhcHBsaWNhdGlvbiB8ICAgLlxuICogfC0tLS0tLS0tLS0tLS18ICAgLlxuICogfCAgICAgICAgICAgICB8ICAgLlxuICogfCAgICAgICAgICAgICB8ICAgLlxuICogKy0tLS0tLS0tLS0tLS0rICAgLlxuICogICAgICAgICAgICAgICAgICAgLlxuICogICAgUmVhY3QgQ29yZSAgICAgLiAgR2VuZXJhbCBQdXJwb3NlIEV2ZW50IFBsdWdpbiBTeXN0ZW1cbiAqL1xuXG52YXIgYWxyZWFkeUxpc3RlbmluZ1RvID0ge307XG52YXIgaXNNb25pdG9yaW5nU2Nyb2xsVmFsdWUgPSBmYWxzZTtcbnZhciByZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIgPSAwO1xuXG4vLyBGb3IgZXZlbnRzIGxpa2UgJ3N1Ym1pdCcgd2hpY2ggZG9uJ3QgY29uc2lzdGVudGx5IGJ1YmJsZSAod2hpY2ggd2UgdHJhcCBhdCBhXG4vLyBsb3dlciBub2RlIHRoYW4gYGRvY3VtZW50YCksIGJpbmRpbmcgYXQgYGRvY3VtZW50YCB3b3VsZCBjYXVzZSBkdXBsaWNhdGVcbi8vIGV2ZW50cyBzbyB3ZSBkb24ndCBpbmNsdWRlIHRoZW0gaGVyZVxudmFyIHRvcEV2ZW50TWFwcGluZyA9IHtcbiAgdG9wQWJvcnQ6ICdhYm9ydCcsXG4gIHRvcEJsdXI6ICdibHVyJyxcbiAgdG9wQ2FuUGxheTogJ2NhbnBsYXknLFxuICB0b3BDYW5QbGF5VGhyb3VnaDogJ2NhbnBsYXl0aHJvdWdoJyxcbiAgdG9wQ2hhbmdlOiAnY2hhbmdlJyxcbiAgdG9wQ2xpY2s6ICdjbGljaycsXG4gIHRvcENvbXBvc2l0aW9uRW5kOiAnY29tcG9zaXRpb25lbmQnLFxuICB0b3BDb21wb3NpdGlvblN0YXJ0OiAnY29tcG9zaXRpb25zdGFydCcsXG4gIHRvcENvbXBvc2l0aW9uVXBkYXRlOiAnY29tcG9zaXRpb251cGRhdGUnLFxuICB0b3BDb250ZXh0TWVudTogJ2NvbnRleHRtZW51JyxcbiAgdG9wQ29weTogJ2NvcHknLFxuICB0b3BDdXQ6ICdjdXQnLFxuICB0b3BEb3VibGVDbGljazogJ2RibGNsaWNrJyxcbiAgdG9wRHJhZzogJ2RyYWcnLFxuICB0b3BEcmFnRW5kOiAnZHJhZ2VuZCcsXG4gIHRvcERyYWdFbnRlcjogJ2RyYWdlbnRlcicsXG4gIHRvcERyYWdFeGl0OiAnZHJhZ2V4aXQnLFxuICB0b3BEcmFnTGVhdmU6ICdkcmFnbGVhdmUnLFxuICB0b3BEcmFnT3ZlcjogJ2RyYWdvdmVyJyxcbiAgdG9wRHJhZ1N0YXJ0OiAnZHJhZ3N0YXJ0JyxcbiAgdG9wRHJvcDogJ2Ryb3AnLFxuICB0b3BEdXJhdGlvbkNoYW5nZTogJ2R1cmF0aW9uY2hhbmdlJyxcbiAgdG9wRW1wdGllZDogJ2VtcHRpZWQnLFxuICB0b3BFbmNyeXB0ZWQ6ICdlbmNyeXB0ZWQnLFxuICB0b3BFbmRlZDogJ2VuZGVkJyxcbiAgdG9wRXJyb3I6ICdlcnJvcicsXG4gIHRvcEZvY3VzOiAnZm9jdXMnLFxuICB0b3BJbnB1dDogJ2lucHV0JyxcbiAgdG9wS2V5RG93bjogJ2tleWRvd24nLFxuICB0b3BLZXlQcmVzczogJ2tleXByZXNzJyxcbiAgdG9wS2V5VXA6ICdrZXl1cCcsXG4gIHRvcExvYWRlZERhdGE6ICdsb2FkZWRkYXRhJyxcbiAgdG9wTG9hZGVkTWV0YWRhdGE6ICdsb2FkZWRtZXRhZGF0YScsXG4gIHRvcExvYWRTdGFydDogJ2xvYWRzdGFydCcsXG4gIHRvcE1vdXNlRG93bjogJ21vdXNlZG93bicsXG4gIHRvcE1vdXNlTW92ZTogJ21vdXNlbW92ZScsXG4gIHRvcE1vdXNlT3V0OiAnbW91c2VvdXQnLFxuICB0b3BNb3VzZU92ZXI6ICdtb3VzZW92ZXInLFxuICB0b3BNb3VzZVVwOiAnbW91c2V1cCcsXG4gIHRvcFBhc3RlOiAncGFzdGUnLFxuICB0b3BQYXVzZTogJ3BhdXNlJyxcbiAgdG9wUGxheTogJ3BsYXknLFxuICB0b3BQbGF5aW5nOiAncGxheWluZycsXG4gIHRvcFByb2dyZXNzOiAncHJvZ3Jlc3MnLFxuICB0b3BSYXRlQ2hhbmdlOiAncmF0ZWNoYW5nZScsXG4gIHRvcFNjcm9sbDogJ3Njcm9sbCcsXG4gIHRvcFNlZWtlZDogJ3NlZWtlZCcsXG4gIHRvcFNlZWtpbmc6ICdzZWVraW5nJyxcbiAgdG9wU2VsZWN0aW9uQ2hhbmdlOiAnc2VsZWN0aW9uY2hhbmdlJyxcbiAgdG9wU3RhbGxlZDogJ3N0YWxsZWQnLFxuICB0b3BTdXNwZW5kOiAnc3VzcGVuZCcsXG4gIHRvcFRleHRJbnB1dDogJ3RleHRJbnB1dCcsXG4gIHRvcFRpbWVVcGRhdGU6ICd0aW1ldXBkYXRlJyxcbiAgdG9wVG91Y2hDYW5jZWw6ICd0b3VjaGNhbmNlbCcsXG4gIHRvcFRvdWNoRW5kOiAndG91Y2hlbmQnLFxuICB0b3BUb3VjaE1vdmU6ICd0b3VjaG1vdmUnLFxuICB0b3BUb3VjaFN0YXJ0OiAndG91Y2hzdGFydCcsXG4gIHRvcFZvbHVtZUNoYW5nZTogJ3ZvbHVtZWNoYW5nZScsXG4gIHRvcFdhaXRpbmc6ICd3YWl0aW5nJyxcbiAgdG9wV2hlZWw6ICd3aGVlbCdcbn07XG5cbi8qKlxuICogVG8gZW5zdXJlIG5vIGNvbmZsaWN0cyB3aXRoIG90aGVyIHBvdGVudGlhbCBSZWFjdCBpbnN0YW5jZXMgb24gdGhlIHBhZ2VcbiAqL1xudmFyIHRvcExpc3RlbmVyc0lES2V5ID0gJ19yZWFjdExpc3RlbmVyc0lEJyArIFN0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKTtcblxuZnVuY3Rpb24gZ2V0TGlzdGVuaW5nRm9yRG9jdW1lbnQobW91bnRBdCkge1xuICAvLyBJbiBJRTgsIGBtb3VudEF0YCBpcyBhIGhvc3Qgb2JqZWN0IGFuZCBkb2Vzbid0IGhhdmUgYGhhc093blByb3BlcnR5YFxuICAvLyBkaXJlY3RseS5cbiAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW91bnRBdCwgdG9wTGlzdGVuZXJzSURLZXkpKSB7XG4gICAgbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV0gPSByZWFjdFRvcExpc3RlbmVyc0NvdW50ZXIrKztcbiAgICBhbHJlYWR5TGlzdGVuaW5nVG9bbW91bnRBdFt0b3BMaXN0ZW5lcnNJREtleV1dID0ge307XG4gIH1cbiAgcmV0dXJuIGFscmVhZHlMaXN0ZW5pbmdUb1ttb3VudEF0W3RvcExpc3RlbmVyc0lES2V5XV07XG59XG5cbi8qKlxuICogYFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlcmAgaXMgdXNlZCB0byBhdHRhY2ggdG9wLWxldmVsIGV2ZW50IGxpc3RlbmVycy4gRm9yXG4gKiBleGFtcGxlOlxuICpcbiAqICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnB1dExpc3RlbmVyKCdteUlEJywgJ29uQ2xpY2snLCBteUZ1bmN0aW9uKTtcbiAqXG4gKiBUaGlzIHdvdWxkIGFsbG9jYXRlIGEgXCJyZWdpc3RyYXRpb25cIiBvZiBgKCdvbkNsaWNrJywgbXlGdW5jdGlvbilgIG9uICdteUlEJy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9IGFzc2lnbih7fSwgUmVhY3RFdmVudEVtaXR0ZXJNaXhpbiwge1xuXG4gIC8qKlxuICAgKiBJbmplY3RhYmxlIGV2ZW50IGJhY2tlbmRcbiAgICovXG4gIFJlYWN0RXZlbnRMaXN0ZW5lcjogbnVsbCxcblxuICBpbmplY3Rpb246IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gUmVhY3RFdmVudExpc3RlbmVyXG4gICAgICovXG4gICAgaW5qZWN0UmVhY3RFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoUmVhY3RFdmVudExpc3RlbmVyKSB7XG4gICAgICBSZWFjdEV2ZW50TGlzdGVuZXIuc2V0SGFuZGxlVG9wTGV2ZWwoUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmhhbmRsZVRvcExldmVsKTtcbiAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIgPSBSZWFjdEV2ZW50TGlzdGVuZXI7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIHdoZXRoZXIgb3Igbm90IGFueSBjcmVhdGVkIGNhbGxiYWNrcyBzaG91bGQgYmUgZW5hYmxlZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIFRydWUgaWYgY2FsbGJhY2tzIHNob3VsZCBiZSBlbmFibGVkLlxuICAgKi9cbiAgc2V0RW5hYmxlZDogZnVuY3Rpb24gKGVuYWJsZWQpIHtcbiAgICBpZiAoUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lcikge1xuICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci5zZXRFbmFibGVkKGVuYWJsZWQpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBjYWxsYmFja3MgYXJlIGVuYWJsZWQuXG4gICAqL1xuICBpc0VuYWJsZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gISEoUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lciAmJiBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLmlzRW5hYmxlZCgpKTtcbiAgfSxcblxuICAvKipcbiAgICogV2UgbGlzdGVuIGZvciBidWJibGVkIHRvdWNoIGV2ZW50cyBvbiB0aGUgZG9jdW1lbnQgb2JqZWN0LlxuICAgKlxuICAgKiBGaXJlZm94IHY4LjAxIChhbmQgcG9zc2libHkgb3RoZXJzKSBleGhpYml0ZWQgc3RyYW5nZSBiZWhhdmlvciB3aGVuXG4gICAqIG1vdW50aW5nIGBvbm1vdXNlbW92ZWAgZXZlbnRzIGF0IHNvbWUgbm9kZSB0aGF0IHdhcyBub3QgdGhlIGRvY3VtZW50XG4gICAqIGVsZW1lbnQuIFRoZSBzeW1wdG9tcyB3ZXJlIHRoYXQgaWYgeW91ciBtb3VzZSBpcyBub3QgbW92aW5nIG92ZXIgc29tZXRoaW5nXG4gICAqIGNvbnRhaW5lZCB3aXRoaW4gdGhhdCBtb3VudCBwb2ludCAoZm9yIGV4YW1wbGUgb24gdGhlIGJhY2tncm91bmQpIHRoZVxuICAgKiB0b3AtbGV2ZWwgbGlzdGVuZXJzIGZvciBgb25tb3VzZW1vdmVgIHdvbid0IGJlIGNhbGxlZC4gSG93ZXZlciwgaWYgeW91XG4gICAqIHJlZ2lzdGVyIHRoZSBgbW91c2Vtb3ZlYCBvbiB0aGUgZG9jdW1lbnQgb2JqZWN0LCB0aGVuIGl0IHdpbGwgb2YgY291cnNlXG4gICAqIGNhdGNoIGFsbCBgbW91c2Vtb3ZlYHMuIFRoaXMgYWxvbmcgd2l0aCBpT1MgcXVpcmtzLCBqdXN0aWZpZXMgcmVzdHJpY3RpbmdcbiAgICogdG9wLWxldmVsIGxpc3RlbmVycyB0byB0aGUgZG9jdW1lbnQgb2JqZWN0IG9ubHksIGF0IGxlYXN0IGZvciB0aGVzZVxuICAgKiBtb3ZlbWVudCB0eXBlcyBvZiBldmVudHMgYW5kIHBvc3NpYmx5IGFsbCBldmVudHMuXG4gICAqXG4gICAqIEBzZWUgaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9ibG9nL2FyY2hpdmVzLzIwMTAvMDkvY2xpY2tfZXZlbnRfZGVsLmh0bWxcbiAgICpcbiAgICogQWxzbywgYGtleXVwYC9ga2V5cHJlc3NgL2BrZXlkb3duYCBkbyBub3QgYnViYmxlIHRvIHRoZSB3aW5kb3cgb24gSUUsIGJ1dFxuICAgKiB0aGV5IGJ1YmJsZSB0byBkb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJhdGlvbk5hbWUgTmFtZSBvZiBsaXN0ZW5lciAoZS5nLiBgb25DbGlja2ApLlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udGVudERvY3VtZW50SGFuZGxlIERvY3VtZW50IHdoaWNoIG93bnMgdGhlIGNvbnRhaW5lclxuICAgKi9cbiAgbGlzdGVuVG86IGZ1bmN0aW9uIChyZWdpc3RyYXRpb25OYW1lLCBjb250ZW50RG9jdW1lbnRIYW5kbGUpIHtcbiAgICB2YXIgbW91bnRBdCA9IGNvbnRlbnREb2N1bWVudEhhbmRsZTtcbiAgICB2YXIgaXNMaXN0ZW5pbmcgPSBnZXRMaXN0ZW5pbmdGb3JEb2N1bWVudChtb3VudEF0KTtcbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuXG4gICAgdmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVwZW5kZW5jeSA9IGRlcGVuZGVuY2llc1tpXTtcbiAgICAgIGlmICghKGlzTGlzdGVuaW5nLmhhc093blByb3BlcnR5KGRlcGVuZGVuY3kpICYmIGlzTGlzdGVuaW5nW2RlcGVuZGVuY3ldKSkge1xuICAgICAgICBpZiAoZGVwZW5kZW5jeSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BXaGVlbCkge1xuICAgICAgICAgIGlmIChpc0V2ZW50U3VwcG9ydGVkKCd3aGVlbCcpKSB7XG4gICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BXaGVlbCwgJ3doZWVsJywgbW91bnRBdCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0V2ZW50U3VwcG9ydGVkKCdtb3VzZXdoZWVsJykpIHtcbiAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcFdoZWVsLCAnbW91c2V3aGVlbCcsIG1vdW50QXQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGaXJlZm94IG5lZWRzIHRvIGNhcHR1cmUgYSBkaWZmZXJlbnQgbW91c2Ugc2Nyb2xsIGV2ZW50LlxuICAgICAgICAgICAgLy8gQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2RvbS9ldmVudHMvdGVzdHMvc2Nyb2xsLmh0bWxcbiAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcFdoZWVsLCAnRE9NTW91c2VTY3JvbGwnLCBtb3VudEF0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZGVwZW5kZW5jeSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BTY3JvbGwpIHtcblxuICAgICAgICAgIGlmIChpc0V2ZW50U3VwcG9ydGVkKCdzY3JvbGwnLCB0cnVlKSkge1xuICAgICAgICAgICAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQ2FwdHVyZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcFNjcm9sbCwgJ3Njcm9sbCcsIG1vdW50QXQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BTY3JvbGwsICdzY3JvbGwnLCBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLldJTkRPV19IQU5ETEUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkZXBlbmRlbmN5ID09PSB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzIHx8IGRlcGVuZGVuY3kgPT09IHRvcExldmVsVHlwZXMudG9wQmx1cikge1xuXG4gICAgICAgICAgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2ZvY3VzJywgdHJ1ZSkpIHtcbiAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcENhcHR1cmVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BGb2N1cywgJ2ZvY3VzJywgbW91bnRBdCk7XG4gICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBDYXB0dXJlZEV2ZW50KHRvcExldmVsVHlwZXMudG9wQmx1ciwgJ2JsdXInLCBtb3VudEF0KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzRXZlbnRTdXBwb3J0ZWQoJ2ZvY3VzaW4nKSkge1xuICAgICAgICAgICAgLy8gSUUgaGFzIGBmb2N1c2luYCBhbmQgYGZvY3Vzb3V0YCBldmVudHMgd2hpY2ggYnViYmxlLlxuICAgICAgICAgICAgLy8gQHNlZSBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAwOC8wNC9kZWxlZ2F0aW5nX3RoZS5odG1sXG4gICAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQodG9wTGV2ZWxUeXBlcy50b3BGb2N1cywgJ2ZvY3VzaW4nLCBtb3VudEF0KTtcbiAgICAgICAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIudHJhcEJ1YmJsZWRFdmVudCh0b3BMZXZlbFR5cGVzLnRvcEJsdXIsICdmb2N1c291dCcsIG1vdW50QXQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHRvIG1ha2Ugc3VyZSBibHVyIGFuZCBmb2N1cyBldmVudCBsaXN0ZW5lcnMgYXJlIG9ubHkgYXR0YWNoZWQgb25jZVxuICAgICAgICAgIGlzTGlzdGVuaW5nW3RvcExldmVsVHlwZXMudG9wQmx1cl0gPSB0cnVlO1xuICAgICAgICAgIGlzTGlzdGVuaW5nW3RvcExldmVsVHlwZXMudG9wRm9jdXNdID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0b3BFdmVudE1hcHBpbmcuaGFzT3duUHJvcGVydHkoZGVwZW5kZW5jeSkpIHtcbiAgICAgICAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBCdWJibGVkRXZlbnQoZGVwZW5kZW5jeSwgdG9wRXZlbnRNYXBwaW5nW2RlcGVuZGVuY3ldLCBtb3VudEF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlzTGlzdGVuaW5nW2RlcGVuZGVuY3ldID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdHJhcEJ1YmJsZWRFdmVudDogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpIHtcbiAgICByZXR1cm4gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLlJlYWN0RXZlbnRMaXN0ZW5lci50cmFwQnViYmxlZEV2ZW50KHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpO1xuICB9LFxuXG4gIHRyYXBDYXB0dXJlZEV2ZW50OiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCBoYW5kbGVyQmFzZU5hbWUsIGhhbmRsZSkge1xuICAgIHJldHVybiBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuUmVhY3RFdmVudExpc3RlbmVyLnRyYXBDYXB0dXJlZEV2ZW50KHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBMaXN0ZW5zIHRvIHdpbmRvdyBzY3JvbGwgYW5kIHJlc2l6ZSBldmVudHMuIFdlIGNhY2hlIHNjcm9sbCB2YWx1ZXMgc28gdGhhdFxuICAgKiBhcHBsaWNhdGlvbiBjb2RlIGNhbiBhY2Nlc3MgdGhlbSB3aXRob3V0IHRyaWdnZXJpbmcgcmVmbG93cy5cbiAgICpcbiAgICogTk9URTogU2Nyb2xsIGV2ZW50cyBkbyBub3QgYnViYmxlLlxuICAgKlxuICAgKiBAc2VlIGh0dHA6Ly93d3cucXVpcmtzbW9kZS5vcmcvZG9tL2V2ZW50cy9zY3JvbGwuaHRtbFxuICAgKi9cbiAgZW5zdXJlU2Nyb2xsVmFsdWVNb25pdG9yaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpc01vbml0b3JpbmdTY3JvbGxWYWx1ZSkge1xuICAgICAgdmFyIHJlZnJlc2ggPSBWaWV3cG9ydE1ldHJpY3MucmVmcmVzaFNjcm9sbFZhbHVlcztcbiAgICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5SZWFjdEV2ZW50TGlzdGVuZXIubW9uaXRvclNjcm9sbFZhbHVlKHJlZnJlc2gpO1xuICAgICAgaXNNb25pdG9yaW5nU2Nyb2xsVmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgfSxcblxuICBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3M6IEV2ZW50UGx1Z2luSHViLmV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyxcblxuICByZWdpc3RyYXRpb25OYW1lTW9kdWxlczogRXZlbnRQbHVnaW5IdWIucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMsXG5cbiAgcHV0TGlzdGVuZXI6IEV2ZW50UGx1Z2luSHViLnB1dExpc3RlbmVyLFxuXG4gIGdldExpc3RlbmVyOiBFdmVudFBsdWdpbkh1Yi5nZXRMaXN0ZW5lcixcblxuICBkZWxldGVMaXN0ZW5lcjogRXZlbnRQbHVnaW5IdWIuZGVsZXRlTGlzdGVuZXIsXG5cbiAgZGVsZXRlQWxsTGlzdGVuZXJzOiBFdmVudFBsdWdpbkh1Yi5kZWxldGVBbGxMaXN0ZW5lcnNcblxufSk7XG5cblJlYWN0UGVyZi5tZWFzdXJlTWV0aG9kcyhSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIsICdSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXInLCB7XG4gIHB1dExpc3RlbmVyOiAncHV0TGlzdGVuZXInLFxuICBkZWxldGVMaXN0ZW5lcjogJ2RlbGV0ZUxpc3RlbmVyJ1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBjYW5EZWZpbmVQcm9wZXJ0eVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNhbkRlZmluZVByb3BlcnR5ID0gZmFsc2U7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3gnLCB7IGdldDogZnVuY3Rpb24gKCkge30gfSk7XG4gICAgY2FuRGVmaW5lUHJvcGVydHkgPSB0cnVlO1xuICB9IGNhdGNoICh4KSB7XG4gICAgLy8gSUUgd2lsbCBmYWlsIG9uIGRlZmluZVByb3BlcnR5XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYW5EZWZpbmVQcm9wZXJ0eTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgVHJhbnNhY3Rpb25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxuLyoqXG4gKiBgVHJhbnNhY3Rpb25gIGNyZWF0ZXMgYSBibGFjayBib3ggdGhhdCBpcyBhYmxlIHRvIHdyYXAgYW55IG1ldGhvZCBzdWNoIHRoYXRcbiAqIGNlcnRhaW4gaW52YXJpYW50cyBhcmUgbWFpbnRhaW5lZCBiZWZvcmUgYW5kIGFmdGVyIHRoZSBtZXRob2QgaXMgaW52b2tlZFxuICogKEV2ZW4gaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biB3aGlsZSBpbnZva2luZyB0aGUgd3JhcHBlZCBtZXRob2QpLiBXaG9ldmVyXG4gKiBpbnN0YW50aWF0ZXMgYSB0cmFuc2FjdGlvbiBjYW4gcHJvdmlkZSBlbmZvcmNlcnMgb2YgdGhlIGludmFyaWFudHMgYXRcbiAqIGNyZWF0aW9uIHRpbWUuIFRoZSBgVHJhbnNhY3Rpb25gIGNsYXNzIGl0c2VsZiB3aWxsIHN1cHBseSBvbmUgYWRkaXRpb25hbFxuICogYXV0b21hdGljIGludmFyaWFudCBmb3IgeW91IC0gdGhlIGludmFyaWFudCB0aGF0IGFueSB0cmFuc2FjdGlvbiBpbnN0YW5jZVxuICogc2hvdWxkIG5vdCBiZSBydW4gd2hpbGUgaXQgaXMgYWxyZWFkeSBiZWluZyBydW4uIFlvdSB3b3VsZCB0eXBpY2FsbHkgY3JlYXRlIGFcbiAqIHNpbmdsZSBpbnN0YW5jZSBvZiBhIGBUcmFuc2FjdGlvbmAgZm9yIHJldXNlIG11bHRpcGxlIHRpbWVzLCB0aGF0IHBvdGVudGlhbGx5XG4gKiBpcyB1c2VkIHRvIHdyYXAgc2V2ZXJhbCBkaWZmZXJlbnQgbWV0aG9kcy4gV3JhcHBlcnMgYXJlIGV4dHJlbWVseSBzaW1wbGUgLVxuICogdGhleSBvbmx5IHJlcXVpcmUgaW1wbGVtZW50aW5nIHR3byBtZXRob2RzLlxuICpcbiAqIDxwcmU+XG4gKiAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlcnMgKGluamVjdGVkIGF0IGNyZWF0aW9uIHRpbWUpXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAgICAgICAgK1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS18LS0tLS0tLS0tLS0tLS0rXG4gKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgdiAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgIHwgICAgICArLS0tLS0tLS0tLS0tLS0tKyAgIHwgICAgICAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICB8ICAgKy0tfCAgICB3cmFwcGVyMSAgIHwtLS18LS0tLSsgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgfCAgIHwgICstLS0tLS0tLS0tLS0tLS0rICAgdiAgICB8ICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgIHwgICB8ICAgICAgICAgICstLS0tLS0tLS0tLS0tKyAgfCAgICAgICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICB8ICAgfCAgICAgKy0tLS18ICAgd3JhcHBlcjIgIHwtLS0tLS0tLSsgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgfCAgIHwgICAgIHwgICAgKy0tLS0tLS0tLS0tLS0rICB8ICAgICB8ICAgfFxuICogICAgICAgICAgICAgICAgICAgIHwgICB8ICAgICB8ICAgICAgICAgICAgICAgICAgICAgfCAgICAgfCAgIHxcbiAqICAgICAgICAgICAgICAgICAgICB8ICAgdiAgICAgdiAgICAgICAgICAgICAgICAgICAgIHYgICAgIHYgICB8IHdyYXBwZXJcbiAqICAgICAgICAgICAgICAgICAgICB8ICstLS0rICstLS0rICAgKy0tLS0tLS0tLSsgICArLS0tKyArLS0tKyB8IGludmFyaWFudHNcbiAqIHBlcmZvcm0oYW55TWV0aG9kKSB8IHwgICB8IHwgICB8ICAgfCAgICAgICAgIHwgICB8ICAgfCB8ICAgfCB8IG1haW50YWluZWRcbiAqICstLS0tLS0tLS0tLS0tLS0tLT58LXwtLS18LXwtLS18LS0+fGFueU1ldGhvZHwtLS18LS0tfC18LS0tfC18LS0tLS0tLS0+XG4gKiAgICAgICAgICAgICAgICAgICAgfCB8ICAgfCB8ICAgfCAgIHwgICAgICAgICB8ICAgfCAgIHwgfCAgIHwgfFxuICogICAgICAgICAgICAgICAgICAgIHwgfCAgIHwgfCAgIHwgICB8ICAgICAgICAgfCAgIHwgICB8IHwgICB8IHxcbiAqICAgICAgICAgICAgICAgICAgICB8IHwgICB8IHwgICB8ICAgfCAgICAgICAgIHwgICB8ICAgfCB8ICAgfCB8XG4gKiAgICAgICAgICAgICAgICAgICAgfCArLS0tKyArLS0tKyAgICstLS0tLS0tLS0rICAgKy0tLSsgKy0tLSsgfFxuICogICAgICAgICAgICAgICAgICAgIHwgIGluaXRpYWxpemUgICAgICAgICAgICAgICAgICAgIGNsb3NlICAgIHxcbiAqICAgICAgICAgICAgICAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gKiA8L3ByZT5cbiAqXG4gKiBVc2UgY2FzZXM6XG4gKiAtIFByZXNlcnZpbmcgdGhlIGlucHV0IHNlbGVjdGlvbiByYW5nZXMgYmVmb3JlL2FmdGVyIHJlY29uY2lsaWF0aW9uLlxuICogICBSZXN0b3Jpbmcgc2VsZWN0aW9uIGV2ZW4gaW4gdGhlIGV2ZW50IG9mIGFuIHVuZXhwZWN0ZWQgZXJyb3IuXG4gKiAtIERlYWN0aXZhdGluZyBldmVudHMgd2hpbGUgcmVhcnJhbmdpbmcgdGhlIERPTSwgcHJldmVudGluZyBibHVycy9mb2N1c2VzLFxuICogICB3aGlsZSBndWFyYW50ZWVpbmcgdGhhdCBhZnRlcndhcmRzLCB0aGUgZXZlbnQgc3lzdGVtIGlzIHJlYWN0aXZhdGVkLlxuICogLSBGbHVzaGluZyBhIHF1ZXVlIG9mIGNvbGxlY3RlZCBET00gbXV0YXRpb25zIHRvIHRoZSBtYWluIFVJIHRocmVhZCBhZnRlciBhXG4gKiAgIHJlY29uY2lsaWF0aW9uIHRha2VzIHBsYWNlIGluIGEgd29ya2VyIHRocmVhZC5cbiAqIC0gSW52b2tpbmcgYW55IGNvbGxlY3RlZCBgY29tcG9uZW50RGlkVXBkYXRlYCBjYWxsYmFja3MgYWZ0ZXIgcmVuZGVyaW5nIG5ld1xuICogICBjb250ZW50LlxuICogLSAoRnV0dXJlIHVzZSBjYXNlKTogV3JhcHBpbmcgcGFydGljdWxhciBmbHVzaGVzIG9mIHRoZSBgUmVhY3RXb3JrZXJgIHF1ZXVlXG4gKiAgIHRvIHByZXNlcnZlIHRoZSBgc2Nyb2xsVG9wYCAoYW4gYXV0b21hdGljIHNjcm9sbCBhd2FyZSBET00pLlxuICogLSAoRnV0dXJlIHVzZSBjYXNlKTogTGF5b3V0IGNhbGN1bGF0aW9ucyBiZWZvcmUgYW5kIGFmdGVyIERPTSB1cGRhdGVzLlxuICpcbiAqIFRyYW5zYWN0aW9uYWwgcGx1Z2luIEFQSTpcbiAqIC0gQSBtb2R1bGUgdGhhdCBoYXMgYW4gYGluaXRpYWxpemVgIG1ldGhvZCB0aGF0IHJldHVybnMgYW55IHByZWNvbXB1dGF0aW9uLlxuICogLSBhbmQgYSBgY2xvc2VgIG1ldGhvZCB0aGF0IGFjY2VwdHMgdGhlIHByZWNvbXB1dGF0aW9uLiBgY2xvc2VgIGlzIGludm9rZWRcbiAqICAgd2hlbiB0aGUgd3JhcHBlZCBwcm9jZXNzIGlzIGNvbXBsZXRlZCwgb3IgaGFzIGZhaWxlZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PFRyYW5zYWN0aW9uYWxXcmFwcGVyPn0gdHJhbnNhY3Rpb25XcmFwcGVyIFdyYXBwZXIgbW9kdWxlc1xuICogdGhhdCBpbXBsZW1lbnQgYGluaXRpYWxpemVgIGFuZCBgY2xvc2VgLlxuICogQHJldHVybiB7VHJhbnNhY3Rpb259IFNpbmdsZSB0cmFuc2FjdGlvbiBmb3IgcmV1c2UgaW4gdGhyZWFkLlxuICpcbiAqIEBjbGFzcyBUcmFuc2FjdGlvblxuICovXG52YXIgTWl4aW4gPSB7XG4gIC8qKlxuICAgKiBTZXRzIHVwIHRoaXMgaW5zdGFuY2Ugc28gdGhhdCBpdCBpcyBwcmVwYXJlZCBmb3IgY29sbGVjdGluZyBtZXRyaWNzLiBEb2VzXG4gICAqIHNvIHN1Y2ggdGhhdCB0aGlzIHNldHVwIG1ldGhvZCBtYXkgYmUgdXNlZCBvbiBhbiBpbnN0YW5jZSB0aGF0IGlzIGFscmVhZHlcbiAgICogaW5pdGlhbGl6ZWQsIGluIGEgd2F5IHRoYXQgZG9lcyBub3QgY29uc3VtZSBhZGRpdGlvbmFsIG1lbW9yeSB1cG9uIHJldXNlLlxuICAgKiBUaGF0IGNhbiBiZSB1c2VmdWwgaWYgeW91IGRlY2lkZSB0byBtYWtlIHlvdXIgc3ViY2xhc3Mgb2YgdGhpcyBtaXhpbiBhXG4gICAqIFwiUG9vbGVkQ2xhc3NcIi5cbiAgICovXG4gIHJlaW5pdGlhbGl6ZVRyYW5zYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy50cmFuc2FjdGlvbldyYXBwZXJzID0gdGhpcy5nZXRUcmFuc2FjdGlvbldyYXBwZXJzKCk7XG4gICAgaWYgKHRoaXMud3JhcHBlckluaXREYXRhKSB7XG4gICAgICB0aGlzLndyYXBwZXJJbml0RGF0YS5sZW5ndGggPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLndyYXBwZXJJbml0RGF0YSA9IFtdO1xuICAgIH1cbiAgICB0aGlzLl9pc0luVHJhbnNhY3Rpb24gPSBmYWxzZTtcbiAgfSxcblxuICBfaXNJblRyYW5zYWN0aW9uOiBmYWxzZSxcblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqIEByZXR1cm4ge0FycmF5PFRyYW5zYWN0aW9uV3JhcHBlcj59IEFycmF5IG9mIHRyYW5zYWN0aW9uIHdyYXBwZXJzLlxuICAgKi9cbiAgZ2V0VHJhbnNhY3Rpb25XcmFwcGVyczogbnVsbCxcblxuICBpc0luVHJhbnNhY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gISF0aGlzLl9pc0luVHJhbnNhY3Rpb247XG4gIH0sXG5cbiAgLyoqXG4gICAqIEV4ZWN1dGVzIHRoZSBmdW5jdGlvbiB3aXRoaW4gYSBzYWZldHkgd2luZG93LiBVc2UgdGhpcyBmb3IgdGhlIHRvcCBsZXZlbFxuICAgKiBtZXRob2RzIHRoYXQgcmVzdWx0IGluIGxhcmdlIGFtb3VudHMgb2YgY29tcHV0YXRpb24vbXV0YXRpb25zIHRoYXQgd291bGRcbiAgICogbmVlZCB0byBiZSBzYWZldHkgY2hlY2tlZC4gVGhlIG9wdGlvbmFsIGFyZ3VtZW50cyBoZWxwcyBwcmV2ZW50IHRoZSBuZWVkXG4gICAqIHRvIGJpbmQgaW4gbWFueSBjYXNlcy5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWV0aG9kIE1lbWJlciBvZiBzY29wZSB0byBjYWxsLlxuICAgKiBAcGFyYW0ge09iamVjdH0gc2NvcGUgU2NvcGUgdG8gaW52b2tlIGZyb20uXG4gICAqIEBwYXJhbSB7T2JqZWN0Pz19IGEgQXJndW1lbnQgdG8gcGFzcyB0byB0aGUgbWV0aG9kLlxuICAgKiBAcGFyYW0ge09iamVjdD89fSBiIEFyZ3VtZW50IHRvIHBhc3MgdG8gdGhlIG1ldGhvZC5cbiAgICogQHBhcmFtIHtPYmplY3Q/PX0gYyBBcmd1bWVudCB0byBwYXNzIHRvIHRoZSBtZXRob2QuXG4gICAqIEBwYXJhbSB7T2JqZWN0Pz19IGQgQXJndW1lbnQgdG8gcGFzcyB0byB0aGUgbWV0aG9kLlxuICAgKiBAcGFyYW0ge09iamVjdD89fSBlIEFyZ3VtZW50IHRvIHBhc3MgdG8gdGhlIG1ldGhvZC5cbiAgICogQHBhcmFtIHtPYmplY3Q/PX0gZiBBcmd1bWVudCB0byBwYXNzIHRvIHRoZSBtZXRob2QuXG4gICAqXG4gICAqIEByZXR1cm4geyp9IFJldHVybiB2YWx1ZSBmcm9tIGBtZXRob2RgLlxuICAgKi9cbiAgcGVyZm9ybTogZnVuY3Rpb24gKG1ldGhvZCwgc2NvcGUsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAhIXRoaXMuaXNJblRyYW5zYWN0aW9uKCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVHJhbnNhY3Rpb24ucGVyZm9ybSguLi4pOiBDYW5ub3QgaW5pdGlhbGl6ZSBhIHRyYW5zYWN0aW9uIHdoZW4gdGhlcmUgJyArICdpcyBhbHJlYWR5IGFuIG91dHN0YW5kaW5nIHRyYW5zYWN0aW9uLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgZXJyb3JUaHJvd247XG4gICAgdmFyIHJldDtcbiAgICB0cnkge1xuICAgICAgdGhpcy5faXNJblRyYW5zYWN0aW9uID0gdHJ1ZTtcbiAgICAgIC8vIENhdGNoaW5nIGVycm9ycyBtYWtlcyBkZWJ1Z2dpbmcgbW9yZSBkaWZmaWN1bHQsIHNvIHdlIHN0YXJ0IHdpdGhcbiAgICAgIC8vIGVycm9yVGhyb3duIHNldCB0byB0cnVlIGJlZm9yZSBzZXR0aW5nIGl0IHRvIGZhbHNlIGFmdGVyIGNhbGxpbmdcbiAgICAgIC8vIGNsb3NlIC0tIGlmIGl0J3Mgc3RpbGwgc2V0IHRvIHRydWUgaW4gdGhlIGZpbmFsbHkgYmxvY2ssIGl0IG1lYW5zXG4gICAgICAvLyBvbmUgb2YgdGhlc2UgY2FsbHMgdGhyZXcuXG4gICAgICBlcnJvclRocm93biA9IHRydWU7XG4gICAgICB0aGlzLmluaXRpYWxpemVBbGwoMCk7XG4gICAgICByZXQgPSBtZXRob2QuY2FsbChzY29wZSwgYSwgYiwgYywgZCwgZSwgZik7XG4gICAgICBlcnJvclRocm93biA9IGZhbHNlO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAvLyBJZiBgbWV0aG9kYCB0aHJvd3MsIHByZWZlciB0byBzaG93IHRoYXQgc3RhY2sgdHJhY2Ugb3ZlciBhbnkgdGhyb3duXG4gICAgICAgICAgLy8gYnkgaW52b2tpbmcgYGNsb3NlQWxsYC5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZUFsbCgwKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU2luY2UgYG1ldGhvZGAgZGlkbid0IHRocm93LCB3ZSBkb24ndCB3YW50IHRvIHNpbGVuY2UgdGhlIGV4Y2VwdGlvblxuICAgICAgICAgIC8vIGhlcmUuXG4gICAgICAgICAgdGhpcy5jbG9zZUFsbCgwKTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy5faXNJblRyYW5zYWN0aW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH0sXG5cbiAgaW5pdGlhbGl6ZUFsbDogZnVuY3Rpb24gKHN0YXJ0SW5kZXgpIHtcbiAgICB2YXIgdHJhbnNhY3Rpb25XcmFwcGVycyA9IHRoaXMudHJhbnNhY3Rpb25XcmFwcGVycztcbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IHRyYW5zYWN0aW9uV3JhcHBlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB3cmFwcGVyID0gdHJhbnNhY3Rpb25XcmFwcGVyc1tpXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENhdGNoaW5nIGVycm9ycyBtYWtlcyBkZWJ1Z2dpbmcgbW9yZSBkaWZmaWN1bHQsIHNvIHdlIHN0YXJ0IHdpdGggdGhlXG4gICAgICAgIC8vIE9CU0VSVkVEX0VSUk9SIHN0YXRlIGJlZm9yZSBvdmVyd3JpdGluZyBpdCB3aXRoIHRoZSByZWFsIHJldHVybiB2YWx1ZVxuICAgICAgICAvLyBvZiBpbml0aWFsaXplIC0tIGlmIGl0J3Mgc3RpbGwgc2V0IHRvIE9CU0VSVkVEX0VSUk9SIGluIHRoZSBmaW5hbGx5XG4gICAgICAgIC8vIGJsb2NrLCBpdCBtZWFucyB3cmFwcGVyLmluaXRpYWxpemUgdGhyZXcuXG4gICAgICAgIHRoaXMud3JhcHBlckluaXREYXRhW2ldID0gVHJhbnNhY3Rpb24uT0JTRVJWRURfRVJST1I7XG4gICAgICAgIHRoaXMud3JhcHBlckluaXREYXRhW2ldID0gd3JhcHBlci5pbml0aWFsaXplID8gd3JhcHBlci5pbml0aWFsaXplLmNhbGwodGhpcykgOiBudWxsO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHRoaXMud3JhcHBlckluaXREYXRhW2ldID09PSBUcmFuc2FjdGlvbi5PQlNFUlZFRF9FUlJPUikge1xuICAgICAgICAgIC8vIFRoZSBpbml0aWFsaXplciBmb3Igd3JhcHBlciBpIHRocmV3IGFuIGVycm9yOyBpbml0aWFsaXplIHRoZVxuICAgICAgICAgIC8vIHJlbWFpbmluZyB3cmFwcGVycyBidXQgc2lsZW5jZSBhbnkgZXhjZXB0aW9ucyBmcm9tIHRoZW0gdG8gZW5zdXJlXG4gICAgICAgICAgLy8gdGhhdCB0aGUgZmlyc3QgZXJyb3IgaXMgdGhlIG9uZSB0byBidWJibGUgdXAuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUFsbChpICsgMSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZva2VzIGVhY2ggb2YgYHRoaXMudHJhbnNhY3Rpb25XcmFwcGVycy5jbG9zZVtpXWAgZnVuY3Rpb25zLCBwYXNzaW5nIGludG9cbiAgICogdGhlbSB0aGUgcmVzcGVjdGl2ZSByZXR1cm4gdmFsdWVzIG9mIGB0aGlzLnRyYW5zYWN0aW9uV3JhcHBlcnMuaW5pdFtpXWBcbiAgICogKGBjbG9zZWBycyB0aGF0IGNvcnJlc3BvbmQgdG8gaW5pdGlhbGl6ZXJzIHRoYXQgZmFpbGVkIHdpbGwgbm90IGJlXG4gICAqIGludm9rZWQpLlxuICAgKi9cbiAgY2xvc2VBbGw6IGZ1bmN0aW9uIChzdGFydEluZGV4KSB7XG4gICAgIXRoaXMuaXNJblRyYW5zYWN0aW9uKCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnVHJhbnNhY3Rpb24uY2xvc2VBbGwoKTogQ2Fubm90IGNsb3NlIHRyYW5zYWN0aW9uIHdoZW4gbm9uZSBhcmUgb3Blbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgdmFyIHRyYW5zYWN0aW9uV3JhcHBlcnMgPSB0aGlzLnRyYW5zYWN0aW9uV3JhcHBlcnM7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXg7IGkgPCB0cmFuc2FjdGlvbldyYXBwZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgd3JhcHBlciA9IHRyYW5zYWN0aW9uV3JhcHBlcnNbaV07XG4gICAgICB2YXIgaW5pdERhdGEgPSB0aGlzLndyYXBwZXJJbml0RGF0YVtpXTtcbiAgICAgIHZhciBlcnJvclRocm93bjtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIENhdGNoaW5nIGVycm9ycyBtYWtlcyBkZWJ1Z2dpbmcgbW9yZSBkaWZmaWN1bHQsIHNvIHdlIHN0YXJ0IHdpdGhcbiAgICAgICAgLy8gZXJyb3JUaHJvd24gc2V0IHRvIHRydWUgYmVmb3JlIHNldHRpbmcgaXQgdG8gZmFsc2UgYWZ0ZXIgY2FsbGluZ1xuICAgICAgICAvLyBjbG9zZSAtLSBpZiBpdCdzIHN0aWxsIHNldCB0byB0cnVlIGluIHRoZSBmaW5hbGx5IGJsb2NrLCBpdCBtZWFuc1xuICAgICAgICAvLyB3cmFwcGVyLmNsb3NlIHRocmV3LlxuICAgICAgICBlcnJvclRocm93biA9IHRydWU7XG4gICAgICAgIGlmIChpbml0RGF0YSAhPT0gVHJhbnNhY3Rpb24uT0JTRVJWRURfRVJST1IgJiYgd3JhcHBlci5jbG9zZSkge1xuICAgICAgICAgIHdyYXBwZXIuY2xvc2UuY2FsbCh0aGlzLCBpbml0RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgIC8vIFRoZSBjbG9zZXIgZm9yIHdyYXBwZXIgaSB0aHJldyBhbiBlcnJvcjsgY2xvc2UgdGhlIHJlbWFpbmluZ1xuICAgICAgICAgIC8vIHdyYXBwZXJzIGJ1dCBzaWxlbmNlIGFueSBleGNlcHRpb25zIGZyb20gdGhlbSB0byBlbnN1cmUgdGhhdCB0aGVcbiAgICAgICAgICAvLyBmaXJzdCBlcnJvciBpcyB0aGUgb25lIHRvIGJ1YmJsZSB1cC5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZUFsbChpICsgMSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLndyYXBwZXJJbml0RGF0YS5sZW5ndGggPSAwO1xuICB9XG59O1xuXG52YXIgVHJhbnNhY3Rpb24gPSB7XG5cbiAgTWl4aW46IE1peGluLFxuXG4gIC8qKlxuICAgKiBUb2tlbiB0byBsb29rIGZvciB0byBkZXRlcm1pbmUgaWYgYW4gZXJyb3Igb2NjdXJyZWQuXG4gICAqL1xuICBPQlNFUlZFRF9FUlJPUjoge31cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUcmFuc2FjdGlvbjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RQcm9wVHlwZUxvY2F0aW9uc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGtleU1pcnJvciA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU1pcnJvcicpO1xuXG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucyA9IGtleU1pcnJvcih7XG4gIHByb3A6IG51bGwsXG4gIGNvbnRleHQ6IG51bGwsXG4gIGNoaWxkQ29udGV4dDogbnVsbFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uczsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHtcbiAgICBwcm9wOiAncHJvcCcsXG4gICAgY29udGV4dDogJ2NvbnRleHQnLFxuICAgIGNoaWxkQ29udGV4dDogJ2NoaWxkIGNvbnRleHQnXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXM7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFN5bnRoZXRpY01vdXNlRXZlbnRcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgU3ludGhldGljVUlFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljVUlFdmVudCcpO1xudmFyIFZpZXdwb3J0TWV0cmljcyA9IHJlcXVpcmUoJy4vVmlld3BvcnRNZXRyaWNzJyk7XG5cbnZhciBnZXRFdmVudE1vZGlmaWVyU3RhdGUgPSByZXF1aXJlKCcuL2dldEV2ZW50TW9kaWZpZXJTdGF0ZScpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgTW91c2VFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBNb3VzZUV2ZW50SW50ZXJmYWNlID0ge1xuICBzY3JlZW5YOiBudWxsLFxuICBzY3JlZW5ZOiBudWxsLFxuICBjbGllbnRYOiBudWxsLFxuICBjbGllbnRZOiBudWxsLFxuICBjdHJsS2V5OiBudWxsLFxuICBzaGlmdEtleTogbnVsbCxcbiAgYWx0S2V5OiBudWxsLFxuICBtZXRhS2V5OiBudWxsLFxuICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGUsXG4gIGJ1dHRvbjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gV2Via2l0LCBGaXJlZm94LCBJRTkrXG4gICAgLy8gd2hpY2g6ICAxIDIgM1xuICAgIC8vIGJ1dHRvbjogMCAxIDIgKHN0YW5kYXJkKVxuICAgIHZhciBidXR0b24gPSBldmVudC5idXR0b247XG4gICAgaWYgKCd3aGljaCcgaW4gZXZlbnQpIHtcbiAgICAgIHJldHVybiBidXR0b247XG4gICAgfVxuICAgIC8vIElFPDlcbiAgICAvLyB3aGljaDogIHVuZGVmaW5lZFxuICAgIC8vIGJ1dHRvbjogMCAwIDBcbiAgICAvLyBidXR0b246IDEgNCAyIChvbm1vdXNldXApXG4gICAgcmV0dXJuIGJ1dHRvbiA9PT0gMiA/IDIgOiBidXR0b24gPT09IDQgPyAxIDogMDtcbiAgfSxcbiAgYnV0dG9uczogbnVsbCxcbiAgcmVsYXRlZFRhcmdldDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuIGV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgKGV2ZW50LmZyb21FbGVtZW50ID09PSBldmVudC5zcmNFbGVtZW50ID8gZXZlbnQudG9FbGVtZW50IDogZXZlbnQuZnJvbUVsZW1lbnQpO1xuICB9LFxuICAvLyBcIlByb3ByaWV0YXJ5XCIgSW50ZXJmYWNlLlxuICBwYWdlWDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuICdwYWdlWCcgaW4gZXZlbnQgPyBldmVudC5wYWdlWCA6IGV2ZW50LmNsaWVudFggKyBWaWV3cG9ydE1ldHJpY3MuY3VycmVudFNjcm9sbExlZnQ7XG4gIH0sXG4gIHBhZ2VZOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gJ3BhZ2VZJyBpbiBldmVudCA/IGV2ZW50LnBhZ2VZIDogZXZlbnQuY2xpZW50WSArIFZpZXdwb3J0TWV0cmljcy5jdXJyZW50U2Nyb2xsVG9wO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwYXRjaE1hcmtlciBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEBleHRlbmRzIHtTeW50aGV0aWNVSUV2ZW50fVxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNNb3VzZUV2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIFN5bnRoZXRpY1VJRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5cblN5bnRoZXRpY1VJRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY01vdXNlRXZlbnQsIE1vdXNlRXZlbnRJbnRlcmZhY2UpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY01vdXNlRXZlbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIHNldFRleHRDb250ZW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xudmFyIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciA9IHJlcXVpcmUoJy4vZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyJyk7XG52YXIgc2V0SW5uZXJIVE1MID0gcmVxdWlyZSgnLi9zZXRJbm5lckhUTUwnKTtcblxuLyoqXG4gKiBTZXQgdGhlIHRleHRDb250ZW50IHByb3BlcnR5IG9mIGEgbm9kZSwgZW5zdXJpbmcgdGhhdCB3aGl0ZXNwYWNlIGlzIHByZXNlcnZlZFxuICogZXZlbiBpbiBJRTguIGlubmVyVGV4dCBpcyBhIHBvb3Igc3Vic3RpdHV0ZSBmb3IgdGV4dENvbnRlbnQgYW5kLCBhbW9uZyBtYW55XG4gKiBpc3N1ZXMsIGluc2VydHMgPGJyPiBpbnN0ZWFkIG9mIHRoZSBsaXRlcmFsIG5ld2xpbmUgY2hhcnMuIGlubmVySFRNTCBiZWhhdmVzXG4gKiBhcyBpdCBzaG91bGQuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQGludGVybmFsXG4gKi9cbnZhciBzZXRUZXh0Q29udGVudCA9IGZ1bmN0aW9uIChub2RlLCB0ZXh0KSB7XG4gIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xufTtcblxuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICBpZiAoISgndGV4dENvbnRlbnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpIHtcbiAgICBzZXRUZXh0Q29udGVudCA9IGZ1bmN0aW9uIChub2RlLCB0ZXh0KSB7XG4gICAgICBzZXRJbm5lckhUTUwobm9kZSwgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyKHRleHQpKTtcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0VGV4dENvbnRlbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIERPTVByb3BlcnR5T3BlcmF0aW9uc1xuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBET01Qcm9wZXJ0eSA9IHJlcXVpcmUoJy4vRE9NUHJvcGVydHknKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKCcuL1JlYWN0UGVyZicpO1xuXG52YXIgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIgPSByZXF1aXJlKCcuL3F1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyJyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuLy8gU2ltcGxpZmllZCBzdWJzZXRcbnZhciBWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWCA9IC9eW2EtekEtWl9dW1xcd1xcLlxcLV0qJC87XG52YXIgaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZSA9IHt9O1xudmFyIHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSA9IHt9O1xuXG5mdW5jdGlvbiBpc0F0dHJpYnV0ZU5hbWVTYWZlKGF0dHJpYnV0ZU5hbWUpIHtcbiAgaWYgKHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZS5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGVOYW1lKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlLmhhc093blByb3BlcnR5KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWC50ZXN0KGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgdmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gdHJ1ZTtcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lOiBgJXNgJywgYXR0cmlidXRlTmFtZSkgOiB1bmRlZmluZWQ7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkSWdub3JlVmFsdWUocHJvcGVydHlJbmZvLCB2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCB8fCBwcm9wZXJ0eUluZm8uaGFzQm9vbGVhblZhbHVlICYmICF2YWx1ZSB8fCBwcm9wZXJ0eUluZm8uaGFzTnVtZXJpY1ZhbHVlICYmIGlzTmFOKHZhbHVlKSB8fCBwcm9wZXJ0eUluZm8uaGFzUG9zaXRpdmVOdW1lcmljVmFsdWUgJiYgdmFsdWUgPCAxIHx8IHByb3BlcnR5SW5mby5oYXNPdmVybG9hZGVkQm9vbGVhblZhbHVlICYmIHZhbHVlID09PSBmYWxzZTtcbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIHJlYWN0UHJvcHMgPSB7XG4gICAgY2hpbGRyZW46IHRydWUsXG4gICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHRydWUsXG4gICAga2V5OiB0cnVlLFxuICAgIHJlZjogdHJ1ZVxuICB9O1xuICB2YXIgd2FybmVkUHJvcGVydGllcyA9IHt9O1xuXG4gIHZhciB3YXJuVW5rbm93blByb3BlcnR5ID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAocmVhY3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiByZWFjdFByb3BzW25hbWVdIHx8IHdhcm5lZFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkUHJvcGVydGllc1tuYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSB0cnVlO1xuICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIGRhdGEtKiBhdHRyaWJ1dGVzIHNob3VsZCBiZSBsb3dlcmNhc2U7IHN1Z2dlc3QgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXG4gICAgdmFyIHN0YW5kYXJkTmFtZSA9IERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKGxvd2VyQ2FzZWROYW1lKSA/IGxvd2VyQ2FzZWROYW1lIDogRE9NUHJvcGVydHkuZ2V0UG9zc2libGVTdGFuZGFyZE5hbWUuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpID8gRE9NUHJvcGVydHkuZ2V0UG9zc2libGVTdGFuZGFyZE5hbWVbbG93ZXJDYXNlZE5hbWVdIDogbnVsbDtcblxuICAgIC8vIEZvciBub3csIG9ubHkgd2FybiB3aGVuIHdlIGhhdmUgYSBzdWdnZXN0ZWQgY29ycmVjdGlvbi4gVGhpcyBwcmV2ZW50c1xuICAgIC8vIGxvZ2dpbmcgdG9vIG11Y2ggd2hlbiB1c2luZyB0cmFuc2ZlclByb3BzVG8uXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoc3RhbmRhcmROYW1lID09IG51bGwsICdVbmtub3duIERPTSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzPycsIG5hbWUsIHN0YW5kYXJkTmFtZSkgOiB1bmRlZmluZWQ7XG4gIH07XG59XG5cbi8qKlxuICogT3BlcmF0aW9ucyBmb3IgZGVhbGluZyB3aXRoIERPTSBwcm9wZXJ0aWVzLlxuICovXG52YXIgRE9NUHJvcGVydHlPcGVyYXRpb25zID0ge1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIG1hcmt1cCBmb3IgdGhlIElEIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVW5lc2NhcGVkIElELlxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IE1hcmt1cCBzdHJpbmcuXG4gICAqL1xuICBjcmVhdGVNYXJrdXBGb3JJRDogZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIERPTVByb3BlcnR5LklEX0FUVFJJQlVURV9OQU1FICsgJz0nICsgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXIoaWQpO1xuICB9LFxuXG4gIHNldEF0dHJpYnV0ZUZvcklEOiBmdW5jdGlvbiAobm9kZSwgaWQpIHtcbiAgICBub2RlLnNldEF0dHJpYnV0ZShET01Qcm9wZXJ0eS5JRF9BVFRSSUJVVEVfTkFNRSwgaWQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIG1hcmt1cCBmb3IgYSBwcm9wZXJ0eS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfSBNYXJrdXAgc3RyaW5nLCBvciBudWxsIGlmIHRoZSBwcm9wZXJ0eSB3YXMgaW52YWxpZC5cbiAgICovXG4gIGNyZWF0ZU1hcmt1cEZvclByb3BlcnR5OiBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgcHJvcGVydHlJbmZvID0gRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IERPTVByb3BlcnR5LnByb3BlcnRpZXNbbmFtZV0gOiBudWxsO1xuICAgIGlmIChwcm9wZXJ0eUluZm8pIHtcbiAgICAgIGlmIChzaG91bGRJZ25vcmVWYWx1ZShwcm9wZXJ0eUluZm8sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lO1xuICAgICAgaWYgKHByb3BlcnR5SW5mby5oYXNCb29sZWFuVmFsdWUgfHwgcHJvcGVydHlJbmZvLmhhc092ZXJsb2FkZWRCb29sZWFuVmFsdWUgJiYgdmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZU5hbWUgKyAnPVwiXCInO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF0dHJpYnV0ZU5hbWUgKyAnPScgKyBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3Nlcih2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChET01Qcm9wZXJ0eS5pc0N1c3RvbUF0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5hbWUgKyAnPScgKyBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3Nlcih2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuVW5rbm93blByb3BlcnR5KG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlcyBtYXJrdXAgZm9yIGEgY3VzdG9tIHByb3BlcnR5LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTWFya3VwIHN0cmluZywgb3IgZW1wdHkgc3RyaW5nIGlmIHRoZSBwcm9wZXJ0eSB3YXMgaW52YWxpZC5cbiAgICovXG4gIGNyZWF0ZU1hcmt1cEZvckN1c3RvbUF0dHJpYnV0ZTogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKCFpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIG5hbWUgKyAnPScgKyBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3Nlcih2YWx1ZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZhbHVlIGZvciBhIHByb3BlcnR5IG9uIGEgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICovXG4gIHNldFZhbHVlRm9yUHJvcGVydHk6IGZ1bmN0aW9uIChub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgIHZhciBwcm9wZXJ0eUluZm8gPSBET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KG5hbWUpID8gRE9NUHJvcGVydHkucHJvcGVydGllc1tuYW1lXSA6IG51bGw7XG4gICAgaWYgKHByb3BlcnR5SW5mbykge1xuICAgICAgdmFyIG11dGF0aW9uTWV0aG9kID0gcHJvcGVydHlJbmZvLm11dGF0aW9uTWV0aG9kO1xuICAgICAgaWYgKG11dGF0aW9uTWV0aG9kKSB7XG4gICAgICAgIG11dGF0aW9uTWV0aG9kKG5vZGUsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoc2hvdWxkSWdub3JlVmFsdWUocHJvcGVydHlJbmZvLCB2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eUluZm8ubXVzdFVzZUF0dHJpYnV0ZSkge1xuICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHByb3BlcnR5SW5mby5hdHRyaWJ1dGVOYW1lO1xuICAgICAgICB2YXIgbmFtZXNwYWNlID0gcHJvcGVydHlJbmZvLmF0dHJpYnV0ZU5hbWVzcGFjZTtcbiAgICAgICAgLy8gYHNldEF0dHJpYnV0ZWAgd2l0aCBvYmplY3RzIGJlY29tZXMgb25seSBgW29iamVjdF1gIGluIElFOC85LFxuICAgICAgICAvLyAoJycgKyB2YWx1ZSkgbWFrZXMgaXQgb3V0cHV0IHRoZSBjb3JyZWN0IHRvU3RyaW5nKCktdmFsdWUuXG4gICAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgYXR0cmlidXRlTmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlJbmZvLmhhc0Jvb2xlYW5WYWx1ZSB8fCBwcm9wZXJ0eUluZm8uaGFzT3ZlcmxvYWRlZEJvb2xlYW5WYWx1ZSAmJiB2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCAnJyArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gcHJvcGVydHlJbmZvLnByb3BlcnR5TmFtZTtcbiAgICAgICAgLy8gTXVzdCBleHBsaWNpdGx5IGNhc3QgdmFsdWVzIGZvciBIQVNfU0lERV9FRkZFQ1RTLXByb3BlcnRpZXMgdG8gdGhlXG4gICAgICAgIC8vIHByb3BlcnR5IHR5cGUgYmVmb3JlIGNvbXBhcmluZzsgb25seSBgdmFsdWVgIGRvZXMgYW5kIGlzIHN0cmluZy5cbiAgICAgICAgaWYgKCFwcm9wZXJ0eUluZm8uaGFzU2lkZUVmZmVjdHMgfHwgJycgKyBub2RlW3Byb3BOYW1lXSAhPT0gJycgKyB2YWx1ZSkge1xuICAgICAgICAgIC8vIENvbnRyYXJ5IHRvIGBzZXRBdHRyaWJ1dGVgLCBvYmplY3QgcHJvcGVydGllcyBhcmUgcHJvcGVybHlcbiAgICAgICAgICAvLyBgdG9TdHJpbmdgZWQgYnkgSUU4LzkuXG4gICAgICAgICAgbm9kZVtwcm9wTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvckF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuVW5rbm93blByb3BlcnR5KG5hbWUpO1xuICAgIH1cbiAgfSxcblxuICBzZXRWYWx1ZUZvckF0dHJpYnV0ZTogZnVuY3Rpb24gKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKCFpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgJycgKyB2YWx1ZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSB2YWx1ZSBmb3IgYSBwcm9wZXJ0eSBvbiBhIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKi9cbiAgZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eTogZnVuY3Rpb24gKG5vZGUsIG5hbWUpIHtcbiAgICB2YXIgcHJvcGVydHlJbmZvID0gRE9NUHJvcGVydHkucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IERPTVByb3BlcnR5LnByb3BlcnRpZXNbbmFtZV0gOiBudWxsO1xuICAgIGlmIChwcm9wZXJ0eUluZm8pIHtcbiAgICAgIHZhciBtdXRhdGlvbk1ldGhvZCA9IHByb3BlcnR5SW5mby5tdXRhdGlvbk1ldGhvZDtcbiAgICAgIGlmIChtdXRhdGlvbk1ldGhvZCkge1xuICAgICAgICBtdXRhdGlvbk1ldGhvZChub2RlLCB1bmRlZmluZWQpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eUluZm8ubXVzdFVzZUF0dHJpYnV0ZSkge1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShwcm9wZXJ0eUluZm8uYXR0cmlidXRlTmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSBwcm9wZXJ0eUluZm8ucHJvcGVydHlOYW1lO1xuICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gRE9NUHJvcGVydHkuZ2V0RGVmYXVsdFZhbHVlRm9yUHJvcGVydHkobm9kZS5ub2RlTmFtZSwgcHJvcE5hbWUpO1xuICAgICAgICBpZiAoIXByb3BlcnR5SW5mby5oYXNTaWRlRWZmZWN0cyB8fCAnJyArIG5vZGVbcHJvcE5hbWVdICE9PSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICBub2RlW3Byb3BOYW1lXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2FyblVua25vd25Qcm9wZXJ0eShuYW1lKTtcbiAgICB9XG4gIH1cblxufTtcblxuUmVhY3RQZXJmLm1lYXN1cmVNZXRob2RzKERPTVByb3BlcnR5T3BlcmF0aW9ucywgJ0RPTVByb3BlcnR5T3BlcmF0aW9ucycsIHtcbiAgc2V0VmFsdWVGb3JQcm9wZXJ0eTogJ3NldFZhbHVlRm9yUHJvcGVydHknLFxuICBzZXRWYWx1ZUZvckF0dHJpYnV0ZTogJ3NldFZhbHVlRm9yQXR0cmlidXRlJyxcbiAgZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eTogJ2RlbGV0ZVZhbHVlRm9yUHJvcGVydHknXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBET01Qcm9wZXJ0eU9wZXJhdGlvbnM7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RET01JRE9wZXJhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0RE9NSURPcGVyYXRpb25zJyk7XG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoJy4vUmVhY3RNb3VudCcpO1xuXG4vKipcbiAqIEFic3RyYWN0cyBhd2F5IGFsbCBmdW5jdGlvbmFsaXR5IG9mIHRoZSByZWNvbmNpbGVyIHRoYXQgcmVxdWlyZXMga25vd2xlZGdlIG9mXG4gKiB0aGUgYnJvd3NlciBjb250ZXh0LiBUT0RPOiBUaGVzZSBjYWxsZXJzIHNob3VsZCBiZSByZWZhY3RvcmVkIHRvIGF2b2lkIHRoZVxuICogbmVlZCBmb3IgdGhpcyBpbmplY3Rpb24uXG4gKi9cbnZhciBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCA9IHtcblxuICBwcm9jZXNzQ2hpbGRyZW5VcGRhdGVzOiBSZWFjdERPTUlET3BlcmF0aW9ucy5kYW5nZXJvdXNseVByb2Nlc3NDaGlsZHJlblVwZGF0ZXMsXG5cbiAgcmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRDogUmVhY3RET01JRE9wZXJhdGlvbnMuZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXBCeUlELFxuXG4gIC8qKlxuICAgKiBJZiBhIHBhcnRpY3VsYXIgZW52aXJvbm1lbnQgcmVxdWlyZXMgdGhhdCBzb21lIHJlc291cmNlcyBiZSBjbGVhbmVkIHVwLFxuICAgKiBzcGVjaWZ5IHRoaXMgaW4gdGhlIGluamVjdGVkIE1peGluLiBJbiB0aGUgRE9NLCB3ZSB3b3VsZCBsaWtlbHkgd2FudCB0b1xuICAgKiBwdXJnZSBhbnkgY2FjaGVkIG5vZGUgSUQgbG9va3Vwcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHVubW91bnRJREZyb21FbnZpcm9ubWVudDogZnVuY3Rpb24gKHJvb3ROb2RlSUQpIHtcbiAgICBSZWFjdE1vdW50LnB1cmdlSUQocm9vdE5vZGVJRCk7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01JRE9wZXJhdGlvbnNcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0gcmVxdWlyZSgnLi9ET01DaGlsZHJlbk9wZXJhdGlvbnMnKTtcbnZhciBET01Qcm9wZXJ0eU9wZXJhdGlvbnMgPSByZXF1aXJlKCcuL0RPTVByb3BlcnR5T3BlcmF0aW9ucycpO1xudmFyIFJlYWN0TW91bnQgPSByZXF1aXJlKCcuL1JlYWN0TW91bnQnKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKCcuL1JlYWN0UGVyZicpO1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG5cbi8qKlxuICogRXJyb3JzIGZvciBwcm9wZXJ0aWVzIHRoYXQgc2hvdWxkIG5vdCBiZSB1cGRhdGVkIHdpdGggYHVwZGF0ZVByb3BlcnR5QnlJRCgpYC5cbiAqXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByaXZhdGVcbiAqL1xudmFyIElOVkFMSURfUFJPUEVSVFlfRVJST1JTID0ge1xuICBkYW5nZXJvdXNseVNldElubmVySFRNTDogJ2BkYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBzZXQgdXNpbmcgYHVwZGF0ZUlubmVySFRNTEJ5SUQoKWAuJyxcbiAgc3R5bGU6ICdgc3R5bGVgIG11c3QgYmUgc2V0IHVzaW5nIGB1cGRhdGVTdHlsZXNCeUlEKClgLidcbn07XG5cbi8qKlxuICogT3BlcmF0aW9ucyB1c2VkIHRvIHByb2Nlc3MgdXBkYXRlcyB0byBET00gbm9kZXMuXG4gKi9cbnZhciBSZWFjdERPTUlET3BlcmF0aW9ucyA9IHtcblxuICAvKipcbiAgICogVXBkYXRlcyBhIERPTSBub2RlIHdpdGggbmV3IHByb3BlcnR5IHZhbHVlcy4gVGhpcyBzaG91bGQgb25seSBiZSB1c2VkIHRvXG4gICAqIHVwZGF0ZSBET00gcHJvcGVydGllcyBpbiBgRE9NUHJvcGVydHlgLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgSUQgb2YgdGhlIG5vZGUgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBBIHZhbGlkIHByb3BlcnR5IG5hbWUsIHNlZSBgRE9NUHJvcGVydHlgLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIE5ldyB2YWx1ZSBvZiB0aGUgcHJvcGVydHkuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdXBkYXRlUHJvcGVydHlCeUlEOiBmdW5jdGlvbiAoaWQsIG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIG5vZGUgPSBSZWFjdE1vdW50LmdldE5vZGUoaWQpO1xuICAgICEhSU5WQUxJRF9QUk9QRVJUWV9FUlJPUlMuaGFzT3duUHJvcGVydHkobmFtZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndXBkYXRlUHJvcGVydHlCeUlEKC4uLik6ICVzJywgSU5WQUxJRF9QUk9QRVJUWV9FUlJPUlNbbmFtZV0pIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIElmIHdlJ3JlIHVwZGF0aW5nIHRvIG51bGwgb3IgdW5kZWZpbmVkLCB3ZSBzaG91bGQgcmVtb3ZlIHRoZSBwcm9wZXJ0eVxuICAgIC8vIGZyb20gdGhlIERPTSBub2RlIGluc3RlYWQgb2YgaW5hZHZlcnRhbnRseSBzZXR0aW5nIHRvIGEgc3RyaW5nLiBUaGlzXG4gICAgLy8gYnJpbmdzIHVzIGluIGxpbmUgd2l0aCB0aGUgc2FtZSBiZWhhdmlvciB3ZSBoYXZlIG9uIGluaXRpYWwgcmVuZGVyLlxuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0VmFsdWVGb3JQcm9wZXJ0eShub2RlLCBuYW1lLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5kZWxldGVWYWx1ZUZvclByb3BlcnR5KG5vZGUsIG5hbWUpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVwbGFjZXMgYSBET00gbm9kZSB0aGF0IGV4aXN0cyBpbiB0aGUgZG9jdW1lbnQgd2l0aCBtYXJrdXAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBJRCBvZiBjaGlsZCB0byBiZSByZXBsYWNlZC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hcmt1cCBEYW5nZXJvdXMgbWFya3VwIHRvIGluamVjdCBpbiBwbGFjZSBvZiBjaGlsZC5cbiAgICogQGludGVybmFsXG4gICAqIEBzZWUge0Rhbmdlci5kYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cH1cbiAgICovXG4gIGRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRDogZnVuY3Rpb24gKGlkLCBtYXJrdXApIHtcbiAgICB2YXIgbm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZShpZCk7XG4gICAgRE9NQ2hpbGRyZW5PcGVyYXRpb25zLmRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwKG5vZGUsIG1hcmt1cCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBjb21wb25lbnQncyBjaGlsZHJlbiBieSBwcm9jZXNzaW5nIGEgc2VyaWVzIG9mIHVwZGF0ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXk8b2JqZWN0Pn0gdXBkYXRlcyBMaXN0IG9mIHVwZGF0ZSBjb25maWd1cmF0aW9ucy5cbiAgICogQHBhcmFtIHthcnJheTxzdHJpbmc+fSBtYXJrdXAgTGlzdCBvZiBtYXJrdXAgc3RyaW5ncy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBkYW5nZXJvdXNseVByb2Nlc3NDaGlsZHJlblVwZGF0ZXM6IGZ1bmN0aW9uICh1cGRhdGVzLCBtYXJrdXApIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVwZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVwZGF0ZXNbaV0ucGFyZW50Tm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZSh1cGRhdGVzW2ldLnBhcmVudElEKTtcbiAgICB9XG4gICAgRE9NQ2hpbGRyZW5PcGVyYXRpb25zLnByb2Nlc3NVcGRhdGVzKHVwZGF0ZXMsIG1hcmt1cCk7XG4gIH1cbn07XG5cblJlYWN0UGVyZi5tZWFzdXJlTWV0aG9kcyhSZWFjdERPTUlET3BlcmF0aW9ucywgJ1JlYWN0RE9NSURPcGVyYXRpb25zJywge1xuICBkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cEJ5SUQ6ICdkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cEJ5SUQnLFxuICBkYW5nZXJvdXNseVByb2Nlc3NDaGlsZHJlblVwZGF0ZXM6ICdkYW5nZXJvdXNseVByb2Nlc3NDaGlsZHJlblVwZGF0ZXMnXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUlET3BlcmF0aW9uczsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaXNFdmVudFN1cHBvcnRlZFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIHVzZUhhc0ZlYXR1cmU7XG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIHVzZUhhc0ZlYXR1cmUgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbiAmJiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlICYmXG4gIC8vIGFsd2F5cyByZXR1cm5zIHRydWUgaW4gbmV3ZXIgYnJvd3NlcnMgYXMgcGVyIHRoZSBzdGFuZGFyZC5cbiAgLy8gQHNlZSBodHRwOi8vZG9tLnNwZWMud2hhdHdnLm9yZy8jZG9tLWRvbWltcGxlbWVudGF0aW9uLWhhc2ZlYXR1cmVcbiAgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSgnJywgJycpICE9PSB0cnVlO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhbiBldmVudCBpcyBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgZXhlY3V0aW9uIGVudmlyb25tZW50LlxuICpcbiAqIE5PVEU6IFRoaXMgd2lsbCBub3Qgd29yayBjb3JyZWN0bHkgZm9yIG5vbi1nZW5lcmljIGV2ZW50cyBzdWNoIGFzIGBjaGFuZ2VgLFxuICogYHJlc2V0YCwgYGxvYWRgLCBgZXJyb3JgLCBhbmQgYHNlbGVjdGAuXG4gKlxuICogQm9ycm93cyBmcm9tIE1vZGVybml6ci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lU3VmZml4IEV2ZW50IG5hbWUsIGUuZy4gXCJjbGlja1wiLlxuICogQHBhcmFtIHs/Ym9vbGVhbn0gY2FwdHVyZSBDaGVjayBpZiB0aGUgY2FwdHVyZSBwaGFzZSBpcyBzdXBwb3J0ZWQuXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBldmVudCBpcyBzdXBwb3J0ZWQuXG4gKiBAaW50ZXJuYWxcbiAqIEBsaWNlbnNlIE1vZGVybml6ciAzLjAuMHByZSAoQ3VzdG9tIEJ1aWxkKSB8IE1JVFxuICovXG5mdW5jdGlvbiBpc0V2ZW50U3VwcG9ydGVkKGV2ZW50TmFtZVN1ZmZpeCwgY2FwdHVyZSkge1xuICBpZiAoIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSB8fCBjYXB0dXJlICYmICEoJ2FkZEV2ZW50TGlzdGVuZXInIGluIGRvY3VtZW50KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBldmVudE5hbWUgPSAnb24nICsgZXZlbnROYW1lU3VmZml4O1xuICB2YXIgaXNTdXBwb3J0ZWQgPSAoZXZlbnROYW1lIGluIGRvY3VtZW50KTtcblxuICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShldmVudE5hbWUsICdyZXR1cm47Jyk7XG4gICAgaXNTdXBwb3J0ZWQgPSB0eXBlb2YgZWxlbWVudFtldmVudE5hbWVdID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgaWYgKCFpc1N1cHBvcnRlZCAmJiB1c2VIYXNGZWF0dXJlICYmIGV2ZW50TmFtZVN1ZmZpeCA9PT0gJ3doZWVsJykge1xuICAgIC8vIFRoaXMgaXMgdGhlIG9ubHkgd2F5IHRvIHRlc3Qgc3VwcG9ydCBmb3IgdGhlIGB3aGVlbGAgZXZlbnQgaW4gSUU5Ky5cbiAgICBpc1N1cHBvcnRlZCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoJ0V2ZW50cy53aGVlbCcsICczLjAnKTtcbiAgfVxuXG4gIHJldHVybiBpc1N1cHBvcnRlZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0V2ZW50U3VwcG9ydGVkOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RVcGRhdGVRdWV1ZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0Q3VycmVudE93bmVyID0gcmVxdWlyZSgnLi9SZWFjdEN1cnJlbnRPd25lcicpO1xudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG52YXIgUmVhY3RJbnN0YW5jZU1hcCA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0YW5jZU1hcCcpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVzJyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG5mdW5jdGlvbiBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpIHtcbiAgUmVhY3RVcGRhdGVzLmVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG59XG5cbmZ1bmN0aW9uIGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSwgY2FsbGVyTmFtZSkge1xuICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IFJlYWN0SW5zdGFuY2VNYXAuZ2V0KHB1YmxpY0luc3RhbmNlKTtcbiAgaWYgKCFpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIE9ubHkgd2FybiB3aGVuIHdlIGhhdmUgYSBjYWxsZXJOYW1lLiBPdGhlcndpc2Ugd2Ugc2hvdWxkIGJlIHNpbGVudC5cbiAgICAgIC8vIFdlJ3JlIHByb2JhYmx5IGNhbGxpbmcgZnJvbSBlbnF1ZXVlQ2FsbGJhY2suIFdlIGRvbid0IHdhbnQgdG8gd2FyblxuICAgICAgLy8gdGhlcmUgYmVjYXVzZSB3ZSBhbHJlYWR5IHdhcm5lZCBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgbGlmZWN5Y2xlIG1ldGhvZC5cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFjYWxsZXJOYW1lLCAnJXMoLi4uKTogQ2FuIG9ubHkgdXBkYXRlIGEgbW91bnRlZCBvciBtb3VudGluZyBjb21wb25lbnQuICcgKyAnVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBjYWxsZWQgJXMoKSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LiAnICsgJ1RoaXMgaXMgYSBuby1vcC4gUGxlYXNlIGNoZWNrIHRoZSBjb2RlIGZvciB0aGUgJXMgY29tcG9uZW50LicsIGNhbGxlck5hbWUsIGNhbGxlck5hbWUsIHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPT0gbnVsbCwgJyVzKC4uLik6IENhbm5vdCB1cGRhdGUgZHVyaW5nIGFuIGV4aXN0aW5nIHN0YXRlIHRyYW5zaXRpb24gJyArICcoc3VjaCBhcyB3aXRoaW4gYHJlbmRlcmApLiBSZW5kZXIgbWV0aG9kcyBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uICcgKyAnb2YgcHJvcHMgYW5kIHN0YXRlLicsIGNhbGxlck5hbWUpIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgcmV0dXJuIGludGVybmFsSW5zdGFuY2U7XG59XG5cbi8qKlxuICogUmVhY3RVcGRhdGVRdWV1ZSBhbGxvd3MgZm9yIHN0YXRlIHVwZGF0ZXMgdG8gYmUgc2NoZWR1bGVkIGludG8gYSBsYXRlclxuICogcmVjb25jaWxpYXRpb24gc3RlcC5cbiAqL1xudmFyIFJlYWN0VXBkYXRlUXVldWUgPSB7XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGNvbXBvc2l0ZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2Ugd2Ugd2FudCB0byB0ZXN0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG1vdW50ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAZmluYWxcbiAgICovXG4gIGlzTW91bnRlZDogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgICBpZiAob3duZXIgIT09IG51bGwpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcob3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyLCAnJXMgaXMgYWNjZXNzaW5nIGlzTW91bnRlZCBpbnNpZGUgaXRzIHJlbmRlcigpIGZ1bmN0aW9uLiAnICsgJ3JlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgJyArICduZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyAnICsgJ3JlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kICcgKyAnY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuJywgb3duZXIuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpIDogdW5kZWZpbmVkO1xuICAgICAgICBvd25lci5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IFJlYWN0SW5zdGFuY2VNYXAuZ2V0KHB1YmxpY0luc3RhbmNlKTtcbiAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgLy8gRHVyaW5nIGNvbXBvbmVudFdpbGxNb3VudCBhbmQgcmVuZGVyIHRoaXMgd2lsbCBzdGlsbCBiZSBudWxsIGJ1dCBhZnRlclxuICAgICAgLy8gdGhhdCB3aWxsIGFsd2F5cyByZW5kZXIgdG8gc29tZXRoaW5nLiBBdCBsZWFzdCBmb3Igbm93LiBTbyB3ZSBjYW4gdXNlXG4gICAgICAvLyB0aGlzIGhhY2suXG4gICAgICByZXR1cm4gISFpbnRlcm5hbEluc3RhbmNlLl9yZW5kZXJlZENvbXBvbmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRW5xdWV1ZSBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBhZnRlciBhbGwgdGhlIHBlbmRpbmcgdXBkYXRlc1xuICAgKiBoYXZlIHByb2Nlc3NlZC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdG8gdXNlIGFzIGB0aGlzYCBjb250ZXh0LlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIHN0YXRlIGlzIHVwZGF0ZWQuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZUNhbGxiYWNrOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIGNhbGxiYWNrKSB7XG4gICAgISh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2VucXVldWVDYWxsYmFjayguLi4pOiBZb3UgY2FsbGVkIGBzZXRQcm9wc2AsIGByZXBsYWNlUHJvcHNgLCAnICsgJ2BzZXRTdGF0ZWAsIGByZXBsYWNlU3RhdGVgLCBvciBgZm9yY2VVcGRhdGVgIHdpdGggYSBjYWxsYmFjayB0aGF0ICcgKyAnaXNuXFwndCBjYWxsYWJsZS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUocHVibGljSW5zdGFuY2UpO1xuXG4gICAgLy8gUHJldmlvdXNseSB3ZSB3b3VsZCB0aHJvdyBhbiBlcnJvciBpZiB3ZSBkaWRuJ3QgaGF2ZSBhbiBpbnRlcm5hbFxuICAgIC8vIGluc3RhbmNlLiBTaW5jZSB3ZSB3YW50IHRvIG1ha2UgaXQgYSBuby1vcCBpbnN0ZWFkLCB3ZSBtaXJyb3IgdGhlIHNhbWVcbiAgICAvLyBiZWhhdmlvciB3ZSBoYXZlIGluIG90aGVyIGVucXVldWUqIG1ldGhvZHMuXG4gICAgLy8gV2UgYWxzbyBuZWVkIHRvIGlnbm9yZSBjYWxsYmFja3MgaW4gY29tcG9uZW50V2lsbE1vdW50LiBTZWVcbiAgICAvLyBlbnF1ZXVlVXBkYXRlcy5cbiAgICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nQ2FsbGJhY2tzKSB7XG4gICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nQ2FsbGJhY2tzID0gW2NhbGxiYWNrXTtcbiAgICB9XG4gICAgLy8gVE9ETzogVGhlIGNhbGxiYWNrIGhlcmUgaXMgaWdub3JlZCB3aGVuIHNldFN0YXRlIGlzIGNhbGxlZCBmcm9tXG4gICAgLy8gY29tcG9uZW50V2lsbE1vdW50LiBFaXRoZXIgZml4IGl0IG9yIGRpc2FsbG93IGRvaW5nIHNvIGNvbXBsZXRlbHkgaW5cbiAgICAvLyBmYXZvciBvZiBnZXRJbml0aWFsU3RhdGUuIEFsdGVybmF0aXZlbHksIHdlIGNhbiBkaXNhbGxvd1xuICAgIC8vIGNvbXBvbmVudFdpbGxNb3VudCBkdXJpbmcgc2VydmVyLXNpZGUgcmVuZGVyaW5nLlxuICAgIGVucXVldWVVcGRhdGUoaW50ZXJuYWxJbnN0YW5jZSk7XG4gIH0sXG5cbiAgZW5xdWV1ZUNhbGxiYWNrSW50ZXJuYWw6IGZ1bmN0aW9uIChpbnRlcm5hbEluc3RhbmNlLCBjYWxsYmFjaykge1xuICAgICEodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdlbnF1ZXVlQ2FsbGJhY2soLi4uKTogWW91IGNhbGxlZCBgc2V0UHJvcHNgLCBgcmVwbGFjZVByb3BzYCwgJyArICdgc2V0U3RhdGVgLCBgcmVwbGFjZVN0YXRlYCwgb3IgYGZvcmNlVXBkYXRlYCB3aXRoIGEgY2FsbGJhY2sgdGhhdCAnICsgJ2lzblxcJ3QgY2FsbGFibGUuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIGlmIChpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nQ2FsbGJhY2tzKSB7XG4gICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nQ2FsbGJhY2tzID0gW2NhbGxiYWNrXTtcbiAgICB9XG4gICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgfSxcblxuICAvKipcbiAgICogRm9yY2VzIGFuIHVwZGF0ZS4gVGhpcyBzaG91bGQgb25seSBiZSBpbnZva2VkIHdoZW4gaXQgaXMga25vd24gd2l0aFxuICAgKiBjZXJ0YWludHkgdGhhdCB3ZSBhcmUgKipub3QqKiBpbiBhIERPTSB0cmFuc2FjdGlvbi5cbiAgICpcbiAgICogWW91IG1heSB3YW50IHRvIGNhbGwgdGhpcyB3aGVuIHlvdSBrbm93IHRoYXQgc29tZSBkZWVwZXIgYXNwZWN0IG9mIHRoZVxuICAgKiBjb21wb25lbnQncyBzdGF0ZSBoYXMgY2hhbmdlZCBidXQgYHNldFN0YXRlYCB3YXMgbm90IGNhbGxlZC5cbiAgICpcbiAgICogVGhpcyB3aWxsIG5vdCBpbnZva2UgYHNob3VsZENvbXBvbmVudFVwZGF0ZWAsIGJ1dCBpdCB3aWxsIGludm9rZVxuICAgKiBgY29tcG9uZW50V2lsbFVwZGF0ZWAgYW5kIGBjb21wb25lbnREaWRVcGRhdGVgLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB0aGF0IHNob3VsZCByZXJlbmRlci5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gZ2V0SW50ZXJuYWxJbnN0YW5jZVJlYWR5Rm9yVXBkYXRlKHB1YmxpY0luc3RhbmNlLCAnZm9yY2VVcGRhdGUnKTtcblxuICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IHRydWU7XG5cbiAgICBlbnF1ZXVlVXBkYXRlKGludGVybmFsSW5zdGFuY2UpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgb2YgdGhlIHN0YXRlLiBBbHdheXMgdXNlIHRoaXMgb3IgYHNldFN0YXRlYCB0byBtdXRhdGUgc3RhdGUuXG4gICAqIFlvdSBzaG91bGQgdHJlYXQgYHRoaXMuc3RhdGVgIGFzIGltbXV0YWJsZS5cbiAgICpcbiAgICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgYHRoaXMuc3RhdGVgIHdpbGwgYmUgaW1tZWRpYXRlbHkgdXBkYXRlZCwgc29cbiAgICogYWNjZXNzaW5nIGB0aGlzLnN0YXRlYCBhZnRlciBjYWxsaW5nIHRoaXMgbWV0aG9kIG1heSByZXR1cm4gdGhlIG9sZCB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb21wbGV0ZVN0YXRlIE5leHQgc3RhdGUuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBjb21wbGV0ZVN0YXRlKSB7XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUocHVibGljSW5zdGFuY2UsICdyZXBsYWNlU3RhdGUnKTtcblxuICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gW2NvbXBsZXRlU3RhdGVdO1xuICAgIGludGVybmFsSW5zdGFuY2UuX3BlbmRpbmdSZXBsYWNlU3RhdGUgPSB0cnVlO1xuXG4gICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIFRoaXMgb25seSBleGlzdHMgYmVjYXVzZSBfcGVuZGluZ1N0YXRlIGlzXG4gICAqIGludGVybmFsLiBUaGlzIHByb3ZpZGVzIGEgbWVyZ2luZyBzdHJhdGVneSB0aGF0IGlzIG5vdCBhdmFpbGFibGUgdG8gZGVlcFxuICAgKiBwcm9wZXJ0aWVzIHdoaWNoIGlzIGNvbmZ1c2luZy4gVE9ETzogRXhwb3NlIHBlbmRpbmdTdGF0ZSBvciBkb24ndCB1c2UgaXRcbiAgICogZHVyaW5nIHRoZSBtZXJnZS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIHN0YXRlLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBwYXJ0aWFsU3RhdGUpIHtcbiAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEludGVybmFsSW5zdGFuY2VSZWFkeUZvclVwZGF0ZShwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG5cbiAgICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcXVldWUgPSBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nU3RhdGVRdWV1ZSB8fCAoaW50ZXJuYWxJbnN0YW5jZS5fcGVuZGluZ1N0YXRlUXVldWUgPSBbXSk7XG4gICAgcXVldWUucHVzaChwYXJ0aWFsU3RhdGUpO1xuXG4gICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBhIHN1YnNldCBvZiB0aGUgcHJvcHMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFydGlhbFByb3BzIFN1YnNldCBvZiB0aGUgbmV4dCBwcm9wcy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlU2V0UHJvcHM6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSwgcGFydGlhbFByb3BzKSB7XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUocHVibGljSW5zdGFuY2UsICdzZXRQcm9wcycpO1xuICAgIGlmICghaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBSZWFjdFVwZGF0ZVF1ZXVlLmVucXVldWVTZXRQcm9wc0ludGVybmFsKGludGVybmFsSW5zdGFuY2UsIHBhcnRpYWxQcm9wcyk7XG4gIH0sXG5cbiAgZW5xdWV1ZVNldFByb3BzSW50ZXJuYWw6IGZ1bmN0aW9uIChpbnRlcm5hbEluc3RhbmNlLCBwYXJ0aWFsUHJvcHMpIHtcbiAgICB2YXIgdG9wTGV2ZWxXcmFwcGVyID0gaW50ZXJuYWxJbnN0YW5jZS5fdG9wTGV2ZWxXcmFwcGVyO1xuICAgICF0b3BMZXZlbFdyYXBwZXIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnc2V0UHJvcHMoLi4uKTogWW91IGNhbGxlZCBgc2V0UHJvcHNgIG9uIGEgJyArICdjb21wb25lbnQgd2l0aCBhIHBhcmVudC4gVGhpcyBpcyBhbiBhbnRpLXBhdHRlcm4gc2luY2UgcHJvcHMgd2lsbCAnICsgJ2dldCByZWFjdGl2ZWx5IHVwZGF0ZWQgd2hlbiByZW5kZXJlZC4gSW5zdGVhZCwgY2hhbmdlIHRoZSBvd25lclxcJ3MgJyArICdgcmVuZGVyYCBtZXRob2QgdG8gcGFzcyB0aGUgY29ycmVjdCB2YWx1ZSBhcyBwcm9wcyB0byB0aGUgY29tcG9uZW50ICcgKyAnd2hlcmUgaXQgaXMgY3JlYXRlZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAvLyBNZXJnZSB3aXRoIHRoZSBwZW5kaW5nIGVsZW1lbnQgaWYgaXQgZXhpc3RzLCBvdGhlcndpc2Ugd2l0aCBleGlzdGluZ1xuICAgIC8vIGVsZW1lbnQgcHJvcHMuXG4gICAgdmFyIHdyYXBFbGVtZW50ID0gdG9wTGV2ZWxXcmFwcGVyLl9wZW5kaW5nRWxlbWVudCB8fCB0b3BMZXZlbFdyYXBwZXIuX2N1cnJlbnRFbGVtZW50O1xuICAgIHZhciBlbGVtZW50ID0gd3JhcEVsZW1lbnQucHJvcHM7XG4gICAgdmFyIHByb3BzID0gYXNzaWduKHt9LCBlbGVtZW50LnByb3BzLCBwYXJ0aWFsUHJvcHMpO1xuICAgIHRvcExldmVsV3JhcHBlci5fcGVuZGluZ0VsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY2xvbmVBbmRSZXBsYWNlUHJvcHMod3JhcEVsZW1lbnQsIFJlYWN0RWxlbWVudC5jbG9uZUFuZFJlcGxhY2VQcm9wcyhlbGVtZW50LCBwcm9wcykpO1xuXG4gICAgZW5xdWV1ZVVwZGF0ZSh0b3BMZXZlbFdyYXBwZXIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgb2YgdGhlIHByb3BzLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB0aGF0IHNob3VsZCByZXJlbmRlci5cbiAgICogQHBhcmFtIHtvYmplY3R9IHByb3BzIE5ldyBwcm9wcy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlUmVwbGFjZVByb3BzOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIHByb3BzKSB7XG4gICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnRlcm5hbEluc3RhbmNlUmVhZHlGb3JVcGRhdGUocHVibGljSW5zdGFuY2UsICdyZXBsYWNlUHJvcHMnKTtcbiAgICBpZiAoIWludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgUmVhY3RVcGRhdGVRdWV1ZS5lbnF1ZXVlUmVwbGFjZVByb3BzSW50ZXJuYWwoaW50ZXJuYWxJbnN0YW5jZSwgcHJvcHMpO1xuICB9LFxuXG4gIGVucXVldWVSZXBsYWNlUHJvcHNJbnRlcm5hbDogZnVuY3Rpb24gKGludGVybmFsSW5zdGFuY2UsIHByb3BzKSB7XG4gICAgdmFyIHRvcExldmVsV3JhcHBlciA9IGludGVybmFsSW5zdGFuY2UuX3RvcExldmVsV3JhcHBlcjtcbiAgICAhdG9wTGV2ZWxXcmFwcGVyID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3JlcGxhY2VQcm9wcyguLi4pOiBZb3UgY2FsbGVkIGByZXBsYWNlUHJvcHNgIG9uIGEgJyArICdjb21wb25lbnQgd2l0aCBhIHBhcmVudC4gVGhpcyBpcyBhbiBhbnRpLXBhdHRlcm4gc2luY2UgcHJvcHMgd2lsbCAnICsgJ2dldCByZWFjdGl2ZWx5IHVwZGF0ZWQgd2hlbiByZW5kZXJlZC4gSW5zdGVhZCwgY2hhbmdlIHRoZSBvd25lclxcJ3MgJyArICdgcmVuZGVyYCBtZXRob2QgdG8gcGFzcyB0aGUgY29ycmVjdCB2YWx1ZSBhcyBwcm9wcyB0byB0aGUgY29tcG9uZW50ICcgKyAnd2hlcmUgaXQgaXMgY3JlYXRlZC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAvLyBNZXJnZSB3aXRoIHRoZSBwZW5kaW5nIGVsZW1lbnQgaWYgaXQgZXhpc3RzLCBvdGhlcndpc2Ugd2l0aCBleGlzdGluZ1xuICAgIC8vIGVsZW1lbnQgcHJvcHMuXG4gICAgdmFyIHdyYXBFbGVtZW50ID0gdG9wTGV2ZWxXcmFwcGVyLl9wZW5kaW5nRWxlbWVudCB8fCB0b3BMZXZlbFdyYXBwZXIuX2N1cnJlbnRFbGVtZW50O1xuICAgIHZhciBlbGVtZW50ID0gd3JhcEVsZW1lbnQucHJvcHM7XG4gICAgdG9wTGV2ZWxXcmFwcGVyLl9wZW5kaW5nRWxlbWVudCA9IFJlYWN0RWxlbWVudC5jbG9uZUFuZFJlcGxhY2VQcm9wcyh3cmFwRWxlbWVudCwgUmVhY3RFbGVtZW50LmNsb25lQW5kUmVwbGFjZVByb3BzKGVsZW1lbnQsIHByb3BzKSk7XG5cbiAgICBlbnF1ZXVlVXBkYXRlKHRvcExldmVsV3JhcHBlcik7XG4gIH0sXG5cbiAgZW5xdWV1ZUVsZW1lbnRJbnRlcm5hbDogZnVuY3Rpb24gKGludGVybmFsSW5zdGFuY2UsIG5ld0VsZW1lbnQpIHtcbiAgICBpbnRlcm5hbEluc3RhbmNlLl9wZW5kaW5nRWxlbWVudCA9IG5ld0VsZW1lbnQ7XG4gICAgZW5xdWV1ZVVwZGF0ZShpbnRlcm5hbEluc3RhbmNlKTtcbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0VXBkYXRlUXVldWU7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIENhbGxiYWNrUXVldWVcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBQb29sZWRDbGFzcyA9IHJlcXVpcmUoJy4vUG9vbGVkQ2xhc3MnKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgcHNldWRvLWV2ZW50IG1vZHVsZSB0byBoZWxwIGtlZXAgdHJhY2sgb2YgY29tcG9uZW50cyB3YWl0aW5nIHRvXG4gKiBiZSBub3RpZmllZCB3aGVuIHRoZWlyIERPTSByZXByZXNlbnRhdGlvbnMgYXJlIGF2YWlsYWJsZSBmb3IgdXNlLlxuICpcbiAqIFRoaXMgaW1wbGVtZW50cyBgUG9vbGVkQ2xhc3NgLCBzbyB5b3Ugc2hvdWxkIG5ldmVyIG5lZWQgdG8gaW5zdGFudGlhdGUgdGhpcy5cbiAqIEluc3RlYWQsIHVzZSBgQ2FsbGJhY2tRdWV1ZS5nZXRQb29sZWQoKWAuXG4gKlxuICogQGNsYXNzIFJlYWN0TW91bnRSZWFkeVxuICogQGltcGxlbWVudHMgUG9vbGVkQ2xhc3NcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBDYWxsYmFja1F1ZXVlKCkge1xuICB0aGlzLl9jYWxsYmFja3MgPSBudWxsO1xuICB0aGlzLl9jb250ZXh0cyA9IG51bGw7XG59XG5cbmFzc2lnbihDYWxsYmFja1F1ZXVlLnByb3RvdHlwZSwge1xuXG4gIC8qKlxuICAgKiBFbnF1ZXVlcyBhIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBgbm90aWZ5QWxsYCBpcyBpbnZva2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBJbnZva2VkIHdoZW4gYG5vdGlmeUFsbGAgaXMgaW52b2tlZC5cbiAgICogQHBhcmFtIHs/b2JqZWN0fSBjb250ZXh0IENvbnRleHQgdG8gY2FsbCBgY2FsbGJhY2tgIHdpdGguXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZTogZnVuY3Rpb24gKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IFtdO1xuICAgIHRoaXMuX2NvbnRleHRzID0gdGhpcy5fY29udGV4dHMgfHwgW107XG4gICAgdGhpcy5fY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRoaXMuX2NvbnRleHRzLnB1c2goY29udGV4dCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZXMgYWxsIGVucXVldWVkIGNhbGxiYWNrcyBhbmQgY2xlYXJzIHRoZSBxdWV1ZS4gVGhpcyBpcyBpbnZva2VkIGFmdGVyXG4gICAqIHRoZSBET00gcmVwcmVzZW50YXRpb24gb2YgYSBjb21wb25lbnQgaGFzIGJlZW4gY3JlYXRlZCBvciB1cGRhdGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeUFsbDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3M7XG4gICAgdmFyIGNvbnRleHRzID0gdGhpcy5fY29udGV4dHM7XG4gICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgIShjYWxsYmFja3MubGVuZ3RoID09PSBjb250ZXh0cy5sZW5ndGgpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ01pc21hdGNoZWQgbGlzdCBvZiBjb250ZXh0cyBpbiBjYWxsYmFjayBxdWV1ZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2NhbGxiYWNrcyA9IG51bGw7XG4gICAgICB0aGlzLl9jb250ZXh0cyA9IG51bGw7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYWxsYmFja3NbaV0uY2FsbChjb250ZXh0c1tpXSk7XG4gICAgICB9XG4gICAgICBjYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICAgIGNvbnRleHRzLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIGludGVybmFsIHF1ZXVlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHJlc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fY2FsbGJhY2tzID0gbnVsbDtcbiAgICB0aGlzLl9jb250ZXh0cyA9IG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGBQb29sZWRDbGFzc2AgbG9va3MgZm9yIHRoaXMuXG4gICAqL1xuICBkZXN0cnVjdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbn0pO1xuXG5Qb29sZWRDbGFzcy5hZGRQb29saW5nVG8oQ2FsbGJhY2tRdWV1ZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FsbGJhY2tRdWV1ZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKTtcbnZhciBSZWFjdEVtcHR5Q29tcG9uZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVtcHR5Q29tcG9uZW50Jyk7XG52YXIgUmVhY3ROYXRpdmVDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0TmF0aXZlQ29tcG9uZW50Jyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG4vLyBUbyBhdm9pZCBhIGN5Y2xpYyBkZXBlbmRlbmN5LCB3ZSBjcmVhdGUgdGhlIGZpbmFsIGNsYXNzIGluIHRoaXMgbW9kdWxlXG52YXIgUmVhY3RDb21wb3NpdGVDb21wb25lbnRXcmFwcGVyID0gZnVuY3Rpb24gKCkge307XG5hc3NpZ24oUmVhY3RDb21wb3NpdGVDb21wb25lbnRXcmFwcGVyLnByb3RvdHlwZSwgUmVhY3RDb21wb3NpdGVDb21wb25lbnQuTWl4aW4sIHtcbiAgX2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQ6IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnRcbn0pO1xuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpIHtcbiAgaWYgKG93bmVyKSB7XG4gICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgfVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgdHlwZSByZWZlcmVuY2UgaXMgYSBrbm93biBpbnRlcm5hbCB0eXBlLiBJLmUuIG5vdCBhIHVzZXJcbiAqIHByb3ZpZGVkIGNvbXBvc2l0ZSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHR5cGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGlzIGlzIGEgdmFsaWQgaW50ZXJuYWwgdHlwZS5cbiAqL1xuZnVuY3Rpb24gaXNJbnRlcm5hbENvbXBvbmVudFR5cGUodHlwZSkge1xuICByZXR1cm4gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHR5cGUucHJvdG90eXBlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdHlwZS5wcm90b3R5cGUubW91bnRDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHR5cGUucHJvdG90eXBlLnJlY2VpdmVDb21wb25lbnQgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBSZWFjdE5vZGUsIGNyZWF0ZSBhbiBpbnN0YW5jZSB0aGF0IHdpbGwgYWN0dWFsbHkgYmUgbW91bnRlZC5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0Tm9kZX0gbm9kZVxuICogQHJldHVybiB7b2JqZWN0fSBBIG5ldyBpbnN0YW5jZSBvZiB0aGUgZWxlbWVudCdzIGNvbnN0cnVjdG9yLlxuICogQHByb3RlY3RlZFxuICovXG5mdW5jdGlvbiBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KG5vZGUpIHtcbiAgdmFyIGluc3RhbmNlO1xuXG4gIGlmIChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IGZhbHNlKSB7XG4gICAgaW5zdGFuY2UgPSBuZXcgUmVhY3RFbXB0eUNvbXBvbmVudChpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgZWxlbWVudCA9IG5vZGU7XG4gICAgIShlbGVtZW50ICYmICh0eXBlb2YgZWxlbWVudC50eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRWxlbWVudCB0eXBlIGlzIGludmFsaWQ6IGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gY29tcG9uZW50cykgJyArICdvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgZWxlbWVudC50eXBlID09IG51bGwgPyBlbGVtZW50LnR5cGUgOiB0eXBlb2YgZWxlbWVudC50eXBlLCBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oZWxlbWVudC5fb3duZXIpKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2Ugc3RyaW5nIHZhbHVlc1xuICAgIGlmICh0eXBlb2YgZWxlbWVudC50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgaW5zdGFuY2UgPSBSZWFjdE5hdGl2ZUNvbXBvbmVudC5jcmVhdGVJbnRlcm5hbENvbXBvbmVudChlbGVtZW50KTtcbiAgICB9IGVsc2UgaWYgKGlzSW50ZXJuYWxDb21wb25lbnRUeXBlKGVsZW1lbnQudHlwZSkpIHtcbiAgICAgIC8vIFRoaXMgaXMgdGVtcG9yYXJpbHkgYXZhaWxhYmxlIGZvciBjdXN0b20gY29tcG9uZW50cyB0aGF0IGFyZSBub3Qgc3RyaW5nXG4gICAgICAvLyByZXByZXNlbnRhdGlvbnMuIEkuZS4gQVJULiBPbmNlIHRob3NlIGFyZSB1cGRhdGVkIHRvIHVzZSB0aGUgc3RyaW5nXG4gICAgICAvLyByZXByZXNlbnRhdGlvbiwgd2UgY2FuIGRyb3AgdGhpcyBjb2RlIHBhdGguXG4gICAgICBpbnN0YW5jZSA9IG5ldyBlbGVtZW50LnR5cGUoZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlID0gbmV3IFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50V3JhcHBlcigpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG5vZGUgPT09ICdudW1iZXInKSB7XG4gICAgaW5zdGFuY2UgPSBSZWFjdE5hdGl2ZUNvbXBvbmVudC5jcmVhdGVJbnN0YW5jZUZvclRleHQobm9kZSk7XG4gIH0gZWxzZSB7XG4gICAgIWZhbHNlID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0VuY291bnRlcmVkIGludmFsaWQgUmVhY3Qgbm9kZSBvZiB0eXBlICVzJywgdHlwZW9mIG5vZGUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIGluc3RhbmNlLmNvbnN0cnVjdCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaW5zdGFuY2UubW91bnRDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLnJlY2VpdmVDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGluc3RhbmNlLnVubW91bnRDb21wb25lbnQgPT09ICdmdW5jdGlvbicsICdPbmx5IFJlYWN0IENvbXBvbmVudHMgY2FuIGJlIG1vdW50ZWQuJykgOiB1bmRlZmluZWQ7XG4gIH1cblxuICAvLyBTZXRzIHVwIHRoZSBpbnN0YW5jZS4gVGhpcyBjYW4gcHJvYmFibHkganVzdCBtb3ZlIGludG8gdGhlIGNvbnN0cnVjdG9yIG5vdy5cbiAgaW5zdGFuY2UuY29uc3RydWN0KG5vZGUpO1xuXG4gIC8vIFRoZXNlIHR3byBmaWVsZHMgYXJlIHVzZWQgYnkgdGhlIERPTSBhbmQgQVJUIGRpZmZpbmcgYWxnb3JpdGhtc1xuICAvLyByZXNwZWN0aXZlbHkuIEluc3RlYWQgb2YgdXNpbmcgZXhwYW5kb3Mgb24gY29tcG9uZW50cywgd2Ugc2hvdWxkIGJlXG4gIC8vIHN0b3JpbmcgdGhlIHN0YXRlIG5lZWRlZCBieSB0aGUgZGlmZmluZyBhbGdvcml0aG1zIGVsc2V3aGVyZS5cbiAgaW5zdGFuY2UuX21vdW50SW5kZXggPSAwO1xuICBpbnN0YW5jZS5fbW91bnRJbWFnZSA9IG51bGw7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpbnN0YW5jZS5faXNPd25lck5lY2Vzc2FyeSA9IGZhbHNlO1xuICAgIGluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9IGZhbHNlO1xuICB9XG5cbiAgLy8gSW50ZXJuYWwgaW5zdGFuY2VzIHNob3VsZCBmdWxseSBjb25zdHJ1Y3RlZCBhdCB0aGlzIHBvaW50LCBzbyB0aGV5IHNob3VsZFxuICAvLyBub3QgZ2V0IGFueSBuZXcgZmllbGRzIGFkZGVkIHRvIHRoZW0gYXQgdGhpcyBwb2ludC5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKSB7XG4gICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdENvbXBvbmVudEVudmlyb25tZW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG5cbnZhciBpbmplY3RlZCA9IGZhbHNlO1xuXG52YXIgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudCA9IHtcblxuICAvKipcbiAgICogT3B0aW9uYWxseSBpbmplY3RhYmxlIGVudmlyb25tZW50IGRlcGVuZGVudCBjbGVhbnVwIGhvb2suIChzZXJ2ZXIgdnMuXG4gICAqIGJyb3dzZXIgZXRjKS4gRXhhbXBsZTogQSBicm93c2VyIHN5c3RlbSBjYWNoZXMgRE9NIG5vZGVzIGJhc2VkIG9uIGNvbXBvbmVudFxuICAgKiBJRCBhbmQgbXVzdCByZW1vdmUgdGhhdCBjYWNoZSBlbnRyeSB3aGVuIHRoaXMgaW5zdGFuY2UgaXMgdW5tb3VudGVkLlxuICAgKi9cbiAgdW5tb3VudElERnJvbUVudmlyb25tZW50OiBudWxsLFxuXG4gIC8qKlxuICAgKiBPcHRpb25hbGx5IGluamVjdGFibGUgaG9vayBmb3Igc3dhcHBpbmcgb3V0IG1vdW50IGltYWdlcyBpbiB0aGUgbWlkZGxlIG9mXG4gICAqIHRoZSB0cmVlLlxuICAgKi9cbiAgcmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRDogbnVsbCxcblxuICAvKipcbiAgICogT3B0aW9uYWxseSBpbmplY3RhYmxlIGhvb2sgZm9yIHByb2Nlc3NpbmcgYSBxdWV1ZSBvZiBjaGlsZCB1cGRhdGVzLiBXaWxsXG4gICAqIGxhdGVyIG1vdmUgaW50byBNdWx0aUNoaWxkQ29tcG9uZW50cy5cbiAgICovXG4gIHByb2Nlc3NDaGlsZHJlblVwZGF0ZXM6IG51bGwsXG5cbiAgaW5qZWN0aW9uOiB7XG4gICAgaW5qZWN0RW52aXJvbm1lbnQ6IGZ1bmN0aW9uIChlbnZpcm9ubWVudCkge1xuICAgICAgISFpbmplY3RlZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudDogaW5qZWN0RW52aXJvbm1lbnQoKSBjYW4gb25seSBiZSBjYWxsZWQgb25jZS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnVubW91bnRJREZyb21FbnZpcm9ubWVudCA9IGVudmlyb25tZW50LnVubW91bnRJREZyb21FbnZpcm9ubWVudDtcbiAgICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucmVwbGFjZU5vZGVXaXRoTWFya3VwQnlJRCA9IGVudmlyb25tZW50LnJlcGxhY2VOb2RlV2l0aE1hcmt1cEJ5SUQ7XG4gICAgICBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LnByb2Nlc3NDaGlsZHJlblVwZGF0ZXMgPSBlbnZpcm9ubWVudC5wcm9jZXNzQ2hpbGRyZW5VcGRhdGVzO1xuICAgICAgaW5qZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBHaXZlbiBhIGBwcmV2RWxlbWVudGAgYW5kIGBuZXh0RWxlbWVudGAsIGRldGVybWluZXMgaWYgdGhlIGV4aXN0aW5nXG4gKiBpbnN0YW5jZSBzaG91bGQgYmUgdXBkYXRlZCBhcyBvcHBvc2VkIHRvIGJlaW5nIGRlc3Ryb3llZCBvciByZXBsYWNlZCBieSBhIG5ld1xuICogaW5zdGFuY2UuIEJvdGggYXJndW1lbnRzIGFyZSBlbGVtZW50cy4gVGhpcyBlbnN1cmVzIHRoYXQgdGhpcyBsb2dpYyBjYW5cbiAqIG9wZXJhdGUgb24gc3RhdGVsZXNzIHRyZWVzIHdpdGhvdXQgYW55IGJhY2tpbmcgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHs/b2JqZWN0fSBwcmV2RWxlbWVudFxuICogQHBhcmFtIHs/b2JqZWN0fSBuZXh0RWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZXhpc3RpbmcgaW5zdGFuY2Ugc2hvdWxkIGJlIHVwZGF0ZWQuXG4gKiBAcHJvdGVjdGVkXG4gKi9cbmZ1bmN0aW9uIHNob3VsZFVwZGF0ZVJlYWN0Q29tcG9uZW50KHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkge1xuICB2YXIgcHJldkVtcHR5ID0gcHJldkVsZW1lbnQgPT09IG51bGwgfHwgcHJldkVsZW1lbnQgPT09IGZhbHNlO1xuICB2YXIgbmV4dEVtcHR5ID0gbmV4dEVsZW1lbnQgPT09IG51bGwgfHwgbmV4dEVsZW1lbnQgPT09IGZhbHNlO1xuICBpZiAocHJldkVtcHR5IHx8IG5leHRFbXB0eSkge1xuICAgIHJldHVybiBwcmV2RW1wdHkgPT09IG5leHRFbXB0eTtcbiAgfVxuXG4gIHZhciBwcmV2VHlwZSA9IHR5cGVvZiBwcmV2RWxlbWVudDtcbiAgdmFyIG5leHRUeXBlID0gdHlwZW9mIG5leHRFbGVtZW50O1xuICBpZiAocHJldlR5cGUgPT09ICdzdHJpbmcnIHx8IHByZXZUeXBlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBuZXh0VHlwZSA9PT0gJ3N0cmluZycgfHwgbmV4dFR5cGUgPT09ICdudW1iZXInO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXh0VHlwZSA9PT0gJ29iamVjdCcgJiYgcHJldkVsZW1lbnQudHlwZSA9PT0gbmV4dEVsZW1lbnQudHlwZSAmJiBwcmV2RWxlbWVudC5rZXkgPT09IG5leHRFbGVtZW50LmtleTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSB2YWxpZGF0ZURPTU5lc3RpbmdcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5cbnZhciB2YWxpZGF0ZURPTU5lc3RpbmcgPSBlbXB0eUZ1bmN0aW9uO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBUaGlzIHZhbGlkYXRpb24gY29kZSB3YXMgd3JpdHRlbiBiYXNlZCBvbiB0aGUgSFRNTDUgcGFyc2luZyBzcGVjOlxuICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNoYXMtYW4tZWxlbWVudC1pbi1zY29wZVxuICAvL1xuICAvLyBOb3RlOiB0aGlzIGRvZXMgbm90IGNhdGNoIGFsbCBpbnZhbGlkIG5lc3RpbmcsIG5vciBkb2VzIGl0IHRyeSB0byAoYXMgaXQnc1xuICAvLyBub3QgY2xlYXIgd2hhdCBwcmFjdGljYWwgYmVuZWZpdCBkb2luZyBzbyBwcm92aWRlcyk7IGluc3RlYWQsIHdlIHdhcm4gb25seVxuICAvLyBmb3IgY2FzZXMgd2hlcmUgdGhlIHBhcnNlciB3aWxsIGdpdmUgYSBwYXJzZSB0cmVlIGRpZmZlcmluZyBmcm9tIHdoYXQgUmVhY3RcbiAgLy8gaW50ZW5kZWQuIEZvciBleGFtcGxlLCA8Yj48ZGl2PjwvZGl2PjwvYj4gaXMgaW52YWxpZCBidXQgd2UgZG9uJ3Qgd2FyblxuICAvLyBiZWNhdXNlIGl0IHN0aWxsIHBhcnNlcyBjb3JyZWN0bHk7IHdlIGRvIHdhcm4gZm9yIG90aGVyIGNhc2VzIGxpa2UgbmVzdGVkXG4gIC8vIDxwPiB0YWdzIHdoZXJlIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNlY29uZCBlbGVtZW50IGltcGxpY2l0bHkgY2xvc2VzIHRoZVxuICAvLyBmaXJzdCwgY2F1c2luZyBhIGNvbmZ1c2luZyBtZXNzLlxuXG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3NwZWNpYWxcbiAgdmFyIHNwZWNpYWxUYWdzID0gWydhZGRyZXNzJywgJ2FwcGxldCcsICdhcmVhJywgJ2FydGljbGUnLCAnYXNpZGUnLCAnYmFzZScsICdiYXNlZm9udCcsICdiZ3NvdW5kJywgJ2Jsb2NrcXVvdGUnLCAnYm9keScsICdicicsICdidXR0b24nLCAnY2FwdGlvbicsICdjZW50ZXInLCAnY29sJywgJ2NvbGdyb3VwJywgJ2RkJywgJ2RldGFpbHMnLCAnZGlyJywgJ2RpdicsICdkbCcsICdkdCcsICdlbWJlZCcsICdmaWVsZHNldCcsICdmaWdjYXB0aW9uJywgJ2ZpZ3VyZScsICdmb290ZXInLCAnZm9ybScsICdmcmFtZScsICdmcmFtZXNldCcsICdoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsICdoZWFkJywgJ2hlYWRlcicsICdoZ3JvdXAnLCAnaHInLCAnaHRtbCcsICdpZnJhbWUnLCAnaW1nJywgJ2lucHV0JywgJ2lzaW5kZXgnLCAnbGknLCAnbGluaycsICdsaXN0aW5nJywgJ21haW4nLCAnbWFycXVlZScsICdtZW51JywgJ21lbnVpdGVtJywgJ21ldGEnLCAnbmF2JywgJ25vZW1iZWQnLCAnbm9mcmFtZXMnLCAnbm9zY3JpcHQnLCAnb2JqZWN0JywgJ29sJywgJ3AnLCAncGFyYW0nLCAncGxhaW50ZXh0JywgJ3ByZScsICdzY3JpcHQnLCAnc2VjdGlvbicsICdzZWxlY3QnLCAnc291cmNlJywgJ3N0eWxlJywgJ3N1bW1hcnknLCAndGFibGUnLCAndGJvZHknLCAndGQnLCAndGVtcGxhdGUnLCAndGV4dGFyZWEnLCAndGZvb3QnLCAndGgnLCAndGhlYWQnLCAndGl0bGUnLCAndHInLCAndHJhY2snLCAndWwnLCAnd2JyJywgJ3htcCddO1xuXG4gIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2hhcy1hbi1lbGVtZW50LWluLXNjb3BlXG4gIHZhciBpblNjb3BlVGFncyA9IFsnYXBwbGV0JywgJ2NhcHRpb24nLCAnaHRtbCcsICd0YWJsZScsICd0ZCcsICd0aCcsICdtYXJxdWVlJywgJ29iamVjdCcsICd0ZW1wbGF0ZScsXG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjaHRtbC1pbnRlZ3JhdGlvbi1wb2ludFxuICAvLyBUT0RPOiBEaXN0aW5ndWlzaCBieSBuYW1lc3BhY2UgaGVyZSAtLSBmb3IgPHRpdGxlPiwgaW5jbHVkaW5nIGl0IGhlcmVcbiAgLy8gZXJycyBvbiB0aGUgc2lkZSBvZiBmZXdlciB3YXJuaW5nc1xuICAnZm9yZWlnbk9iamVjdCcsICdkZXNjJywgJ3RpdGxlJ107XG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjaGFzLWFuLWVsZW1lbnQtaW4tYnV0dG9uLXNjb3BlXG4gIHZhciBidXR0b25TY29wZVRhZ3MgPSBpblNjb3BlVGFncy5jb25jYXQoWydidXR0b24nXSk7XG5cbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjZ2VuZXJhdGUtaW1wbGllZC1lbmQtdGFnc1xuICB2YXIgaW1wbGllZEVuZFRhZ3MgPSBbJ2RkJywgJ2R0JywgJ2xpJywgJ29wdGlvbicsICdvcHRncm91cCcsICdwJywgJ3JwJywgJ3J0J107XG5cbiAgdmFyIGVtcHR5QW5jZXN0b3JJbmZvID0ge1xuICAgIHBhcmVudFRhZzogbnVsbCxcblxuICAgIGZvcm1UYWc6IG51bGwsXG4gICAgYVRhZ0luU2NvcGU6IG51bGwsXG4gICAgYnV0dG9uVGFnSW5TY29wZTogbnVsbCxcbiAgICBub2JyVGFnSW5TY29wZTogbnVsbCxcbiAgICBwVGFnSW5CdXR0b25TY29wZTogbnVsbCxcblxuICAgIGxpc3RJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGwsXG4gICAgZGxJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGxcbiAgfTtcblxuICB2YXIgdXBkYXRlZEFuY2VzdG9ySW5mbyA9IGZ1bmN0aW9uIChvbGRJbmZvLCB0YWcsIGluc3RhbmNlKSB7XG4gICAgdmFyIGFuY2VzdG9ySW5mbyA9IGFzc2lnbih7fSwgb2xkSW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbyk7XG4gICAgdmFyIGluZm8gPSB7IHRhZzogdGFnLCBpbnN0YW5jZTogaW5zdGFuY2UgfTtcblxuICAgIGlmIChpblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICBhbmNlc3RvckluZm8uYVRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGUgPSBudWxsO1xuICAgICAgYW5jZXN0b3JJbmZvLm5vYnJUYWdJblNjb3BlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGJ1dHRvblNjb3BlVGFncy5pbmRleE9mKHRhZykgIT09IC0xKSB7XG4gICAgICBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGUgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIFNlZSBydWxlcyBmb3IgJ2xpJywgJ2RkJywgJ2R0JyBzdGFydCB0YWdzIGluXG4gICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluYm9keVxuICAgIGlmIChzcGVjaWFsVGFncy5pbmRleE9mKHRhZykgIT09IC0xICYmIHRhZyAhPT0gJ2FkZHJlc3MnICYmIHRhZyAhPT0gJ2RpdicgJiYgdGFnICE9PSAncCcpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbDtcbiAgICAgIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGw7XG4gICAgfVxuXG4gICAgYW5jZXN0b3JJbmZvLnBhcmVudFRhZyA9IGluZm87XG5cbiAgICBpZiAodGFnID09PSAnZm9ybScpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5mb3JtVGFnID0gaW5mbztcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ2EnKSB7XG4gICAgICBhbmNlc3RvckluZm8uYVRhZ0luU2NvcGUgPSBpbmZvO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAnYnV0dG9uJykge1xuICAgICAgYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGUgPSBpbmZvO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAnbm9icicpIHtcbiAgICAgIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZSA9IGluZm87XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdwJykge1xuICAgICAgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlID0gaW5mbztcbiAgICB9XG4gICAgaWYgKHRhZyA9PT0gJ2xpJykge1xuICAgICAgYW5jZXN0b3JJbmZvLmxpc3RJdGVtVGFnQXV0b2Nsb3NpbmcgPSBpbmZvO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAnZGQnIHx8IHRhZyA9PT0gJ2R0Jykge1xuICAgICAgYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbztcbiAgICB9XG5cbiAgICByZXR1cm4gYW5jZXN0b3JJbmZvO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXJcbiAgICovXG4gIHZhciBpc1RhZ1ZhbGlkV2l0aFBhcmVudCA9IGZ1bmN0aW9uICh0YWcsIHBhcmVudFRhZykge1xuICAgIC8vIEZpcnN0LCBsZXQncyBjaGVjayBpZiB3ZSdyZSBpbiBhbiB1bnVzdWFsIHBhcnNpbmcgbW9kZS4uLlxuICAgIHN3aXRjaCAocGFyZW50VGFnKSB7XG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5zZWxlY3RcbiAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdvcHRpb24nIHx8IHRhZyA9PT0gJ29wdGdyb3VwJyB8fCB0YWcgPT09ICcjdGV4dCc7XG4gICAgICBjYXNlICdvcHRncm91cCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdvcHRpb24nIHx8IHRhZyA9PT0gJyN0ZXh0JztcbiAgICAgIC8vIFN0cmljdGx5IHNwZWFraW5nLCBzZWVpbmcgYW4gPG9wdGlvbj4gZG9lc24ndCBtZWFuIHdlJ3JlIGluIGEgPHNlbGVjdD5cbiAgICAgIC8vIGJ1dFxuICAgICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJyN0ZXh0JztcblxuICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWludGRcbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbmNhcHRpb25cbiAgICAgIC8vIE5vIHNwZWNpYWwgYmVoYXZpb3Igc2luY2UgdGhlc2UgcnVsZXMgZmFsbCBiYWNrIHRvIFwiaW4gYm9keVwiIG1vZGUgZm9yXG4gICAgICAvLyBhbGwgZXhjZXB0IHNwZWNpYWwgdGFibGUgbm9kZXMgd2hpY2ggY2F1c2UgYmFkIHBhcnNpbmcgYmVoYXZpb3IgYW55d2F5LlxuXG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW50clxuICAgICAgY2FzZSAndHInOlxuICAgICAgICByZXR1cm4gdGFnID09PSAndGgnIHx8IHRhZyA9PT0gJ3RkJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG5cbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnRib2R5XG4gICAgICBjYXNlICd0Ym9keSc6XG4gICAgICBjYXNlICd0aGVhZCc6XG4gICAgICBjYXNlICd0Zm9vdCc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICd0cicgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuXG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5jb2xncm91cFxuICAgICAgY2FzZSAnY29sZ3JvdXAnOlxuICAgICAgICByZXR1cm4gdGFnID09PSAnY29sJyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG5cbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI3BhcnNpbmctbWFpbi1pbnRhYmxlXG4gICAgICBjYXNlICd0YWJsZSc6XG4gICAgICAgIHJldHVybiB0YWcgPT09ICdjYXB0aW9uJyB8fCB0YWcgPT09ICdjb2xncm91cCcgfHwgdGFnID09PSAndGJvZHknIHx8IHRhZyA9PT0gJ3Rmb290JyB8fCB0YWcgPT09ICd0aGVhZCcgfHwgdGFnID09PSAnc3R5bGUnIHx8IHRhZyA9PT0gJ3NjcmlwdCcgfHwgdGFnID09PSAndGVtcGxhdGUnO1xuXG4gICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5oZWFkXG4gICAgICBjYXNlICdoZWFkJzpcbiAgICAgICAgcmV0dXJuIHRhZyA9PT0gJ2Jhc2UnIHx8IHRhZyA9PT0gJ2Jhc2Vmb250JyB8fCB0YWcgPT09ICdiZ3NvdW5kJyB8fCB0YWcgPT09ICdsaW5rJyB8fCB0YWcgPT09ICdtZXRhJyB8fCB0YWcgPT09ICd0aXRsZScgfHwgdGFnID09PSAnbm9zY3JpcHQnIHx8IHRhZyA9PT0gJ25vZnJhbWVzJyB8fCB0YWcgPT09ICdzdHlsZScgfHwgdGFnID09PSAnc2NyaXB0JyB8fCB0YWcgPT09ICd0ZW1wbGF0ZSc7XG5cbiAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NlbWFudGljcy5odG1sI3RoZS1odG1sLWVsZW1lbnRcbiAgICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgICByZXR1cm4gdGFnID09PSAnaGVhZCcgfHwgdGFnID09PSAnYm9keSc7XG4gICAgfVxuXG4gICAgLy8gUHJvYmFibHkgaW4gdGhlIFwiaW4gYm9keVwiIHBhcnNpbmcgbW9kZSwgc28gd2Ugb3V0bGF3IG9ubHkgdGFnIGNvbWJvc1xuICAgIC8vIHdoZXJlIHRoZSBwYXJzaW5nIHJ1bGVzIGNhdXNlIGltcGxpY2l0IG9wZW5zIG9yIGNsb3NlcyB0byBiZSBhZGRlZC5cbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNwYXJzaW5nLW1haW4taW5ib2R5XG4gICAgc3dpdGNoICh0YWcpIHtcbiAgICAgIGNhc2UgJ2gxJzpcbiAgICAgIGNhc2UgJ2gyJzpcbiAgICAgIGNhc2UgJ2gzJzpcbiAgICAgIGNhc2UgJ2g0JzpcbiAgICAgIGNhc2UgJ2g1JzpcbiAgICAgIGNhc2UgJ2g2JzpcbiAgICAgICAgcmV0dXJuIHBhcmVudFRhZyAhPT0gJ2gxJyAmJiBwYXJlbnRUYWcgIT09ICdoMicgJiYgcGFyZW50VGFnICE9PSAnaDMnICYmIHBhcmVudFRhZyAhPT0gJ2g0JyAmJiBwYXJlbnRUYWcgIT09ICdoNScgJiYgcGFyZW50VGFnICE9PSAnaDYnO1xuXG4gICAgICBjYXNlICdycCc6XG4gICAgICBjYXNlICdydCc6XG4gICAgICAgIHJldHVybiBpbXBsaWVkRW5kVGFncy5pbmRleE9mKHBhcmVudFRhZykgPT09IC0xO1xuXG4gICAgICBjYXNlICdjYXB0aW9uJzpcbiAgICAgIGNhc2UgJ2NvbCc6XG4gICAgICBjYXNlICdjb2xncm91cCc6XG4gICAgICBjYXNlICdmcmFtZSc6XG4gICAgICBjYXNlICdoZWFkJzpcbiAgICAgIGNhc2UgJ3Rib2R5JzpcbiAgICAgIGNhc2UgJ3RkJzpcbiAgICAgIGNhc2UgJ3Rmb290JzpcbiAgICAgIGNhc2UgJ3RoJzpcbiAgICAgIGNhc2UgJ3RoZWFkJzpcbiAgICAgIGNhc2UgJ3RyJzpcbiAgICAgICAgLy8gVGhlc2UgdGFncyBhcmUgb25seSB2YWxpZCB3aXRoIGEgZmV3IHBhcmVudHMgdGhhdCBoYXZlIHNwZWNpYWwgY2hpbGRcbiAgICAgICAgLy8gcGFyc2luZyBydWxlcyAtLSBpZiB3ZSdyZSBkb3duIGhlcmUsIHRoZW4gbm9uZSBvZiB0aG9zZSBtYXRjaGVkIGFuZFxuICAgICAgICAvLyBzbyB3ZSBhbGxvdyBpdCBvbmx5IGlmIHdlIGRvbid0IGtub3cgd2hhdCB0aGUgcGFyZW50IGlzLCBhcyBhbGwgb3RoZXJcbiAgICAgICAgLy8gY2FzZXMgYXJlIGludmFsaWQuXG4gICAgICAgIHJldHVybiBwYXJlbnRUYWcgPT0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyXG4gICAqL1xuICB2YXIgZmluZEludmFsaWRBbmNlc3RvckZvclRhZyA9IGZ1bmN0aW9uICh0YWcsIGFuY2VzdG9ySW5mbykge1xuICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICBjYXNlICdhZGRyZXNzJzpcbiAgICAgIGNhc2UgJ2FydGljbGUnOlxuICAgICAgY2FzZSAnYXNpZGUnOlxuICAgICAgY2FzZSAnYmxvY2txdW90ZSc6XG4gICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgY2FzZSAnZGV0YWlscyc6XG4gICAgICBjYXNlICdkaWFsb2cnOlxuICAgICAgY2FzZSAnZGlyJzpcbiAgICAgIGNhc2UgJ2Rpdic6XG4gICAgICBjYXNlICdkbCc6XG4gICAgICBjYXNlICdmaWVsZHNldCc6XG4gICAgICBjYXNlICdmaWdjYXB0aW9uJzpcbiAgICAgIGNhc2UgJ2ZpZ3VyZSc6XG4gICAgICBjYXNlICdmb290ZXInOlxuICAgICAgY2FzZSAnaGVhZGVyJzpcbiAgICAgIGNhc2UgJ2hncm91cCc6XG4gICAgICBjYXNlICdtYWluJzpcbiAgICAgIGNhc2UgJ21lbnUnOlxuICAgICAgY2FzZSAnbmF2JzpcbiAgICAgIGNhc2UgJ29sJzpcbiAgICAgIGNhc2UgJ3AnOlxuICAgICAgY2FzZSAnc2VjdGlvbic6XG4gICAgICBjYXNlICdzdW1tYXJ5JzpcbiAgICAgIGNhc2UgJ3VsJzpcblxuICAgICAgY2FzZSAncHJlJzpcbiAgICAgIGNhc2UgJ2xpc3RpbmcnOlxuXG4gICAgICBjYXNlICd0YWJsZSc6XG5cbiAgICAgIGNhc2UgJ2hyJzpcblxuICAgICAgY2FzZSAneG1wJzpcblxuICAgICAgY2FzZSAnaDEnOlxuICAgICAgY2FzZSAnaDInOlxuICAgICAgY2FzZSAnaDMnOlxuICAgICAgY2FzZSAnaDQnOlxuICAgICAgY2FzZSAnaDUnOlxuICAgICAgY2FzZSAnaDYnOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuXG4gICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5mb3JtVGFnIHx8IGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZTtcblxuICAgICAgY2FzZSAnbGknOlxuICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmxpc3RJdGVtVGFnQXV0b2Nsb3Npbmc7XG5cbiAgICAgIGNhc2UgJ2RkJzpcbiAgICAgIGNhc2UgJ2R0JzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZztcblxuICAgICAgY2FzZSAnYnV0dG9uJzpcbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlO1xuXG4gICAgICBjYXNlICdhJzpcbiAgICAgICAgLy8gU3BlYyBzYXlzIHNvbWV0aGluZyBhYm91dCBzdG9yaW5nIGEgbGlzdCBvZiBtYXJrZXJzLCBidXQgaXQgc291bmRzXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gdGhpcyBjaGVjay5cbiAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5hVGFnSW5TY29wZTtcblxuICAgICAgY2FzZSAnbm9icic6XG4gICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEdpdmVuIGEgUmVhY3RDb21wb3NpdGVDb21wb25lbnQgaW5zdGFuY2UsIHJldHVybiBhIGxpc3Qgb2YgaXRzIHJlY3Vyc2l2ZVxuICAgKiBvd25lcnMsIHN0YXJ0aW5nIGF0IHRoZSByb290IGFuZCBlbmRpbmcgd2l0aCB0aGUgaW5zdGFuY2UgaXRzZWxmLlxuICAgKi9cbiAgdmFyIGZpbmRPd25lclN0YWNrID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHZhciBzdGFjayA9IFtdO1xuICAgIC8qZXNsaW50LWRpc2FibGUgc3BhY2UtYWZ0ZXIta2V5d29yZHMgKi9cbiAgICBkbyB7XG4gICAgICAvKmVzbGludC1lbmFibGUgc3BhY2UtYWZ0ZXIta2V5d29yZHMgKi9cbiAgICAgIHN0YWNrLnB1c2goaW5zdGFuY2UpO1xuICAgIH0gd2hpbGUgKGluc3RhbmNlID0gaW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50Ll9vd25lcik7XG4gICAgc3RhY2sucmV2ZXJzZSgpO1xuICAgIHJldHVybiBzdGFjaztcbiAgfTtcblxuICB2YXIgZGlkV2FybiA9IHt9O1xuXG4gIHZhbGlkYXRlRE9NTmVzdGluZyA9IGZ1bmN0aW9uIChjaGlsZFRhZywgY2hpbGRJbnN0YW5jZSwgYW5jZXN0b3JJbmZvKSB7XG4gICAgYW5jZXN0b3JJbmZvID0gYW5jZXN0b3JJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvO1xuICAgIHZhciBwYXJlbnRJbmZvID0gYW5jZXN0b3JJbmZvLnBhcmVudFRhZztcbiAgICB2YXIgcGFyZW50VGFnID0gcGFyZW50SW5mbyAmJiBwYXJlbnRJbmZvLnRhZztcblxuICAgIHZhciBpbnZhbGlkUGFyZW50ID0gaXNUYWdWYWxpZFdpdGhQYXJlbnQoY2hpbGRUYWcsIHBhcmVudFRhZykgPyBudWxsIDogcGFyZW50SW5mbztcbiAgICB2YXIgaW52YWxpZEFuY2VzdG9yID0gaW52YWxpZFBhcmVudCA/IG51bGwgOiBmaW5kSW52YWxpZEFuY2VzdG9yRm9yVGFnKGNoaWxkVGFnLCBhbmNlc3RvckluZm8pO1xuICAgIHZhciBwcm9ibGVtYXRpYyA9IGludmFsaWRQYXJlbnQgfHwgaW52YWxpZEFuY2VzdG9yO1xuXG4gICAgaWYgKHByb2JsZW1hdGljKSB7XG4gICAgICB2YXIgYW5jZXN0b3JUYWcgPSBwcm9ibGVtYXRpYy50YWc7XG4gICAgICB2YXIgYW5jZXN0b3JJbnN0YW5jZSA9IHByb2JsZW1hdGljLmluc3RhbmNlO1xuXG4gICAgICB2YXIgY2hpbGRPd25lciA9IGNoaWxkSW5zdGFuY2UgJiYgY2hpbGRJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIGFuY2VzdG9yT3duZXIgPSBhbmNlc3Rvckluc3RhbmNlICYmIGFuY2VzdG9ySW5zdGFuY2UuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcblxuICAgICAgdmFyIGNoaWxkT3duZXJzID0gZmluZE93bmVyU3RhY2soY2hpbGRPd25lcik7XG4gICAgICB2YXIgYW5jZXN0b3JPd25lcnMgPSBmaW5kT3duZXJTdGFjayhhbmNlc3Rvck93bmVyKTtcblxuICAgICAgdmFyIG1pblN0YWNrTGVuID0gTWF0aC5taW4oY2hpbGRPd25lcnMubGVuZ3RoLCBhbmNlc3Rvck93bmVycy5sZW5ndGgpO1xuICAgICAgdmFyIGk7XG5cbiAgICAgIHZhciBkZWVwZXN0Q29tbW9uID0gLTE7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbWluU3RhY2tMZW47IGkrKykge1xuICAgICAgICBpZiAoY2hpbGRPd25lcnNbaV0gPT09IGFuY2VzdG9yT3duZXJzW2ldKSB7XG4gICAgICAgICAgZGVlcGVzdENvbW1vbiA9IGk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIFVOS05PV04gPSAnKHVua25vd24pJztcbiAgICAgIHZhciBjaGlsZE93bmVyTmFtZXMgPSBjaGlsZE93bmVycy5zbGljZShkZWVwZXN0Q29tbW9uICsgMSkubWFwKGZ1bmN0aW9uIChpbnN0KSB7XG4gICAgICAgIHJldHVybiBpbnN0LmdldE5hbWUoKSB8fCBVTktOT1dOO1xuICAgICAgfSk7XG4gICAgICB2YXIgYW5jZXN0b3JPd25lck5hbWVzID0gYW5jZXN0b3JPd25lcnMuc2xpY2UoZGVlcGVzdENvbW1vbiArIDEpLm1hcChmdW5jdGlvbiAoaW5zdCkge1xuICAgICAgICByZXR1cm4gaW5zdC5nZXROYW1lKCkgfHwgVU5LTk9XTjtcbiAgICAgIH0pO1xuICAgICAgdmFyIG93bmVySW5mbyA9IFtdLmNvbmNhdChcbiAgICAgIC8vIElmIHRoZSBwYXJlbnQgYW5kIGNoaWxkIGluc3RhbmNlcyBoYXZlIGEgY29tbW9uIG93bmVyIGFuY2VzdG9yLCBzdGFydFxuICAgICAgLy8gd2l0aCB0aGF0IC0tIG90aGVyd2lzZSB3ZSBqdXN0IHN0YXJ0IHdpdGggdGhlIHBhcmVudCdzIG93bmVycy5cbiAgICAgIGRlZXBlc3RDb21tb24gIT09IC0xID8gY2hpbGRPd25lcnNbZGVlcGVzdENvbW1vbl0uZ2V0TmFtZSgpIHx8IFVOS05PV04gOiBbXSwgYW5jZXN0b3JPd25lck5hbWVzLCBhbmNlc3RvclRhZyxcbiAgICAgIC8vIElmIHdlJ3JlIHdhcm5pbmcgYWJvdXQgYW4gaW52YWxpZCAobm9uLXBhcmVudCkgYW5jZXN0cnksIGFkZCAnLi4uJ1xuICAgICAgaW52YWxpZEFuY2VzdG9yID8gWycuLi4nXSA6IFtdLCBjaGlsZE93bmVyTmFtZXMsIGNoaWxkVGFnKS5qb2luKCcgPiAnKTtcblxuICAgICAgdmFyIHdhcm5LZXkgPSAhIWludmFsaWRQYXJlbnQgKyAnfCcgKyBjaGlsZFRhZyArICd8JyArIGFuY2VzdG9yVGFnICsgJ3wnICsgb3duZXJJbmZvO1xuICAgICAgaWYgKGRpZFdhcm5bd2FybktleV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGlkV2Fyblt3YXJuS2V5XSA9IHRydWU7XG5cbiAgICAgIGlmIChpbnZhbGlkUGFyZW50KSB7XG4gICAgICAgIHZhciBpbmZvID0gJyc7XG4gICAgICAgIGlmIChhbmNlc3RvclRhZyA9PT0gJ3RhYmxlJyAmJiBjaGlsZFRhZyA9PT0gJ3RyJykge1xuICAgICAgICAgIGluZm8gKz0gJyBBZGQgYSA8dGJvZHk+IHRvIHlvdXIgY29kZSB0byBtYXRjaCB0aGUgRE9NIHRyZWUgZ2VuZXJhdGVkIGJ5ICcgKyAndGhlIGJyb3dzZXIuJztcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ3ZhbGlkYXRlRE9NTmVzdGluZyguLi4pOiA8JXM+IGNhbm5vdCBhcHBlYXIgYXMgYSBjaGlsZCBvZiA8JXM+LiAnICsgJ1NlZSAlcy4lcycsIGNoaWxkVGFnLCBhbmNlc3RvclRhZywgb3duZXJJbmZvLCBpbmZvKSA6IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAndmFsaWRhdGVET01OZXN0aW5nKC4uLik6IDwlcz4gY2Fubm90IGFwcGVhciBhcyBhIGRlc2NlbmRhbnQgb2YgJyArICc8JXM+LiBTZWUgJXMuJywgY2hpbGRUYWcsIGFuY2VzdG9yVGFnLCBvd25lckluZm8pIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YWxpZGF0ZURPTU5lc3RpbmcuYW5jZXN0b3JJbmZvQ29udGV4dEtleSA9ICdfX3ZhbGlkYXRlRE9NTmVzdGluZ19hbmNlc3RvckluZm8kJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuXG4gIHZhbGlkYXRlRE9NTmVzdGluZy51cGRhdGVkQW5jZXN0b3JJbmZvID0gdXBkYXRlZEFuY2VzdG9ySW5mbztcblxuICAvLyBGb3IgdGVzdGluZ1xuICB2YWxpZGF0ZURPTU5lc3RpbmcuaXNUYWdWYWxpZEluQ29udGV4dCA9IGZ1bmN0aW9uICh0YWcsIGFuY2VzdG9ySW5mbykge1xuICAgIGFuY2VzdG9ySW5mbyA9IGFuY2VzdG9ySW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mbztcbiAgICB2YXIgcGFyZW50SW5mbyA9IGFuY2VzdG9ySW5mby5wYXJlbnRUYWc7XG4gICAgdmFyIHBhcmVudFRhZyA9IHBhcmVudEluZm8gJiYgcGFyZW50SW5mby50YWc7XG4gICAgcmV0dXJuIGlzVGFnVmFsaWRXaXRoUGFyZW50KHRhZywgcGFyZW50VGFnKSAmJiAhZmluZEludmFsaWRBbmNlc3RvckZvclRhZyh0YWcsIGFuY2VzdG9ySW5mbyk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdmFsaWRhdGVET01OZXN0aW5nOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRFdmVudFRhcmdldFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogR2V0cyB0aGUgdGFyZ2V0IG5vZGUgZnJvbSBhIG5hdGl2ZSBicm93c2VyIGV2ZW50IGJ5IGFjY291bnRpbmcgZm9yXG4gKiBpbmNvbnNpc3RlbmNpZXMgaW4gYnJvd3NlciBET00gQVBJcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtET01FdmVudFRhcmdldH0gVGFyZ2V0IG5vZGUuXG4gKi9cbmZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KSB7XG4gIHZhciB0YXJnZXQgPSBuYXRpdmVFdmVudC50YXJnZXQgfHwgbmF0aXZlRXZlbnQuc3JjRWxlbWVudCB8fCB3aW5kb3c7XG4gIC8vIFNhZmFyaSBtYXkgZmlyZSBldmVudHMgb24gdGV4dCBub2RlcyAoTm9kZS5URVhUX05PREUgaXMgMykuXG4gIC8vIEBzZWUgaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9ldmVudHNfcHJvcGVydGllcy5odG1sXG4gIHJldHVybiB0YXJnZXQubm9kZVR5cGUgPT09IDMgPyB0YXJnZXQucGFyZW50Tm9kZSA6IHRhcmdldDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRFdmVudFRhcmdldDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZ2V0RXZlbnRNb2RpZmllclN0YXRlXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUcmFuc2xhdGlvbiBmcm9tIG1vZGlmaWVyIGtleSB0byB0aGUgYXNzb2NpYXRlZCBwcm9wZXJ0eSBpbiB0aGUgZXZlbnQuXG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8ja2V5cy1Nb2RpZmllcnNcbiAqL1xuXG52YXIgbW9kaWZpZXJLZXlUb1Byb3AgPSB7XG4gICdBbHQnOiAnYWx0S2V5JyxcbiAgJ0NvbnRyb2wnOiAnY3RybEtleScsXG4gICdNZXRhJzogJ21ldGFLZXknLFxuICAnU2hpZnQnOiAnc2hpZnRLZXknXG59O1xuXG4vLyBJRTggZG9lcyBub3QgaW1wbGVtZW50IGdldE1vZGlmaWVyU3RhdGUgc28gd2Ugc2ltcGx5IG1hcCBpdCB0byB0aGUgb25seVxuLy8gbW9kaWZpZXIga2V5cyBleHBvc2VkIGJ5IHRoZSBldmVudCBpdHNlbGYsIGRvZXMgbm90IHN1cHBvcnQgTG9jay1rZXlzLlxuLy8gQ3VycmVudGx5LCBhbGwgbWFqb3IgYnJvd3NlcnMgZXhjZXB0IENocm9tZSBzZWVtcyB0byBzdXBwb3J0IExvY2sta2V5cy5cbmZ1bmN0aW9uIG1vZGlmaWVyU3RhdGVHZXR0ZXIoa2V5QXJnKSB7XG4gIHZhciBzeW50aGV0aWNFdmVudCA9IHRoaXM7XG4gIHZhciBuYXRpdmVFdmVudCA9IHN5bnRoZXRpY0V2ZW50Lm5hdGl2ZUV2ZW50O1xuICBpZiAobmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZSkge1xuICAgIHJldHVybiBuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKGtleUFyZyk7XG4gIH1cbiAgdmFyIGtleVByb3AgPSBtb2RpZmllcktleVRvUHJvcFtrZXlBcmddO1xuICByZXR1cm4ga2V5UHJvcCA/ICEhbmF0aXZlRXZlbnRba2V5UHJvcF0gOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0RXZlbnRNb2RpZmllclN0YXRlKG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiBtb2RpZmllclN0YXRlR2V0dGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEV2ZW50TW9kaWZpZXJTdGF0ZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZmluZERPTU5vZGVcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0Q3VycmVudE93bmVyJyk7XG52YXIgUmVhY3RJbnN0YW5jZU1hcCA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0YW5jZU1hcCcpO1xudmFyIFJlYWN0TW91bnQgPSByZXF1aXJlKCcuL1JlYWN0TW91bnQnKTtcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgRE9NIG5vZGUgcmVuZGVyZWQgYnkgdGhpcyBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR8RE9NRWxlbWVudH0gY29tcG9uZW50T3JFbGVtZW50XG4gKiBAcmV0dXJuIHs/RE9NRWxlbWVudH0gVGhlIHJvb3Qgbm9kZSBvZiB0aGlzIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRET01Ob2RlKGNvbXBvbmVudE9yRWxlbWVudCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciBvd25lciA9IFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQ7XG4gICAgaWYgKG93bmVyICE9PSBudWxsKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhvd25lci5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIsICclcyBpcyBhY2Nlc3NpbmcgZ2V0RE9NTm9kZSBvciBmaW5kRE9NTm9kZSBpbnNpZGUgaXRzIHJlbmRlcigpLiAnICsgJ3JlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgJyArICduZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyAnICsgJ3JlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kICcgKyAnY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuJywgb3duZXIuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpIDogdW5kZWZpbmVkO1xuICAgICAgb3duZXIuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGNvbXBvbmVudE9yRWxlbWVudCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGNvbXBvbmVudE9yRWxlbWVudC5ub2RlVHlwZSA9PT0gMSkge1xuICAgIHJldHVybiBjb21wb25lbnRPckVsZW1lbnQ7XG4gIH1cbiAgaWYgKFJlYWN0SW5zdGFuY2VNYXAuaGFzKGNvbXBvbmVudE9yRWxlbWVudCkpIHtcbiAgICByZXR1cm4gUmVhY3RNb3VudC5nZXROb2RlRnJvbUluc3RhbmNlKGNvbXBvbmVudE9yRWxlbWVudCk7XG4gIH1cbiAgIShjb21wb25lbnRPckVsZW1lbnQucmVuZGVyID09IG51bGwgfHwgdHlwZW9mIGNvbXBvbmVudE9yRWxlbWVudC5yZW5kZXIgIT09ICdmdW5jdGlvbicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2ZpbmRET01Ob2RlIHdhcyBjYWxsZWQgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFbGVtZW50IGFwcGVhcnMgdG8gYmUgbmVpdGhlciBSZWFjdENvbXBvbmVudCBub3IgRE9NTm9kZSAoa2V5czogJXMpJywgT2JqZWN0LmtleXMoY29tcG9uZW50T3JFbGVtZW50KSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZpbmRET01Ob2RlOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBMaW5rZWRWYWx1ZVV0aWxzXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlcycpO1xudmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMnKTtcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5cbnZhciBoYXNSZWFkT25seVZhbHVlID0ge1xuICAnYnV0dG9uJzogdHJ1ZSxcbiAgJ2NoZWNrYm94JzogdHJ1ZSxcbiAgJ2ltYWdlJzogdHJ1ZSxcbiAgJ2hpZGRlbic6IHRydWUsXG4gICdyYWRpbyc6IHRydWUsXG4gICdyZXNldCc6IHRydWUsXG4gICdzdWJtaXQnOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBfYXNzZXJ0U2luZ2xlTGluayhpbnB1dFByb3BzKSB7XG4gICEoaW5wdXRQcm9wcy5jaGVja2VkTGluayA9PSBudWxsIHx8IGlucHV0UHJvcHMudmFsdWVMaW5rID09IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBwcm92aWRlIGEgY2hlY2tlZExpbmsgYW5kIGEgdmFsdWVMaW5rLiBJZiB5b3Ugd2FudCB0byB1c2UgJyArICdjaGVja2VkTGluaywgeW91IHByb2JhYmx5IGRvblxcJ3Qgd2FudCB0byB1c2UgdmFsdWVMaW5rIGFuZCB2aWNlIHZlcnNhLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIF9hc3NlcnRWYWx1ZUxpbmsoaW5wdXRQcm9wcykge1xuICBfYXNzZXJ0U2luZ2xlTGluayhpbnB1dFByb3BzKTtcbiAgIShpbnB1dFByb3BzLnZhbHVlID09IG51bGwgJiYgaW5wdXRQcm9wcy5vbkNoYW5nZSA9PSBudWxsKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgcHJvdmlkZSBhIHZhbHVlTGluayBhbmQgYSB2YWx1ZSBvciBvbkNoYW5nZSBldmVudC4gSWYgeW91IHdhbnQgJyArICd0byB1c2UgdmFsdWUgb3Igb25DaGFuZ2UsIHlvdSBwcm9iYWJseSBkb25cXCd0IHdhbnQgdG8gdXNlIHZhbHVlTGluay4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIF9hc3NlcnRDaGVja2VkTGluayhpbnB1dFByb3BzKSB7XG4gIF9hc3NlcnRTaW5nbGVMaW5rKGlucHV0UHJvcHMpO1xuICAhKGlucHV0UHJvcHMuY2hlY2tlZCA9PSBudWxsICYmIGlucHV0UHJvcHMub25DaGFuZ2UgPT0gbnVsbCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHByb3ZpZGUgYSBjaGVja2VkTGluayBhbmQgYSBjaGVja2VkIHByb3BlcnR5IG9yIG9uQ2hhbmdlIGV2ZW50LiAnICsgJ0lmIHlvdSB3YW50IHRvIHVzZSBjaGVja2VkIG9yIG9uQ2hhbmdlLCB5b3UgcHJvYmFibHkgZG9uXFwndCB3YW50IHRvICcgKyAndXNlIGNoZWNrZWRMaW5rJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xufVxuXG52YXIgcHJvcFR5cGVzID0ge1xuICB2YWx1ZTogZnVuY3Rpb24gKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgIGlmICghcHJvcHNbcHJvcE5hbWVdIHx8IGhhc1JlYWRPbmx5VmFsdWVbcHJvcHMudHlwZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgdmFsdWVgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gJyArICdgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmICcgKyAndGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdFZhbHVlYC4gT3RoZXJ3aXNlLCAnICsgJ3NldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLicpO1xuICB9LFxuICBjaGVja2VkOiBmdW5jdGlvbiAocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFwcm9wc1twcm9wTmFtZV0gfHwgcHJvcHMub25DaGFuZ2UgfHwgcHJvcHMucmVhZE9ubHkgfHwgcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEVycm9yKCdZb3UgcHJvdmlkZWQgYSBgY2hlY2tlZGAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiAnICsgJ2BvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgJyArICd0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0Q2hlY2tlZGAuIE90aGVyd2lzZSwgJyArICdzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC4nKTtcbiAgfSxcbiAgb25DaGFuZ2U6IFJlYWN0UHJvcFR5cGVzLmZ1bmNcbn07XG5cbnZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShvd25lcikge1xuICBpZiAob3duZXIpIHtcbiAgICB2YXIgbmFtZSA9IG93bmVyLmdldE5hbWUoKTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFByb3ZpZGUgYSBsaW5rZWQgYHZhbHVlYCBhdHRyaWJ1dGUgZm9yIGNvbnRyb2xsZWQgZm9ybXMuIFlvdSBzaG91bGQgbm90IHVzZVxuICogdGhpcyBvdXRzaWRlIG9mIHRoZSBSZWFjdERPTSBjb250cm9sbGVkIGZvcm0gY29tcG9uZW50cy5cbiAqL1xudmFyIExpbmtlZFZhbHVlVXRpbHMgPSB7XG4gIGNoZWNrUHJvcFR5cGVzOiBmdW5jdGlvbiAodGFnTmFtZSwgcHJvcHMsIG93bmVyKSB7XG4gICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gcHJvcFR5cGVzKSB7XG4gICAgICBpZiAocHJvcFR5cGVzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICB2YXIgZXJyb3IgPSBwcm9wVHlwZXNbcHJvcE5hbWVdKHByb3BzLCBwcm9wTmFtZSwgdGFnTmFtZSwgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5wcm9wLCBudWxsLCAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgIC8vIE9ubHkgbW9uaXRvciB0aGlzIGZhaWx1cmUgb25jZSBiZWNhdXNlIHRoZXJlIHRlbmRzIHRvIGJlIGEgbG90IG9mIHRoZVxuICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuXG4gICAgICAgIHZhciBhZGRlbmR1bSA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShvd25lcik7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkIGZvcm0gcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge29iamVjdH0gaW5wdXRQcm9wcyBQcm9wcyBmb3IgZm9ybSBjb21wb25lbnRcbiAgICogQHJldHVybiB7Kn0gY3VycmVudCB2YWx1ZSBvZiB0aGUgaW5wdXQgZWl0aGVyIGZyb20gdmFsdWUgcHJvcCBvciBsaW5rLlxuICAgKi9cbiAgZ2V0VmFsdWU6IGZ1bmN0aW9uIChpbnB1dFByb3BzKSB7XG4gICAgaWYgKGlucHV0UHJvcHMudmFsdWVMaW5rKSB7XG4gICAgICBfYXNzZXJ0VmFsdWVMaW5rKGlucHV0UHJvcHMpO1xuICAgICAgcmV0dXJuIGlucHV0UHJvcHMudmFsdWVMaW5rLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXRQcm9wcy52YWx1ZTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtvYmplY3R9IGlucHV0UHJvcHMgUHJvcHMgZm9yIGZvcm0gY29tcG9uZW50XG4gICAqIEByZXR1cm4geyp9IGN1cnJlbnQgY2hlY2tlZCBzdGF0dXMgb2YgdGhlIGlucHV0IGVpdGhlciBmcm9tIGNoZWNrZWQgcHJvcFxuICAgKiAgICAgICAgICAgICBvciBsaW5rLlxuICAgKi9cbiAgZ2V0Q2hlY2tlZDogZnVuY3Rpb24gKGlucHV0UHJvcHMpIHtcbiAgICBpZiAoaW5wdXRQcm9wcy5jaGVja2VkTGluaykge1xuICAgICAgX2Fzc2VydENoZWNrZWRMaW5rKGlucHV0UHJvcHMpO1xuICAgICAgcmV0dXJuIGlucHV0UHJvcHMuY2hlY2tlZExpbmsudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dFByb3BzLmNoZWNrZWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBpbnB1dFByb3BzIFByb3BzIGZvciBmb3JtIGNvbXBvbmVudFxuICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBjaGFuZ2UgZXZlbnQgdG8gaGFuZGxlXG4gICAqL1xuICBleGVjdXRlT25DaGFuZ2U6IGZ1bmN0aW9uIChpbnB1dFByb3BzLCBldmVudCkge1xuICAgIGlmIChpbnB1dFByb3BzLnZhbHVlTGluaykge1xuICAgICAgX2Fzc2VydFZhbHVlTGluayhpbnB1dFByb3BzKTtcbiAgICAgIHJldHVybiBpbnB1dFByb3BzLnZhbHVlTGluay5yZXF1ZXN0Q2hhbmdlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfSBlbHNlIGlmIChpbnB1dFByb3BzLmNoZWNrZWRMaW5rKSB7XG4gICAgICBfYXNzZXJ0Q2hlY2tlZExpbmsoaW5wdXRQcm9wcyk7XG4gICAgICByZXR1cm4gaW5wdXRQcm9wcy5jaGVja2VkTGluay5yZXF1ZXN0Q2hhbmdlKGV2ZW50LnRhcmdldC5jaGVja2VkKTtcbiAgICB9IGVsc2UgaWYgKGlucHV0UHJvcHMub25DaGFuZ2UpIHtcbiAgICAgIHJldHVybiBpbnB1dFByb3BzLm9uQ2hhbmdlLmNhbGwodW5kZWZpbmVkLCBldmVudCk7XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IExpbmtlZFZhbHVlVXRpbHM7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldEl0ZXJhdG9yRm5cbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKiBnbG9iYWwgU3ltYm9sICovXG52YXIgSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpdGVyYXRvciBtZXRob2QgZnVuY3Rpb24gY29udGFpbmVkIG9uIHRoZSBpdGVyYWJsZSBvYmplY3QuXG4gKlxuICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG4gKlxuICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuICogICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG15SXRlcmFibGUpO1xuICogICAgICAgLi4uXG4gKiAgICAgfVxuICpcbiAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICogQHJldHVybiB7P2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcbiAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRJdGVyYXRvckZuOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSB0cmF2ZXJzZUFsbENoaWxkcmVuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0Q3VycmVudE93bmVyJyk7XG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbnZhciBSZWFjdEluc3RhbmNlSGFuZGxlcyA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0YW5jZUhhbmRsZXMnKTtcblxudmFyIGdldEl0ZXJhdG9yRm4gPSByZXF1aXJlKCcuL2dldEl0ZXJhdG9yRm4nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG52YXIgU0VQQVJBVE9SID0gUmVhY3RJbnN0YW5jZUhhbmRsZXMuU0VQQVJBVE9SO1xudmFyIFNVQlNFUEFSQVRPUiA9ICc6JztcblxuLyoqXG4gKiBUT0RPOiBUZXN0IHRoYXQgYSBzaW5nbGUgY2hpbGQgYW5kIGFuIGFycmF5IHdpdGggb25lIGl0ZW0gaGF2ZSB0aGUgc2FtZSBrZXlcbiAqIHBhdHRlcm4uXG4gKi9cblxudmFyIHVzZXJQcm92aWRlZEtleUVzY2FwZXJMb29rdXAgPSB7XG4gICc9JzogJz0wJyxcbiAgJy4nOiAnPTEnLFxuICAnOic6ICc9Midcbn07XG5cbnZhciB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9bPS46XS9nO1xuXG52YXIgZGlkV2FybkFib3V0TWFwcyA9IGZhbHNlO1xuXG5mdW5jdGlvbiB1c2VyUHJvdmlkZWRLZXlFc2NhcGVyKG1hdGNoKSB7XG4gIHJldHVybiB1c2VyUHJvdmlkZWRLZXlFc2NhcGVyTG9va3VwW21hdGNoXTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIGtleSBzdHJpbmcgdGhhdCBpZGVudGlmaWVzIGEgY29tcG9uZW50IHdpdGhpbiBhIHNldC5cbiAqXG4gKiBAcGFyYW0geyp9IGNvbXBvbmVudCBBIGNvbXBvbmVudCB0aGF0IGNvdWxkIGNvbnRhaW4gYSBtYW51YWwga2V5LlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4IHRoYXQgaXMgdXNlZCBpZiBhIG1hbnVhbCBrZXkgaXMgbm90IHByb3ZpZGVkLlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnRLZXkoY29tcG9uZW50LCBpbmRleCkge1xuICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC5rZXkgIT0gbnVsbCkge1xuICAgIC8vIEV4cGxpY2l0IGtleVxuICAgIHJldHVybiB3cmFwVXNlclByb3ZpZGVkS2V5KGNvbXBvbmVudC5rZXkpO1xuICB9XG4gIC8vIEltcGxpY2l0IGtleSBkZXRlcm1pbmVkIGJ5IHRoZSBpbmRleCBpbiB0aGUgc2V0XG4gIHJldHVybiBpbmRleC50b1N0cmluZygzNik7XG59XG5cbi8qKlxuICogRXNjYXBlIGEgY29tcG9uZW50IGtleSBzbyB0aGF0IGl0IGlzIHNhZmUgdG8gdXNlIGluIGEgcmVhY3RpZC5cbiAqXG4gKiBAcGFyYW0geyp9IHRleHQgQ29tcG9uZW50IGtleSB0byBiZSBlc2NhcGVkLlxuICogQHJldHVybiB7c3RyaW5nfSBBbiBlc2NhcGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZXNjYXBlVXNlclByb3ZpZGVkS2V5KHRleHQpIHtcbiAgcmV0dXJuICgnJyArIHRleHQpLnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsIHVzZXJQcm92aWRlZEtleUVzY2FwZXIpO1xufVxuXG4vKipcbiAqIFdyYXAgYSBga2V5YCB2YWx1ZSBleHBsaWNpdGx5IHByb3ZpZGVkIGJ5IHRoZSB1c2VyIHRvIGRpc3Rpbmd1aXNoIGl0IGZyb21cbiAqIGltcGxpY2l0bHktZ2VuZXJhdGVkIGtleXMgZ2VuZXJhdGVkIGJ5IGEgY29tcG9uZW50J3MgaW5kZXggaW4gaXRzIHBhcmVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFZhbHVlIG9mIGEgdXNlci1wcm92aWRlZCBga2V5YCBhdHRyaWJ1dGVcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gd3JhcFVzZXJQcm92aWRlZEtleShrZXkpIHtcbiAgcmV0dXJuICckJyArIGVzY2FwZVVzZXJQcm92aWRlZEtleShrZXkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHshc3RyaW5nfSBuYW1lU29GYXIgTmFtZSBvZiB0aGUga2V5IHBhdGggc28gZmFyLlxuICogQHBhcmFtIHshZnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aXRoIGVhY2ggY2hpbGQgZm91bmQuXG4gKiBAcGFyYW0gez8qfSB0cmF2ZXJzZUNvbnRleHQgVXNlZCB0byBwYXNzIGluZm9ybWF0aW9uIHRocm91Z2hvdXQgdGhlIHRyYXZlcnNhbFxuICogcHJvY2Vzcy5cbiAqIEByZXR1cm4geyFudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4gaW4gdGhpcyBzdWJ0cmVlLlxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuSW1wbChjaGlsZHJlbiwgbmFtZVNvRmFyLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkcmVuO1xuXG4gIGlmICh0eXBlID09PSAndW5kZWZpbmVkJyB8fCB0eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAvLyBBbGwgb2YgdGhlIGFib3ZlIGFyZSBwZXJjZWl2ZWQgYXMgbnVsbC5cbiAgICBjaGlsZHJlbiA9IG51bGw7XG4gIH1cblxuICBpZiAoY2hpbGRyZW4gPT09IG51bGwgfHwgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ251bWJlcicgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgIGNhbGxiYWNrKHRyYXZlcnNlQ29udGV4dCwgY2hpbGRyZW4sXG4gICAgLy8gSWYgaXQncyB0aGUgb25seSBjaGlsZCwgdHJlYXQgdGhlIG5hbWUgYXMgaWYgaXQgd2FzIHdyYXBwZWQgaW4gYW4gYXJyYXlcbiAgICAvLyBzbyB0aGF0IGl0J3MgY29uc2lzdGVudCBpZiB0aGUgbnVtYmVyIG9mIGNoaWxkcmVuIGdyb3dzLlxuICAgIG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgKyBnZXRDb21wb25lbnRLZXkoY2hpbGRyZW4sIDApIDogbmFtZVNvRmFyKTtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIHZhciBjaGlsZDtcbiAgdmFyIG5leHROYW1lO1xuICB2YXIgc3VidHJlZUNvdW50ID0gMDsgLy8gQ291bnQgb2YgY2hpbGRyZW4gZm91bmQgaW4gdGhlIGN1cnJlbnQgc3VidHJlZS5cbiAgdmFyIG5leHROYW1lUHJlZml4ID0gbmFtZVNvRmFyID09PSAnJyA/IFNFUEFSQVRPUiA6IG5hbWVTb0ZhciArIFNVQlNFUEFSQVRPUjtcblxuICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgbmV4dE5hbWUgPSBuZXh0TmFtZVByZWZpeCArIGdldENvbXBvbmVudEtleShjaGlsZCwgaSk7XG4gICAgICBzdWJ0cmVlQ291bnQgKz0gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGQsIG5leHROYW1lLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKGNoaWxkcmVuKTtcbiAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKGNoaWxkcmVuKTtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IGNoaWxkcmVuLmVudHJpZXMpIHtcbiAgICAgICAgdmFyIGlpID0gMDtcbiAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgIGNoaWxkID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0Q29tcG9uZW50S2V5KGNoaWxkLCBpaSsrKTtcbiAgICAgICAgICBzdWJ0cmVlQ291bnQgKz0gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGQsIG5leHROYW1lLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhkaWRXYXJuQWJvdXRNYXBzLCAnVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBub3QgeWV0IGZ1bGx5IHN1cHBvcnRlZC4gSXQgaXMgYW4gJyArICdleHBlcmltZW50YWwgZmVhdHVyZSB0aGF0IG1pZ2h0IGJlIHJlbW92ZWQuIENvbnZlcnQgaXQgdG8gYSAnICsgJ3NlcXVlbmNlIC8gaXRlcmFibGUgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLicpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIGNoaWxkID0gZW50cnlbMV07XG4gICAgICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgd3JhcFVzZXJQcm92aWRlZEtleShlbnRyeVswXSkgKyBTVUJTRVBBUkFUT1IgKyBnZXRDb21wb25lbnRLZXkoY2hpbGQsIDApO1xuICAgICAgICAgICAgc3VidHJlZUNvdW50ICs9IHRyYXZlcnNlQWxsQ2hpbGRyZW5JbXBsKGNoaWxkLCBuZXh0TmFtZSwgY2FsbGJhY2ssIHRyYXZlcnNlQ29udGV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGFkZGVuZHVtID0gJyc7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBhZGRlbmR1bSA9ICcgSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSAnICsgJ2luc3RlYWQgb3Igd3JhcCB0aGUgb2JqZWN0IHVzaW5nIGNyZWF0ZUZyYWdtZW50KG9iamVjdCkgZnJvbSB0aGUgJyArICdSZWFjdCBhZGQtb25zLic7XG4gICAgICAgIGlmIChjaGlsZHJlbi5faXNSZWFjdEVsZW1lbnQpIHtcbiAgICAgICAgICBhZGRlbmR1bSA9ICcgSXQgbG9va3MgbGlrZSB5b3VcXCdyZSB1c2luZyBhbiBlbGVtZW50IGNyZWF0ZWQgYnkgYSBkaWZmZXJlbnQgJyArICd2ZXJzaW9uIG9mIFJlYWN0LiBNYWtlIHN1cmUgdG8gdXNlIG9ubHkgb25lIGNvcHkgb2YgUmVhY3QuJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgICAgIHZhciBuYW1lID0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5nZXROYW1lKCk7XG4gICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIGFkZGVuZHVtICs9ICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBjaGlsZHJlblN0cmluZyA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgICAhZmFsc2UgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiAlcykuJXMnLCBjaGlsZHJlblN0cmluZyA9PT0gJ1tvYmplY3QgT2JqZWN0XScgPyAnb2JqZWN0IHdpdGgga2V5cyB7JyArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKCcsICcpICsgJ30nIDogY2hpbGRyZW5TdHJpbmcsIGFkZGVuZHVtKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN1YnRyZWVDb3VudDtcbn1cblxuLyoqXG4gKiBUcmF2ZXJzZXMgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLCBidXRcbiAqIG1pZ2h0IGFsc28gYmUgc3BlY2lmaWVkIHRocm91Z2ggYXR0cmlidXRlczpcbiAqXG4gKiAtIGB0cmF2ZXJzZUFsbENoaWxkcmVuKHRoaXMucHJvcHMuY2hpbGRyZW4sIC4uLilgXG4gKiAtIGB0cmF2ZXJzZUFsbENoaWxkcmVuKHRoaXMucHJvcHMubGVmdFBhbmVsQ2hpbGRyZW4sIC4uLilgXG4gKlxuICogVGhlIGB0cmF2ZXJzZUNvbnRleHRgIGlzIGFuIG9wdGlvbmFsIGFyZ3VtZW50IHRoYXQgaXMgcGFzc2VkIHRocm91Z2ggdGhlXG4gKiBlbnRpcmUgdHJhdmVyc2FsLiBJdCBjYW4gYmUgdXNlZCB0byBzdG9yZSBhY2N1bXVsYXRpb25zIG9yIGFueXRoaW5nIGVsc2UgdGhhdFxuICogdGhlIGNhbGxiYWNrIG1pZ2h0IGZpbmQgcmVsZXZhbnQuXG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBvYmplY3QuXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gY2FsbGJhY2sgVG8gaW52b2tlIHVwb24gdHJhdmVyc2luZyBlYWNoIGNoaWxkLlxuICogQHBhcmFtIHs/Kn0gdHJhdmVyc2VDb250ZXh0IENvbnRleHQgZm9yIHRyYXZlcnNhbC5cbiAqIEByZXR1cm4geyFudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4gaW4gdGhpcyBzdWJ0cmVlLlxuICovXG5mdW5jdGlvbiB0cmF2ZXJzZUFsbENoaWxkcmVuKGNoaWxkcmVuLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICByZXR1cm4gdHJhdmVyc2VBbGxDaGlsZHJlbkltcGwoY2hpbGRyZW4sICcnLCBjYWxsYmFjaywgdHJhdmVyc2VDb250ZXh0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0cmF2ZXJzZUFsbENoaWxkcmVuOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRFdmVudENoYXJDb2RlXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBgY2hhckNvZGVgIHJlcHJlc2VudHMgdGhlIGFjdHVhbCBcImNoYXJhY3RlciBjb2RlXCIgYW5kIGlzIHNhZmUgdG8gdXNlIHdpdGhcbiAqIGBTdHJpbmcuZnJvbUNoYXJDb2RlYC4gQXMgc3VjaCwgb25seSBrZXlzIHRoYXQgY29ycmVzcG9uZCB0byBwcmludGFibGVcbiAqIGNoYXJhY3RlcnMgcHJvZHVjZSBhIHZhbGlkIGBjaGFyQ29kZWAsIHRoZSBvbmx5IGV4Y2VwdGlvbiB0byB0aGlzIGlzIEVudGVyLlxuICogVGhlIFRhYi1rZXkgaXMgY29uc2lkZXJlZCBub24tcHJpbnRhYmxlIGFuZCBkb2VzIG5vdCBoYXZlIGEgYGNoYXJDb2RlYCxcbiAqIHByZXN1bWFibHkgYmVjYXVzZSBpdCBkb2VzIG5vdCBwcm9kdWNlIGEgdGFiLWNoYXJhY3RlciBpbiBicm93c2Vycy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE5vcm1hbGl6ZWQgYGNoYXJDb2RlYCBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkge1xuICB2YXIgY2hhckNvZGU7XG4gIHZhciBrZXlDb2RlID0gbmF0aXZlRXZlbnQua2V5Q29kZTtcblxuICBpZiAoJ2NoYXJDb2RlJyBpbiBuYXRpdmVFdmVudCkge1xuICAgIGNoYXJDb2RlID0gbmF0aXZlRXZlbnQuY2hhckNvZGU7XG5cbiAgICAvLyBGRiBkb2VzIG5vdCBzZXQgYGNoYXJDb2RlYCBmb3IgdGhlIEVudGVyLWtleSwgY2hlY2sgYWdhaW5zdCBga2V5Q29kZWAuXG4gICAgaWYgKGNoYXJDb2RlID09PSAwICYmIGtleUNvZGUgPT09IDEzKSB7XG4gICAgICBjaGFyQ29kZSA9IDEzO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJRTggZG9lcyBub3QgaW1wbGVtZW50IGBjaGFyQ29kZWAsIGJ1dCBga2V5Q29kZWAgaGFzIHRoZSBjb3JyZWN0IHZhbHVlLlxuICAgIGNoYXJDb2RlID0ga2V5Q29kZTtcbiAgfVxuXG4gIC8vIFNvbWUgbm9uLXByaW50YWJsZSBrZXlzIGFyZSByZXBvcnRlZCBpbiBgY2hhckNvZGVgL2BrZXlDb2RlYCwgZGlzY2FyZCB0aGVtLlxuICAvLyBNdXN0IG5vdCBkaXNjYXJkIHRoZSAobm9uLSlwcmludGFibGUgRW50ZXIta2V5LlxuICBpZiAoY2hhckNvZGUgPj0gMzIgfHwgY2hhckNvZGUgPT09IDEzKSB7XG4gICAgcmV0dXJuIGNoYXJDb2RlO1xuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRDaGFyQ29kZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RWZXJzaW9uXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9ICcwLjE0LjknOyIsIi8qIGdsb2JhbCB3aW5kb3cgKi9cbmltcG9ydCBwb255ZmlsbCBmcm9tICcuL3BvbnlmaWxsLmpzJztcblxudmFyIHJvb3Q7XG5cbmlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBtb2R1bGU7XG59IGVsc2Uge1xuICByb290ID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbn1cblxudmFyIHJlc3VsdCA9IHBvbnlmaWxsKHJvb3QpO1xuZXhwb3J0IGRlZmF1bHQgcmVzdWx0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdG9yZVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfU3RvcmUuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhcHBseU1pZGRsZXdhcmVcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2FwcGx5TWlkZGxld2FyZS5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndyYXBTdG9yZVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfd3JhcFN0b3JlLmRlZmF1bHQ7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiYWxpYXNcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2FsaWFzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX1N0b3JlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zdG9yZS9TdG9yZVwiKSk7XG5cbnZhciBfYXBwbHlNaWRkbGV3YXJlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zdG9yZS9hcHBseU1pZGRsZXdhcmVcIikpO1xuXG52YXIgX3dyYXBTdG9yZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vd3JhcC1zdG9yZS93cmFwU3RvcmVcIikpO1xuXG52YXIgX2FsaWFzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9hbGlhcy9hbGlhc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkRFRkFVTFRfUE9SVF9OQU1FID0gZXhwb3J0cy5QQVRDSF9TVEFURV9UWVBFID0gZXhwb3J0cy5TVEFURV9UWVBFID0gZXhwb3J0cy5ESVNQQVRDSF9UWVBFID0gdm9pZCAwO1xuLy8gTWVzc2FnZSB0eXBlIHVzZWQgZm9yIGRpc3BhdGNoIGV2ZW50c1xuLy8gZnJvbSB0aGUgUHJveHkgU3RvcmVzIHRvIGJhY2tncm91bmRcbnZhciBESVNQQVRDSF9UWVBFID0gJ2Nocm9tZXguZGlzcGF0Y2gnOyAvLyBNZXNzYWdlIHR5cGUgZm9yIHN0YXRlIHVwZGF0ZSBldmVudHMgZnJvbVxuLy8gYmFja2dyb3VuZCB0byBQcm94eSBTdG9yZXNcblxuZXhwb3J0cy5ESVNQQVRDSF9UWVBFID0gRElTUEFUQ0hfVFlQRTtcbnZhciBTVEFURV9UWVBFID0gJ2Nocm9tZXguc3RhdGUnOyAvLyBNZXNzYWdlIHR5cGUgZm9yIHN0YXRlIHBhdGNoIGV2ZW50cyBmcm9tXG4vLyBiYWNrZ3JvdW5kIHRvIFByb3h5IFN0b3Jlc1xuXG5leHBvcnRzLlNUQVRFX1RZUEUgPSBTVEFURV9UWVBFO1xudmFyIFBBVENIX1NUQVRFX1RZUEUgPSAnY2hyb21leC5wYXRjaF9zdGF0ZSc7IC8vIFRoZSBkZWZhdWx0IG5hbWUgZm9yIHRoZSBwb3J0IGNvbW11bmljYXRpb24gdmlhXG4vLyByZWFjdC1jaHJvbWUtcmVkdXhcblxuZXhwb3J0cy5QQVRDSF9TVEFURV9UWVBFID0gUEFUQ0hfU1RBVEVfVFlQRTtcbnZhciBERUZBVUxUX1BPUlRfTkFNRSA9IFwiY2hyb21leC5wb3J0X25hbWVcIjtcbmV4cG9ydHMuREVGQVVMVF9QT1JUX05BTUUgPSBERUZBVUxUX1BPUlRfTkFNRTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMud2l0aFNlcmlhbGl6ZXIgPSBleHBvcnRzLndpdGhEZXNlcmlhbGl6ZXIgPSBleHBvcnRzLm5vb3AgPSB2b2lkIDA7XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IGlmICh0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gJ2Z1bmN0aW9uJykgeyBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlOyB9KSk7IH0gb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKHBheWxvYWQpIHtcbiAgcmV0dXJuIHBheWxvYWQ7XG59O1xuXG5leHBvcnRzLm5vb3AgPSBub29wO1xuXG52YXIgdHJhbnNmb3JtUGF5bG9hZCA9IGZ1bmN0aW9uIHRyYW5zZm9ybVBheWxvYWQobWVzc2FnZSkge1xuICB2YXIgdHJhbnNmb3JtZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG5vb3A7XG4gIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBtZXNzYWdlLCBtZXNzYWdlLnBheWxvYWQgPyB7XG4gICAgcGF5bG9hZDogdHJhbnNmb3JtZXIobWVzc2FnZS5wYXlsb2FkKVxuICB9IDoge30pO1xufTtcblxudmFyIGRlc2VyaWFsaXplTGlzdGVuZXIgPSBmdW5jdGlvbiBkZXNlcmlhbGl6ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIHZhciBkZXNlcmlhbGl6ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG5vb3A7XG4gIHZhciBzaG91bGREZXNlcmlhbGl6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkO1xuXG4gIC8vIElmIGEgc2hvdWxkRGVzZXJpYWxpemUgZnVuY3Rpb24gaXMgcGFzc2VkLCByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHVzZXMgaXRcbiAgLy8gdG8gY2hlY2sgaWYgYW55IGdpdmVuIG1lc3NhZ2UgcGF5bG9hZCBzaG91bGQgYmUgZGVzZXJpYWxpemVkXG4gIGlmIChzaG91bGREZXNlcmlhbGl6ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNob3VsZERlc2VyaWFsaXplLmFwcGx5KHZvaWQgMCwgW21lc3NhZ2VdLmNvbmNhdChhcmdzKSkpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyLmFwcGx5KHZvaWQgMCwgW3RyYW5zZm9ybVBheWxvYWQobWVzc2FnZSwgZGVzZXJpYWxpemVyKV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3RlbmVyLmFwcGx5KHZvaWQgMCwgW21lc3NhZ2VdLmNvbmNhdChhcmdzKSk7XG4gICAgfTtcbiAgfSAvLyBPdGhlcndpc2UsIHJldHVybiBhIGZ1bmN0aW9uIHRoYXQgdHJpZXMgdG8gZGVzZXJpYWxpemUgb24gZXZlcnkgbWVzc2FnZVxuXG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpc3RlbmVyLmFwcGx5KHZvaWQgMCwgW3RyYW5zZm9ybVBheWxvYWQobWVzc2FnZSwgZGVzZXJpYWxpemVyKV0uY29uY2F0KGFyZ3MpKTtcbiAgfTtcbn07XG4vKipcclxuICogQSBmdW5jdGlvbiByZXR1cm5lZCBmcm9tIHdpdGhEZXNlcmlhbGl6ZXIgdGhhdCwgd2hlbiBjYWxsZWQsIHdyYXBzIGFkZExpc3RlbmVyRm4gd2l0aCB0aGVcclxuICogZGVzZXJpYWxpemVyIHBhc3NlZCB0byB3aXRoRGVzZXJpYWxpemVyLlxyXG4gKiBAbmFtZSBBZGRMaXN0ZW5lckRlc2VyaWFsaXplclxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkTGlzdGVuZXJGbiBUaGUgYWRkIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIHdyYXAuXHJcbiAqIEByZXR1cm5zIHtEZXNlcmlhbGl6ZWRBZGRMaXN0ZW5lcn1cclxuICovXG5cbi8qKlxyXG4gKiBBIHdyYXBwZWQgYWRkIGxpc3RlbmVyIGZ1bmN0aW9uIHRoYXQgcmVnaXN0ZXJzIHRoZSBnaXZlbiBsaXN0ZW5lci5cclxuICogQG5hbWUgRGVzZXJpYWxpemVkQWRkTGlzdGVuZXJcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byByZWdpc3Rlci4gSXQgc2hvdWxkIGV4cGVjdCB0aGUgKG9wdGlvbmFsbHkpXHJcbiAqIGRlc2VyaWFsaXplZCBtZXNzYWdlIGFzIGl0cyBmaXJzdCBhcmd1bWVudC5cclxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Nob3VsZERlc2VyaWFsaXplXSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIGxpc3RlbmVyXHJcbiAqIGFuZCByZXR1cm5zIHdoZXRoZXIgdGhlIG1lc3NhZ2UgcGF5bG9hZCBzaG91bGQgYmUgZGVzZXJpYWxpemVkLiBOb3QgYWxsIG1lc3NhZ2VzIChub3RhYmx5LCBtZXNzYWdlc1xyXG4gKiB0aGlzIGxpc3RlbmVyIGRvZXNuJ3QgY2FyZSBhYm91dCkgc2hvdWxkIGJlIGF0dGVtcHRlZCB0byBiZSBkZXNlcmlhbGl6ZWQuXHJcbiAqL1xuXG4vKipcclxuICogR2l2ZW4gYSBkZXNlcmlhbGl6ZXIsIHJldHVybnMgYW4gQWRkTGlzdGVuZXJEZXNlcmlhbGl6ZXIgZnVuY3Rpb24gdGhhdCB0aGF0IHRha2VzIGFuIGFkZCBsaXN0ZW5lclxyXG4gKiBmdW5jdGlvbiBhbmQgcmV0dXJucyBhIERlc2VyaWFsaXplZEFkZExpc3RlbmVyIHRoYXQgYXV0b21hdGljYWxseSBkZXNlcmlhbGl6ZXMgbWVzc2FnZSBwYXlsb2Fkcy5cclxuICogRWFjaCBtZXNzYWdlIGxpc3RlbmVyIGlzIGV4cGVjdGVkIHRvIHRha2UgdGhlIG1lc3NhZ2UgYXMgaXRzIGZpcnN0IGFyZ3VtZW50LlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkZXNlcmlhbGl6ZXIgQSBmdW5jdGlvbiB0aGF0IGRlc2VyaWFsaXplcyBhIG1lc3NhZ2UgcGF5bG9hZC5cclxuICogQHJldHVybnMge0FkZExpc3RlbmVyRGVzZXJpYWxpemVyfVxyXG4gKiBFeGFtcGxlIFVzYWdlOlxyXG4gKiAgIGNvbnN0IHdpdGhKc29uRGVzZXJpYWxpemVyID0gd2l0aERlc2VyaWFsaXplcihwYXlsb2FkID0+IEpTT04ucGFyc2UocGF5bG9hZCkpO1xyXG4gKiAgIGNvbnN0IGRlc2VyaWFsaXplZENocm9tZUxpc3RlbmVyID0gd2l0aEpzb25EZXNlcmlhbGl6ZXIoY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKTtcclxuICogICBjb25zdCBzaG91bGREZXNlcmlhbGl6ZSA9IChtZXNzYWdlKSA9PiBtZXNzYWdlLnR5cGUgPT09ICdERVNFUklBTElaRV9NRSc7XHJcbiAqICAgZGVzZXJpYWxpemVkQ2hyb21lTGlzdGVuZXIobWVzc2FnZSA9PiBjb25zb2xlLmxvZyhcIlBheWxvYWQ6XCIsIG1lc3NhZ2UucGF5bG9hZCksIHNob3VsZERlc2VyaWFsaXplKTtcclxuICogICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZShcInsndHlwZTonREVTRVJJQUxJWkVfTUUnLCdwYXlsb2FkJzp7J3Byb3AnOjR9fVwiKTtcclxuICogICAvL1BheWxvYWQ6IHsgcHJvcDogNCB9O1xyXG4gKiAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKFwieydwYXlsb2FkJzp7J3Byb3AnOjR9fVwiKTtcclxuICogICAvL1BheWxvYWQ6IFwieydwcm9wJzo0fVwiO1xyXG4gKi9cblxuXG52YXIgd2l0aERlc2VyaWFsaXplciA9IGZ1bmN0aW9uIHdpdGhEZXNlcmlhbGl6ZXIoKSB7XG4gIHZhciBkZXNlcmlhbGl6ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG5vb3A7XG4gIHJldHVybiBmdW5jdGlvbiAoYWRkTGlzdGVuZXJGbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAobGlzdGVuZXIsIHNob3VsZERlc2VyaWFsaXplKSB7XG4gICAgICByZXR1cm4gYWRkTGlzdGVuZXJGbihkZXNlcmlhbGl6ZUxpc3RlbmVyKGxpc3RlbmVyLCBkZXNlcmlhbGl6ZXIsIHNob3VsZERlc2VyaWFsaXplKSk7XG4gICAgfTtcbiAgfTtcbn07XG4vKipcclxuICogR2l2ZW4gYSBzZXJpYWxpemVyLCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIG1lc3NhZ2Ugc2VuZGluZ1xyXG4gKiBmdW5jdGlvbiBhcyBpdHMgc29sZSBhcmd1bWVudCBhbmQgcmV0dXJucyBhIHdyYXBwZWQgbWVzc2FnZSBzZW5kZXIgdGhhdFxyXG4gKiBhdXRvbWF0aWNhbHkgc2VyaWFsaXplcyBtZXNzYWdlIHBheWxvYWRzLiBUaGUgbWVzc2FnZSBzZW5kZXJcclxuICogaXMgZXhwZWN0ZWQgdG8gdGFrZSB0aGUgbWVzc2FnZSBhcyBpdHMgZmlyc3QgYXJndW1lbnQsIHVubGVzcyBtZXNzYWdlQXJnSW5kZXhcclxuICogaXMgbm9uemVybywgaW4gd2hpY2ggY2FzZSBpdCBpcyBleHBlY3RlZCBpbiB0aGUgcG9zaXRpb24gc3BlY2lmaWVkIGJ5IG1lc3NhZ2VBcmdJbmRleC5cclxuICogQHBhcmFtIHtGdW5jdGlvbn0gc2VyaWFsaXplciBBIGZ1bmN0aW9uIHRoYXQgc2VyaWFsaXplcyBhIG1lc3NhZ2UgcGF5bG9hZFxyXG4gKiBFeGFtcGxlIFVzYWdlOlxyXG4gKiAgIGNvbnN0IHdpdGhKc29uU2VyaWFsaXplciA9IHdpdGhTZXJpYWxpemVyKHBheWxvYWQgPT4gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpXHJcbiAqICAgY29uc3Qgc2VyaWFsaXplZENocm9tZVNlbmRlciA9IHdpdGhKc29uU2VyaWFsaXplcihjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSlcclxuICogICBjaHJvbWUucnVudGltZS5hZGRMaXN0ZW5lcihtZXNzYWdlID0+IGNvbnNvbGUubG9nKFwiUGF5bG9hZDpcIiwgbWVzc2FnZS5wYXlsb2FkKSlcclxuICogICBzZXJpYWxpemVkQ2hyb21lU2VuZGVyKHsgcGF5bG9hZDogeyBwcm9wOiA0IH19KVxyXG4gKiAgIC8vUGF5bG9hZDogXCJ7J3Byb3AnOjR9XCJcclxuICovXG5cblxuZXhwb3J0cy53aXRoRGVzZXJpYWxpemVyID0gd2l0aERlc2VyaWFsaXplcjtcblxudmFyIHdpdGhTZXJpYWxpemVyID0gZnVuY3Rpb24gd2l0aFNlcmlhbGl6ZXIoKSB7XG4gIHZhciBzZXJpYWxpemVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBub29wO1xuICByZXR1cm4gZnVuY3Rpb24gKHNlbmRNZXNzYWdlRm4pIHtcbiAgICB2YXIgbWVzc2FnZUFyZ0luZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgYXJnc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPD0gbWVzc2FnZUFyZ0luZGV4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1lc3NhZ2UgaW4gcmVxdWVzdCBjb3VsZCBub3QgYmUgc2VyaWFsaXplZC4gXCIgKyBcIkV4cGVjdGVkIG1lc3NhZ2UgaW4gcG9zaXRpb24gXCIuY29uY2F0KG1lc3NhZ2VBcmdJbmRleCwgXCIgYnV0IG9ubHkgcmVjZWl2ZWQgXCIpLmNvbmNhdChhcmdzLmxlbmd0aCwgXCIgYXJncy5cIikpO1xuICAgICAgfVxuXG4gICAgICBhcmdzW21lc3NhZ2VBcmdJbmRleF0gPSB0cmFuc2Zvcm1QYXlsb2FkKGFyZ3NbbWVzc2FnZUFyZ0luZGV4XSwgc2VyaWFsaXplcik7XG4gICAgICByZXR1cm4gc2VuZE1lc3NhZ2VGbi5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgIH07XG4gIH07XG59O1xuXG5leHBvcnRzLndpdGhTZXJpYWxpemVyID0gd2l0aFNlcmlhbGl6ZXI7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkRJRkZfU1RBVFVTX0FSUkFZX1VQREFURUQgPSBleHBvcnRzLkRJRkZfU1RBVFVTX0tFWVNfVVBEQVRFRCA9IGV4cG9ydHMuRElGRl9TVEFUVVNfUkVNT1ZFRCA9IGV4cG9ydHMuRElGRl9TVEFUVVNfVVBEQVRFRCA9IHZvaWQgMDtcbi8vIFRoZSBgY2hhbmdlYCB2YWx1ZSBmb3IgdXBkYXRlZCBvciBpbnNlcnRlZCBmaWVsZHMgcmVzdWx0aW5nIGZyb20gc2hhbGxvdyBkaWZmXG52YXIgRElGRl9TVEFUVVNfVVBEQVRFRCA9ICd1cGRhdGVkJzsgLy8gVGhlIGBjaGFuZ2VgIHZhbHVlIGZvciByZW1vdmVkIGZpZWxkcyByZXN1bHRpbmcgZnJvbSBzaGFsbG93IGRpZmZcblxuZXhwb3J0cy5ESUZGX1NUQVRVU19VUERBVEVEID0gRElGRl9TVEFUVVNfVVBEQVRFRDtcbnZhciBESUZGX1NUQVRVU19SRU1PVkVEID0gJ3JlbW92ZWQnO1xuZXhwb3J0cy5ESUZGX1NUQVRVU19SRU1PVkVEID0gRElGRl9TVEFUVVNfUkVNT1ZFRDtcbnZhciBESUZGX1NUQVRVU19LRVlTX1VQREFURUQgPSAndXBkYXRlZF9rZXlzJztcbmV4cG9ydHMuRElGRl9TVEFUVVNfS0VZU19VUERBVEVEID0gRElGRl9TVEFUVVNfS0VZU19VUERBVEVEO1xudmFyIERJRkZfU1RBVFVTX0FSUkFZX1VQREFURUQgPSAndXBkYXRlZF9hcnJheSc7XG5leHBvcnRzLkRJRkZfU1RBVFVTX0FSUkFZX1VQREFURUQgPSBESUZGX1NUQVRVU19BUlJBWV9VUERBVEVEOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5nZXRCcm93c2VyQVBJID0gZ2V0QnJvd3NlckFQSTtcblxuLyoqXHJcbiAqIExvb2tzIGZvciBhIGdsb2JhbCBicm93c2VyIGFwaSwgZmlyc3QgY2hlY2tpbmcgdGhlIGNocm9tZSBuYW1lc3BhY2UgYW5kIHRoZW5cclxuICogY2hlY2tpbmcgdGhlIGJyb3dzZXIgbmFtZXNwYWNlLiBJZiBubyBhcHByb3ByaWF0ZSBuYW1lc3BhY2UgaXMgcHJlc2VudCwgdGhpc1xyXG4gKiBmdW5jdGlvbiB3aWxsIHRocm93IGFuIGVycm9yLlxyXG4gKi9cbmZ1bmN0aW9uIGdldEJyb3dzZXJBUEkoKSB7XG4gIHZhciBhcGk7XG5cbiAgdHJ5IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBhcGkgPSBzZWxmLmNocm9tZSB8fCBzZWxmLmJyb3dzZXIgfHwgYnJvd3NlcjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBhcGkgPSBicm93c2VyO1xuICB9XG5cbiAgaWYgKCFhcGkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyIEFQSSBpcyBub3QgcHJlc2VudFwiKTtcbiAgfVxuXG4gIHJldHVybiBhcGk7XG59IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NVGV4dENvbXBvbmVudFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBET01DaGlsZHJlbk9wZXJhdGlvbnMgPSByZXF1aXJlKCcuL0RPTUNoaWxkcmVuT3BlcmF0aW9ucycpO1xudmFyIERPTVByb3BlcnR5T3BlcmF0aW9ucyA9IHJlcXVpcmUoJy4vRE9NUHJvcGVydHlPcGVyYXRpb25zJyk7XG52YXIgUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL1JlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50Jyk7XG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoJy4vUmVhY3RNb3VudCcpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi9PYmplY3QuYXNzaWduJyk7XG52YXIgZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyID0gcmVxdWlyZSgnLi9lc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXInKTtcbnZhciBzZXRUZXh0Q29udGVudCA9IHJlcXVpcmUoJy4vc2V0VGV4dENvbnRlbnQnKTtcbnZhciB2YWxpZGF0ZURPTU5lc3RpbmcgPSByZXF1aXJlKCcuL3ZhbGlkYXRlRE9NTmVzdGluZycpO1xuXG4vKipcbiAqIFRleHQgbm9kZXMgdmlvbGF0ZSBhIGNvdXBsZSBhc3N1bXB0aW9ucyB0aGF0IFJlYWN0IG1ha2VzIGFib3V0IGNvbXBvbmVudHM6XG4gKlxuICogIC0gV2hlbiBtb3VudGluZyB0ZXh0IGludG8gdGhlIERPTSwgYWRqYWNlbnQgdGV4dCBub2RlcyBhcmUgbWVyZ2VkLlxuICogIC0gVGV4dCBub2RlcyBjYW5ub3QgYmUgYXNzaWduZWQgYSBSZWFjdCByb290IElELlxuICpcbiAqIFRoaXMgY29tcG9uZW50IGlzIHVzZWQgdG8gd3JhcCBzdHJpbmdzIGluIGVsZW1lbnRzIHNvIHRoYXQgdGhleSBjYW4gdW5kZXJnb1xuICogdGhlIHNhbWUgcmVjb25jaWxpYXRpb24gdGhhdCBpcyBhcHBsaWVkIHRvIGVsZW1lbnRzLlxuICpcbiAqIFRPRE86IEludmVzdGlnYXRlIHJlcHJlc2VudGluZyBSZWFjdCBjb21wb25lbnRzIGluIHRoZSBET00gd2l0aCB0ZXh0IG5vZGVzLlxuICpcbiAqIEBjbGFzcyBSZWFjdERPTVRleHRDb21wb25lbnRcbiAqIEBleHRlbmRzIFJlYWN0Q29tcG9uZW50XG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIFJlYWN0RE9NVGV4dENvbXBvbmVudCA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAvLyBUaGlzIGNvbnN0cnVjdG9yIGFuZCBpdHMgYXJndW1lbnQgaXMgY3VycmVudGx5IHVzZWQgYnkgbW9ja3MuXG59O1xuXG5hc3NpZ24oUmVhY3RET01UZXh0Q29tcG9uZW50LnByb3RvdHlwZSwge1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1JlYWN0VGV4dH0gdGV4dFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAvLyBUT0RPOiBUaGlzIGlzIHJlYWxseSBhIFJlYWN0VGV4dCAoUmVhY3ROb2RlKSwgbm90IGEgUmVhY3RFbGVtZW50XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSB0ZXh0O1xuICAgIHRoaXMuX3N0cmluZ1RleHQgPSAnJyArIHRleHQ7XG5cbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgdGhpcy5fcm9vdE5vZGVJRCA9IG51bGw7XG4gICAgdGhpcy5fbW91bnRJbmRleCA9IDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgdGhlIG1hcmt1cCBmb3IgdGhpcyB0ZXh0IG5vZGUuIFRoaXMgbm9kZSBpcyBub3QgaW50ZW5kZWQgdG8gaGF2ZVxuICAgKiBhbnkgZmVhdHVyZXMgYmVzaWRlcyBjb250YWluaW5nIHRleHQgY29udGVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJvb3RJRCBET00gSUQgb2YgdGhlIHJvb3Qgbm9kZS5cbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTWFya3VwIGZvciB0aGlzIHRleHQgbm9kZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBtb3VudENvbXBvbmVudDogZnVuY3Rpb24gKHJvb3RJRCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKGNvbnRleHRbdmFsaWRhdGVET01OZXN0aW5nLmFuY2VzdG9ySW5mb0NvbnRleHRLZXldKSB7XG4gICAgICAgIHZhbGlkYXRlRE9NTmVzdGluZygnc3BhbicsIG51bGwsIGNvbnRleHRbdmFsaWRhdGVET01OZXN0aW5nLmFuY2VzdG9ySW5mb0NvbnRleHRLZXldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9yb290Tm9kZUlEID0gcm9vdElEO1xuICAgIGlmICh0cmFuc2FjdGlvbi51c2VDcmVhdGVFbGVtZW50KSB7XG4gICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGNvbnRleHRbUmVhY3RNb3VudC5vd25lckRvY3VtZW50Q29udGV4dEtleV07XG4gICAgICB2YXIgZWwgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRBdHRyaWJ1dGVGb3JJRChlbCwgcm9vdElEKTtcbiAgICAgIC8vIFBvcHVsYXRlIG5vZGUgY2FjaGVcbiAgICAgIFJlYWN0TW91bnQuZ2V0SUQoZWwpO1xuICAgICAgc2V0VGV4dENvbnRlbnQoZWwsIHRoaXMuX3N0cmluZ1RleHQpO1xuICAgICAgcmV0dXJuIGVsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZXNjYXBlZFRleHQgPSBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIodGhpcy5fc3RyaW5nVGV4dCk7XG5cbiAgICAgIGlmICh0cmFuc2FjdGlvbi5yZW5kZXJUb1N0YXRpY01hcmt1cCkge1xuICAgICAgICAvLyBOb3JtYWxseSB3ZSdkIHdyYXAgdGhpcyBpbiBhIGBzcGFuYCBmb3IgdGhlIHJlYXNvbnMgc3RhdGVkIGFib3ZlLCBidXRcbiAgICAgICAgLy8gc2luY2UgdGhpcyBpcyBhIHNpdHVhdGlvbiB3aGVyZSBSZWFjdCB3b24ndCB0YWtlIG92ZXIgKHN0YXRpYyBwYWdlcyksXG4gICAgICAgIC8vIHdlIGNhbiBzaW1wbHkgcmV0dXJuIHRoZSB0ZXh0IGFzIGl0IGlzLlxuICAgICAgICByZXR1cm4gZXNjYXBlZFRleHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnPHNwYW4gJyArIERPTVByb3BlcnR5T3BlcmF0aW9ucy5jcmVhdGVNYXJrdXBGb3JJRChyb290SUQpICsgJz4nICsgZXNjYXBlZFRleHQgKyAnPC9zcGFuPic7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoaXMgY29tcG9uZW50IGJ5IHVwZGF0aW5nIHRoZSB0ZXh0IGNvbnRlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RUZXh0fSBuZXh0VGV4dCBUaGUgbmV4dCB0ZXh0IGNvbnRlbnRcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHJlY2VpdmVDb21wb25lbnQ6IGZ1bmN0aW9uIChuZXh0VGV4dCwgdHJhbnNhY3Rpb24pIHtcbiAgICBpZiAobmV4dFRleHQgIT09IHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG5leHRUZXh0O1xuICAgICAgdmFyIG5leHRTdHJpbmdUZXh0ID0gJycgKyBuZXh0VGV4dDtcbiAgICAgIGlmIChuZXh0U3RyaW5nVGV4dCAhPT0gdGhpcy5fc3RyaW5nVGV4dCkge1xuICAgICAgICAvLyBUT0RPOiBTYXZlIHRoaXMgYXMgcGVuZGluZyBwcm9wcyBhbmQgdXNlIHBlcmZvcm1VcGRhdGVJZk5lY2Vzc2FyeVxuICAgICAgICAvLyBhbmQvb3IgdXBkYXRlQ29tcG9uZW50IHRvIGRvIHRoZSBhY3R1YWwgdXBkYXRlIGZvciBjb25zaXN0ZW5jeSB3aXRoXG4gICAgICAgIC8vIG90aGVyIGNvbXBvbmVudCB0eXBlcz9cbiAgICAgICAgdGhpcy5fc3RyaW5nVGV4dCA9IG5leHRTdHJpbmdUZXh0O1xuICAgICAgICB2YXIgbm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZSh0aGlzLl9yb290Tm9kZUlEKTtcbiAgICAgICAgRE9NQ2hpbGRyZW5PcGVyYXRpb25zLnVwZGF0ZVRleHRDb250ZW50KG5vZGUsIG5leHRTdHJpbmdUZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdW5tb3VudENvbXBvbmVudDogZnVuY3Rpb24gKCkge1xuICAgIFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50LnVubW91bnRJREZyb21FbnZpcm9ubWVudCh0aGlzLl9yb290Tm9kZUlEKTtcbiAgfVxuXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTVRleHRDb21wb25lbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIERPTUNoaWxkcmVuT3BlcmF0aW9uc1xuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBEYW5nZXIgPSByZXF1aXJlKCcuL0RhbmdlcicpO1xudmFyIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzID0gcmVxdWlyZSgnLi9SZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcycpO1xudmFyIFJlYWN0UGVyZiA9IHJlcXVpcmUoJy4vUmVhY3RQZXJmJyk7XG5cbnZhciBzZXRJbm5lckhUTUwgPSByZXF1aXJlKCcuL3NldElubmVySFRNTCcpO1xudmFyIHNldFRleHRDb250ZW50ID0gcmVxdWlyZSgnLi9zZXRUZXh0Q29udGVudCcpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuXG4vKipcbiAqIEluc2VydHMgYGNoaWxkTm9kZWAgYXMgYSBjaGlsZCBvZiBgcGFyZW50Tm9kZWAgYXQgdGhlIGBpbmRleGAuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnROb2RlIFBhcmVudCBub2RlIGluIHdoaWNoIHRvIGluc2VydC5cbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY2hpbGROb2RlIENoaWxkIG5vZGUgdG8gaW5zZXJ0LlxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4IGF0IHdoaWNoIHRvIGluc2VydCB0aGUgY2hpbGQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gaW5zZXJ0Q2hpbGRBdChwYXJlbnROb2RlLCBjaGlsZE5vZGUsIGluZGV4KSB7XG4gIC8vIEJ5IGV4cGxvaXRpbmcgYXJyYXlzIHJldHVybmluZyBgdW5kZWZpbmVkYCBmb3IgYW4gdW5kZWZpbmVkIGluZGV4LCB3ZSBjYW5cbiAgLy8gcmVseSBleGNsdXNpdmVseSBvbiBgaW5zZXJ0QmVmb3JlKG5vZGUsIG51bGwpYCBpbnN0ZWFkIG9mIGFsc28gdXNpbmdcbiAgLy8gYGFwcGVuZENoaWxkKG5vZGUpYC4gSG93ZXZlciwgdXNpbmcgYHVuZGVmaW5lZGAgaXMgbm90IGFsbG93ZWQgYnkgYWxsXG4gIC8vIGJyb3dzZXJzIHNvIHdlIG11c3QgcmVwbGFjZSBpdCB3aXRoIGBudWxsYC5cblxuICAvLyBmaXggcmVuZGVyIG9yZGVyIGVycm9yIGluIHNhZmFyaVxuICAvLyBJRTggd2lsbCB0aHJvdyBlcnJvciB3aGVuIGluZGV4IG91dCBvZiBsaXN0IHNpemUuXG4gIHZhciBiZWZvcmVDaGlsZCA9IGluZGV4ID49IHBhcmVudE5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPyBudWxsIDogcGFyZW50Tm9kZS5jaGlsZE5vZGVzLml0ZW0oaW5kZXgpO1xuXG4gIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNoaWxkTm9kZSwgYmVmb3JlQ2hpbGQpO1xufVxuXG4vKipcbiAqIE9wZXJhdGlvbnMgZm9yIHVwZGF0aW5nIHdpdGggRE9NIGNoaWxkcmVuLlxuICovXG52YXIgRE9NQ2hpbGRyZW5PcGVyYXRpb25zID0ge1xuXG4gIGRhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwOiBEYW5nZXIuZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAsXG5cbiAgdXBkYXRlVGV4dENvbnRlbnQ6IHNldFRleHRDb250ZW50LFxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgY29tcG9uZW50J3MgY2hpbGRyZW4gYnkgcHJvY2Vzc2luZyBhIHNlcmllcyBvZiB1cGRhdGVzLiBUaGVcbiAgICogdXBkYXRlIGNvbmZpZ3VyYXRpb25zIGFyZSBlYWNoIGV4cGVjdGVkIHRvIGhhdmUgYSBgcGFyZW50Tm9kZWAgcHJvcGVydHkuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXk8b2JqZWN0Pn0gdXBkYXRlcyBMaXN0IG9mIHVwZGF0ZSBjb25maWd1cmF0aW9ucy5cbiAgICogQHBhcmFtIHthcnJheTxzdHJpbmc+fSBtYXJrdXBMaXN0IExpc3Qgb2YgbWFya3VwIHN0cmluZ3MuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJvY2Vzc1VwZGF0ZXM6IGZ1bmN0aW9uICh1cGRhdGVzLCBtYXJrdXBMaXN0KSB7XG4gICAgdmFyIHVwZGF0ZTtcbiAgICAvLyBNYXBwaW5nIGZyb20gcGFyZW50IElEcyB0byBpbml0aWFsIGNoaWxkIG9yZGVyaW5ncy5cbiAgICB2YXIgaW5pdGlhbENoaWxkcmVuID0gbnVsbDtcbiAgICAvLyBMaXN0IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBiZSBtb3ZlZCBvciByZW1vdmVkLlxuICAgIHZhciB1cGRhdGVkQ2hpbGRyZW4gPSBudWxsO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1cGRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cGRhdGUgPSB1cGRhdGVzW2ldO1xuICAgICAgaWYgKHVwZGF0ZS50eXBlID09PSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5NT1ZFX0VYSVNUSU5HIHx8IHVwZGF0ZS50eXBlID09PSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5SRU1PVkVfTk9ERSkge1xuICAgICAgICB2YXIgdXBkYXRlZEluZGV4ID0gdXBkYXRlLmZyb21JbmRleDtcbiAgICAgICAgdmFyIHVwZGF0ZWRDaGlsZCA9IHVwZGF0ZS5wYXJlbnROb2RlLmNoaWxkTm9kZXNbdXBkYXRlZEluZGV4XTtcbiAgICAgICAgdmFyIHBhcmVudElEID0gdXBkYXRlLnBhcmVudElEO1xuXG4gICAgICAgICF1cGRhdGVkQ2hpbGQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAncHJvY2Vzc1VwZGF0ZXMoKTogVW5hYmxlIHRvIGZpbmQgY2hpbGQgJXMgb2YgZWxlbWVudC4gVGhpcyAnICsgJ3Byb2JhYmx5IG1lYW5zIHRoZSBET00gd2FzIHVuZXhwZWN0ZWRseSBtdXRhdGVkIChlLmcuLCBieSB0aGUgJyArICdicm93c2VyKSwgdXN1YWxseSBkdWUgdG8gZm9yZ2V0dGluZyBhIDx0Ym9keT4gd2hlbiB1c2luZyB0YWJsZXMsICcgKyAnbmVzdGluZyB0YWdzIGxpa2UgPGZvcm0+LCA8cD4sIG9yIDxhPiwgb3IgdXNpbmcgbm9uLVNWRyBlbGVtZW50cyAnICsgJ2luIGFuIDxzdmc+IHBhcmVudC4gVHJ5IGluc3BlY3RpbmcgdGhlIGNoaWxkIG5vZGVzIG9mIHRoZSBlbGVtZW50ICcgKyAnd2l0aCBSZWFjdCBJRCBgJXNgLicsIHVwZGF0ZWRJbmRleCwgcGFyZW50SUQpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpbml0aWFsQ2hpbGRyZW4gPSBpbml0aWFsQ2hpbGRyZW4gfHwge307XG4gICAgICAgIGluaXRpYWxDaGlsZHJlbltwYXJlbnRJRF0gPSBpbml0aWFsQ2hpbGRyZW5bcGFyZW50SURdIHx8IFtdO1xuICAgICAgICBpbml0aWFsQ2hpbGRyZW5bcGFyZW50SURdW3VwZGF0ZWRJbmRleF0gPSB1cGRhdGVkQ2hpbGQ7XG5cbiAgICAgICAgdXBkYXRlZENoaWxkcmVuID0gdXBkYXRlZENoaWxkcmVuIHx8IFtdO1xuICAgICAgICB1cGRhdGVkQ2hpbGRyZW4ucHVzaCh1cGRhdGVkQ2hpbGQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZW5kZXJlZE1hcmt1cDtcbiAgICAvLyBtYXJrdXBMaXN0IGlzIGVpdGhlciBhIGxpc3Qgb2YgbWFya3VwIG9yIGp1c3QgYSBsaXN0IG9mIGVsZW1lbnRzXG4gICAgaWYgKG1hcmt1cExpc3QubGVuZ3RoICYmIHR5cGVvZiBtYXJrdXBMaXN0WzBdID09PSAnc3RyaW5nJykge1xuICAgICAgcmVuZGVyZWRNYXJrdXAgPSBEYW5nZXIuZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXAobWFya3VwTGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbmRlcmVkTWFya3VwID0gbWFya3VwTGlzdDtcbiAgICB9XG5cbiAgICAvLyBSZW1vdmUgdXBkYXRlZCBjaGlsZHJlbiBmaXJzdCBzbyB0aGF0IGB0b0luZGV4YCBpcyBjb25zaXN0ZW50LlxuICAgIGlmICh1cGRhdGVkQ2hpbGRyZW4pIHtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdXBkYXRlZENoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHVwZGF0ZWRDaGlsZHJlbltqXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHVwZGF0ZWRDaGlsZHJlbltqXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCB1cGRhdGVzLmxlbmd0aDsgaysrKSB7XG4gICAgICB1cGRhdGUgPSB1cGRhdGVzW2tdO1xuICAgICAgc3dpdGNoICh1cGRhdGUudHlwZSkge1xuICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLklOU0VSVF9NQVJLVVA6XG4gICAgICAgICAgaW5zZXJ0Q2hpbGRBdCh1cGRhdGUucGFyZW50Tm9kZSwgcmVuZGVyZWRNYXJrdXBbdXBkYXRlLm1hcmt1cEluZGV4XSwgdXBkYXRlLnRvSW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLk1PVkVfRVhJU1RJTkc6XG4gICAgICAgICAgaW5zZXJ0Q2hpbGRBdCh1cGRhdGUucGFyZW50Tm9kZSwgaW5pdGlhbENoaWxkcmVuW3VwZGF0ZS5wYXJlbnRJRF1bdXBkYXRlLmZyb21JbmRleF0sIHVwZGF0ZS50b0luZGV4KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5TRVRfTUFSS1VQOlxuICAgICAgICAgIHNldElubmVySFRNTCh1cGRhdGUucGFyZW50Tm9kZSwgdXBkYXRlLmNvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlRFWFRfQ09OVEVOVDpcbiAgICAgICAgICBzZXRUZXh0Q29udGVudCh1cGRhdGUucGFyZW50Tm9kZSwgdXBkYXRlLmNvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlJFTU9WRV9OT0RFOlxuICAgICAgICAgIC8vIEFscmVhZHkgcmVtb3ZlZCBieSB0aGUgZm9yLWxvb3AgYWJvdmUuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn07XG5cblJlYWN0UGVyZi5tZWFzdXJlTWV0aG9kcyhET01DaGlsZHJlbk9wZXJhdGlvbnMsICdET01DaGlsZHJlbk9wZXJhdGlvbnMnLCB7XG4gIHVwZGF0ZVRleHRDb250ZW50OiAndXBkYXRlVGV4dENvbnRlbnQnXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBET01DaGlsZHJlbk9wZXJhdGlvbnM7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldE1hcmt1cFdyYXBcbiAqL1xuXG4vKmVzbGludC1kaXNhYmxlIGZiLXd3dy91bnNhZmUtaHRtbCAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJy4vaW52YXJpYW50Jyk7XG5cbi8qKlxuICogRHVtbXkgY29udGFpbmVyIHVzZWQgdG8gZGV0ZWN0IHdoaWNoIHdyYXBzIGFyZSBuZWNlc3NhcnkuXG4gKi9cbnZhciBkdW1teU5vZGUgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSA6IG51bGw7XG5cbi8qKlxuICogU29tZSBicm93c2VycyBjYW5ub3QgdXNlIGBpbm5lckhUTUxgIHRvIHJlbmRlciBjZXJ0YWluIGVsZW1lbnRzIHN0YW5kYWxvbmUsXG4gKiBzbyB3ZSB3cmFwIHRoZW0sIHJlbmRlciB0aGUgd3JhcHBlZCBub2RlcywgdGhlbiBleHRyYWN0IHRoZSBkZXNpcmVkIG5vZGUuXG4gKlxuICogSW4gSUU4LCBjZXJ0YWluIGVsZW1lbnRzIGNhbm5vdCByZW5kZXIgYWxvbmUsIHNvIHdyYXAgYWxsIGVsZW1lbnRzICgnKicpLlxuICovXG5cbnZhciBzaG91bGRXcmFwID0ge307XG5cbnZhciBzZWxlY3RXcmFwID0gWzEsICc8c2VsZWN0IG11bHRpcGxlPVwidHJ1ZVwiPicsICc8L3NlbGVjdD4nXTtcbnZhciB0YWJsZVdyYXAgPSBbMSwgJzx0YWJsZT4nLCAnPC90YWJsZT4nXTtcbnZhciB0cldyYXAgPSBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXTtcblxudmFyIHN2Z1dyYXAgPSBbMSwgJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPicsICc8L3N2Zz4nXTtcblxudmFyIG1hcmt1cFdyYXAgPSB7XG4gICcqJzogWzEsICc/PGRpdj4nLCAnPC9kaXY+J10sXG5cbiAgJ2FyZWEnOiBbMSwgJzxtYXA+JywgJzwvbWFwPiddLFxuICAnY29sJzogWzIsICc8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPicsICc8L2NvbGdyb3VwPjwvdGFibGU+J10sXG4gICdsZWdlbmQnOiBbMSwgJzxmaWVsZHNldD4nLCAnPC9maWVsZHNldD4nXSxcbiAgJ3BhcmFtJzogWzEsICc8b2JqZWN0PicsICc8L29iamVjdD4nXSxcbiAgJ3RyJzogWzIsICc8dGFibGU+PHRib2R5PicsICc8L3Rib2R5PjwvdGFibGU+J10sXG5cbiAgJ29wdGdyb3VwJzogc2VsZWN0V3JhcCxcbiAgJ29wdGlvbic6IHNlbGVjdFdyYXAsXG5cbiAgJ2NhcHRpb24nOiB0YWJsZVdyYXAsXG4gICdjb2xncm91cCc6IHRhYmxlV3JhcCxcbiAgJ3Rib2R5JzogdGFibGVXcmFwLFxuICAndGZvb3QnOiB0YWJsZVdyYXAsXG4gICd0aGVhZCc6IHRhYmxlV3JhcCxcblxuICAndGQnOiB0cldyYXAsXG4gICd0aCc6IHRyV3JhcFxufTtcblxuLy8gSW5pdGlhbGl6ZSB0aGUgU1ZHIGVsZW1lbnRzIHNpbmNlIHdlIGtub3cgdGhleSdsbCBhbHdheXMgbmVlZCB0byBiZSB3cmFwcGVkXG4vLyBjb25zaXN0ZW50bHkuIElmIHRoZXkgYXJlIGNyZWF0ZWQgaW5zaWRlIGEgPGRpdj4gdGhleSB3aWxsIGJlIGluaXRpYWxpemVkIGluXG4vLyB0aGUgd3JvbmcgbmFtZXNwYWNlIChhbmQgd2lsbCBub3QgZGlzcGxheSkuXG52YXIgc3ZnRWxlbWVudHMgPSBbJ2NpcmNsZScsICdjbGlwUGF0aCcsICdkZWZzJywgJ2VsbGlwc2UnLCAnZycsICdpbWFnZScsICdsaW5lJywgJ2xpbmVhckdyYWRpZW50JywgJ21hc2snLCAncGF0aCcsICdwYXR0ZXJuJywgJ3BvbHlnb24nLCAncG9seWxpbmUnLCAncmFkaWFsR3JhZGllbnQnLCAncmVjdCcsICdzdG9wJywgJ3RleHQnLCAndHNwYW4nXTtcbnN2Z0VsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKG5vZGVOYW1lKSB7XG4gIG1hcmt1cFdyYXBbbm9kZU5hbWVdID0gc3ZnV3JhcDtcbiAgc2hvdWxkV3JhcFtub2RlTmFtZV0gPSB0cnVlO1xufSk7XG5cbi8qKlxuICogR2V0cyB0aGUgbWFya3VwIHdyYXAgY29uZmlndXJhdGlvbiBmb3IgdGhlIHN1cHBsaWVkIGBub2RlTmFtZWAuXG4gKlxuICogTk9URTogVGhpcyBsYXppbHkgZGV0ZWN0cyB3aGljaCB3cmFwcyBhcmUgbmVjZXNzYXJ5IGZvciB0aGUgY3VycmVudCBicm93c2VyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBub2RlTmFtZSBMb3dlcmNhc2UgYG5vZGVOYW1lYC5cbiAqIEByZXR1cm4gez9hcnJheX0gTWFya3VwIHdyYXAgY29uZmlndXJhdGlvbiwgaWYgYXBwbGljYWJsZS5cbiAqL1xuZnVuY3Rpb24gZ2V0TWFya3VwV3JhcChub2RlTmFtZSkge1xuICAhISFkdW1teU5vZGUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnTWFya3VwIHdyYXBwaW5nIG5vZGUgbm90IGluaXRpYWxpemVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICBpZiAoIW1hcmt1cFdyYXAuaGFzT3duUHJvcGVydHkobm9kZU5hbWUpKSB7XG4gICAgbm9kZU5hbWUgPSAnKic7XG4gIH1cbiAgaWYgKCFzaG91bGRXcmFwLmhhc093blByb3BlcnR5KG5vZGVOYW1lKSkge1xuICAgIGlmIChub2RlTmFtZSA9PT0gJyonKSB7XG4gICAgICBkdW1teU5vZGUuaW5uZXJIVE1MID0gJzxsaW5rIC8+JztcbiAgICB9IGVsc2Uge1xuICAgICAgZHVtbXlOb2RlLmlubmVySFRNTCA9ICc8JyArIG5vZGVOYW1lICsgJz48LycgKyBub2RlTmFtZSArICc+JztcbiAgICB9XG4gICAgc2hvdWxkV3JhcFtub2RlTmFtZV0gPSAhZHVtbXlOb2RlLmZpcnN0Q2hpbGQ7XG4gIH1cbiAgcmV0dXJuIHNob3VsZFdyYXBbbm9kZU5hbWVdID8gbWFya3VwV3JhcFtub2RlTmFtZV0gOiBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE1hcmt1cFdyYXA7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIga2V5TWlycm9yID0gcmVxdWlyZSgnZmJqcy9saWIva2V5TWlycm9yJyk7XG5cbi8qKlxuICogV2hlbiBhIGNvbXBvbmVudCdzIGNoaWxkcmVuIGFyZSB1cGRhdGVkLCBhIHNlcmllcyBvZiB1cGRhdGUgY29uZmlndXJhdGlvblxuICogb2JqZWN0cyBhcmUgY3JlYXRlZCBpbiBvcmRlciB0byBiYXRjaCBhbmQgc2VyaWFsaXplIHRoZSByZXF1aXJlZCBjaGFuZ2VzLlxuICpcbiAqIEVudW1lcmF0ZXMgYWxsIHRoZSBwb3NzaWJsZSB0eXBlcyBvZiB1cGRhdGUgY29uZmlndXJhdGlvbnMuXG4gKlxuICogQGludGVybmFsXG4gKi9cbnZhciBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcyA9IGtleU1pcnJvcih7XG4gIElOU0VSVF9NQVJLVVA6IG51bGwsXG4gIE1PVkVfRVhJU1RJTkc6IG51bGwsXG4gIFJFTU9WRV9OT0RFOiBudWxsLFxuICBTRVRfTUFSS1VQOiBudWxsLFxuICBURVhUX0NPTlRFTlQ6IG51bGxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBFdmVudFBsdWdpblJlZ2lzdHJ5XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuXG4vKipcbiAqIEluamVjdGFibGUgb3JkZXJpbmcgb2YgZXZlbnQgcGx1Z2lucy5cbiAqL1xudmFyIEV2ZW50UGx1Z2luT3JkZXIgPSBudWxsO1xuXG4vKipcbiAqIEluamVjdGFibGUgbWFwcGluZyBmcm9tIG5hbWVzIHRvIGV2ZW50IHBsdWdpbiBtb2R1bGVzLlxuICovXG52YXIgbmFtZXNUb1BsdWdpbnMgPSB7fTtcblxuLyoqXG4gKiBSZWNvbXB1dGVzIHRoZSBwbHVnaW4gbGlzdCB1c2luZyB0aGUgaW5qZWN0ZWQgcGx1Z2lucyBhbmQgcGx1Z2luIG9yZGVyaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCkge1xuICBpZiAoIUV2ZW50UGx1Z2luT3JkZXIpIHtcbiAgICAvLyBXYWl0IHVudGlsIGFuIGBFdmVudFBsdWdpbk9yZGVyYCBpcyBpbmplY3RlZC5cbiAgICByZXR1cm47XG4gIH1cbiAgZm9yICh2YXIgcGx1Z2luTmFtZSBpbiBuYW1lc1RvUGx1Z2lucykge1xuICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXTtcbiAgICB2YXIgcGx1Z2luSW5kZXggPSBFdmVudFBsdWdpbk9yZGVyLmluZGV4T2YocGx1Z2luTmFtZSk7XG4gICAgIShwbHVnaW5JbmRleCA+IC0xKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBDYW5ub3QgaW5qZWN0IGV2ZW50IHBsdWdpbnMgdGhhdCBkbyBub3QgZXhpc3QgaW4gJyArICd0aGUgcGx1Z2luIG9yZGVyaW5nLCBgJXNgLicsIHBsdWdpbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoRXZlbnRQbHVnaW5SZWdpc3RyeS5wbHVnaW5zW3BsdWdpbkluZGV4XSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgICFQbHVnaW5Nb2R1bGUuZXh0cmFjdEV2ZW50cyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBFdmVudCBwbHVnaW5zIG11c3QgaW1wbGVtZW50IGFuIGBleHRyYWN0RXZlbnRzYCAnICsgJ21ldGhvZCwgYnV0IGAlc2AgZG9lcyBub3QuJywgcGx1Z2luTmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2luc1twbHVnaW5JbmRleF0gPSBQbHVnaW5Nb2R1bGU7XG4gICAgdmFyIHB1Ymxpc2hlZEV2ZW50cyA9IFBsdWdpbk1vZHVsZS5ldmVudFR5cGVzO1xuICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiBwdWJsaXNoZWRFdmVudHMpIHtcbiAgICAgICFwdWJsaXNoRXZlbnRGb3JQbHVnaW4ocHVibGlzaGVkRXZlbnRzW2V2ZW50TmFtZV0sIFBsdWdpbk1vZHVsZSwgZXZlbnROYW1lKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdFdmVudFBsdWdpblJlZ2lzdHJ5OiBGYWlsZWQgdG8gcHVibGlzaCBldmVudCBgJXNgIGZvciBwbHVnaW4gYCVzYC4nLCBldmVudE5hbWUsIHBsdWdpbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBQdWJsaXNoZXMgYW4gZXZlbnQgc28gdGhhdCBpdCBjYW4gYmUgZGlzcGF0Y2hlZCBieSB0aGUgc3VwcGxpZWQgcGx1Z2luLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBEaXNwYXRjaCBjb25maWd1cmF0aW9uIGZvciB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge29iamVjdH0gUGx1Z2luTW9kdWxlIFBsdWdpbiBwdWJsaXNoaW5nIHRoZSBldmVudC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGV2ZW50IHdhcyBzdWNjZXNzZnVsbHkgcHVibGlzaGVkLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcHVibGlzaEV2ZW50Rm9yUGx1Z2luKGRpc3BhdGNoQ29uZmlnLCBQbHVnaW5Nb2R1bGUsIGV2ZW50TmFtZSkge1xuICAhIUV2ZW50UGx1Z2luUmVnaXN0cnkuZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5IdWI6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lICcgKyAnZXZlbnQgbmFtZSwgYCVzYC4nLCBldmVudE5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgRXZlbnRQbHVnaW5SZWdpc3RyeS5ldmVudE5hbWVEaXNwYXRjaENvbmZpZ3NbZXZlbnROYW1lXSA9IGRpc3BhdGNoQ29uZmlnO1xuXG4gIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lcyA9IGRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO1xuICBpZiAocGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICBmb3IgKHZhciBwaGFzZU5hbWUgaW4gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIGlmIChwaGFzZWRSZWdpc3RyYXRpb25OYW1lcy5oYXNPd25Qcm9wZXJ0eShwaGFzZU5hbWUpKSB7XG4gICAgICAgIHZhciBwaGFzZWRSZWdpc3RyYXRpb25OYW1lID0gcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VOYW1lXTtcbiAgICAgICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUocGhhc2VkUmVnaXN0cmF0aW9uTmFtZSwgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChkaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSwgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBQdWJsaXNoZXMgYSByZWdpc3RyYXRpb24gbmFtZSB0aGF0IGlzIHVzZWQgdG8gaWRlbnRpZnkgZGlzcGF0Y2hlZCBldmVudHMgYW5kXG4gKiBjYW4gYmUgdXNlZCB3aXRoIGBFdmVudFBsdWdpbkh1Yi5wdXRMaXN0ZW5lcmAgdG8gcmVnaXN0ZXIgbGlzdGVuZXJzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdpc3RyYXRpb25OYW1lIFJlZ2lzdHJhdGlvbiBuYW1lIHRvIGFkZC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBQbHVnaW5Nb2R1bGUgUGx1Z2luIHB1Ymxpc2hpbmcgdGhlIGV2ZW50LlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcHVibGlzaFJlZ2lzdHJhdGlvbk5hbWUocmVnaXN0cmF0aW9uTmFtZSwgUGx1Z2luTW9kdWxlLCBldmVudE5hbWUpIHtcbiAgISFFdmVudFBsdWdpblJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luSHViOiBNb3JlIHRoYW4gb25lIHBsdWdpbiBhdHRlbXB0ZWQgdG8gcHVibGlzaCB0aGUgc2FtZSAnICsgJ3JlZ2lzdHJhdGlvbiBuYW1lLCBgJXNgLicsIHJlZ2lzdHJhdGlvbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlc1tyZWdpc3RyYXRpb25OYW1lXSA9IFBsdWdpbk1vZHVsZTtcbiAgRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdID0gUGx1Z2luTW9kdWxlLmV2ZW50VHlwZXNbZXZlbnROYW1lXS5kZXBlbmRlbmNpZXM7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIHBsdWdpbnMgc28gdGhhdCB0aGV5IGNhbiBleHRyYWN0IGFuZCBkaXNwYXRjaCBldmVudHMuXG4gKlxuICogQHNlZSB7RXZlbnRQbHVnaW5IdWJ9XG4gKi9cbnZhciBFdmVudFBsdWdpblJlZ2lzdHJ5ID0ge1xuXG4gIC8qKlxuICAgKiBPcmRlcmVkIGxpc3Qgb2YgaW5qZWN0ZWQgcGx1Z2lucy5cbiAgICovXG4gIHBsdWdpbnM6IFtdLFxuXG4gIC8qKlxuICAgKiBNYXBwaW5nIGZyb20gZXZlbnQgbmFtZSB0byBkaXNwYXRjaCBjb25maWdcbiAgICovXG4gIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlnczoge30sXG5cbiAgLyoqXG4gICAqIE1hcHBpbmcgZnJvbSByZWdpc3RyYXRpb24gbmFtZSB0byBwbHVnaW4gbW9kdWxlXG4gICAqL1xuICByZWdpc3RyYXRpb25OYW1lTW9kdWxlczoge30sXG5cbiAgLyoqXG4gICAqIE1hcHBpbmcgZnJvbSByZWdpc3RyYXRpb24gbmFtZSB0byBldmVudCBuYW1lXG4gICAqL1xuICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzOiB7fSxcblxuICAvKipcbiAgICogSW5qZWN0cyBhbiBvcmRlcmluZyBvZiBwbHVnaW5zIChieSBwbHVnaW4gbmFtZSkuIFRoaXMgYWxsb3dzIHRoZSBvcmRlcmluZ1xuICAgKiB0byBiZSBkZWNvdXBsZWQgZnJvbSBpbmplY3Rpb24gb2YgdGhlIGFjdHVhbCBwbHVnaW5zIHNvIHRoYXQgb3JkZXJpbmcgaXNcbiAgICogYWx3YXlzIGRldGVybWluaXN0aWMgcmVnYXJkbGVzcyBvZiBwYWNrYWdpbmcsIG9uLXRoZS1mbHkgaW5qZWN0aW9uLCBldGMuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXl9IEluamVjdGVkRXZlbnRQbHVnaW5PcmRlclxuICAgKiBAaW50ZXJuYWxcbiAgICogQHNlZSB7RXZlbnRQbHVnaW5IdWIuaW5qZWN0aW9uLmluamVjdEV2ZW50UGx1Z2luT3JkZXJ9XG4gICAqL1xuICBpbmplY3RFdmVudFBsdWdpbk9yZGVyOiBmdW5jdGlvbiAoSW5qZWN0ZWRFdmVudFBsdWdpbk9yZGVyKSB7XG4gICAgISFFdmVudFBsdWdpbk9yZGVyID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0V2ZW50UGx1Z2luUmVnaXN0cnk6IENhbm5vdCBpbmplY3QgZXZlbnQgcGx1Z2luIG9yZGVyaW5nIG1vcmUgdGhhbiAnICsgJ29uY2UuIFlvdSBhcmUgbGlrZWx5IHRyeWluZyB0byBsb2FkIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgLy8gQ2xvbmUgdGhlIG9yZGVyaW5nIHNvIGl0IGNhbm5vdCBiZSBkeW5hbWljYWxseSBtdXRhdGVkLlxuICAgIEV2ZW50UGx1Z2luT3JkZXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChJbmplY3RlZEV2ZW50UGx1Z2luT3JkZXIpO1xuICAgIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluamVjdHMgcGx1Z2lucyB0byBiZSB1c2VkIGJ5IGBFdmVudFBsdWdpbkh1YmAuIFRoZSBwbHVnaW4gbmFtZXMgbXVzdCBiZVxuICAgKiBpbiB0aGUgb3JkZXJpbmcgaW5qZWN0ZWQgYnkgYGluamVjdEV2ZW50UGx1Z2luT3JkZXJgLlxuICAgKlxuICAgKiBQbHVnaW5zIGNhbiBiZSBpbmplY3RlZCBhcyBwYXJ0IG9mIHBhZ2UgaW5pdGlhbGl6YXRpb24gb3Igb24tdGhlLWZseS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGluamVjdGVkTmFtZXNUb1BsdWdpbnMgTWFwIGZyb20gbmFtZXMgdG8gcGx1Z2luIG1vZHVsZXMuXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAc2VlIHtFdmVudFBsdWdpbkh1Yi5pbmplY3Rpb24uaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lfVxuICAgKi9cbiAgaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lOiBmdW5jdGlvbiAoaW5qZWN0ZWROYW1lc1RvUGx1Z2lucykge1xuICAgIHZhciBpc09yZGVyaW5nRGlydHkgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBwbHVnaW5OYW1lIGluIGluamVjdGVkTmFtZXNUb1BsdWdpbnMpIHtcbiAgICAgIGlmICghaW5qZWN0ZWROYW1lc1RvUGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwbHVnaW5OYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBQbHVnaW5Nb2R1bGUgPSBpbmplY3RlZE5hbWVzVG9QbHVnaW5zW3BsdWdpbk5hbWVdO1xuICAgICAgaWYgKCFuYW1lc1RvUGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwbHVnaW5OYW1lKSB8fCBuYW1lc1RvUGx1Z2luc1twbHVnaW5OYW1lXSAhPT0gUGx1Z2luTW9kdWxlKSB7XG4gICAgICAgICEhbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRXZlbnRQbHVnaW5SZWdpc3RyeTogQ2Fubm90IGluamVjdCB0d28gZGlmZmVyZW50IGV2ZW50IHBsdWdpbnMgJyArICd1c2luZyB0aGUgc2FtZSBuYW1lLCBgJXNgLicsIHBsdWdpbk5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV0gPSBQbHVnaW5Nb2R1bGU7XG4gICAgICAgIGlzT3JkZXJpbmdEaXJ0eSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc09yZGVyaW5nRGlydHkpIHtcbiAgICAgIHJlY29tcHV0ZVBsdWdpbk9yZGVyaW5nKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBMb29rcyB1cCB0aGUgcGx1Z2luIGZvciB0aGUgc3VwcGxpZWQgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBIHN5bnRoZXRpYyBldmVudC5cbiAgICogQHJldHVybiB7P29iamVjdH0gVGhlIHBsdWdpbiB0aGF0IGNyZWF0ZWQgdGhlIHN1cHBsaWVkIGV2ZW50LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldFBsdWdpbk1vZHVsZUZvckV2ZW50OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgZGlzcGF0Y2hDb25maWcgPSBldmVudC5kaXNwYXRjaENvbmZpZztcbiAgICBpZiAoZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgcmV0dXJuIEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZV0gfHwgbnVsbDtcbiAgICB9XG4gICAgZm9yICh2YXIgcGhhc2UgaW4gZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMpIHtcbiAgICAgIGlmICghZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXMuaGFzT3duUHJvcGVydHkocGhhc2UpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIFBsdWdpbk1vZHVsZSA9IEV2ZW50UGx1Z2luUmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZU1vZHVsZXNbZGlzcGF0Y2hDb25maWcucGhhc2VkUmVnaXN0cmF0aW9uTmFtZXNbcGhhc2VdXTtcbiAgICAgIGlmIChQbHVnaW5Nb2R1bGUpIHtcbiAgICAgICAgcmV0dXJuIFBsdWdpbk1vZHVsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZXNldEV2ZW50UGx1Z2luczogZnVuY3Rpb24gKCkge1xuICAgIEV2ZW50UGx1Z2luT3JkZXIgPSBudWxsO1xuICAgIGZvciAodmFyIHBsdWdpbk5hbWUgaW4gbmFtZXNUb1BsdWdpbnMpIHtcbiAgICAgIGlmIChuYW1lc1RvUGx1Z2lucy5oYXNPd25Qcm9wZXJ0eShwbHVnaW5OYW1lKSkge1xuICAgICAgICBkZWxldGUgbmFtZXNUb1BsdWdpbnNbcGx1Z2luTmFtZV07XG4gICAgICB9XG4gICAgfVxuICAgIEV2ZW50UGx1Z2luUmVnaXN0cnkucGx1Z2lucy5sZW5ndGggPSAwO1xuXG4gICAgdmFyIGV2ZW50TmFtZURpc3BhdGNoQ29uZmlncyA9IEV2ZW50UGx1Z2luUmVnaXN0cnkuZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzO1xuICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiBldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MpIHtcbiAgICAgIGlmIChldmVudE5hbWVEaXNwYXRjaENvbmZpZ3MuaGFzT3duUHJvcGVydHkoZXZlbnROYW1lKSkge1xuICAgICAgICBkZWxldGUgZXZlbnROYW1lRGlzcGF0Y2hDb25maWdzW2V2ZW50TmFtZV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzID0gRXZlbnRQbHVnaW5SZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lTW9kdWxlcztcbiAgICBmb3IgKHZhciByZWdpc3RyYXRpb25OYW1lIGluIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzKSB7XG4gICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocmVnaXN0cmF0aW9uTmFtZSkpIHtcbiAgICAgICAgZGVsZXRlIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50UGx1Z2luUmVnaXN0cnk7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RXJyb3JVdGlsc1xuICogQHR5cGVjaGVja3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBjYXVnaHRFcnJvciA9IG51bGw7XG5cbi8qKlxuICogQ2FsbCBhIGZ1bmN0aW9uIHdoaWxlIGd1YXJkaW5nIGFnYWluc3QgZXJyb3JzIHRoYXQgaGFwcGVucyB3aXRoaW4gaXQuXG4gKlxuICogQHBhcmFtIHs/U3RyaW5nfSBuYW1lIG9mIHRoZSBndWFyZCB0byB1c2UgZm9yIGxvZ2dpbmcgb3IgZGVidWdnaW5nXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnZva2VcbiAqIEBwYXJhbSB7Kn0gYSBGaXJzdCBhcmd1bWVudFxuICogQHBhcmFtIHsqfSBiIFNlY29uZCBhcmd1bWVudFxuICovXG5mdW5jdGlvbiBpbnZva2VHdWFyZGVkQ2FsbGJhY2sobmFtZSwgZnVuYywgYSwgYikge1xuICB0cnkge1xuICAgIHJldHVybiBmdW5jKGEsIGIpO1xuICB9IGNhdGNoICh4KSB7XG4gICAgaWYgKGNhdWdodEVycm9yID09PSBudWxsKSB7XG4gICAgICBjYXVnaHRFcnJvciA9IHg7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxudmFyIFJlYWN0RXJyb3JVdGlscyA9IHtcbiAgaW52b2tlR3VhcmRlZENhbGxiYWNrOiBpbnZva2VHdWFyZGVkQ2FsbGJhY2ssXG5cbiAgLyoqXG4gICAqIEludm9rZWQgYnkgUmVhY3RUZXN0VXRpbHMuU2ltdWxhdGUgc28gdGhhdCBhbnkgZXJyb3JzIHRocm93biBieSB0aGUgZXZlbnRcbiAgICogaGFuZGxlciBhcmUgc3VyZSB0byBiZSByZXRocm93biBieSByZXRocm93Q2F1Z2h0RXJyb3IuXG4gICAqL1xuICBpbnZva2VHdWFyZGVkQ2FsbGJhY2tXaXRoQ2F0Y2g6IGludm9rZUd1YXJkZWRDYWxsYmFjayxcblxuICAvKipcbiAgICogRHVyaW5nIGV4ZWN1dGlvbiBvZiBndWFyZGVkIGZ1bmN0aW9ucyB3ZSB3aWxsIGNhcHR1cmUgdGhlIGZpcnN0IGVycm9yIHdoaWNoXG4gICAqIHdlIHdpbGwgcmV0aHJvdyB0byBiZSBoYW5kbGVkIGJ5IHRoZSB0b3AgbGV2ZWwgZXJyb3IgaGFuZGxlci5cbiAgICovXG4gIHJldGhyb3dDYXVnaHRFcnJvcjogZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYXVnaHRFcnJvcikge1xuICAgICAgdmFyIGVycm9yID0gY2F1Z2h0RXJyb3I7XG4gICAgICBjYXVnaHRFcnJvciA9IG51bGw7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbn07XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8qKlxuICAgKiBUbyBoZWxwIGRldmVsb3BtZW50IHdlIGNhbiBnZXQgYmV0dGVyIGRldnRvb2xzIGludGVncmF0aW9uIGJ5IHNpbXVsYXRpbmcgYVxuICAgKiByZWFsIGJyb3dzZXIgZXZlbnQuXG4gICAqL1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kaXNwYXRjaEV2ZW50ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGZha2VOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncmVhY3QnKTtcbiAgICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMsIGEsIGIpIHtcbiAgICAgIHZhciBib3VuZEZ1bmMgPSBmdW5jLmJpbmQobnVsbCwgYSwgYik7XG4gICAgICB2YXIgZXZ0VHlwZSA9ICdyZWFjdC0nICsgbmFtZTtcbiAgICAgIGZha2VOb2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0VHlwZSwgYm91bmRGdW5jLCBmYWxzZSk7XG4gICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICBldnQuaW5pdEV2ZW50KGV2dFR5cGUsIGZhbHNlLCBmYWxzZSk7XG4gICAgICBmYWtlTm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICBmYWtlTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2dFR5cGUsIGJvdW5kRnVuYywgZmFsc2UpO1xuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEVycm9yVXRpbHM7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGFjY3VtdWxhdGVJbnRvXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG5cbi8qKlxuICpcbiAqIEFjY3VtdWxhdGVzIGl0ZW1zIHRoYXQgbXVzdCBub3QgYmUgbnVsbCBvciB1bmRlZmluZWQgaW50byB0aGUgZmlyc3Qgb25lLiBUaGlzXG4gKiBpcyB1c2VkIHRvIGNvbnNlcnZlIG1lbW9yeSBieSBhdm9pZGluZyBhcnJheSBhbGxvY2F0aW9ucywgYW5kIHRodXMgc2FjcmlmaWNlc1xuICogQVBJIGNsZWFubmVzcy4gU2luY2UgYGN1cnJlbnRgIGNhbiBiZSBudWxsIGJlZm9yZSBiZWluZyBwYXNzZWQgaW4gYW5kIG5vdFxuICogbnVsbCBhZnRlciB0aGlzIGZ1bmN0aW9uLCBtYWtlIHN1cmUgdG8gYXNzaWduIGl0IGJhY2sgdG8gYGN1cnJlbnRgOlxuICpcbiAqIGBhID0gYWNjdW11bGF0ZUludG8oYSwgYik7YFxuICpcbiAqIFRoaXMgQVBJIHNob3VsZCBiZSBzcGFyaW5nbHkgdXNlZC4gVHJ5IGBhY2N1bXVsYXRlYCBmb3Igc29tZXRoaW5nIGNsZWFuZXIuXG4gKlxuICogQHJldHVybiB7KnxhcnJheTwqPn0gQW4gYWNjdW11bGF0aW9uIG9mIGl0ZW1zLlxuICovXG5cbmZ1bmN0aW9uIGFjY3VtdWxhdGVJbnRvKGN1cnJlbnQsIG5leHQpIHtcbiAgIShuZXh0ICE9IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2FjY3VtdWxhdGVJbnRvKC4uLik6IEFjY3VtdWxhdGVkIGl0ZW1zIG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiBuZXh0O1xuICB9XG5cbiAgLy8gQm90aCBhcmUgbm90IGVtcHR5LiBXYXJuaW5nOiBOZXZlciBjYWxsIHguY29uY2F0KHkpIHdoZW4geW91IGFyZSBub3RcbiAgLy8gY2VydGFpbiB0aGF0IHggaXMgYW4gQXJyYXkgKHggY291bGQgYmUgYSBzdHJpbmcgd2l0aCBjb25jYXQgbWV0aG9kKS5cbiAgdmFyIGN1cnJlbnRJc0FycmF5ID0gQXJyYXkuaXNBcnJheShjdXJyZW50KTtcbiAgdmFyIG5leHRJc0FycmF5ID0gQXJyYXkuaXNBcnJheShuZXh0KTtcblxuICBpZiAoY3VycmVudElzQXJyYXkgJiYgbmV4dElzQXJyYXkpIHtcbiAgICBjdXJyZW50LnB1c2guYXBwbHkoY3VycmVudCwgbmV4dCk7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cblxuICBpZiAoY3VycmVudElzQXJyYXkpIHtcbiAgICBjdXJyZW50LnB1c2gobmV4dCk7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cblxuICBpZiAobmV4dElzQXJyYXkpIHtcbiAgICAvLyBBIGJpdCB0b28gZGFuZ2Vyb3VzIHRvIG11dGF0ZSBgbmV4dGAuXG4gICAgcmV0dXJuIFtjdXJyZW50XS5jb25jYXQobmV4dCk7XG4gIH1cblxuICByZXR1cm4gW2N1cnJlbnQsIG5leHRdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFjY3VtdWxhdGVJbnRvOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBmb3JFYWNoQWNjdW11bGF0ZWRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHBhcmFtIHthcnJheX0gYXJyIGFuIFwiYWNjdW11bGF0aW9uXCIgb2YgaXRlbXMgd2hpY2ggaXMgZWl0aGVyIGFuIEFycmF5IG9yXG4gKiBhIHNpbmdsZSBpdGVtLiBVc2VmdWwgd2hlbiBwYWlyZWQgd2l0aCB0aGUgYGFjY3VtdWxhdGVgIG1vZHVsZS4gVGhpcyBpcyBhXG4gKiBzaW1wbGUgdXRpbGl0eSB0aGF0IGFsbG93cyB1cyB0byByZWFzb24gYWJvdXQgYSBjb2xsZWN0aW9uIG9mIGl0ZW1zLCBidXRcbiAqIGhhbmRsaW5nIHRoZSBjYXNlIHdoZW4gdGhlcmUgaXMgZXhhY3RseSBvbmUgaXRlbSAoYW5kIHdlIGRvIG5vdCBuZWVkIHRvXG4gKiBhbGxvY2F0ZSBhbiBhcnJheSkuXG4gKi9cbnZhciBmb3JFYWNoQWNjdW11bGF0ZWQgPSBmdW5jdGlvbiAoYXJyLCBjYiwgc2NvcGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgIGFyci5mb3JFYWNoKGNiLCBzY29wZSk7XG4gIH0gZWxzZSBpZiAoYXJyKSB7XG4gICAgY2IuY2FsbChzY29wZSwgYXJyKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmb3JFYWNoQWNjdW11bGF0ZWQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFZpZXdwb3J0TWV0cmljc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFZpZXdwb3J0TWV0cmljcyA9IHtcblxuICBjdXJyZW50U2Nyb2xsTGVmdDogMCxcblxuICBjdXJyZW50U2Nyb2xsVG9wOiAwLFxuXG4gIHJlZnJlc2hTY3JvbGxWYWx1ZXM6IGZ1bmN0aW9uIChzY3JvbGxQb3NpdGlvbikge1xuICAgIFZpZXdwb3J0TWV0cmljcy5jdXJyZW50U2Nyb2xsTGVmdCA9IHNjcm9sbFBvc2l0aW9uLng7XG4gICAgVmlld3BvcnRNZXRyaWNzLmN1cnJlbnRTY3JvbGxUb3AgPSBzY3JvbGxQb3NpdGlvbi55O1xuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVmlld3BvcnRNZXRyaWNzOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERPTUZlYXR1cmVGbGFnc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0RE9NRmVhdHVyZUZsYWdzID0ge1xuICB1c2VDcmVhdGVFbGVtZW50OiBmYWxzZVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTUZlYXR1cmVGbGFnczsiLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RFbXB0eUNvbXBvbmVudFJlZ2lzdHJ5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBUaGlzIHJlZ2lzdHJ5IGtlZXBzIHRyYWNrIG9mIHRoZSBSZWFjdCBJRHMgb2YgdGhlIGNvbXBvbmVudHMgdGhhdCByZW5kZXJlZCB0b1xuLy8gYG51bGxgIChpbiByZWFsaXR5IGEgcGxhY2Vob2xkZXIgc3VjaCBhcyBgbm9zY3JpcHRgKVxudmFyIG51bGxDb21wb25lbnRJRHNSZWdpc3RyeSA9IHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDb21wb25lbnQncyBgX3Jvb3ROb2RlSURgLlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgY29tcG9uZW50IGlzIHJlbmRlcmVkIHRvIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGlzTnVsbENvbXBvbmVudElEKGlkKSB7XG4gIHJldHVybiAhIW51bGxDb21wb25lbnRJRHNSZWdpc3RyeVtpZF07XG59XG5cbi8qKlxuICogTWFyayB0aGUgY29tcG9uZW50IGFzIGhhdmluZyByZW5kZXJlZCB0byBudWxsLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIENvbXBvbmVudCdzIGBfcm9vdE5vZGVJRGAuXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyTnVsbENvbXBvbmVudElEKGlkKSB7XG4gIG51bGxDb21wb25lbnRJRHNSZWdpc3RyeVtpZF0gPSB0cnVlO1xufVxuXG4vKipcbiAqIFVubWFyayB0aGUgY29tcG9uZW50IGFzIGhhdmluZyByZW5kZXJlZCB0byBudWxsOiBpdCByZW5kZXJzIHRvIHNvbWV0aGluZyBub3cuXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQ29tcG9uZW50J3MgYF9yb290Tm9kZUlEYC5cbiAqL1xuZnVuY3Rpb24gZGVyZWdpc3Rlck51bGxDb21wb25lbnRJRChpZCkge1xuICBkZWxldGUgbnVsbENvbXBvbmVudElEc1JlZ2lzdHJ5W2lkXTtcbn1cblxudmFyIFJlYWN0RW1wdHlDb21wb25lbnRSZWdpc3RyeSA9IHtcbiAgaXNOdWxsQ29tcG9uZW50SUQ6IGlzTnVsbENvbXBvbmVudElELFxuICByZWdpc3Rlck51bGxDb21wb25lbnRJRDogcmVnaXN0ZXJOdWxsQ29tcG9uZW50SUQsXG4gIGRlcmVnaXN0ZXJOdWxsQ29tcG9uZW50SUQ6IGRlcmVnaXN0ZXJOdWxsQ29tcG9uZW50SURcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RFbXB0eUNvbXBvbmVudFJlZ2lzdHJ5OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFJvb3RJbmRleFxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFJvb3RJbmRleEluamVjdGlvbiA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IF9jcmVhdGVSZWFjdFJvb3RJbmRleFxuICAgKi9cbiAgaW5qZWN0Q3JlYXRlUmVhY3RSb290SW5kZXg6IGZ1bmN0aW9uIChfY3JlYXRlUmVhY3RSb290SW5kZXgpIHtcbiAgICBSZWFjdFJvb3RJbmRleC5jcmVhdGVSZWFjdFJvb3RJbmRleCA9IF9jcmVhdGVSZWFjdFJvb3RJbmRleDtcbiAgfVxufTtcblxudmFyIFJlYWN0Um9vdEluZGV4ID0ge1xuICBjcmVhdGVSZWFjdFJvb3RJbmRleDogbnVsbCxcbiAgaW5qZWN0aW9uOiBSZWFjdFJvb3RJbmRleEluamVjdGlvblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJvb3RJbmRleDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RNYXJrdXBDaGVja3N1bVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGFkbGVyMzIgPSByZXF1aXJlKCcuL2FkbGVyMzInKTtcblxudmFyIFRBR19FTkQgPSAvXFwvPz4vO1xuXG52YXIgUmVhY3RNYXJrdXBDaGVja3N1bSA9IHtcbiAgQ0hFQ0tTVU1fQVRUUl9OQU1FOiAnZGF0YS1yZWFjdC1jaGVja3N1bScsXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrdXAgTWFya3VwIHN0cmluZ1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IE1hcmt1cCBzdHJpbmcgd2l0aCBjaGVja3N1bSBhdHRyaWJ1dGUgYXR0YWNoZWRcbiAgICovXG4gIGFkZENoZWNrc3VtVG9NYXJrdXA6IGZ1bmN0aW9uIChtYXJrdXApIHtcbiAgICB2YXIgY2hlY2tzdW0gPSBhZGxlcjMyKG1hcmt1cCk7XG5cbiAgICAvLyBBZGQgY2hlY2tzdW0gKGhhbmRsZSBib3RoIHBhcmVudCB0YWdzIGFuZCBzZWxmLWNsb3NpbmcgdGFncylcbiAgICByZXR1cm4gbWFya3VwLnJlcGxhY2UoVEFHX0VORCwgJyAnICsgUmVhY3RNYXJrdXBDaGVja3N1bS5DSEVDS1NVTV9BVFRSX05BTUUgKyAnPVwiJyArIGNoZWNrc3VtICsgJ1wiJCYnKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hcmt1cCB0byB1c2VcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHJvb3QgUmVhY3QgZWxlbWVudFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgdGhlIG1hcmt1cCBpcyB0aGUgc2FtZVxuICAgKi9cbiAgY2FuUmV1c2VNYXJrdXA6IGZ1bmN0aW9uIChtYXJrdXAsIGVsZW1lbnQpIHtcbiAgICB2YXIgZXhpc3RpbmdDaGVja3N1bSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFJlYWN0TWFya3VwQ2hlY2tzdW0uQ0hFQ0tTVU1fQVRUUl9OQU1FKTtcbiAgICBleGlzdGluZ0NoZWNrc3VtID0gZXhpc3RpbmdDaGVja3N1bSAmJiBwYXJzZUludChleGlzdGluZ0NoZWNrc3VtLCAxMCk7XG4gICAgdmFyIG1hcmt1cENoZWNrc3VtID0gYWRsZXIzMihtYXJrdXApO1xuICAgIHJldHVybiBtYXJrdXBDaGVja3N1bSA9PT0gZXhpc3RpbmdDaGVja3N1bTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdE1hcmt1cENoZWNrc3VtOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBjb250YWluc05vZGVcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNUZXh0Tm9kZSA9IHJlcXVpcmUoJy4vaXNUZXh0Tm9kZScpO1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBnaXZlbiBET00gbm9kZSBjb250YWlucyBvciBpcyBhbm90aGVyIERPTSBub2RlLlxuICpcbiAqIEBwYXJhbSB7P0RPTU5vZGV9IG91dGVyTm9kZSBPdXRlciBET00gbm9kZS5cbiAqIEBwYXJhbSB7P0RPTU5vZGV9IGlubmVyTm9kZSBJbm5lciBET00gbm9kZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYG91dGVyTm9kZWAgY29udGFpbnMgb3IgaXMgYGlubmVyTm9kZWAuXG4gKi9cbmZ1bmN0aW9uIGNvbnRhaW5zTm9kZShfeCwgX3gyKSB7XG4gIHZhciBfYWdhaW4gPSB0cnVlO1xuXG4gIF9mdW5jdGlvbjogd2hpbGUgKF9hZ2Fpbikge1xuICAgIHZhciBvdXRlck5vZGUgPSBfeCxcbiAgICAgICAgaW5uZXJOb2RlID0gX3gyO1xuICAgIF9hZ2FpbiA9IGZhbHNlO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgIWlubmVyTm9kZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAob3V0ZXJOb2RlID09PSBpbm5lck5vZGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXNUZXh0Tm9kZShvdXRlck5vZGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChpc1RleHROb2RlKGlubmVyTm9kZSkpIHtcbiAgICAgIF94ID0gb3V0ZXJOb2RlO1xuICAgICAgX3gyID0gaW5uZXJOb2RlLnBhcmVudE5vZGU7XG4gICAgICBfYWdhaW4gPSB0cnVlO1xuICAgICAgY29udGludWUgX2Z1bmN0aW9uO1xuICAgIH0gZWxzZSBpZiAob3V0ZXJOb2RlLmNvbnRhaW5zKSB7XG4gICAgICByZXR1cm4gb3V0ZXJOb2RlLmNvbnRhaW5zKGlubmVyTm9kZSk7XG4gICAgfSBlbHNlIGlmIChvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pIHtcbiAgICAgIHJldHVybiAhIShvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oaW5uZXJOb2RlKSAmIDE2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnRhaW5zTm9kZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RFbXB0eUNvbXBvbmVudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG52YXIgUmVhY3RFbXB0eUNvbXBvbmVudFJlZ2lzdHJ5ID0gcmVxdWlyZSgnLi9SZWFjdEVtcHR5Q29tcG9uZW50UmVnaXN0cnknKTtcbnZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi9PYmplY3QuYXNzaWduJyk7XG5cbnZhciBwbGFjZWhvbGRlckVsZW1lbnQ7XG5cbnZhciBSZWFjdEVtcHR5Q29tcG9uZW50SW5qZWN0aW9uID0ge1xuICBpbmplY3RFbXB0eUNvbXBvbmVudDogZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgIHBsYWNlaG9sZGVyRWxlbWVudCA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50KGNvbXBvbmVudCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyTnVsbENvbXBvbmVudElEKCkge1xuICBSZWFjdEVtcHR5Q29tcG9uZW50UmVnaXN0cnkucmVnaXN0ZXJOdWxsQ29tcG9uZW50SUQodGhpcy5fcm9vdE5vZGVJRCk7XG59XG5cbnZhciBSZWFjdEVtcHR5Q29tcG9uZW50ID0gZnVuY3Rpb24gKGluc3RhbnRpYXRlKSB7XG4gIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgdGhpcy5fcm9vdE5vZGVJRCA9IG51bGw7XG4gIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50ID0gaW5zdGFudGlhdGUocGxhY2Vob2xkZXJFbGVtZW50KTtcbn07XG5hc3NpZ24oUmVhY3RFbXB0eUNvbXBvbmVudC5wcm90b3R5cGUsIHtcbiAgY29uc3RydWN0OiBmdW5jdGlvbiAoZWxlbWVudCkge30sXG4gIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbiAocm9vdElELCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUocmVnaXN0ZXJOdWxsQ29tcG9uZW50SUQsIHRoaXMpO1xuICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSByb290SUQ7XG4gICAgcmV0dXJuIFJlYWN0UmVjb25jaWxlci5tb3VudENvbXBvbmVudCh0aGlzLl9yZW5kZXJlZENvbXBvbmVudCwgcm9vdElELCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gIH0sXG4gIHJlY2VpdmVDb21wb25lbnQ6IGZ1bmN0aW9uICgpIHt9LFxuICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbiAocm9vdElELCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50KTtcbiAgICBSZWFjdEVtcHR5Q29tcG9uZW50UmVnaXN0cnkuZGVyZWdpc3Rlck51bGxDb21wb25lbnRJRCh0aGlzLl9yb290Tm9kZUlEKTtcbiAgICB0aGlzLl9yb290Tm9kZUlEID0gbnVsbDtcbiAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IG51bGw7XG4gIH1cbn0pO1xuXG5SZWFjdEVtcHR5Q29tcG9uZW50LmluamVjdGlvbiA9IFJlYWN0RW1wdHlDb21wb25lbnRJbmplY3Rpb247XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RFbXB0eUNvbXBvbmVudDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3ROYXRpdmVDb21wb25lbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxudmFyIGF1dG9HZW5lcmF0ZVdyYXBwZXJDbGFzcyA9IG51bGw7XG52YXIgZ2VuZXJpY0NvbXBvbmVudENsYXNzID0gbnVsbDtcbi8vIFRoaXMgcmVnaXN0cnkga2VlcHMgdHJhY2sgb2Ygd3JhcHBlciBjbGFzc2VzIGFyb3VuZCBuYXRpdmUgdGFncy5cbnZhciB0YWdUb0NvbXBvbmVudENsYXNzID0ge307XG52YXIgdGV4dENvbXBvbmVudENsYXNzID0gbnVsbDtcblxudmFyIFJlYWN0TmF0aXZlQ29tcG9uZW50SW5qZWN0aW9uID0ge1xuICAvLyBUaGlzIGFjY2VwdHMgYSBjbGFzcyB0aGF0IHJlY2VpdmVzIHRoZSB0YWcgc3RyaW5nLiBUaGlzIGlzIGEgY2F0Y2ggYWxsXG4gIC8vIHRoYXQgY2FuIHJlbmRlciBhbnkga2luZCBvZiB0YWcuXG4gIGluamVjdEdlbmVyaWNDb21wb25lbnRDbGFzczogZnVuY3Rpb24gKGNvbXBvbmVudENsYXNzKSB7XG4gICAgZ2VuZXJpY0NvbXBvbmVudENsYXNzID0gY29tcG9uZW50Q2xhc3M7XG4gIH0sXG4gIC8vIFRoaXMgYWNjZXB0cyBhIHRleHQgY29tcG9uZW50IGNsYXNzIHRoYXQgdGFrZXMgdGhlIHRleHQgc3RyaW5nIHRvIGJlXG4gIC8vIHJlbmRlcmVkIGFzIHByb3BzLlxuICBpbmplY3RUZXh0Q29tcG9uZW50Q2xhc3M6IGZ1bmN0aW9uIChjb21wb25lbnRDbGFzcykge1xuICAgIHRleHRDb21wb25lbnRDbGFzcyA9IGNvbXBvbmVudENsYXNzO1xuICB9LFxuICAvLyBUaGlzIGFjY2VwdHMgYSBrZXllZCBvYmplY3Qgd2l0aCBjbGFzc2VzIGFzIHZhbHVlcy4gRWFjaCBrZXkgcmVwcmVzZW50cyBhXG4gIC8vIHRhZy4gVGhhdCBwYXJ0aWN1bGFyIHRhZyB3aWxsIHVzZSB0aGlzIGNsYXNzIGluc3RlYWQgb2YgdGhlIGdlbmVyaWMgb25lLlxuICBpbmplY3RDb21wb25lbnRDbGFzc2VzOiBmdW5jdGlvbiAoY29tcG9uZW50Q2xhc3Nlcykge1xuICAgIGFzc2lnbih0YWdUb0NvbXBvbmVudENsYXNzLCBjb21wb25lbnRDbGFzc2VzKTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXQgYSBjb21wb3NpdGUgY29tcG9uZW50IHdyYXBwZXIgY2xhc3MgZm9yIGEgc3BlY2lmaWMgdGFnLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50IFRoZSB0YWcgZm9yIHdoaWNoIHRvIGdldCB0aGUgY2xhc3MuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIFJlYWN0IGNsYXNzIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBnZXRDb21wb25lbnRDbGFzc0ZvckVsZW1lbnQoZWxlbWVudCkge1xuICBpZiAodHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbGVtZW50LnR5cGU7XG4gIH1cbiAgdmFyIHRhZyA9IGVsZW1lbnQudHlwZTtcbiAgdmFyIGNvbXBvbmVudENsYXNzID0gdGFnVG9Db21wb25lbnRDbGFzc1t0YWddO1xuICBpZiAoY29tcG9uZW50Q2xhc3MgPT0gbnVsbCkge1xuICAgIHRhZ1RvQ29tcG9uZW50Q2xhc3NbdGFnXSA9IGNvbXBvbmVudENsYXNzID0gYXV0b0dlbmVyYXRlV3JhcHBlckNsYXNzKHRhZyk7XG4gIH1cbiAgcmV0dXJuIGNvbXBvbmVudENsYXNzO1xufVxuXG4vKipcbiAqIEdldCBhIG5hdGl2ZSBpbnRlcm5hbCBjb21wb25lbnQgY2xhc3MgZm9yIGEgc3BlY2lmaWMgdGFnLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGNyZWF0ZS5cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgaW50ZXJuYWwgY2xhc3MgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUludGVybmFsQ29tcG9uZW50KGVsZW1lbnQpIHtcbiAgIWdlbmVyaWNDb21wb25lbnRDbGFzcyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdUaGVyZSBpcyBubyByZWdpc3RlcmVkIGNvbXBvbmVudCBmb3IgdGhlIHRhZyAlcycsIGVsZW1lbnQudHlwZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICByZXR1cm4gbmV3IGdlbmVyaWNDb21wb25lbnRDbGFzcyhlbGVtZW50LnR5cGUsIGVsZW1lbnQucHJvcHMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVhY3RUZXh0fSB0ZXh0XG4gKiBAcmV0dXJuIHtSZWFjdENvbXBvbmVudH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VGb3JUZXh0KHRleHQpIHtcbiAgcmV0dXJuIG5ldyB0ZXh0Q29tcG9uZW50Q2xhc3ModGV4dCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtSZWFjdENvbXBvbmVudH0gY29tcG9uZW50XG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1RleHRDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIHJldHVybiBjb21wb25lbnQgaW5zdGFuY2VvZiB0ZXh0Q29tcG9uZW50Q2xhc3M7XG59XG5cbnZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudCA9IHtcbiAgZ2V0Q29tcG9uZW50Q2xhc3NGb3JFbGVtZW50OiBnZXRDb21wb25lbnRDbGFzc0ZvckVsZW1lbnQsXG4gIGNyZWF0ZUludGVybmFsQ29tcG9uZW50OiBjcmVhdGVJbnRlcm5hbENvbXBvbmVudCxcbiAgY3JlYXRlSW5zdGFuY2VGb3JUZXh0OiBjcmVhdGVJbnN0YW5jZUZvclRleHQsXG4gIGlzVGV4dENvbXBvbmVudDogaXNUZXh0Q29tcG9uZW50LFxuICBpbmplY3Rpb246IFJlYWN0TmF0aXZlQ29tcG9uZW50SW5qZWN0aW9uXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TmF0aXZlQ29tcG9uZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERlZmF1bHRJbmplY3Rpb25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luID0gcmVxdWlyZSgnLi9CZWZvcmVJbnB1dEV2ZW50UGx1Z2luJyk7XG52YXIgQ2hhbmdlRXZlbnRQbHVnaW4gPSByZXF1aXJlKCcuL0NoYW5nZUV2ZW50UGx1Z2luJyk7XG52YXIgQ2xpZW50UmVhY3RSb290SW5kZXggPSByZXF1aXJlKCcuL0NsaWVudFJlYWN0Um9vdEluZGV4Jyk7XG52YXIgRGVmYXVsdEV2ZW50UGx1Z2luT3JkZXIgPSByZXF1aXJlKCcuL0RlZmF1bHRFdmVudFBsdWdpbk9yZGVyJyk7XG52YXIgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luID0gcmVxdWlyZSgnLi9FbnRlckxlYXZlRXZlbnRQbHVnaW4nKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG52YXIgSFRNTERPTVByb3BlcnR5Q29uZmlnID0gcmVxdWlyZSgnLi9IVE1MRE9NUHJvcGVydHlDb25maWcnKTtcbnZhciBSZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpbiA9IHJlcXVpcmUoJy4vUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW4nKTtcbnZhciBSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQnKTtcbnZhciBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5ID0gcmVxdWlyZSgnLi9SZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5Jyk7XG52YXIgUmVhY3RET01Db21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0RE9NQ29tcG9uZW50Jyk7XG52YXIgUmVhY3RET01UZXh0Q29tcG9uZW50ID0gcmVxdWlyZSgnLi9SZWFjdERPTVRleHRDb21wb25lbnQnKTtcbnZhciBSZWFjdEV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCcuL1JlYWN0RXZlbnRMaXN0ZW5lcicpO1xudmFyIFJlYWN0SW5qZWN0aW9uID0gcmVxdWlyZSgnLi9SZWFjdEluamVjdGlvbicpO1xudmFyIFJlYWN0SW5zdGFuY2VIYW5kbGVzID0gcmVxdWlyZSgnLi9SZWFjdEluc3RhbmNlSGFuZGxlcycpO1xudmFyIFJlYWN0TW91bnQgPSByZXF1aXJlKCcuL1JlYWN0TW91bnQnKTtcbnZhciBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uID0gcmVxdWlyZSgnLi9SZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uJyk7XG52YXIgU2VsZWN0RXZlbnRQbHVnaW4gPSByZXF1aXJlKCcuL1NlbGVjdEV2ZW50UGx1Z2luJyk7XG52YXIgU2VydmVyUmVhY3RSb290SW5kZXggPSByZXF1aXJlKCcuL1NlcnZlclJlYWN0Um9vdEluZGV4Jyk7XG52YXIgU2ltcGxlRXZlbnRQbHVnaW4gPSByZXF1aXJlKCcuL1NpbXBsZUV2ZW50UGx1Z2luJyk7XG52YXIgU1ZHRE9NUHJvcGVydHlDb25maWcgPSByZXF1aXJlKCcuL1NWR0RPTVByb3BlcnR5Q29uZmlnJyk7XG5cbnZhciBhbHJlYWR5SW5qZWN0ZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gaW5qZWN0KCkge1xuICBpZiAoYWxyZWFkeUluamVjdGVkKSB7XG4gICAgLy8gVE9ETzogVGhpcyBpcyBjdXJyZW50bHkgdHJ1ZSBiZWNhdXNlIHRoZXNlIGluamVjdGlvbnMgYXJlIHNoYXJlZCBiZXR3ZWVuXG4gICAgLy8gdGhlIGNsaWVudCBhbmQgdGhlIHNlcnZlciBwYWNrYWdlLiBUaGV5IHNob3VsZCBiZSBidWlsdCBpbmRlcGVuZGVudGx5XG4gICAgLy8gYW5kIG5vdCBzaGFyZSBhbnkgaW5qZWN0aW9uIHN0YXRlLiBUaGVuIHRoaXMgcHJvYmxlbSB3aWxsIGJlIHNvbHZlZC5cbiAgICByZXR1cm47XG4gIH1cbiAgYWxyZWFkeUluamVjdGVkID0gdHJ1ZTtcblxuICBSZWFjdEluamVjdGlvbi5FdmVudEVtaXR0ZXIuaW5qZWN0UmVhY3RFdmVudExpc3RlbmVyKFJlYWN0RXZlbnRMaXN0ZW5lcik7XG5cbiAgLyoqXG4gICAqIEluamVjdCBtb2R1bGVzIGZvciByZXNvbHZpbmcgRE9NIGhpZXJhcmNoeSBhbmQgcGx1Z2luIG9yZGVyaW5nLlxuICAgKi9cbiAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5IdWIuaW5qZWN0RXZlbnRQbHVnaW5PcmRlcihEZWZhdWx0RXZlbnRQbHVnaW5PcmRlcik7XG4gIFJlYWN0SW5qZWN0aW9uLkV2ZW50UGx1Z2luSHViLmluamVjdEluc3RhbmNlSGFuZGxlKFJlYWN0SW5zdGFuY2VIYW5kbGVzKTtcbiAgUmVhY3RJbmplY3Rpb24uRXZlbnRQbHVnaW5IdWIuaW5qZWN0TW91bnQoUmVhY3RNb3VudCk7XG5cbiAgLyoqXG4gICAqIFNvbWUgaW1wb3J0YW50IGV2ZW50IHBsdWdpbnMgaW5jbHVkZWQgYnkgZGVmYXVsdCAod2l0aG91dCBoYXZpbmcgdG8gcmVxdWlyZVxuICAgKiB0aGVtKS5cbiAgICovXG4gIFJlYWN0SW5qZWN0aW9uLkV2ZW50UGx1Z2luSHViLmluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSh7XG4gICAgU2ltcGxlRXZlbnRQbHVnaW46IFNpbXBsZUV2ZW50UGx1Z2luLFxuICAgIEVudGVyTGVhdmVFdmVudFBsdWdpbjogRW50ZXJMZWF2ZUV2ZW50UGx1Z2luLFxuICAgIENoYW5nZUV2ZW50UGx1Z2luOiBDaGFuZ2VFdmVudFBsdWdpbixcbiAgICBTZWxlY3RFdmVudFBsdWdpbjogU2VsZWN0RXZlbnRQbHVnaW4sXG4gICAgQmVmb3JlSW5wdXRFdmVudFBsdWdpbjogQmVmb3JlSW5wdXRFdmVudFBsdWdpblxuICB9KTtcblxuICBSZWFjdEluamVjdGlvbi5OYXRpdmVDb21wb25lbnQuaW5qZWN0R2VuZXJpY0NvbXBvbmVudENsYXNzKFJlYWN0RE9NQ29tcG9uZW50KTtcblxuICBSZWFjdEluamVjdGlvbi5OYXRpdmVDb21wb25lbnQuaW5qZWN0VGV4dENvbXBvbmVudENsYXNzKFJlYWN0RE9NVGV4dENvbXBvbmVudCk7XG5cbiAgUmVhY3RJbmplY3Rpb24uQ2xhc3MuaW5qZWN0TWl4aW4oUmVhY3RCcm93c2VyQ29tcG9uZW50TWl4aW4pO1xuXG4gIFJlYWN0SW5qZWN0aW9uLkRPTVByb3BlcnR5LmluamVjdERPTVByb3BlcnR5Q29uZmlnKEhUTUxET01Qcm9wZXJ0eUNvbmZpZyk7XG4gIFJlYWN0SW5qZWN0aW9uLkRPTVByb3BlcnR5LmluamVjdERPTVByb3BlcnR5Q29uZmlnKFNWR0RPTVByb3BlcnR5Q29uZmlnKTtcblxuICBSZWFjdEluamVjdGlvbi5FbXB0eUNvbXBvbmVudC5pbmplY3RFbXB0eUNvbXBvbmVudCgnbm9zY3JpcHQnKTtcblxuICBSZWFjdEluamVjdGlvbi5VcGRhdGVzLmluamVjdFJlY29uY2lsZVRyYW5zYWN0aW9uKFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24pO1xuICBSZWFjdEluamVjdGlvbi5VcGRhdGVzLmluamVjdEJhdGNoaW5nU3RyYXRlZ3koUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSk7XG5cbiAgUmVhY3RJbmplY3Rpb24uUm9vdEluZGV4LmluamVjdENyZWF0ZVJlYWN0Um9vdEluZGV4KEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IENsaWVudFJlYWN0Um9vdEluZGV4LmNyZWF0ZVJlYWN0Um9vdEluZGV4IDogU2VydmVyUmVhY3RSb290SW5kZXguY3JlYXRlUmVhY3RSb290SW5kZXgpO1xuXG4gIFJlYWN0SW5qZWN0aW9uLkNvbXBvbmVudC5pbmplY3RFbnZpcm9ubWVudChSZWFjdENvbXBvbmVudEJyb3dzZXJFbnZpcm9ubWVudCk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgdXJsID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmIHx8ICcnO1xuICAgIGlmICgvWz8mXXJlYWN0X3BlcmZcXGIvLnRlc3QodXJsKSkge1xuICAgICAgdmFyIFJlYWN0RGVmYXVsdFBlcmYgPSByZXF1aXJlKCcuL1JlYWN0RGVmYXVsdFBlcmYnKTtcbiAgICAgIFJlYWN0RGVmYXVsdFBlcmYuc3RhcnQoKTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGluamVjdDogaW5qZWN0XG59OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRUZXh0Q29udGVudEFjY2Vzc29yXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgY29udGVudEtleSA9IG51bGw7XG5cbi8qKlxuICogR2V0cyB0aGUga2V5IHVzZWQgdG8gYWNjZXNzIHRleHQgY29udGVudCBvbiBhIERPTSBub2RlLlxuICpcbiAqIEByZXR1cm4gez9zdHJpbmd9IEtleSB1c2VkIHRvIGFjY2VzcyB0ZXh0IGNvbnRlbnQuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpIHtcbiAgaWYgKCFjb250ZW50S2V5ICYmIEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSkge1xuICAgIC8vIFByZWZlciB0ZXh0Q29udGVudCB0byBpbm5lclRleHQgYmVjYXVzZSBtYW55IGJyb3dzZXJzIHN1cHBvcnQgYm90aCBidXRcbiAgICAvLyBTVkcgPHRleHQ+IGVsZW1lbnRzIGRvbid0IHN1cHBvcnQgaW5uZXJUZXh0IGV2ZW4gd2hlbiA8ZGl2PiBkb2VzLlxuICAgIGNvbnRlbnRLZXkgPSAndGV4dENvbnRlbnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/ICd0ZXh0Q29udGVudCcgOiAnaW5uZXJUZXh0JztcbiAgfVxuICByZXR1cm4gY29udGVudEtleTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRUZXh0Q29udGVudEFjY2Vzc29yOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBpc1RleHRJbnB1dEVsZW1lbnRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHNlZSBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtaW5wdXQtZWxlbWVudC5odG1sI2lucHV0LXR5cGUtYXR0ci1zdW1tYXJ5XG4gKi9cbnZhciBzdXBwb3J0ZWRJbnB1dFR5cGVzID0ge1xuICAnY29sb3InOiB0cnVlLFxuICAnZGF0ZSc6IHRydWUsXG4gICdkYXRldGltZSc6IHRydWUsXG4gICdkYXRldGltZS1sb2NhbCc6IHRydWUsXG4gICdlbWFpbCc6IHRydWUsXG4gICdtb250aCc6IHRydWUsXG4gICdudW1iZXInOiB0cnVlLFxuICAncGFzc3dvcmQnOiB0cnVlLFxuICAncmFuZ2UnOiB0cnVlLFxuICAnc2VhcmNoJzogdHJ1ZSxcbiAgJ3RlbCc6IHRydWUsXG4gICd0ZXh0JzogdHJ1ZSxcbiAgJ3RpbWUnOiB0cnVlLFxuICAndXJsJzogdHJ1ZSxcbiAgJ3dlZWsnOiB0cnVlXG59O1xuXG5mdW5jdGlvbiBpc1RleHRJbnB1dEVsZW1lbnQoZWxlbSkge1xuICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gbm9kZU5hbWUgJiYgKG5vZGVOYW1lID09PSAnaW5wdXQnICYmIHN1cHBvcnRlZElucHV0VHlwZXNbZWxlbS50eXBlXSB8fCBub2RlTmFtZSA9PT0gJ3RleHRhcmVhJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNUZXh0SW5wdXRFbGVtZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbnZhciBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vVHJhbnNhY3Rpb24nKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG5cbnZhciBSRVNFVF9CQVRDSEVEX1VQREFURVMgPSB7XG4gIGluaXRpYWxpemU6IGVtcHR5RnVuY3Rpb24sXG4gIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcyA9IGZhbHNlO1xuICB9XG59O1xuXG52YXIgRkxVU0hfQkFUQ0hFRF9VUERBVEVTID0ge1xuICBpbml0aWFsaXplOiBlbXB0eUZ1bmN0aW9uLFxuICBjbG9zZTogUmVhY3RVcGRhdGVzLmZsdXNoQmF0Y2hlZFVwZGF0ZXMuYmluZChSZWFjdFVwZGF0ZXMpXG59O1xuXG52YXIgVFJBTlNBQ1RJT05fV1JBUFBFUlMgPSBbRkxVU0hfQkFUQ0hFRF9VUERBVEVTLCBSRVNFVF9CQVRDSEVEX1VQREFURVNdO1xuXG5mdW5jdGlvbiBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5VHJhbnNhY3Rpb24oKSB7XG4gIHRoaXMucmVpbml0aWFsaXplVHJhbnNhY3Rpb24oKTtcbn1cblxuYXNzaWduKFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3lUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFRyYW5zYWN0aW9uLk1peGluLCB7XG4gIGdldFRyYW5zYWN0aW9uV3JhcHBlcnM6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gVFJBTlNBQ1RJT05fV1JBUFBFUlM7XG4gIH1cbn0pO1xuXG52YXIgdHJhbnNhY3Rpb24gPSBuZXcgUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneVRyYW5zYWN0aW9uKCk7XG5cbnZhciBSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5ID0ge1xuICBpc0JhdGNoaW5nVXBkYXRlczogZmFsc2UsXG5cbiAgLyoqXG4gICAqIENhbGwgdGhlIHByb3ZpZGVkIGZ1bmN0aW9uIGluIGEgY29udGV4dCB3aXRoaW4gd2hpY2ggY2FsbHMgdG8gYHNldFN0YXRlYFxuICAgKiBhbmQgZnJpZW5kcyBhcmUgYmF0Y2hlZCBzdWNoIHRoYXQgY29tcG9uZW50cyBhcmVuJ3QgdXBkYXRlZCB1bm5lY2Vzc2FyaWx5LlxuICAgKi9cbiAgYmF0Y2hlZFVwZGF0ZXM6IGZ1bmN0aW9uIChjYWxsYmFjaywgYSwgYiwgYywgZCwgZSkge1xuICAgIHZhciBhbHJlYWR5QmF0Y2hpbmdVcGRhdGVzID0gUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneS5pc0JhdGNoaW5nVXBkYXRlcztcblxuICAgIFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kuaXNCYXRjaGluZ1VwZGF0ZXMgPSB0cnVlO1xuXG4gICAgLy8gVGhlIGNvZGUgaXMgd3JpdHRlbiB0aGlzIHdheSB0byBhdm9pZCBleHRyYSBhbGxvY2F0aW9uc1xuICAgIGlmIChhbHJlYWR5QmF0Y2hpbmdVcGRhdGVzKSB7XG4gICAgICBjYWxsYmFjayhhLCBiLCBjLCBkLCBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJhbnNhY3Rpb24ucGVyZm9ybShjYWxsYmFjaywgbnVsbCwgYSwgYiwgYywgZCwgZSk7XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3k7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGZvY3VzTm9kZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGUgaW5wdXQvdGV4dGFyZWEgdG8gZm9jdXNcbiAqL1xuZnVuY3Rpb24gZm9jdXNOb2RlKG5vZGUpIHtcbiAgLy8gSUU4IGNhbiB0aHJvdyBcIkNhbid0IG1vdmUgZm9jdXMgdG8gdGhlIGNvbnRyb2wgYmVjYXVzZSBpdCBpcyBpbnZpc2libGUsXG4gIC8vIG5vdCBlbmFibGVkLCBvciBvZiBhIHR5cGUgdGhhdCBkb2VzIG5vdCBhY2NlcHQgdGhlIGZvY3VzLlwiIGZvciBhbGwga2luZHMgb2ZcbiAgLy8gcmVhc29ucyB0aGF0IGFyZSB0b28gZXhwZW5zaXZlIGFuZCBmcmFnaWxlIHRvIHRlc3QuXG4gIHRyeSB7XG4gICAgbm9kZS5mb2N1cygpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZvY3VzTm9kZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgQ1NTUHJvcGVydHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ1NTIHByb3BlcnRpZXMgd2hpY2ggYWNjZXB0IG51bWJlcnMgYnV0IGFyZSBub3QgaW4gdW5pdHMgb2YgXCJweFwiLlxuICovXG52YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmbGV4T3JkZXI6IHRydWUsXG4gIGZvbnRXZWlnaHQ6IHRydWUsXG4gIGxpbmVDbGFtcDogdHJ1ZSxcbiAgbGluZUhlaWdodDogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgb3JkZXI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIHRhYlNpemU6IHRydWUsXG4gIHdpZG93czogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuICB6b29tOiB0cnVlLFxuXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IHRydWUsXG4gIHN0b3BPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VXaWR0aDogdHJ1ZVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJlZml4IHZlbmRvci1zcGVjaWZpYyBwcmVmaXgsIGVnOiBXZWJraXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgc3R5bGUgbmFtZSwgZWc6IHRyYW5zaXRpb25EdXJhdGlvblxuICogQHJldHVybiB7c3RyaW5nfSBzdHlsZSBuYW1lIHByZWZpeGVkIHdpdGggYHByZWZpeGAsIHByb3Blcmx5IGNhbWVsQ2FzZWQsIGVnOlxuICogV2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uXG4gKi9cbmZ1bmN0aW9uIHByZWZpeEtleShwcmVmaXgsIGtleSkge1xuICByZXR1cm4gcHJlZml4ICsga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKTtcbn1cblxuLyoqXG4gKiBTdXBwb3J0IHN0eWxlIG5hbWVzIHRoYXQgbWF5IGNvbWUgcGFzc2VkIGluIHByZWZpeGVkIGJ5IGFkZGluZyBwZXJtdXRhdGlvbnNcbiAqIG9mIHZlbmRvciBwcmVmaXhlcy5cbiAqL1xudmFyIHByZWZpeGVzID0gWydXZWJraXQnLCAnbXMnLCAnTW96JywgJ08nXTtcblxuLy8gVXNpbmcgT2JqZWN0LmtleXMgaGVyZSwgb3IgZWxzZSB0aGUgdmFuaWxsYSBmb3ItaW4gbG9vcCBtYWtlcyBJRTggZ28gaW50byBhblxuLy8gaW5maW5pdGUgbG9vcCwgYmVjYXVzZSBpdCBpdGVyYXRlcyBvdmVyIHRoZSBuZXdseSBhZGRlZCBwcm9wcyB0b28uXG5PYmplY3Qua2V5cyhpc1VuaXRsZXNzTnVtYmVyKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gIHByZWZpeGVzLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGlzVW5pdGxlc3NOdW1iZXJbcHJlZml4S2V5KHByZWZpeCwgcHJvcCldID0gaXNVbml0bGVzc051bWJlcltwcm9wXTtcbiAgfSk7XG59KTtcblxuLyoqXG4gKiBNb3N0IHN0eWxlIHByb3BlcnRpZXMgY2FuIGJlIHVuc2V0IGJ5IGRvaW5nIC5zdHlsZVtwcm9wXSA9ICcnIGJ1dCBJRThcbiAqIGRvZXNuJ3QgbGlrZSBkb2luZyB0aGF0IHdpdGggc2hvcnRoYW5kIHByb3BlcnRpZXMgc28gZm9yIHRoZSBwcm9wZXJ0aWVzIHRoYXRcbiAqIElFOCBicmVha3Mgb24sIHdoaWNoIGFyZSBsaXN0ZWQgaGVyZSwgd2UgaW5zdGVhZCB1bnNldCBlYWNoIG9mIHRoZVxuICogaW5kaXZpZHVhbCBwcm9wZXJ0aWVzLiBTZWUgaHR0cDovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzODUuXG4gKiBUaGUgNC12YWx1ZSAnY2xvY2snIHByb3BlcnRpZXMgbGlrZSBtYXJnaW4sIHBhZGRpbmcsIGJvcmRlci13aWR0aCBzZWVtIHRvXG4gKiBiZWhhdmUgd2l0aG91dCBhbnkgcHJvYmxlbXMuIEN1cmlvdXNseSwgbGlzdC1zdHlsZSB3b3JrcyB0b28gd2l0aG91dCBhbnlcbiAqIHNwZWNpYWwgcHJvZGRpbmcuXG4gKi9cbnZhciBzaG9ydGhhbmRQcm9wZXJ0eUV4cGFuc2lvbnMgPSB7XG4gIGJhY2tncm91bmQ6IHtcbiAgICBiYWNrZ3JvdW5kQXR0YWNobWVudDogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHRydWUsXG4gICAgYmFja2dyb3VuZEltYWdlOiB0cnVlLFxuICAgIGJhY2tncm91bmRQb3NpdGlvblg6IHRydWUsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uWTogdHJ1ZSxcbiAgICBiYWNrZ3JvdW5kUmVwZWF0OiB0cnVlXG4gIH0sXG4gIGJhY2tncm91bmRQb3NpdGlvbjoge1xuICAgIGJhY2tncm91bmRQb3NpdGlvblg6IHRydWUsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uWTogdHJ1ZVxuICB9LFxuICBib3JkZXI6IHtcbiAgICBib3JkZXJXaWR0aDogdHJ1ZSxcbiAgICBib3JkZXJTdHlsZTogdHJ1ZSxcbiAgICBib3JkZXJDb2xvcjogdHJ1ZVxuICB9LFxuICBib3JkZXJCb3R0b206IHtcbiAgICBib3JkZXJCb3R0b21XaWR0aDogdHJ1ZSxcbiAgICBib3JkZXJCb3R0b21TdHlsZTogdHJ1ZSxcbiAgICBib3JkZXJCb3R0b21Db2xvcjogdHJ1ZVxuICB9LFxuICBib3JkZXJMZWZ0OiB7XG4gICAgYm9yZGVyTGVmdFdpZHRoOiB0cnVlLFxuICAgIGJvcmRlckxlZnRTdHlsZTogdHJ1ZSxcbiAgICBib3JkZXJMZWZ0Q29sb3I6IHRydWVcbiAgfSxcbiAgYm9yZGVyUmlnaHQ6IHtcbiAgICBib3JkZXJSaWdodFdpZHRoOiB0cnVlLFxuICAgIGJvcmRlclJpZ2h0U3R5bGU6IHRydWUsXG4gICAgYm9yZGVyUmlnaHRDb2xvcjogdHJ1ZVxuICB9LFxuICBib3JkZXJUb3A6IHtcbiAgICBib3JkZXJUb3BXaWR0aDogdHJ1ZSxcbiAgICBib3JkZXJUb3BTdHlsZTogdHJ1ZSxcbiAgICBib3JkZXJUb3BDb2xvcjogdHJ1ZVxuICB9LFxuICBmb250OiB7XG4gICAgZm9udFN0eWxlOiB0cnVlLFxuICAgIGZvbnRWYXJpYW50OiB0cnVlLFxuICAgIGZvbnRXZWlnaHQ6IHRydWUsXG4gICAgZm9udFNpemU6IHRydWUsXG4gICAgbGluZUhlaWdodDogdHJ1ZSxcbiAgICBmb250RmFtaWx5OiB0cnVlXG4gIH0sXG4gIG91dGxpbmU6IHtcbiAgICBvdXRsaW5lV2lkdGg6IHRydWUsXG4gICAgb3V0bGluZVN0eWxlOiB0cnVlLFxuICAgIG91dGxpbmVDb2xvcjogdHJ1ZVxuICB9XG59O1xuXG52YXIgQ1NTUHJvcGVydHkgPSB7XG4gIGlzVW5pdGxlc3NOdW1iZXI6IGlzVW5pdGxlc3NOdW1iZXIsXG4gIHNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uczogc2hvcnRoYW5kUHJvcGVydHlFeHBhbnNpb25zXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENTU1Byb3BlcnR5OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFByb3BUeXBlc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzJyk7XG5cbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIGdldEl0ZXJhdG9yRm4gPSByZXF1aXJlKCcuL2dldEl0ZXJhdG9yRm4nKTtcblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgdGhhdCBhbGxvdyBkZWNsYXJhdGlvbiBhbmQgdmFsaWRhdGlvbiBvZiBwcm9wcyB0aGF0IGFyZVxuICogc3VwcGxpZWQgdG8gUmVhY3QgY29tcG9uZW50cy4gRXhhbXBsZSB1c2FnZTpcbiAqXG4gKiAgIHZhciBQcm9wcyA9IHJlcXVpcmUoJ1JlYWN0UHJvcFR5cGVzJyk7XG4gKiAgIHZhciBNeUFydGljbGUgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gKiAgICAgcHJvcFR5cGVzOiB7XG4gKiAgICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgcHJvcCBuYW1lZCBcImRlc2NyaXB0aW9uXCIuXG4gKiAgICAgICBkZXNjcmlwdGlvbjogUHJvcHMuc3RyaW5nLFxuICpcbiAqICAgICAgIC8vIEEgcmVxdWlyZWQgZW51bSBwcm9wIG5hbWVkIFwiY2F0ZWdvcnlcIi5cbiAqICAgICAgIGNhdGVnb3J5OiBQcm9wcy5vbmVPZihbJ05ld3MnLCdQaG90b3MnXSkuaXNSZXF1aXJlZCxcbiAqXG4gKiAgICAgICAvLyBBIHByb3AgbmFtZWQgXCJkaWFsb2dcIiB0aGF0IHJlcXVpcmVzIGFuIGluc3RhbmNlIG9mIERpYWxvZy5cbiAqICAgICAgIGRpYWxvZzogUHJvcHMuaW5zdGFuY2VPZihEaWFsb2cpLmlzUmVxdWlyZWRcbiAqICAgICB9LFxuICogICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7IC4uLiB9XG4gKiAgIH0pO1xuICpcbiAqIEEgbW9yZSBmb3JtYWwgc3BlY2lmaWNhdGlvbiBvZiBob3cgdGhlc2UgbWV0aG9kcyBhcmUgdXNlZDpcbiAqXG4gKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcbiAqICAgZGVjbCA6PSBSZWFjdFByb3BUeXBlcy57dHlwZX0oLmlzUmVxdWlyZWQpP1xuICpcbiAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcbiAqIGFsbG93cyB0aGUgY3JlYXRpb24gb2YgY3VzdG9tIHZhbGlkYXRpb24gZnVuY3Rpb25zLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAqICAgIHByb3BUeXBlczoge1xuICogICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgb3IgVVJJIHByb3AgbmFtZWQgXCJocmVmXCIuXG4gKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICogICAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gKiAgICAgICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmIHR5cGVvZiBwcm9wVmFsdWUgIT09ICdzdHJpbmcnICYmXG4gKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xuICogICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAqICAgICAgICAgICAgJ0V4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIFVSSSBmb3IgJyArIHByb3BOYW1lICsgJyBpbiAnICtcbiAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICogICAgICAgICAgKTtcbiAqICAgICAgICB9XG4gKiAgICAgIH1cbiAqICAgIH0sXG4gKiAgICByZW5kZXI6IGZ1bmN0aW9uKCkgey4uLn1cbiAqICB9KTtcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuXG52YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuXG52YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gIGFycmF5OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignYXJyYXknKSxcbiAgYm9vbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Jvb2xlYW4nKSxcbiAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gIG51bWJlcjogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ251bWJlcicpLFxuICBvYmplY3Q6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdvYmplY3QnKSxcbiAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG5cbiAgYW55OiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpLFxuICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG4gIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxuICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyLFxuICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuICBvYmplY3RPZjogY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcixcbiAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcbiAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuICBzaGFwZTogY3JlYXRlU2hhcGVUeXBlQ2hlY2tlclxufTtcblxuZnVuY3Rpb24gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpIHtcbiAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IEFOT05ZTU9VUztcbiAgICBwcm9wRnVsbE5hbWUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG4gICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmVxdWlyZWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCB3YXMgbm90IHNwZWNpZmllZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG4gIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXG4gIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcihleHBlY3RlZFR5cGUpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgLy8gYHByb3BWYWx1ZWAgYmVpbmcgaW5zdGFuY2Ugb2YsIHNheSwgZGF0ZS9yZWdleHAsIHBhc3MgdGhlICdvYmplY3QnXG4gICAgICAvLyBjaGVjaywgYnV0IHdlIGNhbiBvZmZlciBhIG1vcmUgcHJlY2lzZSBlcnJvciBtZXNzYWdlIGhlcmUgcmF0aGVyIHRoYW5cbiAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cbiAgICAgIHZhciBwcmVjaXNlVHlwZSA9IGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSk7XG5cbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpIHtcbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMobnVsbCkpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCcpO1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGlmICghUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIoZXhwZWN0ZWRDbGFzcykge1xuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIGFjdHVhbENsYXNzTmFtZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnaW5zdGFuY2Ugb2YgYCcgKyBleHBlY3RlZENsYXNzTmFtZSArICdgLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRW51bVR5cGVDaGVja2VyKGV4cGVjdGVkVmFsdWVzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJyk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwcm9wVmFsdWUgPT09IGV4cGVjdGVkVmFsdWVzW2ldKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgdmFyIHZhbHVlc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGV4cGVjdGVkVmFsdWVzKTtcbiAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdmFsdWUgYCcgKyBwcm9wVmFsdWUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgb25lIG9mICcgKyB2YWx1ZXNTdHJpbmcgKyAnLicpKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICB2YXIgbG9jYXRpb25OYW1lID0gUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dO1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuICAgIH1cbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcFZhbHVlKSB7XG4gICAgICBpZiAocHJvcFZhbHVlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCcpO1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5T2ZUeXBlQ2hlY2tlcnMpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2ZUeXBlLCBleHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBhcnJheS4nKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnKSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb25OYW1lICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOb2RlQ2hlY2tlcigpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXTtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uTmFtZSArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBSZWFjdE5vZGUuJykpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcbiAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl07XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbk5hbWUgKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcbiAgICB9XG4gICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcbiAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJyk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xufVxuXG5mdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG4gIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gIXByb3BWYWx1ZTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcbiAgICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IHByb3BWYWx1ZS5lbnRyaWVzKSB7XG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKCFpc05vZGUoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBJdGVyYXRvciB3aWxsIHByb3ZpZGUgZW50cnkgW2ssdl0gdHVwbGVzIHJhdGhlciB0aGFuIHZhbHVlcy5cbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIEVxdWl2YWxlbnQgb2YgYHR5cGVvZmAgYnV0IHdpdGggc3BlY2lhbCBoYW5kbGluZyBmb3IgYXJyYXkgYW5kIHJlZ2V4cC5cbmZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgcmV0dXJuICdhcnJheSc7XG4gIH1cbiAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgIC8vIE9sZCB3ZWJraXRzIChhdCBsZWFzdCB1bnRpbCBBbmRyb2lkIDQuMCkgcmV0dXJuICdmdW5jdGlvbicgcmF0aGVyIHRoYW5cbiAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cbiAgICAvLyBwYXNzZXMgUHJvcFR5cGVzLm9iamVjdC5cbiAgICByZXR1cm4gJ29iamVjdCc7XG4gIH1cbiAgcmV0dXJuIHByb3BUeXBlO1xufVxuXG4vLyBUaGlzIGhhbmRsZXMgbW9yZSB0eXBlcyB0aGFuIGBnZXRQcm9wVHlwZWAuIE9ubHkgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4vLyBTZWUgYGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyYC5cbmZ1bmN0aW9uIGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSkge1xuICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICBpZiAocHJvcFR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgfSBlbHNlIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHJldHVybiAncmVnZXhwJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BUeXBlO1xufVxuXG4vLyBSZXR1cm5zIGNsYXNzIG5hbWUgb2YgdGhlIG9iamVjdCwgaWYgYW55LlxuZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKHByb3BWYWx1ZSkge1xuICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICByZXR1cm4gJzw8YW5vbnltb3VzPj4nO1xuICB9XG4gIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlczsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RDaGlsZHJlblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFBvb2xlZENsYXNzID0gcmVxdWlyZSgnLi9Qb29sZWRDbGFzcycpO1xudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG5cbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIHRyYXZlcnNlQWxsQ2hpbGRyZW4gPSByZXF1aXJlKCcuL3RyYXZlcnNlQWxsQ2hpbGRyZW4nKTtcblxudmFyIHR3b0FyZ3VtZW50UG9vbGVyID0gUG9vbGVkQ2xhc3MudHdvQXJndW1lbnRQb29sZXI7XG52YXIgZm91ckFyZ3VtZW50UG9vbGVyID0gUG9vbGVkQ2xhc3MuZm91ckFyZ3VtZW50UG9vbGVyO1xuXG52YXIgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvXFwvKD8hXFwvKS9nO1xuZnVuY3Rpb24gZXNjYXBlVXNlclByb3ZpZGVkS2V5KHRleHQpIHtcbiAgcmV0dXJuICgnJyArIHRleHQpLnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsICcvLycpO1xufVxuXG4vKipcbiAqIFBvb2xlZENsYXNzIHJlcHJlc2VudGluZyB0aGUgYm9va2tlZXBpbmcgYXNzb2NpYXRlZCB3aXRoIHBlcmZvcm1pbmcgYSBjaGlsZFxuICogdHJhdmVyc2FsLiBBbGxvd3MgYXZvaWRpbmcgYmluZGluZyBjYWxsYmFja3MuXG4gKlxuICogQGNvbnN0cnVjdG9yIEZvckVhY2hCb29rS2VlcGluZ1xuICogQHBhcmFtIHshZnVuY3Rpb259IGZvckVhY2hGdW5jdGlvbiBGdW5jdGlvbiB0byBwZXJmb3JtIHRyYXZlcnNhbCB3aXRoLlxuICogQHBhcmFtIHs/Kn0gZm9yRWFjaENvbnRleHQgQ29udGV4dCB0byBwZXJmb3JtIGNvbnRleHQgd2l0aC5cbiAqL1xuZnVuY3Rpb24gRm9yRWFjaEJvb2tLZWVwaW5nKGZvckVhY2hGdW5jdGlvbiwgZm9yRWFjaENvbnRleHQpIHtcbiAgdGhpcy5mdW5jID0gZm9yRWFjaEZ1bmN0aW9uO1xuICB0aGlzLmNvbnRleHQgPSBmb3JFYWNoQ29udGV4dDtcbiAgdGhpcy5jb3VudCA9IDA7XG59XG5Gb3JFYWNoQm9va0tlZXBpbmcucHJvdG90eXBlLmRlc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZnVuYyA9IG51bGw7XG4gIHRoaXMuY29udGV4dCA9IG51bGw7XG4gIHRoaXMuY291bnQgPSAwO1xufTtcblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhGb3JFYWNoQm9va0tlZXBpbmcsIHR3b0FyZ3VtZW50UG9vbGVyKTtcblxuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkKGJvb2tLZWVwaW5nLCBjaGlsZCwgbmFtZSkge1xuICB2YXIgZnVuYyA9IGJvb2tLZWVwaW5nLmZ1bmM7XG4gIHZhciBjb250ZXh0ID0gYm9va0tlZXBpbmcuY29udGV4dDtcblxuICBmdW5jLmNhbGwoY29udGV4dCwgY2hpbGQsIGJvb2tLZWVwaW5nLmNvdW50KyspO1xufVxuXG4vKipcbiAqIEl0ZXJhdGVzIHRocm91Z2ggY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFRoZSBwcm92aWRlZCBmb3JFYWNoRnVuYyhjaGlsZCwgaW5kZXgpIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoXG4gKiBsZWFmIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHtmdW5jdGlvbigqLCBpbnQpfSBmb3JFYWNoRnVuY1xuICogQHBhcmFtIHsqfSBmb3JFYWNoQ29udGV4dCBDb250ZXh0IGZvciBmb3JFYWNoQ29udGV4dC5cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgdmFyIHRyYXZlcnNlQ29udGV4dCA9IEZvckVhY2hCb29rS2VlcGluZy5nZXRQb29sZWQoZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZm9yRWFjaFNpbmdsZUNoaWxkLCB0cmF2ZXJzZUNvbnRleHQpO1xuICBGb3JFYWNoQm9va0tlZXBpbmcucmVsZWFzZSh0cmF2ZXJzZUNvbnRleHQpO1xufVxuXG4vKipcbiAqIFBvb2xlZENsYXNzIHJlcHJlc2VudGluZyB0aGUgYm9va2tlZXBpbmcgYXNzb2NpYXRlZCB3aXRoIHBlcmZvcm1pbmcgYSBjaGlsZFxuICogbWFwcGluZy4gQWxsb3dzIGF2b2lkaW5nIGJpbmRpbmcgY2FsbGJhY2tzLlxuICpcbiAqIEBjb25zdHJ1Y3RvciBNYXBCb29rS2VlcGluZ1xuICogQHBhcmFtIHshKn0gbWFwUmVzdWx0IE9iamVjdCBjb250YWluaW5nIHRoZSBvcmRlcmVkIG1hcCBvZiByZXN1bHRzLlxuICogQHBhcmFtIHshZnVuY3Rpb259IG1hcEZ1bmN0aW9uIEZ1bmN0aW9uIHRvIHBlcmZvcm0gbWFwcGluZyB3aXRoLlxuICogQHBhcmFtIHs/Kn0gbWFwQ29udGV4dCBDb250ZXh0IHRvIHBlcmZvcm0gbWFwcGluZyB3aXRoLlxuICovXG5mdW5jdGlvbiBNYXBCb29rS2VlcGluZyhtYXBSZXN1bHQsIGtleVByZWZpeCwgbWFwRnVuY3Rpb24sIG1hcENvbnRleHQpIHtcbiAgdGhpcy5yZXN1bHQgPSBtYXBSZXN1bHQ7XG4gIHRoaXMua2V5UHJlZml4ID0ga2V5UHJlZml4O1xuICB0aGlzLmZ1bmMgPSBtYXBGdW5jdGlvbjtcbiAgdGhpcy5jb250ZXh0ID0gbWFwQ29udGV4dDtcbiAgdGhpcy5jb3VudCA9IDA7XG59XG5NYXBCb29rS2VlcGluZy5wcm90b3R5cGUuZGVzdHJ1Y3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5yZXN1bHQgPSBudWxsO1xuICB0aGlzLmtleVByZWZpeCA9IG51bGw7XG4gIHRoaXMuZnVuYyA9IG51bGw7XG4gIHRoaXMuY29udGV4dCA9IG51bGw7XG4gIHRoaXMuY291bnQgPSAwO1xufTtcblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhNYXBCb29rS2VlcGluZywgZm91ckFyZ3VtZW50UG9vbGVyKTtcblxuZnVuY3Rpb24gbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dChib29rS2VlcGluZywgY2hpbGQsIGNoaWxkS2V5KSB7XG4gIHZhciByZXN1bHQgPSBib29rS2VlcGluZy5yZXN1bHQ7XG4gIHZhciBrZXlQcmVmaXggPSBib29rS2VlcGluZy5rZXlQcmVmaXg7XG4gIHZhciBmdW5jID0gYm9va0tlZXBpbmcuZnVuYztcbiAgdmFyIGNvbnRleHQgPSBib29rS2VlcGluZy5jb250ZXh0O1xuXG4gIHZhciBtYXBwZWRDaGlsZCA9IGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgYm9va0tlZXBpbmcuY291bnQrKyk7XG4gIGlmIChBcnJheS5pc0FycmF5KG1hcHBlZENoaWxkKSkge1xuICAgIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwobWFwcGVkQ2hpbGQsIHJlc3VsdCwgY2hpbGRLZXksIGVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCk7XG4gIH0gZWxzZSBpZiAobWFwcGVkQ2hpbGQgIT0gbnVsbCkge1xuICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQobWFwcGVkQ2hpbGQpKSB7XG4gICAgICBtYXBwZWRDaGlsZCA9IFJlYWN0RWxlbWVudC5jbG9uZUFuZFJlcGxhY2VLZXkobWFwcGVkQ2hpbGQsXG4gICAgICAvLyBLZWVwIGJvdGggdGhlIChtYXBwZWQpIGFuZCBvbGQga2V5cyBpZiB0aGV5IGRpZmZlciwganVzdCBhc1xuICAgICAgLy8gdHJhdmVyc2VBbGxDaGlsZHJlbiB1c2VkIHRvIGRvIGZvciBvYmplY3RzIGFzIGNoaWxkcmVuXG4gICAgICBrZXlQcmVmaXggKyAobWFwcGVkQ2hpbGQgIT09IGNoaWxkID8gZXNjYXBlVXNlclByb3ZpZGVkS2V5KG1hcHBlZENoaWxkLmtleSB8fCAnJykgKyAnLycgOiAnJykgKyBjaGlsZEtleSk7XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKG1hcHBlZENoaWxkKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBJbnRvV2l0aEtleVByZWZpeEludGVybmFsKGNoaWxkcmVuLCBhcnJheSwgcHJlZml4LCBmdW5jLCBjb250ZXh0KSB7XG4gIHZhciBlc2NhcGVkUHJlZml4ID0gJyc7XG4gIGlmIChwcmVmaXggIT0gbnVsbCkge1xuICAgIGVzY2FwZWRQcmVmaXggPSBlc2NhcGVVc2VyUHJvdmlkZWRLZXkocHJlZml4KSArICcvJztcbiAgfVxuICB2YXIgdHJhdmVyc2VDb250ZXh0ID0gTWFwQm9va0tlZXBpbmcuZ2V0UG9vbGVkKGFycmF5LCBlc2NhcGVkUHJlZml4LCBmdW5jLCBjb250ZXh0KTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgbWFwU2luZ2xlQ2hpbGRJbnRvQ29udGV4dCwgdHJhdmVyc2VDb250ZXh0KTtcbiAgTWFwQm9va0tlZXBpbmcucmVsZWFzZSh0cmF2ZXJzZUNvbnRleHQpO1xufVxuXG4vKipcbiAqIE1hcHMgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFRoZSBwcm92aWRlZCBtYXBGdW5jdGlvbihjaGlsZCwga2V5LCBpbmRleCkgd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2hcbiAqIGxlYWYgY2hpbGQuXG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCosIGludCl9IGZ1bmMgVGhlIG1hcCBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBDb250ZXh0IGZvciBtYXBGdW5jdGlvbi5cbiAqIEByZXR1cm4ge29iamVjdH0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9yZGVyZWQgbWFwIG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jLCBjb250ZXh0KSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbChjaGlsZHJlbiwgcmVzdWx0LCBudWxsLCBmdW5jLCBjb250ZXh0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaFNpbmdsZUNoaWxkRHVtbXkodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSkge1xuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBDb3VudCB0aGUgbnVtYmVyIG9mIGNoaWxkcmVuIHRoYXQgYXJlIHR5cGljYWxseSBzcGVjaWZpZWQgYXNcbiAqIGBwcm9wcy5jaGlsZHJlbmAuXG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4uXG4gKi9cbmZ1bmN0aW9uIGNvdW50Q2hpbGRyZW4oY2hpbGRyZW4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIHRyYXZlcnNlQWxsQ2hpbGRyZW4oY2hpbGRyZW4sIGZvckVhY2hTaW5nbGVDaGlsZER1bW15LCBudWxsKTtcbn1cblxuLyoqXG4gKiBGbGF0dGVuIGEgY2hpbGRyZW4gb2JqZWN0ICh0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmApIGFuZFxuICogcmV0dXJuIGFuIGFycmF5IHdpdGggYXBwcm9wcmlhdGVseSByZS1rZXllZCBjaGlsZHJlbi5cbiAqL1xuZnVuY3Rpb24gdG9BcnJheShjaGlsZHJlbikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIG1hcEludG9XaXRoS2V5UHJlZml4SW50ZXJuYWwoY2hpbGRyZW4sIHJlc3VsdCwgbnVsbCwgZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc0FyZ3VtZW50KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIFJlYWN0Q2hpbGRyZW4gPSB7XG4gIGZvckVhY2g6IGZvckVhY2hDaGlsZHJlbixcbiAgbWFwOiBtYXBDaGlsZHJlbixcbiAgbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbDogbWFwSW50b1dpdGhLZXlQcmVmaXhJbnRlcm5hbCxcbiAgY291bnQ6IGNvdW50Q2hpbGRyZW4sXG4gIHRvQXJyYXk6IHRvQXJyYXlcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RDaGlsZHJlbjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01TZWxlY3RcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBMaW5rZWRWYWx1ZVV0aWxzID0gcmVxdWlyZSgnLi9MaW5rZWRWYWx1ZVV0aWxzJyk7XG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoJy4vUmVhY3RNb3VudCcpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVzJyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG52YXIgdmFsdWVDb250ZXh0S2V5ID0gJ19fUmVhY3RET01TZWxlY3RfdmFsdWUkJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuXG5mdW5jdGlvbiB1cGRhdGVPcHRpb25zSWZQZW5kaW5nVXBkYXRlQW5kTW91bnRlZCgpIHtcbiAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQgJiYgdGhpcy5fd3JhcHBlclN0YXRlLnBlbmRpbmdVcGRhdGUpIHtcbiAgICB0aGlzLl93cmFwcGVyU3RhdGUucGVuZGluZ1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgdmFyIHByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG5cbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgdXBkYXRlT3B0aW9ucyh0aGlzLCBCb29sZWFuKHByb3BzLm11bHRpcGxlKSwgdmFsdWUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0ob3duZXIpIHtcbiAgaWYgKG93bmVyKSB7XG4gICAgdmFyIG5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiAnIENoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgfVxuICB9XG4gIHJldHVybiAnJztcbn1cblxudmFyIHZhbHVlUHJvcE5hbWVzID0gWyd2YWx1ZScsICdkZWZhdWx0VmFsdWUnXTtcblxuLyoqXG4gKiBWYWxpZGF0aW9uIGZ1bmN0aW9uIGZvciBgdmFsdWVgIGFuZCBgZGVmYXVsdFZhbHVlYC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNoZWNrU2VsZWN0UHJvcFR5cGVzKGluc3QsIHByb3BzKSB7XG4gIHZhciBvd25lciA9IGluc3QuX2N1cnJlbnRFbGVtZW50Ll9vd25lcjtcbiAgTGlua2VkVmFsdWVVdGlscy5jaGVja1Byb3BUeXBlcygnc2VsZWN0JywgcHJvcHMsIG93bmVyKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlUHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByb3BOYW1lID0gdmFsdWVQcm9wTmFtZXNbaV07XG4gICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHByb3BzLm11bHRpcGxlKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhBcnJheS5pc0FycmF5KHByb3BzW3Byb3BOYW1lXSksICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYW4gYXJyYXkgaWYgJyArICdgbXVsdGlwbGVgIGlzIHRydWUuJXMnLCBwcm9wTmFtZSwgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKG93bmVyKSkgOiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFBcnJheS5pc0FycmF5KHByb3BzW3Byb3BOYW1lXSksICdUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYSBzY2FsYXIgJyArICd2YWx1ZSBpZiBgbXVsdGlwbGVgIGlzIGZhbHNlLiVzJywgcHJvcE5hbWUsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShvd25lcikpIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVhY3RET01Db21wb25lbnR9IGluc3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbGVcbiAqIEBwYXJhbSB7Kn0gcHJvcFZhbHVlIEEgc3RyaW5nYWJsZSAod2l0aCBgbXVsdGlwbGVgLCBhIGxpc3Qgb2Ygc3RyaW5nYWJsZXMpLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhpbnN0LCBtdWx0aXBsZSwgcHJvcFZhbHVlKSB7XG4gIHZhciBzZWxlY3RlZFZhbHVlLCBpO1xuICB2YXIgb3B0aW9ucyA9IFJlYWN0TW91bnQuZ2V0Tm9kZShpbnN0Ll9yb290Tm9kZUlEKS5vcHRpb25zO1xuXG4gIGlmIChtdWx0aXBsZSkge1xuICAgIHNlbGVjdGVkVmFsdWUgPSB7fTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzZWxlY3RlZFZhbHVlWycnICsgcHJvcFZhbHVlW2ldXSA9IHRydWU7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc2VsZWN0ZWQgPSBzZWxlY3RlZFZhbHVlLmhhc093blByb3BlcnR5KG9wdGlvbnNbaV0udmFsdWUpO1xuICAgICAgaWYgKG9wdGlvbnNbaV0uc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG4gICAgICAgIG9wdGlvbnNbaV0uc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gRG8gbm90IHNldCBgc2VsZWN0LnZhbHVlYCBhcyBleGFjdCBiZWhhdmlvciBpc24ndCBjb25zaXN0ZW50IGFjcm9zcyBhbGxcbiAgICAvLyBicm93c2VycyBmb3IgYWxsIGNhc2VzLlxuICAgIHNlbGVjdGVkVmFsdWUgPSAnJyArIHByb3BWYWx1ZTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG9wdGlvbnNbaV0udmFsdWUgPT09IHNlbGVjdGVkVmFsdWUpIHtcbiAgICAgICAgb3B0aW9uc1tpXS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICBvcHRpb25zWzBdLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgPHNlbGVjdD4gbmF0aXZlIGNvbXBvbmVudCB0aGF0IGFsbG93cyBvcHRpb25hbGx5IHNldHRpbmcgdGhlXG4gKiBwcm9wcyBgdmFsdWVgIGFuZCBgZGVmYXVsdFZhbHVlYC4gSWYgYG11bHRpcGxlYCBpcyBmYWxzZSwgdGhlIHByb3AgbXVzdCBiZSBhXG4gKiBzdHJpbmdhYmxlLiBJZiBgbXVsdGlwbGVgIGlzIHRydWUsIHRoZSBwcm9wIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5nYWJsZXMuXG4gKlxuICogSWYgYHZhbHVlYCBpcyBub3Qgc3VwcGxpZWQgKG9yIG51bGwvdW5kZWZpbmVkKSwgdXNlciBhY3Rpb25zIHRoYXQgY2hhbmdlIHRoZVxuICogc2VsZWN0ZWQgb3B0aW9uIHdpbGwgdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSByZW5kZXJlZCBvcHRpb25zLlxuICpcbiAqIElmIGl0IGlzIHN1cHBsaWVkIChhbmQgbm90IG51bGwvdW5kZWZpbmVkKSwgdGhlIHJlbmRlcmVkIG9wdGlvbnMgd2lsbCBub3RcbiAqIHVwZGF0ZSBpbiByZXNwb25zZSB0byB1c2VyIGFjdGlvbnMuIEluc3RlYWQsIHRoZSBgdmFsdWVgIHByb3AgbXVzdCBjaGFuZ2UgaW5cbiAqIG9yZGVyIGZvciB0aGUgcmVuZGVyZWQgb3B0aW9ucyB0byB1cGRhdGUuXG4gKlxuICogSWYgYGRlZmF1bHRWYWx1ZWAgaXMgcHJvdmlkZWQsIGFueSBvcHRpb25zIHdpdGggdGhlIHN1cHBsaWVkIHZhbHVlcyB3aWxsIGJlXG4gKiBzZWxlY3RlZC5cbiAqL1xudmFyIFJlYWN0RE9NU2VsZWN0ID0ge1xuICB2YWx1ZUNvbnRleHRLZXk6IHZhbHVlQ29udGV4dEtleSxcblxuICBnZXROYXRpdmVQcm9wczogZnVuY3Rpb24gKGluc3QsIHByb3BzLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgIG9uQ2hhbmdlOiBpbnN0Ll93cmFwcGVyU3RhdGUub25DaGFuZ2UsXG4gICAgICB2YWx1ZTogdW5kZWZpbmVkXG4gICAgfSk7XG4gIH0sXG5cbiAgbW91bnRXcmFwcGVyOiBmdW5jdGlvbiAoaW5zdCwgcHJvcHMpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgY2hlY2tTZWxlY3RQcm9wVHlwZXMoaW5zdCwgcHJvcHMpO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZ2V0VmFsdWUocHJvcHMpO1xuICAgIGluc3QuX3dyYXBwZXJTdGF0ZSA9IHtcbiAgICAgIHBlbmRpbmdVcGRhdGU6IGZhbHNlLFxuICAgICAgaW5pdGlhbFZhbHVlOiB2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICBvbkNoYW5nZTogX2hhbmRsZUNoYW5nZS5iaW5kKGluc3QpLFxuICAgICAgd2FzTXVsdGlwbGU6IEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpXG4gICAgfTtcbiAgfSxcblxuICBwcm9jZXNzQ2hpbGRDb250ZXh0OiBmdW5jdGlvbiAoaW5zdCwgcHJvcHMsIGNvbnRleHQpIHtcbiAgICAvLyBQYXNzIGRvd24gaW5pdGlhbCB2YWx1ZSBzbyBpbml0aWFsIGdlbmVyYXRlZCBtYXJrdXAgaGFzIGNvcnJlY3RcbiAgICAvLyBgc2VsZWN0ZWRgIGF0dHJpYnV0ZXNcbiAgICB2YXIgY2hpbGRDb250ZXh0ID0gYXNzaWduKHt9LCBjb250ZXh0KTtcbiAgICBjaGlsZENvbnRleHRbdmFsdWVDb250ZXh0S2V5XSA9IGluc3QuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWU7XG4gICAgcmV0dXJuIGNoaWxkQ29udGV4dDtcbiAgfSxcblxuICBwb3N0VXBkYXRlV3JhcHBlcjogZnVuY3Rpb24gKGluc3QpIHtcbiAgICB2YXIgcHJvcHMgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5wcm9wcztcblxuICAgIC8vIEFmdGVyIHRoZSBpbml0aWFsIG1vdW50LCB3ZSBjb250cm9sIHNlbGVjdGVkLW5lc3MgbWFudWFsbHkgc28gZG9uJ3QgcGFzc1xuICAgIC8vIHRoZSBjb250ZXh0IHZhbHVlIGRvd25cbiAgICBpbnN0Ll93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlID0gdW5kZWZpbmVkO1xuXG4gICAgdmFyIHdhc011bHRpcGxlID0gaW5zdC5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlO1xuICAgIGluc3QuX3dyYXBwZXJTdGF0ZS53YXNNdWx0aXBsZSA9IEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpO1xuXG4gICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGluc3QuX3dyYXBwZXJTdGF0ZS5wZW5kaW5nVXBkYXRlID0gZmFsc2U7XG4gICAgICB1cGRhdGVPcHRpb25zKGluc3QsIEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpLCB2YWx1ZSk7XG4gICAgfSBlbHNlIGlmICh3YXNNdWx0aXBsZSAhPT0gQm9vbGVhbihwcm9wcy5tdWx0aXBsZSkpIHtcbiAgICAgIC8vIEZvciBzaW1wbGljaXR5LCByZWFwcGx5IGBkZWZhdWx0VmFsdWVgIGlmIGBtdWx0aXBsZWAgaXMgdG9nZ2xlZC5cbiAgICAgIGlmIChwcm9wcy5kZWZhdWx0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICB1cGRhdGVPcHRpb25zKGluc3QsIEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpLCBwcm9wcy5kZWZhdWx0VmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV2ZXJ0IHRoZSBzZWxlY3QgYmFjayB0byBpdHMgZGVmYXVsdCB1bnNlbGVjdGVkIHN0YXRlLlxuICAgICAgICB1cGRhdGVPcHRpb25zKGluc3QsIEJvb2xlYW4ocHJvcHMubXVsdGlwbGUpLCBwcm9wcy5tdWx0aXBsZSA/IFtdIDogJycpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gX2hhbmRsZUNoYW5nZShldmVudCkge1xuICB2YXIgcHJvcHMgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgdmFyIHJldHVyblZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5leGVjdXRlT25DaGFuZ2UocHJvcHMsIGV2ZW50KTtcblxuICB0aGlzLl93cmFwcGVyU3RhdGUucGVuZGluZ1VwZGF0ZSA9IHRydWU7XG4gIFJlYWN0VXBkYXRlcy5hc2FwKHVwZGF0ZU9wdGlvbnNJZlBlbmRpbmdVcGRhdGVBbmRNb3VudGVkLCB0aGlzKTtcbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NU2VsZWN0OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBzaGFsbG93RXF1YWxcbiAqIEB0eXBlY2hlY2tzXG4gKiBcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogUGVyZm9ybXMgZXF1YWxpdHkgYnkgaXRlcmF0aW5nIHRocm91Z2gga2V5cyBvbiBhbiBvYmplY3QgYW5kIHJldHVybmluZyBmYWxzZVxuICogd2hlbiBhbnkga2V5IGhhcyB2YWx1ZXMgd2hpY2ggYXJlIG5vdCBzdHJpY3RseSBlcXVhbCBiZXR3ZWVuIHRoZSBhcmd1bWVudHMuXG4gKiBSZXR1cm5zIHRydWUgd2hlbiB0aGUgdmFsdWVzIG9mIGFsbCBrZXlzIGFyZSBzdHJpY3RseSBlcXVhbC5cbiAqL1xuZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqQSAhPT0gJ29iamVjdCcgfHwgb2JqQSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqQiAhPT0gJ29iamVjdCcgfHwgb2JqQiA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuICB2YXIgYkhhc093blByb3BlcnR5ID0gaGFzT3duUHJvcGVydHkuYmluZChvYmpCKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzQS5sZW5ndGg7IGkrKykge1xuICAgIGlmICghYkhhc093blByb3BlcnR5KGtleXNBW2ldKSB8fCBvYmpBW2tleXNBW2ldXSAhPT0gb2JqQltrZXlzQVtpXV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaGFsbG93RXF1YWw7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBFdmVudExpc3RlbmVyXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCcuL2VtcHR5RnVuY3Rpb24nKTtcblxuLyoqXG4gKiBVcHN0cmVhbSB2ZXJzaW9uIG9mIGV2ZW50IGxpc3RlbmVyLiBEb2VzIG5vdCB0YWtlIGludG8gYWNjb3VudCBzcGVjaWZpY1xuICogbmF0dXJlIG9mIHBsYXRmb3JtLlxuICovXG52YXIgRXZlbnRMaXN0ZW5lciA9IHtcbiAgLyoqXG4gICAqIExpc3RlbiB0byBET00gZXZlbnRzIGR1cmluZyB0aGUgYnViYmxlIHBoYXNlLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSB0YXJnZXQgRE9NIGVsZW1lbnQgdG8gcmVnaXN0ZXIgbGlzdGVuZXIgb24uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgRXZlbnQgdHlwZSwgZS5nLiAnY2xpY2snIG9yICdtb3VzZW92ZXInLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvbi5cbiAgICogQHJldHVybiB7b2JqZWN0fSBPYmplY3Qgd2l0aCBhIGByZW1vdmVgIG1ldGhvZC5cbiAgICovXG4gIGxpc3RlbjogZnVuY3Rpb24gKHRhcmdldCwgZXZlbnRUeXBlLCBjYWxsYmFjaykge1xuICAgIGlmICh0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjaywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0LmF0dGFjaEV2ZW50KSB7XG4gICAgICB0YXJnZXQuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGFyZ2V0LmRldGFjaEV2ZW50KCdvbicgKyBldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIExpc3RlbiB0byBET00gZXZlbnRzIGR1cmluZyB0aGUgY2FwdHVyZSBwaGFzZS5cbiAgICpcbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gdGFyZ2V0IERPTSBlbGVtZW50IHRvIHJlZ2lzdGVyIGxpc3RlbmVyIG9uLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIEV2ZW50IHR5cGUsIGUuZy4gJ2NsaWNrJyBvciAnbW91c2VvdmVyJy5cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqIEByZXR1cm4ge29iamVjdH0gT2JqZWN0IHdpdGggYSBgcmVtb3ZlYCBtZXRob2QuXG4gICAqL1xuICBjYXB0dXJlOiBmdW5jdGlvbiAodGFyZ2V0LCBldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHRhcmdldC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBdHRlbXB0ZWQgdG8gbGlzdGVuIHRvIGV2ZW50cyBkdXJpbmcgdGhlIGNhcHR1cmUgcGhhc2Ugb24gYSAnICsgJ2Jyb3dzZXIgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBjYXB0dXJlIHBoYXNlLiBZb3VyIGFwcGxpY2F0aW9uICcgKyAnd2lsbCBub3QgcmVjZWl2ZSBzb21lIGV2ZW50cy4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92ZTogZW1wdHlGdW5jdGlvblxuICAgICAgfTtcbiAgICB9XG4gIH0sXG5cbiAgcmVnaXN0ZXJEZWZhdWx0OiBmdW5jdGlvbiAoKSB7fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudExpc3RlbmVyOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdENsYXNzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0Q29tcG9uZW50Jyk7XG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcbnZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25zID0gcmVxdWlyZSgnLi9SZWFjdFByb3BUeXBlTG9jYXRpb25zJyk7XG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzJyk7XG52YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSByZXF1aXJlKCcuL1JlYWN0Tm9vcFVwZGF0ZVF1ZXVlJyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5T2JqZWN0Jyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIga2V5TWlycm9yID0gcmVxdWlyZSgnZmJqcy9saWIva2V5TWlycm9yJyk7XG52YXIga2V5T2YgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlPZicpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5cbnZhciBNSVhJTlNfS0VZID0ga2V5T2YoeyBtaXhpbnM6IG51bGwgfSk7XG5cbi8qKlxuICogUG9saWNpZXMgdGhhdCBkZXNjcmliZSBtZXRob2RzIGluIGBSZWFjdENsYXNzSW50ZXJmYWNlYC5cbiAqL1xudmFyIFNwZWNQb2xpY3kgPSBrZXlNaXJyb3Ioe1xuICAvKipcbiAgICogVGhlc2UgbWV0aG9kcyBtYXkgYmUgZGVmaW5lZCBvbmx5IG9uY2UgYnkgdGhlIGNsYXNzIHNwZWNpZmljYXRpb24gb3IgbWl4aW4uXG4gICAqL1xuICBERUZJTkVfT05DRTogbnVsbCxcbiAgLyoqXG4gICAqIFRoZXNlIG1ldGhvZHMgbWF5IGJlIGRlZmluZWQgYnkgYm90aCB0aGUgY2xhc3Mgc3BlY2lmaWNhdGlvbiBhbmQgbWl4aW5zLlxuICAgKiBTdWJzZXF1ZW50IGRlZmluaXRpb25zIHdpbGwgYmUgY2hhaW5lZC4gVGhlc2UgbWV0aG9kcyBtdXN0IHJldHVybiB2b2lkLlxuICAgKi9cbiAgREVGSU5FX01BTlk6IG51bGwsXG4gIC8qKlxuICAgKiBUaGVzZSBtZXRob2RzIGFyZSBvdmVycmlkaW5nIHRoZSBiYXNlIGNsYXNzLlxuICAgKi9cbiAgT1ZFUlJJREVfQkFTRTogbnVsbCxcbiAgLyoqXG4gICAqIFRoZXNlIG1ldGhvZHMgYXJlIHNpbWlsYXIgdG8gREVGSU5FX01BTlksIGV4Y2VwdCB3ZSBhc3N1bWUgdGhleSByZXR1cm5cbiAgICogb2JqZWN0cy4gV2UgdHJ5IHRvIG1lcmdlIHRoZSBrZXlzIG9mIHRoZSByZXR1cm4gdmFsdWVzIG9mIGFsbCB0aGUgbWl4ZWQgaW5cbiAgICogZnVuY3Rpb25zLiBJZiB0aGVyZSBpcyBhIGtleSBjb25mbGljdCB3ZSB0aHJvdy5cbiAgICovXG4gIERFRklORV9NQU5ZX01FUkdFRDogbnVsbFxufSk7XG5cbnZhciBpbmplY3RlZE1peGlucyA9IFtdO1xuXG52YXIgd2FybmVkU2V0UHJvcHMgPSBmYWxzZTtcbmZ1bmN0aW9uIHdhcm5TZXRQcm9wcygpIHtcbiAgaWYgKCF3YXJuZWRTZXRQcm9wcykge1xuICAgIHdhcm5lZFNldFByb3BzID0gdHJ1ZTtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ3NldFByb3BzKC4uLikgYW5kIHJlcGxhY2VQcm9wcyguLi4pIGFyZSBkZXByZWNhdGVkLiAnICsgJ0luc3RlYWQsIGNhbGwgcmVuZGVyIGFnYWluIGF0IHRoZSB0b3AgbGV2ZWwuJykgOiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBDb21wb3NpdGUgY29tcG9uZW50cyBhcmUgaGlnaGVyLWxldmVsIGNvbXBvbmVudHMgdGhhdCBjb21wb3NlIG90aGVyIGNvbXBvc2l0ZVxuICogb3IgbmF0aXZlIGNvbXBvbmVudHMuXG4gKlxuICogVG8gY3JlYXRlIGEgbmV3IHR5cGUgb2YgYFJlYWN0Q2xhc3NgLCBwYXNzIGEgc3BlY2lmaWNhdGlvbiBvZlxuICogeW91ciBuZXcgY2xhc3MgdG8gYFJlYWN0LmNyZWF0ZUNsYXNzYC4gVGhlIG9ubHkgcmVxdWlyZW1lbnQgb2YgeW91ciBjbGFzc1xuICogc3BlY2lmaWNhdGlvbiBpcyB0aGF0IHlvdSBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuXG4gKlxuICogICB2YXIgTXlDb21wb25lbnQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAqICAgICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogVGhlIGNsYXNzIHNwZWNpZmljYXRpb24gc3VwcG9ydHMgYSBzcGVjaWZpYyBwcm90b2NvbCBvZiBtZXRob2RzIHRoYXQgaGF2ZVxuICogc3BlY2lhbCBtZWFuaW5nIChlLmcuIGByZW5kZXJgKS4gU2VlIGBSZWFjdENsYXNzSW50ZXJmYWNlYCBmb3JcbiAqIG1vcmUgdGhlIGNvbXByZWhlbnNpdmUgcHJvdG9jb2wuIEFueSBvdGhlciBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGluIHRoZVxuICogY2xhc3Mgc3BlY2lmaWNhdGlvbiB3aWxsIGJlIGF2YWlsYWJsZSBvbiB0aGUgcHJvdG90eXBlLlxuICpcbiAqIEBpbnRlcmZhY2UgUmVhY3RDbGFzc0ludGVyZmFjZVxuICogQGludGVybmFsXG4gKi9cbnZhciBSZWFjdENsYXNzSW50ZXJmYWNlID0ge1xuXG4gIC8qKlxuICAgKiBBbiBhcnJheSBvZiBNaXhpbiBvYmplY3RzIHRvIGluY2x1ZGUgd2hlbiBkZWZpbmluZyB5b3VyIGNvbXBvbmVudC5cbiAgICpcbiAgICogQHR5cGUge2FycmF5fVxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIG1peGluczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcblxuICAvKipcbiAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0aGF0IHNob3VsZCBiZSBkZWZpbmVkIG9uXG4gICAqIHRoZSBjb21wb25lbnQncyBjb25zdHJ1Y3RvciBpbnN0ZWFkIG9mIGl0cyBwcm90b3R5cGUgKHN0YXRpYyBtZXRob2RzKS5cbiAgICpcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQG9wdGlvbmFsXG4gICAqL1xuICBzdGF0aWNzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuXG4gIC8qKlxuICAgKiBEZWZpbml0aW9uIG9mIHByb3AgdHlwZXMgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgKlxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIHByb3BUeXBlczogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcblxuICAvKipcbiAgICogRGVmaW5pdGlvbiBvZiBjb250ZXh0IHR5cGVzIGZvciB0aGlzIGNvbXBvbmVudC5cbiAgICpcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQG9wdGlvbmFsXG4gICAqL1xuICBjb250ZXh0VHlwZXM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG5cbiAgLyoqXG4gICAqIERlZmluaXRpb24gb2YgY29udGV4dCB0eXBlcyB0aGlzIGNvbXBvbmVudCBzZXRzIGZvciBpdHMgY2hpbGRyZW4uXG4gICAqXG4gICAqIEB0eXBlIHtvYmplY3R9XG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgY2hpbGRDb250ZXh0VHlwZXM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG5cbiAgLy8gPT09PSBEZWZpbml0aW9uIG1ldGhvZHMgPT09PVxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLiBWYWx1ZXMgaW4gdGhlIG1hcHBpbmcgd2lsbCBiZSBzZXQgb25cbiAgICogYHRoaXMucHJvcHNgIGlmIHRoYXQgcHJvcCBpcyBub3Qgc3BlY2lmaWVkIChpLmUuIHVzaW5nIGFuIGBpbmAgY2hlY2spLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBpbnZva2VkIGJlZm9yZSBgZ2V0SW5pdGlhbFN0YXRlYCBhbmQgdGhlcmVmb3JlIGNhbm5vdCByZWx5XG4gICAqIG9uIGB0aGlzLnN0YXRlYCBvciB1c2UgYHRoaXMuc2V0U3RhdGVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgZ2V0RGVmYXVsdFByb3BzOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcblxuICAvKipcbiAgICogSW52b2tlZCBvbmNlIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQuIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSB1c2VkXG4gICAqIGFzIHRoZSBpbml0aWFsIHZhbHVlIG9mIGB0aGlzLnN0YXRlYC5cbiAgICpcbiAgICogICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgKiAgICAgcmV0dXJuIHtcbiAgICogICAgICAgaXNPbjogZmFsc2UsXG4gICAqICAgICAgIGZvb0JhejogbmV3IEJhekZvbygpXG4gICAqICAgICB9XG4gICAqICAgfVxuICAgKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgZ2V0SW5pdGlhbFN0YXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZX01FUkdFRCxcblxuICAvKipcbiAgICogQHJldHVybiB7b2JqZWN0fVxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIGdldENoaWxkQ29udGV4dDogU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQsXG5cbiAgLyoqXG4gICAqIFVzZXMgcHJvcHMgZnJvbSBgdGhpcy5wcm9wc2AgYW5kIHN0YXRlIGZyb20gYHRoaXMuc3RhdGVgIHRvIHJlbmRlciB0aGVcbiAgICogc3RydWN0dXJlIG9mIHRoZSBjb21wb25lbnQuXG4gICAqXG4gICAqIE5vIGd1YXJhbnRlZXMgYXJlIG1hZGUgYWJvdXQgd2hlbiBvciBob3cgb2Z0ZW4gdGhpcyBtZXRob2QgaXMgaW52b2tlZCwgc29cbiAgICogaXQgbXVzdCBub3QgaGF2ZSBzaWRlIGVmZmVjdHMuXG4gICAqXG4gICAqICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICogICAgIHZhciBuYW1lID0gdGhpcy5wcm9wcy5uYW1lO1xuICAgKiAgICAgcmV0dXJuIDxkaXY+SGVsbG8sIHtuYW1lfSE8L2Rpdj47XG4gICAqICAgfVxuICAgKlxuICAgKiBAcmV0dXJuIHtSZWFjdENvbXBvbmVudH1cbiAgICogQG5vc2lkZWVmZmVjdHNcbiAgICogQHJlcXVpcmVkXG4gICAqL1xuICByZW5kZXI6IFNwZWNQb2xpY3kuREVGSU5FX09OQ0UsXG5cbiAgLy8gPT09PSBEZWxlZ2F0ZSBtZXRob2RzID09PT1cblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgaW5pdGlhbGx5IGNyZWF0ZWQgYW5kIGFib3V0IHRvIGJlIG1vdW50ZWQuXG4gICAqIFRoaXMgbWF5IGhhdmUgc2lkZSBlZmZlY3RzLCBidXQgYW55IGV4dGVybmFsIHN1YnNjcmlwdGlvbnMgb3IgZGF0YSBjcmVhdGVkXG4gICAqIGJ5IHRoaXMgbWV0aG9kIG11c3QgYmUgY2xlYW5lZCB1cCBpbiBgY29tcG9uZW50V2lsbFVubW91bnRgLlxuICAgKlxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIGNvbXBvbmVudFdpbGxNb3VudDogU3BlY1BvbGljeS5ERUZJTkVfTUFOWSxcblxuICAvKipcbiAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gbW91bnRlZCBhbmQgaGFzIGEgRE9NIHJlcHJlc2VudGF0aW9uLlxuICAgKiBIb3dldmVyLCB0aGVyZSBpcyBubyBndWFyYW50ZWUgdGhhdCB0aGUgRE9NIG5vZGUgaXMgaW4gdGhlIGRvY3VtZW50LlxuICAgKlxuICAgKiBVc2UgdGhpcyBhcyBhbiBvcHBvcnR1bml0eSB0byBvcGVyYXRlIG9uIHRoZSBET00gd2hlbiB0aGUgY29tcG9uZW50IGhhc1xuICAgKiBiZWVuIG1vdW50ZWQgKGluaXRpYWxpemVkIGFuZCByZW5kZXJlZCkgZm9yIHRoZSBmaXJzdCB0aW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHJvb3ROb2RlIERPTSBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgY29tcG9uZW50LlxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIGNvbXBvbmVudERpZE1vdW50OiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIGJlZm9yZSB0aGUgY29tcG9uZW50IHJlY2VpdmVzIG5ldyBwcm9wcy5cbiAgICpcbiAgICogVXNlIHRoaXMgYXMgYW4gb3Bwb3J0dW5pdHkgdG8gcmVhY3QgdG8gYSBwcm9wIHRyYW5zaXRpb24gYnkgdXBkYXRpbmcgdGhlXG4gICAqIHN0YXRlIHVzaW5nIGB0aGlzLnNldFN0YXRlYC4gQ3VycmVudCBwcm9wcyBhcmUgYWNjZXNzZWQgdmlhIGB0aGlzLnByb3BzYC5cbiAgICpcbiAgICogICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHMsIG5leHRDb250ZXh0KSB7XG4gICAqICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICogICAgICAgbGlrZXNJbmNyZWFzaW5nOiBuZXh0UHJvcHMubGlrZUNvdW50ID4gdGhpcy5wcm9wcy5saWtlQ291bnRcbiAgICogICAgIH0pO1xuICAgKiAgIH1cbiAgICpcbiAgICogTk9URTogVGhlcmUgaXMgbm8gZXF1aXZhbGVudCBgY29tcG9uZW50V2lsbFJlY2VpdmVTdGF0ZWAuIEFuIGluY29taW5nIHByb3BcbiAgICogdHJhbnNpdGlvbiBtYXkgY2F1c2UgYSBzdGF0ZSBjaGFuZ2UsIGJ1dCB0aGUgb3Bwb3NpdGUgaXMgbm90IHRydWUuIElmIHlvdVxuICAgKiBuZWVkIGl0LCB5b3UgYXJlIHByb2JhYmx5IGxvb2tpbmcgZm9yIGBjb21wb25lbnRXaWxsVXBkYXRlYC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG5leHRQcm9wc1xuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hpbGUgZGVjaWRpbmcgaWYgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgdXBkYXRlZCBhcyBhIHJlc3VsdCBvZlxuICAgKiByZWNlaXZpbmcgbmV3IHByb3BzLCBzdGF0ZSBhbmQvb3IgY29udGV4dC5cbiAgICpcbiAgICogVXNlIHRoaXMgYXMgYW4gb3Bwb3J0dW5pdHkgdG8gYHJldHVybiBmYWxzZWAgd2hlbiB5b3UncmUgY2VydGFpbiB0aGF0IHRoZVxuICAgKiB0cmFuc2l0aW9uIHRvIHRoZSBuZXcgcHJvcHMvc3RhdGUvY29udGV4dCB3aWxsIG5vdCByZXF1aXJlIGEgY29tcG9uZW50XG4gICAqIHVwZGF0ZS5cbiAgICpcbiAgICogICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uKG5leHRQcm9wcywgbmV4dFN0YXRlLCBuZXh0Q29udGV4dCkge1xuICAgKiAgICAgcmV0dXJuICFlcXVhbChuZXh0UHJvcHMsIHRoaXMucHJvcHMpIHx8XG4gICAqICAgICAgICFlcXVhbChuZXh0U3RhdGUsIHRoaXMuc3RhdGUpIHx8XG4gICAqICAgICAgICFlcXVhbChuZXh0Q29udGV4dCwgdGhpcy5jb250ZXh0KTtcbiAgICogICB9XG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0UHJvcHNcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBuZXh0U3RhdGVcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBuZXh0Q29udGV4dFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBjb21wb25lbnQgc2hvdWxkIHVwZGF0ZS5cbiAgICogQG9wdGlvbmFsXG4gICAqL1xuICBzaG91bGRDb21wb25lbnRVcGRhdGU6IFNwZWNQb2xpY3kuREVGSU5FX09OQ0UsXG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFib3V0IHRvIHVwZGF0ZSBkdWUgdG8gYSB0cmFuc2l0aW9uIGZyb21cbiAgICogYHRoaXMucHJvcHNgLCBgdGhpcy5zdGF0ZWAgYW5kIGB0aGlzLmNvbnRleHRgIHRvIGBuZXh0UHJvcHNgLCBgbmV4dFN0YXRlYFxuICAgKiBhbmQgYG5leHRDb250ZXh0YC5cbiAgICpcbiAgICogVXNlIHRoaXMgYXMgYW4gb3Bwb3J0dW5pdHkgdG8gcGVyZm9ybSBwcmVwYXJhdGlvbiBiZWZvcmUgYW4gdXBkYXRlIG9jY3Vycy5cbiAgICpcbiAgICogTk9URTogWW91ICoqY2Fubm90KiogdXNlIGB0aGlzLnNldFN0YXRlKClgIGluIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbmV4dFByb3BzXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dFN0YXRlXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dENvbnRleHRcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAb3B0aW9uYWxcbiAgICovXG4gIGNvbXBvbmVudFdpbGxVcGRhdGU6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG5cbiAgLyoqXG4gICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50J3MgRE9NIHJlcHJlc2VudGF0aW9uIGhhcyBiZWVuIHVwZGF0ZWQuXG4gICAqXG4gICAqIFVzZSB0aGlzIGFzIGFuIG9wcG9ydHVuaXR5IHRvIG9wZXJhdGUgb24gdGhlIERPTSB3aGVuIHRoZSBjb21wb25lbnQgaGFzXG4gICAqIGJlZW4gdXBkYXRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHByZXZQcm9wc1xuICAgKiBAcGFyYW0gez9vYmplY3R9IHByZXZTdGF0ZVxuICAgKiBAcGFyYW0gez9vYmplY3R9IHByZXZDb250ZXh0XG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcm9vdE5vZGUgRE9NIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSBjb21wb25lbnQuXG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgY29tcG9uZW50RGlkVXBkYXRlOiBTcGVjUG9saWN5LkRFRklORV9NQU5ZLFxuXG4gIC8qKlxuICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBhYm91dCB0byBiZSByZW1vdmVkIGZyb20gaXRzIHBhcmVudCBhbmQgaGF2ZVxuICAgKiBpdHMgRE9NIHJlcHJlc2VudGF0aW9uIGRlc3Ryb3llZC5cbiAgICpcbiAgICogVXNlIHRoaXMgYXMgYW4gb3Bwb3J0dW5pdHkgdG8gZGVhbGxvY2F0ZSBhbnkgZXh0ZXJuYWwgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBOT1RFOiBUaGVyZSBpcyBubyBgY29tcG9uZW50RGlkVW5tb3VudGAgc2luY2UgeW91ciBjb21wb25lbnQgd2lsbCBoYXZlIGJlZW5cbiAgICogZGVzdHJveWVkIGJ5IHRoYXQgcG9pbnQuXG4gICAqXG4gICAqIEBvcHRpb25hbFxuICAgKi9cbiAgY29tcG9uZW50V2lsbFVubW91bnQ6IFNwZWNQb2xpY3kuREVGSU5FX01BTlksXG5cbiAgLy8gPT09PSBBZHZhbmNlZCBtZXRob2RzID09PT1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY29tcG9uZW50J3MgY3VycmVudGx5IG1vdW50ZWQgRE9NIHJlcHJlc2VudGF0aW9uLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0LCB0aGlzIGltcGxlbWVudHMgUmVhY3QncyByZW5kZXJpbmcgYW5kIHJlY29uY2lsaWF0aW9uIGFsZ29yaXRobS5cbiAgICogU29waGlzdGljYXRlZCBjbGllbnRzIG1heSB3aXNoIHRvIG92ZXJyaWRlIHRoaXMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQGludGVybmFsXG4gICAqIEBvdmVycmlkYWJsZVxuICAgKi9cbiAgdXBkYXRlQ29tcG9uZW50OiBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0VcblxufTtcblxuLyoqXG4gKiBNYXBwaW5nIGZyb20gY2xhc3Mgc3BlY2lmaWNhdGlvbiBrZXlzIHRvIHNwZWNpYWwgcHJvY2Vzc2luZyBmdW5jdGlvbnMuXG4gKlxuICogQWx0aG91Z2ggdGhlc2UgYXJlIGRlY2xhcmVkIGxpa2UgaW5zdGFuY2UgcHJvcGVydGllcyBpbiB0aGUgc3BlY2lmaWNhdGlvblxuICogd2hlbiBkZWZpbmluZyBjbGFzc2VzIHVzaW5nIGBSZWFjdC5jcmVhdGVDbGFzc2AsIHRoZXkgYXJlIGFjdHVhbGx5IHN0YXRpY1xuICogYW5kIGFyZSBhY2Nlc3NpYmxlIG9uIHRoZSBjb25zdHJ1Y3RvciBpbnN0ZWFkIG9mIHRoZSBwcm90b3R5cGUuIERlc3BpdGVcbiAqIGJlaW5nIHN0YXRpYywgdGhleSBtdXN0IGJlIGRlZmluZWQgb3V0c2lkZSBvZiB0aGUgXCJzdGF0aWNzXCIga2V5IHVuZGVyXG4gKiB3aGljaCBhbGwgb3RoZXIgc3RhdGljIG1ldGhvZHMgYXJlIGRlZmluZWQuXG4gKi9cbnZhciBSRVNFUlZFRF9TUEVDX0tFWVMgPSB7XG4gIGRpc3BsYXlOYW1lOiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIGRpc3BsYXlOYW1lKSB7XG4gICAgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcbiAgfSxcbiAgbWl4aW5zOiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIG1peGlucykge1xuICAgIGlmIChtaXhpbnMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBtaXhpbnNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgY2hpbGRDb250ZXh0VHlwZXM6IGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjaGlsZENvbnRleHRUeXBlcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5jaGlsZENvbnRleHQpO1xuICAgIH1cbiAgICBDb25zdHJ1Y3Rvci5jaGlsZENvbnRleHRUeXBlcyA9IGFzc2lnbih7fSwgQ29uc3RydWN0b3IuY2hpbGRDb250ZXh0VHlwZXMsIGNoaWxkQ29udGV4dFR5cGVzKTtcbiAgfSxcbiAgY29udGV4dFR5cGVzOiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIGNvbnRleHRUeXBlcykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIGNvbnRleHRUeXBlcywgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5jb250ZXh0KTtcbiAgICB9XG4gICAgQ29uc3RydWN0b3IuY29udGV4dFR5cGVzID0gYXNzaWduKHt9LCBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMsIGNvbnRleHRUeXBlcyk7XG4gIH0sXG4gIC8qKlxuICAgKiBTcGVjaWFsIGNhc2UgZ2V0RGVmYXVsdFByb3BzIHdoaWNoIHNob3VsZCBtb3ZlIGludG8gc3RhdGljcyBidXQgcmVxdWlyZXNcbiAgICogYXV0b21hdGljIG1lcmdpbmcuXG4gICAqL1xuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24oQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLCBnZXREZWZhdWx0UHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHM7XG4gICAgfVxuICB9LFxuICBwcm9wVHlwZXM6IGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvcFR5cGVzKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzLCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApO1xuICAgIH1cbiAgICBDb25zdHJ1Y3Rvci5wcm9wVHlwZXMgPSBhc3NpZ24oe30sIENvbnN0cnVjdG9yLnByb3BUeXBlcywgcHJvcFR5cGVzKTtcbiAgfSxcbiAgc3RhdGljczogZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gICAgbWl4U3RhdGljU3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHN0YXRpY3MpO1xuICB9LFxuICBhdXRvYmluZDogZnVuY3Rpb24gKCkge30gfTtcblxuLy8gbm9vcFxuZnVuY3Rpb24gdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCB0eXBlRGVmLCBsb2NhdGlvbikge1xuICBmb3IgKHZhciBwcm9wTmFtZSBpbiB0eXBlRGVmKSB7XG4gICAgaWYgKHR5cGVEZWYuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAvLyB1c2UgYSB3YXJuaW5nIGluc3RlYWQgb2YgYW4gaW52YXJpYW50IHNvIGNvbXBvbmVudHNcbiAgICAgIC8vIGRvbid0IHNob3cgdXAgaW4gcHJvZCBidXQgbm90IGluIF9fREVWX19cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiB0eXBlRGVmW3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJywgJyVzOiAlcyB0eXBlIGAlc2AgaXMgaW52YWxpZDsgaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gJyArICdSZWFjdC5Qcm9wVHlwZXMuJywgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVNZXRob2RPdmVycmlkZShwcm90bywgbmFtZSkge1xuICB2YXIgc3BlY1BvbGljeSA9IFJlYWN0Q2xhc3NJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkobmFtZSkgPyBSZWFjdENsYXNzSW50ZXJmYWNlW25hbWVdIDogbnVsbDtcblxuICAvLyBEaXNhbGxvdyBvdmVycmlkaW5nIG9mIGJhc2UgY2xhc3MgbWV0aG9kcyB1bmxlc3MgZXhwbGljaXRseSBhbGxvd2VkLlxuICBpZiAoUmVhY3RDbGFzc01peGluLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgIShzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5Lk9WRVJSSURFX0JBU0UpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3NJbnRlcmZhY2U6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBvdmVycmlkZSAnICsgJ2Alc2AgZnJvbSB5b3VyIGNsYXNzIHNwZWNpZmljYXRpb24uIEVuc3VyZSB0aGF0IHlvdXIgbWV0aG9kIG5hbWVzICcgKyAnZG8gbm90IG92ZXJsYXAgd2l0aCBSZWFjdCBtZXRob2RzLicsIG5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIERpc2FsbG93IGRlZmluaW5nIG1ldGhvZHMgbW9yZSB0aGFuIG9uY2UgdW5sZXNzIGV4cGxpY2l0bHkgYWxsb3dlZC5cbiAgaWYgKHByb3RvLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgIShzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZIHx8IHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VEKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzSW50ZXJmYWNlOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lICcgKyAnYCVzYCBvbiB5b3VyIGNvbXBvbmVudCBtb3JlIHRoYW4gb25jZS4gVGhpcyBjb25mbGljdCBtYXkgYmUgZHVlICcgKyAndG8gYSBtaXhpbi4nLCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBNaXhpbiBoZWxwZXIgd2hpY2ggaGFuZGxlcyBwb2xpY3kgdmFsaWRhdGlvbiBhbmQgcmVzZXJ2ZWRcbiAqIHNwZWNpZmljYXRpb24ga2V5cyB3aGVuIGJ1aWxkaW5nIFJlYWN0IGNsYXNzc2VzLlxuICovXG5mdW5jdGlvbiBtaXhTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3BlYykge1xuICBpZiAoIXNwZWMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAhKHR5cGVvZiBzcGVjICE9PSAnZnVuY3Rpb24nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGNsYXNzIGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgcmVndWxhciBvYmplY3QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAhIVJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChzcGVjKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3VcXCdyZSBhdHRlbXB0aW5nIHRvICcgKyAndXNlIGEgY29tcG9uZW50IGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgcmVndWxhciBvYmplY3QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gIHZhciBwcm90byA9IENvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxuICAvLyBCeSBoYW5kbGluZyBtaXhpbnMgYmVmb3JlIGFueSBvdGhlciBwcm9wZXJ0aWVzLCB3ZSBlbnN1cmUgdGhlIHNhbWVcbiAgLy8gY2hhaW5pbmcgb3JkZXIgaXMgYXBwbGllZCB0byBtZXRob2RzIHdpdGggREVGSU5FX01BTlkgcG9saWN5LCB3aGV0aGVyXG4gIC8vIG1peGlucyBhcmUgbGlzdGVkIGJlZm9yZSBvciBhZnRlciB0aGVzZSBtZXRob2RzIGluIHRoZSBzcGVjLlxuICBpZiAoc3BlYy5oYXNPd25Qcm9wZXJ0eShNSVhJTlNfS0VZKSkge1xuICAgIFJFU0VSVkVEX1NQRUNfS0VZUy5taXhpbnMoQ29uc3RydWN0b3IsIHNwZWMubWl4aW5zKTtcbiAgfVxuXG4gIGZvciAodmFyIG5hbWUgaW4gc3BlYykge1xuICAgIGlmICghc3BlYy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgPT09IE1JWElOU19LRVkpIHtcbiAgICAgIC8vIFdlIGhhdmUgYWxyZWFkeSBoYW5kbGVkIG1peGlucyBpbiBhIHNwZWNpYWwgY2FzZSBhYm92ZS5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBwcm9wZXJ0eSA9IHNwZWNbbmFtZV07XG4gICAgdmFsaWRhdGVNZXRob2RPdmVycmlkZShwcm90bywgbmFtZSk7XG5cbiAgICBpZiAoUkVTRVJWRURfU1BFQ19LRVlTLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBSRVNFUlZFRF9TUEVDX0tFWVNbbmFtZV0oQ29uc3RydWN0b3IsIHByb3BlcnR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2V0dXAgbWV0aG9kcyBvbiBwcm90b3R5cGU6XG4gICAgICAvLyBUaGUgZm9sbG93aW5nIG1lbWJlciBtZXRob2RzIHNob3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBib3VuZDpcbiAgICAgIC8vIDEuIEV4cGVjdGVkIFJlYWN0Q2xhc3MgbWV0aG9kcyAoaW4gdGhlIFwiaW50ZXJmYWNlXCIpLlxuICAgICAgLy8gMi4gT3ZlcnJpZGRlbiBtZXRob2RzICh0aGF0IHdlcmUgbWl4ZWQgaW4pLlxuICAgICAgdmFyIGlzUmVhY3RDbGFzc01ldGhvZCA9IFJlYWN0Q2xhc3NJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICB2YXIgaXNBbHJlYWR5RGVmaW5lZCA9IHByb3RvLmhhc093blByb3BlcnR5KG5hbWUpO1xuICAgICAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2YgcHJvcGVydHkgPT09ICdmdW5jdGlvbic7XG4gICAgICB2YXIgc2hvdWxkQXV0b0JpbmQgPSBpc0Z1bmN0aW9uICYmICFpc1JlYWN0Q2xhc3NNZXRob2QgJiYgIWlzQWxyZWFkeURlZmluZWQgJiYgc3BlYy5hdXRvYmluZCAhPT0gZmFsc2U7XG5cbiAgICAgIGlmIChzaG91bGRBdXRvQmluZCkge1xuICAgICAgICBpZiAoIXByb3RvLl9fcmVhY3RBdXRvQmluZE1hcCkge1xuICAgICAgICAgIHByb3RvLl9fcmVhY3RBdXRvQmluZE1hcCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHByb3RvLl9fcmVhY3RBdXRvQmluZE1hcFtuYW1lXSA9IHByb3BlcnR5O1xuICAgICAgICBwcm90b1tuYW1lXSA9IHByb3BlcnR5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICAgICB2YXIgc3BlY1BvbGljeSA9IFJlYWN0Q2xhc3NJbnRlcmZhY2VbbmFtZV07XG5cbiAgICAgICAgICAvLyBUaGVzZSBjYXNlcyBzaG91bGQgYWxyZWFkeSBiZSBjYXVnaHQgYnkgdmFsaWRhdGVNZXRob2RPdmVycmlkZS5cbiAgICAgICAgICAhKGlzUmVhY3RDbGFzc01ldGhvZCAmJiAoc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWV9NRVJHRUQgfHwgc3BlY1BvbGljeSA9PT0gU3BlY1BvbGljeS5ERUZJTkVfTUFOWSkpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0Q2xhc3M6IFVuZXhwZWN0ZWQgc3BlYyBwb2xpY3kgJXMgZm9yIGtleSAlcyAnICsgJ3doZW4gbWl4aW5nIGluIGNvbXBvbmVudCBzcGVjcy4nLCBzcGVjUG9saWN5LCBuYW1lKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAvLyBGb3IgbWV0aG9kcyB3aGljaCBhcmUgZGVmaW5lZCBtb3JlIHRoYW4gb25jZSwgY2FsbCB0aGUgZXhpc3RpbmdcbiAgICAgICAgICAvLyBtZXRob2RzIGJlZm9yZSBjYWxsaW5nIHRoZSBuZXcgcHJvcGVydHksIG1lcmdpbmcgaWYgYXBwcm9wcmlhdGUuXG4gICAgICAgICAgaWYgKHNwZWNQb2xpY3kgPT09IFNwZWNQb2xpY3kuREVGSU5FX01BTllfTUVSR0VEKSB7XG4gICAgICAgICAgICBwcm90b1tuYW1lXSA9IGNyZWF0ZU1lcmdlZFJlc3VsdEZ1bmN0aW9uKHByb3RvW25hbWVdLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzcGVjUG9saWN5ID09PSBTcGVjUG9saWN5LkRFRklORV9NQU5ZKSB7XG4gICAgICAgICAgICBwcm90b1tuYW1lXSA9IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihwcm90b1tuYW1lXSwgcHJvcGVydHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm90b1tuYW1lXSA9IHByb3BlcnR5O1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBBZGQgdmVyYm9zZSBkaXNwbGF5TmFtZSB0byB0aGUgZnVuY3Rpb24sIHdoaWNoIGhlbHBzIHdoZW4gbG9va2luZ1xuICAgICAgICAgICAgLy8gYXQgcHJvZmlsaW5nIHRvb2xzLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJyAmJiBzcGVjLmRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgICAgIHByb3RvW25hbWVdLmRpc3BsYXlOYW1lID0gc3BlYy5kaXNwbGF5TmFtZSArICdfJyArIG5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG1peFN0YXRpY1NwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gIGlmICghc3RhdGljcykge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKHZhciBuYW1lIGluIHN0YXRpY3MpIHtcbiAgICB2YXIgcHJvcGVydHkgPSBzdGF0aWNzW25hbWVdO1xuICAgIGlmICghc3RhdGljcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGlzUmVzZXJ2ZWQgPSAobmFtZSBpbiBSRVNFUlZFRF9TUEVDX0tFWVMpO1xuICAgICEhaXNSZXNlcnZlZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdENsYXNzOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lIGEgcmVzZXJ2ZWQgJyArICdwcm9wZXJ0eSwgYCVzYCwgdGhhdCBzaG91bGRuXFwndCBiZSBvbiB0aGUgXCJzdGF0aWNzXCIga2V5LiBEZWZpbmUgaXQgJyArICdhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBpbnN0ZWFkOyBpdCB3aWxsIHN0aWxsIGJlIGFjY2Vzc2libGUgb24gdGhlICcgKyAnY29uc3RydWN0b3IuJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGlzSW5oZXJpdGVkID0gKG5hbWUgaW4gQ29uc3RydWN0b3IpO1xuICAgICEhaXNJbmhlcml0ZWQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnUmVhY3RDbGFzczogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICsgJ2Alc2Agb24geW91ciBjb21wb25lbnQgbW9yZSB0aGFuIG9uY2UuIFRoaXMgY29uZmxpY3QgbWF5IGJlICcgKyAnZHVlIHRvIGEgbWl4aW4uJywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIENvbnN0cnVjdG9yW25hbWVdID0gcHJvcGVydHk7XG4gIH1cbn1cblxuLyoqXG4gKiBNZXJnZSB0d28gb2JqZWN0cywgYnV0IHRocm93IGlmIGJvdGggY29udGFpbiB0aGUgc2FtZSBrZXkuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9uZSBUaGUgZmlyc3Qgb2JqZWN0LCB3aGljaCBpcyBtdXRhdGVkLlxuICogQHBhcmFtIHtvYmplY3R9IHR3byBUaGUgc2Vjb25kIG9iamVjdFxuICogQHJldHVybiB7b2JqZWN0fSBvbmUgYWZ0ZXIgaXQgaGFzIGJlZW4gbXV0YXRlZCB0byBjb250YWluIGV2ZXJ5dGhpbmcgaW4gdHdvLlxuICovXG5mdW5jdGlvbiBtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKG9uZSwgdHdvKSB7XG4gICEob25lICYmIHR3byAmJiB0eXBlb2Ygb25lID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdHdvID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiBDYW5ub3QgbWVyZ2Ugbm9uLW9iamVjdHMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gIGZvciAodmFyIGtleSBpbiB0d28pIHtcbiAgICBpZiAodHdvLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICEob25lW2tleV0gPT09IHVuZGVmaW5lZCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiAnICsgJ1RyaWVkIHRvIG1lcmdlIHR3byBvYmplY3RzIHdpdGggdGhlIHNhbWUga2V5OiBgJXNgLiBUaGlzIGNvbmZsaWN0ICcgKyAnbWF5IGJlIGR1ZSB0byBhIG1peGluOyBpbiBwYXJ0aWN1bGFyLCB0aGlzIG1heSBiZSBjYXVzZWQgYnkgdHdvICcgKyAnZ2V0SW5pdGlhbFN0YXRlKCkgb3IgZ2V0RGVmYXVsdFByb3BzKCkgbWV0aG9kcyByZXR1cm5pbmcgb2JqZWN0cyAnICsgJ3dpdGggY2xhc2hpbmcga2V5cy4nLCBrZXkpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgIG9uZVtrZXldID0gdHdvW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiBvbmU7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0d28gZnVuY3Rpb25zIGFuZCBtZXJnZXMgdGhlaXIgcmV0dXJuIHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbmUgRnVuY3Rpb24gdG8gaW52b2tlIGZpcnN0LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gdHdvIEZ1bmN0aW9uIHRvIGludm9rZSBzZWNvbmQuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSB0d28gYXJndW1lbnQgZnVuY3Rpb25zLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24ob25lLCB0d28pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZFJlc3VsdCgpIHtcbiAgICB2YXIgYSA9IG9uZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHZhciBiID0gdHdvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGEgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfSBlbHNlIGlmIChiID09IG51bGwpIHtcbiAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICB2YXIgYyA9IHt9O1xuICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYSk7XG4gICAgbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhjLCBiKTtcbiAgICByZXR1cm4gYztcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHR3byBmdW5jdGlvbnMgYW5kIGlnbm9yZXMgdGhlaXIgcmV0dXJuIHZhbGVzLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uZSBGdW5jdGlvbiB0byBpbnZva2UgZmlyc3QuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB0d28gRnVuY3Rpb24gdG8gaW52b2tlIHNlY29uZC5cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSBGdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHR3byBhcmd1bWVudCBmdW5jdGlvbnMuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVDaGFpbmVkRnVuY3Rpb24ob25lLCB0d28pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNoYWluZWRGdW5jdGlvbigpIHtcbiAgICBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB0d28uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBCaW5kcyBhIG1ldGhvZCB0byB0aGUgY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb21wb25lbnQgQ29tcG9uZW50IHdob3NlIG1ldGhvZCBpcyBnb2luZyB0byBiZSBib3VuZC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG1ldGhvZCBNZXRob2QgdG8gYmUgYm91bmQuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGJvdW5kIG1ldGhvZC5cbiAqL1xuZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKSB7XG4gIHZhciBib3VuZE1ldGhvZCA9IG1ldGhvZC5iaW5kKGNvbXBvbmVudCk7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRNZXRob2QgPSBtZXRob2Q7XG4gICAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQXJndW1lbnRzID0gbnVsbDtcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZTtcbiAgICB2YXIgX2JpbmQgPSBib3VuZE1ldGhvZC5iaW5kO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIGJsb2NrLXNjb3BlZC12YXIsIG5vLXVuZGVmICovXG4gICAgYm91bmRNZXRob2QuYmluZCA9IGZ1bmN0aW9uIChuZXdUaGlzKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIC8vIFVzZXIgaXMgdHJ5aW5nIHRvIGJpbmQoKSBhbiBhdXRvYm91bmQgbWV0aG9kOyB3ZSBlZmZlY3RpdmVseSB3aWxsXG4gICAgICAvLyBpZ25vcmUgdGhlIHZhbHVlIG9mIFwidGhpc1wiIHRoYXQgdGhlIHVzZXIgaXMgdHJ5aW5nIHRvIHVzZSwgc29cbiAgICAgIC8vIGxldCdzIHdhcm4uXG4gICAgICBpZiAobmV3VGhpcyAhPT0gY29tcG9uZW50ICYmIG5ld1RoaXMgIT09IG51bGwpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdiaW5kKCk6IFJlYWN0IGNvbXBvbmVudCBtZXRob2RzIG1heSBvbmx5IGJlIGJvdW5kIHRvIHRoZSAnICsgJ2NvbXBvbmVudCBpbnN0YW5jZS4gU2VlICVzJywgY29tcG9uZW50TmFtZSkgOiB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2UgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ2JpbmQoKTogWW91IGFyZSBiaW5kaW5nIGEgY29tcG9uZW50IG1ldGhvZCB0byB0aGUgY29tcG9uZW50LiAnICsgJ1JlYWN0IGRvZXMgdGhpcyBmb3IgeW91IGF1dG9tYXRpY2FsbHkgaW4gYSBoaWdoLXBlcmZvcm1hbmNlICcgKyAnd2F5LCBzbyB5b3UgY2FuIHNhZmVseSByZW1vdmUgdGhpcyBjYWxsLiBTZWUgJXMnLCBjb21wb25lbnROYW1lKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuICAgICAgfVxuICAgICAgdmFyIHJlYm91bmRNZXRob2QgPSBfYmluZC5hcHBseShib3VuZE1ldGhvZCwgYXJndW1lbnRzKTtcbiAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kTWV0aG9kID0gbWV0aG9kO1xuICAgICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRBcmd1bWVudHMgPSBhcmdzO1xuICAgICAgcmV0dXJuIHJlYm91bmRNZXRob2Q7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgfTtcbiAgfVxuICByZXR1cm4gYm91bmRNZXRob2Q7XG59XG5cbi8qKlxuICogQmluZHMgYWxsIGF1dG8tYm91bmQgbWV0aG9kcyBpbiBhIGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29tcG9uZW50IENvbXBvbmVudCB3aG9zZSBtZXRob2QgaXMgZ29pbmcgdG8gYmUgYm91bmQuXG4gKi9cbmZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZHMoY29tcG9uZW50KSB7XG4gIGZvciAodmFyIGF1dG9CaW5kS2V5IGluIGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRNYXApIHtcbiAgICBpZiAoY29tcG9uZW50Ll9fcmVhY3RBdXRvQmluZE1hcC5oYXNPd25Qcm9wZXJ0eShhdXRvQmluZEtleSkpIHtcbiAgICAgIHZhciBtZXRob2QgPSBjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kTWFwW2F1dG9CaW5kS2V5XTtcbiAgICAgIGNvbXBvbmVudFthdXRvQmluZEtleV0gPSBiaW5kQXV0b0JpbmRNZXRob2QoY29tcG9uZW50LCBtZXRob2QpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEFkZCBtb3JlIHRvIHRoZSBSZWFjdENsYXNzIGJhc2UgY2xhc3MuIFRoZXNlIGFyZSBhbGwgbGVnYWN5IGZlYXR1cmVzIGFuZFxuICogdGhlcmVmb3JlIG5vdCBhbHJlYWR5IHBhcnQgb2YgdGhlIG1vZGVybiBSZWFjdENvbXBvbmVudC5cbiAqL1xudmFyIFJlYWN0Q2xhc3NNaXhpbiA9IHtcblxuICAvKipcbiAgICogVE9ETzogVGhpcyB3aWxsIGJlIGRlcHJlY2F0ZWQgYmVjYXVzZSBzdGF0ZSBzaG91bGQgYWx3YXlzIGtlZXAgYSBjb25zaXN0ZW50XG4gICAqIHR5cGUgc2lnbmF0dXJlIGFuZCB0aGUgb25seSB1c2UgY2FzZSBmb3IgdGhpcywgaXMgdG8gYXZvaWQgdGhhdC5cbiAgICovXG4gIHJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKG5ld1N0YXRlLCBjYWxsYmFjaykge1xuICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKHRoaXMsIG5ld1N0YXRlKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9zaXRlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG1vdW50ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAZmluYWxcbiAgICovXG4gIGlzTW91bnRlZDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZXIuaXNNb3VudGVkKHRoaXMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIGEgc3Vic2V0IG9mIHRoZSBwcm9wcy5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcnRpYWxQcm9wcyBTdWJzZXQgb2YgdGhlIG5leHQgcHJvcHMuXG4gICAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgcHJvcHMgYXJlIHVwZGF0ZWQuXG4gICAqIEBmaW5hbFxuICAgKiBAcHVibGljXG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuICBzZXRQcm9wczogZnVuY3Rpb24gKHBhcnRpYWxQcm9wcywgY2FsbGJhY2spIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2FyblNldFByb3BzKCk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlU2V0UHJvcHModGhpcywgcGFydGlhbFByb3BzKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlQ2FsbGJhY2sodGhpcywgY2FsbGJhY2spO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVwbGFjZSBhbGwgdGhlIHByb3BzLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbmV3UHJvcHMgU3Vic2V0IG9mIHRoZSBuZXh0IHByb3BzLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIHByb3BzIGFyZSB1cGRhdGVkLlxuICAgKiBAZmluYWxcbiAgICogQHB1YmxpY1xuICAgKiBAZGVwcmVjYXRlZFxuICAgKi9cbiAgcmVwbGFjZVByb3BzOiBmdW5jdGlvbiAobmV3UHJvcHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHdhcm5TZXRQcm9wcygpO1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VQcm9wcyh0aGlzLCBuZXdQcm9wcyk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBSZWFjdENsYXNzQ29tcG9uZW50ID0gZnVuY3Rpb24gKCkge307XG5hc3NpZ24oUmVhY3RDbGFzc0NvbXBvbmVudC5wcm90b3R5cGUsIFJlYWN0Q29tcG9uZW50LnByb3RvdHlwZSwgUmVhY3RDbGFzc01peGluKTtcblxuLyoqXG4gKiBNb2R1bGUgZm9yIGNyZWF0aW5nIGNvbXBvc2l0ZSBjb21wb25lbnRzLlxuICpcbiAqIEBjbGFzcyBSZWFjdENsYXNzXG4gKi9cbnZhciBSZWFjdENsYXNzID0ge1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY29tcG9zaXRlIGNvbXBvbmVudCBjbGFzcyBnaXZlbiBhIGNsYXNzIHNwZWNpZmljYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzcGVjIENsYXNzIHNwZWNpZmljYXRpb24gKHdoaWNoIG11c3QgZGVmaW5lIGByZW5kZXJgKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IENvbXBvbmVudCBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY3JlYXRlQ2xhc3M6IGZ1bmN0aW9uIChzcGVjKSB7XG4gICAgdmFyIENvbnN0cnVjdG9yID0gZnVuY3Rpb24gKHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICAvLyBUaGlzIGNvbnN0cnVjdG9yIGlzIG92ZXJyaWRkZW4gYnkgbW9ja3MuIFRoZSBhcmd1bWVudCBpcyB1c2VkXG4gICAgICAvLyBieSBtb2NrcyB0byBhc3NlcnQgb24gd2hhdCBnZXRzIG1vdW50ZWQuXG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHRoaXMgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvciwgJ1NvbWV0aGluZyBpcyBjYWxsaW5nIGEgUmVhY3QgY29tcG9uZW50IGRpcmVjdGx5LiBVc2UgYSBmYWN0b3J5IG9yICcgKyAnSlNYIGluc3RlYWQuIFNlZTogaHR0cHM6Ly9mYi5tZS9yZWFjdC1sZWdhY3lmYWN0b3J5JykgOiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIFdpcmUgdXAgYXV0by1iaW5kaW5nXG4gICAgICBpZiAodGhpcy5fX3JlYWN0QXV0b0JpbmRNYXApIHtcbiAgICAgICAgYmluZEF1dG9CaW5kTWV0aG9kcyh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcblxuICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG5cbiAgICAgIC8vIFJlYWN0Q2xhc3NlcyBkb2Vzbid0IGhhdmUgY29uc3RydWN0b3JzLiBJbnN0ZWFkLCB0aGV5IHVzZSB0aGVcbiAgICAgIC8vIGdldEluaXRpYWxTdGF0ZSBhbmQgY29tcG9uZW50V2lsbE1vdW50IG1ldGhvZHMgZm9yIGluaXRpYWxpemF0aW9uLlxuXG4gICAgICB2YXIgaW5pdGlhbFN0YXRlID0gdGhpcy5nZXRJbml0aWFsU3RhdGUgPyB0aGlzLmdldEluaXRpYWxTdGF0ZSgpIDogbnVsbDtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8vIFdlIGFsbG93IGF1dG8tbW9ja3MgdG8gcHJvY2VlZCBhcyBpZiB0aGV5J3JlIHJldHVybmluZyBudWxsLlxuICAgICAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5nZXRJbml0aWFsU3RhdGUuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBwcm9iYWJseSBiYWQgcHJhY3RpY2UuIENvbnNpZGVyIHdhcm5pbmcgaGVyZSBhbmRcbiAgICAgICAgICAvLyBkZXByZWNhdGluZyB0aGlzIGNvbnZlbmllbmNlLlxuICAgICAgICAgIGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICEodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaW5pdGlhbFN0YXRlKSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuZ2V0SW5pdGlhbFN0YXRlKCk6IG11c3QgcmV0dXJuIGFuIG9iamVjdCBvciBudWxsJywgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgIH07XG4gICAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gbmV3IFJlYWN0Q2xhc3NDb21wb25lbnQoKTtcbiAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcblxuICAgIGluamVjdGVkTWl4aW5zLmZvckVhY2gobWl4U3BlY0ludG9Db21wb25lbnQuYmluZChudWxsLCBDb25zdHJ1Y3RvcikpO1xuXG4gICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHNwZWMpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgZGVmYXVsdFByb3BzIHByb3BlcnR5IGFmdGVyIGFsbCBtaXhpbnMgaGF2ZSBiZWVuIG1lcmdlZC5cbiAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICBDb25zdHJ1Y3Rvci5kZWZhdWx0UHJvcHMgPSBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMoKTtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gVGhpcyBpcyBhIHRhZyB0byBpbmRpY2F0ZSB0aGF0IHRoZSB1c2Ugb2YgdGhlc2UgbWV0aG9kIG5hbWVzIGlzIG9rLFxuICAgICAgLy8gc2luY2UgaXQncyB1c2VkIHdpdGggY3JlYXRlQ2xhc3MuIElmIGl0J3Mgbm90LCB0aGVuIGl0J3MgbGlrZWx5IGFcbiAgICAgIC8vIG1pc3Rha2Ugc28gd2UnbGwgd2FybiB5b3UgdG8gdXNlIHRoZSBzdGF0aWMgcHJvcGVydHksIHByb3BlcnR5XG4gICAgICAvLyBpbml0aWFsaXplciBvciBjb25zdHJ1Y3RvciByZXNwZWN0aXZlbHkuXG4gICAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKENvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsU3RhdGUpIHtcbiAgICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlLmdldEluaXRpYWxTdGF0ZS5pc1JlYWN0Q2xhc3NBcHByb3ZlZCA9IHt9O1xuICAgICAgfVxuICAgIH1cblxuICAgICFDb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVuZGVyID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2NyZWF0ZUNsYXNzKC4uLik6IENsYXNzIHNwZWNpZmljYXRpb24gbXVzdCBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29tcG9uZW50U2hvdWxkVXBkYXRlLCAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCAnICsgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgKyAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgKyAnZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuJywgc3BlYy5kaXNwbGF5TmFtZSB8fCAnQSBjb21wb25lbnQnKSA6IHVuZGVmaW5lZDtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcywgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/Jywgc3BlYy5kaXNwbGF5TmFtZSB8fCAnQSBjb21wb25lbnQnKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBSZWR1Y2UgdGltZSBzcGVudCBkb2luZyBsb29rdXBzIGJ5IHNldHRpbmcgdGhlc2Ugb24gdGhlIHByb3RvdHlwZS5cbiAgICBmb3IgKHZhciBtZXRob2ROYW1lIGluIFJlYWN0Q2xhc3NJbnRlcmZhY2UpIHtcbiAgICAgIGlmICghQ29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZE5hbWVdKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9LFxuXG4gIGluamVjdGlvbjoge1xuICAgIGluamVjdE1peGluOiBmdW5jdGlvbiAobWl4aW4pIHtcbiAgICAgIGluamVjdGVkTWl4aW5zLnB1c2gobWl4aW4pO1xuICAgIH1cbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q2xhc3M7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0Q29tcG9uZW50XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSByZXF1aXJlKCcuL1JlYWN0Tm9vcFVwZGF0ZVF1ZXVlJyk7XG5cbnZhciBjYW5EZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vY2FuRGVmaW5lUHJvcGVydHknKTtcbnZhciBlbXB0eU9iamVjdCA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5T2JqZWN0Jyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIGhlbHBlcnMgZm9yIHRoZSB1cGRhdGluZyBzdGF0ZSBvZiBhIGNvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gUmVhY3RDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgLy8gV2UgaW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCB1cGRhdGVyIGJ1dCB0aGUgcmVhbCBvbmUgZ2V0cyBpbmplY3RlZCBieSB0aGVcbiAgLy8gcmVuZGVyZXIuXG4gIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG59XG5cblJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG5cbi8qKlxuICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIEFsd2F5cyB1c2UgdGhpcyB0byBtdXRhdGVcbiAqIHN0YXRlLiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gKlxuICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgYHRoaXMuc3RhdGVgIHdpbGwgYmUgaW1tZWRpYXRlbHkgdXBkYXRlZCwgc29cbiAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gKlxuICogVGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgY2FsbHMgdG8gYHNldFN0YXRlYCB3aWxsIHJ1biBzeW5jaHJvbm91c2x5LFxuICogYXMgdGhleSBtYXkgZXZlbnR1YWxseSBiZSBiYXRjaGVkIHRvZ2V0aGVyLiAgWW91IGNhbiBwcm92aWRlIGFuIG9wdGlvbmFsXG4gKiBjYWxsYmFjayB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgd2hlbiB0aGUgY2FsbCB0byBzZXRTdGF0ZSBpcyBhY3R1YWxseVxuICogY29tcGxldGVkLlxuICpcbiAqIFdoZW4gYSBmdW5jdGlvbiBpcyBwcm92aWRlZCB0byBzZXRTdGF0ZSwgaXQgd2lsbCBiZSBjYWxsZWQgYXQgc29tZSBwb2ludCBpblxuICogdGhlIGZ1dHVyZSAobm90IHN5bmNocm9ub3VzbHkpLiBJdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSB1cCB0byBkYXRlXG4gKiBjb21wb25lbnQgYXJndW1lbnRzIChzdGF0ZSwgcHJvcHMsIGNvbnRleHQpLiBUaGVzZSB2YWx1ZXMgY2FuIGJlIGRpZmZlcmVudFxuICogZnJvbSB0aGlzLiogYmVjYXVzZSB5b3VyIGZ1bmN0aW9uIG1heSBiZSBjYWxsZWQgYWZ0ZXIgcmVjZWl2ZVByb3BzIGJ1dCBiZWZvcmVcbiAqIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgYW5kIHRoaXMgbmV3IHN0YXRlLCBwcm9wcywgYW5kIGNvbnRleHQgd2lsbCBub3QgeWV0IGJlXG4gKiBhc3NpZ25lZCB0byB0aGlzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fGZ1bmN0aW9ufSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIG9yIGZ1bmN0aW9uIHRvXG4gKiAgICAgICAgcHJvZHVjZSBuZXh0IHBhcnRpYWwgc3RhdGUgdG8gYmUgbWVyZ2VkIHdpdGggY3VycmVudCBzdGF0ZS5cbiAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgc3RhdGUgaXMgdXBkYXRlZC5cbiAqIEBmaW5hbFxuICogQHByb3RlY3RlZFxuICovXG5SZWFjdENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAhKHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBwYXJ0aWFsU3RhdGUgPT09ICdmdW5jdGlvbicgfHwgcGFydGlhbFN0YXRlID09IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3NldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgJyArICdmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHBhcnRpYWxTdGF0ZSAhPSBudWxsLCAnc2V0U3RhdGUoLi4uKTogWW91IHBhc3NlZCBhbiB1bmRlZmluZWQgb3IgbnVsbCBzdGF0ZSBvYmplY3Q7ICcgKyAnaW5zdGVhZCwgdXNlIGZvcmNlVXBkYXRlKCkuJykgOiB1bmRlZmluZWQ7XG4gIH1cbiAgdGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLCBwYXJ0aWFsU3RhdGUpO1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuLyoqXG4gKiBGb3JjZXMgYW4gdXBkYXRlLiBUaGlzIHNob3VsZCBvbmx5IGJlIGludm9rZWQgd2hlbiBpdCBpcyBrbm93biB3aXRoXG4gKiBjZXJ0YWludHkgdGhhdCB3ZSBhcmUgKipub3QqKiBpbiBhIERPTSB0cmFuc2FjdGlvbi5cbiAqXG4gKiBZb3UgbWF5IHdhbnQgdG8gY2FsbCB0aGlzIHdoZW4geW91IGtub3cgdGhhdCBzb21lIGRlZXBlciBhc3BlY3Qgb2YgdGhlXG4gKiBjb21wb25lbnQncyBzdGF0ZSBoYXMgY2hhbmdlZCBidXQgYHNldFN0YXRlYCB3YXMgbm90IGNhbGxlZC5cbiAqXG4gKiBUaGlzIHdpbGwgbm90IGludm9rZSBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCwgYnV0IGl0IHdpbGwgaW52b2tlXG4gKiBgY29tcG9uZW50V2lsbFVwZGF0ZWAgYW5kIGBjb21wb25lbnREaWRVcGRhdGVgLlxuICpcbiAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgdXBkYXRlIGlzIGNvbXBsZXRlLlxuICogQGZpbmFsXG4gKiBAcHJvdGVjdGVkXG4gKi9cblJlYWN0Q29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMpO1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUNhbGxiYWNrKHRoaXMsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuLyoqXG4gKiBEZXByZWNhdGVkIEFQSXMuIFRoZXNlIEFQSXMgdXNlZCB0byBleGlzdCBvbiBjbGFzc2ljIFJlYWN0IGNsYXNzZXMgYnV0IHNpbmNlXG4gKiB3ZSB3b3VsZCBsaWtlIHRvIGRlcHJlY2F0ZSB0aGVtLCB3ZSdyZSBub3QgZ29pbmcgdG8gbW92ZSB0aGVtIG92ZXIgdG8gdGhpc1xuICogbW9kZXJuIGJhc2UgY2xhc3MuIEluc3RlYWQsIHdlIGRlZmluZSBhIGdldHRlciB0aGF0IHdhcm5zIGlmIGl0J3MgYWNjZXNzZWQuXG4gKi9cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBkZXByZWNhdGVkQVBJcyA9IHtcbiAgICBnZXRET01Ob2RlOiBbJ2dldERPTU5vZGUnLCAnVXNlIFJlYWN0RE9NLmZpbmRET01Ob2RlKGNvbXBvbmVudCkgaW5zdGVhZC4nXSxcbiAgICBpc01vdW50ZWQ6IFsnaXNNb3VudGVkJywgJ0luc3RlYWQsIG1ha2Ugc3VyZSB0byBjbGVhbiB1cCBzdWJzY3JpcHRpb25zIGFuZCBwZW5kaW5nIHJlcXVlc3RzIGluICcgKyAnY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuJ10sXG4gICAgcmVwbGFjZVByb3BzOiBbJ3JlcGxhY2VQcm9wcycsICdJbnN0ZWFkLCBjYWxsIHJlbmRlciBhZ2FpbiBhdCB0aGUgdG9wIGxldmVsLiddLFxuICAgIHJlcGxhY2VTdGF0ZTogWydyZXBsYWNlU3RhdGUnLCAnUmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBzZXRTdGF0ZSBpbnN0ZWFkIChzZWUgJyArICdodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzMyMzYpLiddLFxuICAgIHNldFByb3BzOiBbJ3NldFByb3BzJywgJ0luc3RlYWQsIGNhbGwgcmVuZGVyIGFnYWluIGF0IHRoZSB0b3AgbGV2ZWwuJ11cbiAgfTtcbiAgdmFyIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyA9IGZ1bmN0aW9uIChtZXRob2ROYW1lLCBpbmZvKSB7XG4gICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhY3RDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKSBpcyBkZXByZWNhdGVkIGluIHBsYWluIEphdmFTY3JpcHQgUmVhY3QgY2xhc3Nlcy4gJXMnLCBpbmZvWzBdLCBpbmZvWzFdKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGZvciAodmFyIGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcykge1xuICAgIGlmIChkZXByZWNhdGVkQVBJcy5oYXNPd25Qcm9wZXJ0eShmbk5hbWUpKSB7XG4gICAgICBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcoZm5OYW1lLCBkZXByZWNhdGVkQVBJc1tmbk5hbWVdKTtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvbmVudDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuZnVuY3Rpb24gd2FyblREWihwdWJsaWNJbnN0YW5jZSwgY2FsbGVyTmFtZSkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnJXMoLi4uKTogQ2FuIG9ubHkgdXBkYXRlIGEgbW91bnRlZCBvciBtb3VudGluZyBjb21wb25lbnQuICcgKyAnVGhpcyB1c3VhbGx5IG1lYW5zIHlvdSBjYWxsZWQgJXMoKSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LiAnICsgJ1RoaXMgaXMgYSBuby1vcC4gUGxlYXNlIGNoZWNrIHRoZSBjb2RlIGZvciB0aGUgJXMgY29tcG9uZW50LicsIGNhbGxlck5hbWUsIGNhbGxlck5hbWUsIHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yICYmIHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8ICcnKSA6IHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFRoaXMgaXMgdGhlIGFic3RyYWN0IEFQSSBmb3IgYW4gdXBkYXRlIHF1ZXVlLlxuICovXG52YXIgUmVhY3ROb29wVXBkYXRlUXVldWUgPSB7XG5cbiAgLyoqXG4gICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGNvbXBvc2l0ZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2Ugd2Ugd2FudCB0byB0ZXN0LlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG1vdW50ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICogQHByb3RlY3RlZFxuICAgKiBAZmluYWxcbiAgICovXG4gIGlzTW91bnRlZDogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbnF1ZXVlIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGFmdGVyIGFsbCB0aGUgcGVuZGluZyB1cGRhdGVzXG4gICAqIGhhdmUgcHJvY2Vzc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB0byB1c2UgYXMgYHRoaXNgIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgc3RhdGUgaXMgdXBkYXRlZC5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlQ2FsbGJhY2s6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSwgY2FsbGJhY2spIHt9LFxuXG4gIC8qKlxuICAgKiBGb3JjZXMgYW4gdXBkYXRlLiBUaGlzIHNob3VsZCBvbmx5IGJlIGludm9rZWQgd2hlbiBpdCBpcyBrbm93biB3aXRoXG4gICAqIGNlcnRhaW50eSB0aGF0IHdlIGFyZSAqKm5vdCoqIGluIGEgRE9NIHRyYW5zYWN0aW9uLlxuICAgKlxuICAgKiBZb3UgbWF5IHdhbnQgdG8gY2FsbCB0aGlzIHdoZW4geW91IGtub3cgdGhhdCBzb21lIGRlZXBlciBhc3BlY3Qgb2YgdGhlXG4gICAqIGNvbXBvbmVudCdzIHN0YXRlIGhhcyBjaGFuZ2VkIGJ1dCBgc2V0U3RhdGVgIHdhcyBub3QgY2FsbGVkLlxuICAgKlxuICAgKiBUaGlzIHdpbGwgbm90IGludm9rZSBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCwgYnV0IGl0IHdpbGwgaW52b2tlXG4gICAqIGBjb21wb25lbnRXaWxsVXBkYXRlYCBhbmQgYGNvbXBvbmVudERpZFVwZGF0ZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ2ZvcmNlVXBkYXRlJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGFsbCBvZiB0aGUgc3RhdGUuIEFsd2F5cyB1c2UgdGhpcyBvciBgc2V0U3RhdGVgIHRvIG11dGF0ZSBzdGF0ZS5cbiAgICogWW91IHNob3VsZCB0cmVhdCBgdGhpcy5zdGF0ZWAgYXMgaW1tdXRhYmxlLlxuICAgKlxuICAgKiBUaGVyZSBpcyBubyBndWFyYW50ZWUgdGhhdCBgdGhpcy5zdGF0ZWAgd2lsbCBiZSBpbW1lZGlhdGVseSB1cGRhdGVkLCBzb1xuICAgKiBhY2Nlc3NpbmcgYHRoaXMuc3RhdGVgIGFmdGVyIGNhbGxpbmcgdGhpcyBtZXRob2QgbWF5IHJldHVybiB0aGUgb2xkIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB0aGF0IHNob3VsZCByZXJlbmRlci5cbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbXBsZXRlU3RhdGUgTmV4dCBzdGF0ZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUpIHtcbiAgICB3YXJuVERaKHB1YmxpY0luc3RhbmNlLCAncmVwbGFjZVN0YXRlJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgYSBzdWJzZXQgb2YgdGhlIHN0YXRlLiBUaGlzIG9ubHkgZXhpc3RzIGJlY2F1c2UgX3BlbmRpbmdTdGF0ZSBpc1xuICAgKiBpbnRlcm5hbC4gVGhpcyBwcm92aWRlcyBhIG1lcmdpbmcgc3RyYXRlZ3kgdGhhdCBpcyBub3QgYXZhaWxhYmxlIHRvIGRlZXBcbiAgICogcHJvcGVydGllcyB3aGljaCBpcyBjb25mdXNpbmcuIFRPRE86IEV4cG9zZSBwZW5kaW5nU3RhdGUgb3IgZG9uJ3QgdXNlIGl0XG4gICAqIGR1cmluZyB0aGUgbWVyZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gcGFydGlhbFN0YXRlIE5leHQgcGFydGlhbCBzdGF0ZSB0byBiZSBtZXJnZWQgd2l0aCBzdGF0ZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlU2V0U3RhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSwgcGFydGlhbFN0YXRlKSB7XG4gICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgYSBzdWJzZXQgb2YgdGhlIHByb3BzLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB0aGF0IHNob3VsZCByZXJlbmRlci5cbiAgICogQHBhcmFtIHtvYmplY3R9IHBhcnRpYWxQcm9wcyBTdWJzZXQgb2YgdGhlIG5leHQgcHJvcHMuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZVNldFByb3BzOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIHBhcnRpYWxQcm9wcykge1xuICAgIHdhcm5URFoocHVibGljSW5zdGFuY2UsICdzZXRQcm9wcycpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhbGwgb2YgdGhlIHByb3BzLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB0aGF0IHNob3VsZCByZXJlbmRlci5cbiAgICogQHBhcmFtIHtvYmplY3R9IHByb3BzIE5ldyBwcm9wcy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlUmVwbGFjZVByb3BzOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIHByb3BzKSB7XG4gICAgd2FyblREWihwdWJsaWNJbnN0YW5jZSwgJ3JlcGxhY2VQcm9wcycpO1xuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3ROb29wVXBkYXRlUXVldWU7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0SW5wdXRTZWxlY3Rpb25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdERPTVNlbGVjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3RET01TZWxlY3Rpb24nKTtcblxudmFyIGNvbnRhaW5zTm9kZSA9IHJlcXVpcmUoJ2ZianMvbGliL2NvbnRhaW5zTm9kZScpO1xudmFyIGZvY3VzTm9kZSA9IHJlcXVpcmUoJ2ZianMvbGliL2ZvY3VzTm9kZScpO1xudmFyIGdldEFjdGl2ZUVsZW1lbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9nZXRBY3RpdmVFbGVtZW50Jyk7XG5cbmZ1bmN0aW9uIGlzSW5Eb2N1bWVudChub2RlKSB7XG4gIHJldHVybiBjb250YWluc05vZGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBub2RlKTtcbn1cblxuLyoqXG4gKiBAUmVhY3RJbnB1dFNlbGVjdGlvbjogUmVhY3QgaW5wdXQgc2VsZWN0aW9uIG1vZHVsZS4gQmFzZWQgb24gU2VsZWN0aW9uLmpzLFxuICogYnV0IG1vZGlmaWVkIHRvIGJlIHN1aXRhYmxlIGZvciByZWFjdCBhbmQgaGFzIGEgY291cGxlIG9mIGJ1ZyBmaXhlcyAoZG9lc24ndFxuICogYXNzdW1lIGJ1dHRvbnMgaGF2ZSByYW5nZSBzZWxlY3Rpb25zIGFsbG93ZWQpLlxuICogSW5wdXQgc2VsZWN0aW9uIG1vZHVsZSBmb3IgUmVhY3QuXG4gKi9cbnZhciBSZWFjdElucHV0U2VsZWN0aW9uID0ge1xuXG4gIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllczogZnVuY3Rpb24gKGVsZW0pIHtcbiAgICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBub2RlTmFtZSAmJiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgZWxlbS50eXBlID09PSAndGV4dCcgfHwgbm9kZU5hbWUgPT09ICd0ZXh0YXJlYScgfHwgZWxlbS5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJyk7XG4gIH0sXG5cbiAgZ2V0U2VsZWN0aW9uSW5mb3JtYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZm9jdXNlZEVsZW0gPSBnZXRBY3RpdmVFbGVtZW50KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvY3VzZWRFbGVtOiBmb2N1c2VkRWxlbSxcbiAgICAgIHNlbGVjdGlvblJhbmdlOiBSZWFjdElucHV0U2VsZWN0aW9uLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhmb2N1c2VkRWxlbSkgPyBSZWFjdElucHV0U2VsZWN0aW9uLmdldFNlbGVjdGlvbihmb2N1c2VkRWxlbSkgOiBudWxsXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogQHJlc3RvcmVTZWxlY3Rpb246IElmIGFueSBzZWxlY3Rpb24gaW5mb3JtYXRpb24gd2FzIHBvdGVudGlhbGx5IGxvc3QsXG4gICAqIHJlc3RvcmUgaXQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gcGVyZm9ybWluZyBvcGVyYXRpb25zIHRoYXQgY291bGQgcmVtb3ZlIGRvbVxuICAgKiBub2RlcyBhbmQgcGxhY2UgdGhlbSBiYWNrIGluLCByZXN1bHRpbmcgaW4gZm9jdXMgYmVpbmcgbG9zdC5cbiAgICovXG4gIHJlc3RvcmVTZWxlY3Rpb246IGZ1bmN0aW9uIChwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSB7XG4gICAgdmFyIGN1ckZvY3VzZWRFbGVtID0gZ2V0QWN0aXZlRWxlbWVudCgpO1xuICAgIHZhciBwcmlvckZvY3VzZWRFbGVtID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5mb2N1c2VkRWxlbTtcbiAgICB2YXIgcHJpb3JTZWxlY3Rpb25SYW5nZSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uc2VsZWN0aW9uUmFuZ2U7XG4gICAgaWYgKGN1ckZvY3VzZWRFbGVtICE9PSBwcmlvckZvY3VzZWRFbGVtICYmIGlzSW5Eb2N1bWVudChwcmlvckZvY3VzZWRFbGVtKSkge1xuICAgICAgaWYgKFJlYWN0SW5wdXRTZWxlY3Rpb24uaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKHByaW9yRm9jdXNlZEVsZW0pKSB7XG4gICAgICAgIFJlYWN0SW5wdXRTZWxlY3Rpb24uc2V0U2VsZWN0aW9uKHByaW9yRm9jdXNlZEVsZW0sIHByaW9yU2VsZWN0aW9uUmFuZ2UpO1xuICAgICAgfVxuICAgICAgZm9jdXNOb2RlKHByaW9yRm9jdXNlZEVsZW0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGdldFNlbGVjdGlvbjogR2V0cyB0aGUgc2VsZWN0aW9uIGJvdW5kcyBvZiBhIGZvY3VzZWQgdGV4dGFyZWEsIGlucHV0IG9yXG4gICAqIGNvbnRlbnRFZGl0YWJsZSBub2RlLlxuICAgKiAtQGlucHV0OiBMb29rIHVwIHNlbGVjdGlvbiBib3VuZHMgb2YgdGhpcyBpbnB1dFxuICAgKiAtQHJldHVybiB7c3RhcnQ6IHNlbGVjdGlvblN0YXJ0LCBlbmQ6IHNlbGVjdGlvbkVuZH1cbiAgICovXG4gIGdldFNlbGVjdGlvbjogZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgdmFyIHNlbGVjdGlvbjtcblxuICAgIGlmICgnc2VsZWN0aW9uU3RhcnQnIGluIGlucHV0KSB7XG4gICAgICAvLyBNb2Rlcm4gYnJvd3NlciB3aXRoIGlucHV0IG9yIHRleHRhcmVhLlxuICAgICAgc2VsZWN0aW9uID0ge1xuICAgICAgICBzdGFydDogaW5wdXQuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgIGVuZDogaW5wdXQuc2VsZWN0aW9uRW5kXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uICYmIChpbnB1dC5ub2RlTmFtZSAmJiBpbnB1dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnKSkge1xuICAgICAgLy8gSUU4IGlucHV0LlxuICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAvLyBUaGVyZSBjYW4gb25seSBiZSBvbmUgc2VsZWN0aW9uIHBlciBkb2N1bWVudCBpbiBJRSwgc28gaXQgbXVzdFxuICAgICAgLy8gYmUgaW4gb3VyIGVsZW1lbnQuXG4gICAgICBpZiAocmFuZ2UucGFyZW50RWxlbWVudCgpID09PSBpbnB1dCkge1xuICAgICAgICBzZWxlY3Rpb24gPSB7XG4gICAgICAgICAgc3RhcnQ6IC1yYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIC1pbnB1dC52YWx1ZS5sZW5ndGgpLFxuICAgICAgICAgIGVuZDogLXJhbmdlLm1vdmVFbmQoJ2NoYXJhY3RlcicsIC1pbnB1dC52YWx1ZS5sZW5ndGgpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENvbnRlbnQgZWRpdGFibGUgb3Igb2xkIElFIHRleHRhcmVhLlxuICAgICAgc2VsZWN0aW9uID0gUmVhY3RET01TZWxlY3Rpb24uZ2V0T2Zmc2V0cyhpbnB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGVjdGlvbiB8fCB7IHN0YXJ0OiAwLCBlbmQ6IDAgfTtcbiAgfSxcblxuICAvKipcbiAgICogQHNldFNlbGVjdGlvbjogU2V0cyB0aGUgc2VsZWN0aW9uIGJvdW5kcyBvZiBhIHRleHRhcmVhIG9yIGlucHV0IGFuZCBmb2N1c2VzXG4gICAqIHRoZSBpbnB1dC5cbiAgICogLUBpbnB1dCAgICAgU2V0IHNlbGVjdGlvbiBib3VuZHMgb2YgdGhpcyBpbnB1dCBvciB0ZXh0YXJlYVxuICAgKiAtQG9mZnNldHMgICBPYmplY3Qgb2Ygc2FtZSBmb3JtIHRoYXQgaXMgcmV0dXJuZWQgZnJvbSBnZXQqXG4gICAqL1xuICBzZXRTZWxlY3Rpb246IGZ1bmN0aW9uIChpbnB1dCwgb2Zmc2V0cykge1xuICAgIHZhciBzdGFydCA9IG9mZnNldHMuc3RhcnQ7XG4gICAgdmFyIGVuZCA9IG9mZnNldHMuZW5kO1xuICAgIGlmICh0eXBlb2YgZW5kID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZW5kID0gc3RhcnQ7XG4gICAgfVxuXG4gICAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gaW5wdXQpIHtcbiAgICAgIGlucHV0LnNlbGVjdGlvblN0YXJ0ID0gc3RhcnQ7XG4gICAgICBpbnB1dC5zZWxlY3Rpb25FbmQgPSBNYXRoLm1pbihlbmQsIGlucHV0LnZhbHVlLmxlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgKGlucHV0Lm5vZGVOYW1lICYmIGlucHV0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcpKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBpbnB1dC5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCBzdGFydCk7XG4gICAgICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBlbmQgLSBzdGFydCk7XG4gICAgICByYW5nZS5zZWxlY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3RET01TZWxlY3Rpb24uc2V0T2Zmc2V0cyhpbnB1dCwgb2Zmc2V0cyk7XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW5wdXRTZWxlY3Rpb247IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldEFjdGl2ZUVsZW1lbnRcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgZmItd3d3L3R5cGVvZi11bmRlZmluZWQgKi9cblxuLyoqXG4gKiBTYW1lIGFzIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYnV0IHdyYXBzIGluIGEgdHJ5LWNhdGNoIGJsb2NrLiBJbiBJRSBpdCBpc1xuICogbm90IHNhZmUgdG8gY2FsbCBkb2N1bWVudC5hY3RpdmVFbGVtZW50IGlmIHRoZXJlIGlzIG5vdGhpbmcgZm9jdXNlZC5cbiAqXG4gKiBUaGUgYWN0aXZlRWxlbWVudCB3aWxsIGJlIG51bGwgb25seSBpZiB0aGUgZG9jdW1lbnQgb3IgZG9jdW1lbnQgYm9keSBpcyBub3RcbiAqIHlldCBkZWZpbmVkLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoKSAvKj9ET01FbGVtZW50Ki97XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCB8fCBkb2N1bWVudC5ib2R5O1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRBY3RpdmVFbGVtZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEVsZW1lbnRWYWxpZGF0b3JcbiAqL1xuXG4vKipcbiAqIFJlYWN0RWxlbWVudFZhbGlkYXRvciBwcm92aWRlcyBhIHdyYXBwZXIgYXJvdW5kIGEgZWxlbWVudCBmYWN0b3J5XG4gKiB3aGljaCB2YWxpZGF0ZXMgdGhlIHByb3BzIHBhc3NlZCB0byB0aGUgZWxlbWVudC4gVGhpcyBpcyBpbnRlbmRlZCB0byBiZVxuICogdXNlZCBvbmx5IGluIERFViBhbmQgY291bGQgYmUgcmVwbGFjZWQgYnkgYSBzdGF0aWMgdHlwZSBjaGVja2VyIGZvciBsYW5ndWFnZXNcbiAqIHRoYXQgc3VwcG9ydCBpdC5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xudmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMnKTtcbnZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMnKTtcbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcblxudmFyIGNhbkRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9jYW5EZWZpbmVQcm9wZXJ0eScpO1xudmFyIGdldEl0ZXJhdG9yRm4gPSByZXF1aXJlKCcuL2dldEl0ZXJhdG9yRm4nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIGlmIChSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50KSB7XG4gICAgdmFyIG5hbWUgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LmdldE5hbWUoKTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgcmV0dXJuICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICogdXBkYXRlcy5cbiAqL1xudmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuXG52YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG5cbi8qKlxuICogV2FybiBpZiB0aGUgZWxlbWVudCBkb2Vzbid0IGhhdmUgYW4gZXhwbGljaXQga2V5IGFzc2lnbmVkIHRvIGl0LlxuICogVGhpcyBlbGVtZW50IGlzIGluIGFuIGFycmF5LiBUaGUgYXJyYXkgY291bGQgZ3JvdyBhbmQgc2hyaW5rIG9yIGJlXG4gKiByZW9yZGVyZWQuIEFsbCBjaGlsZHJlbiB0aGF0IGhhdmVuJ3QgYWxyZWFkeSBiZWVuIHZhbGlkYXRlZCBhcmUgcmVxdWlyZWQgdG9cbiAqIGhhdmUgYSBcImtleVwiIHByb3BlcnR5IGFzc2lnbmVkIHRvIGl0LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuXG4gIHZhciBhZGRlbmRhID0gZ2V0QWRkZW5kYUZvcktleVVzZSgndW5pcXVlS2V5JywgZWxlbWVudCwgcGFyZW50VHlwZSk7XG4gIGlmIChhZGRlbmRhID09PSBudWxsKSB7XG4gICAgLy8gd2UgYWxyZWFkeSBzaG93ZWQgdGhlIHdhcm5pbmdcbiAgICByZXR1cm47XG4gIH1cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdFYWNoIGNoaWxkIGluIGFuIGFycmF5IG9yIGl0ZXJhdG9yIHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4nICsgJyVzJXMlcycsIGFkZGVuZGEucGFyZW50T3JPd25lciB8fCAnJywgYWRkZW5kYS5jaGlsZE93bmVyIHx8ICcnLCBhZGRlbmRhLnVybCB8fCAnJykgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogU2hhcmVkIHdhcm5pbmcgYW5kIG1vbml0b3JpbmcgY29kZSBmb3IgdGhlIGtleSB3YXJuaW5ncy5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlVHlwZSBBIGtleSB1c2VkIGZvciBkZS1kdXBpbmcgd2FybmluZ3MuXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudCBDb21wb25lbnQgdGhhdCByZXF1aXJlcyBhIGtleS5cbiAqIEBwYXJhbSB7Kn0gcGFyZW50VHlwZSBlbGVtZW50J3MgcGFyZW50J3MgdHlwZS5cbiAqIEByZXR1cm5zIHs/b2JqZWN0fSBBIHNldCBvZiBhZGRlbmRhIHRvIHVzZSBpbiB0aGUgd2FybmluZyBtZXNzYWdlLCBvciBudWxsXG4gKiBpZiB0aGUgd2FybmluZyBoYXMgYWxyZWFkeSBiZWVuIHNob3duIGJlZm9yZSAoYW5kIHNob3VsZG4ndCBiZSBzaG93biBhZ2FpbikuXG4gKi9cbmZ1bmN0aW9uIGdldEFkZGVuZGFGb3JLZXlVc2UobWVzc2FnZVR5cGUsIGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gIGlmICghYWRkZW5kdW0pIHtcbiAgICB2YXIgcGFyZW50TmFtZSA9IHR5cGVvZiBwYXJlbnRUeXBlID09PSAnc3RyaW5nJyA/IHBhcmVudFR5cGUgOiBwYXJlbnRUeXBlLmRpc3BsYXlOYW1lIHx8IHBhcmVudFR5cGUubmFtZTtcbiAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgYWRkZW5kdW0gPSAnIENoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPCcgKyBwYXJlbnROYW1lICsgJz4uJztcbiAgICB9XG4gIH1cblxuICB2YXIgbWVtb2l6ZXIgPSBvd25lckhhc0tleVVzZVdhcm5pbmdbbWVzc2FnZVR5cGVdIHx8IChvd25lckhhc0tleVVzZVdhcm5pbmdbbWVzc2FnZVR5cGVdID0ge30pO1xuICBpZiAobWVtb2l6ZXJbYWRkZW5kdW1dKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbWVtb2l6ZXJbYWRkZW5kdW1dID0gdHJ1ZTtcblxuICB2YXIgYWRkZW5kYSA9IHtcbiAgICBwYXJlbnRPck93bmVyOiBhZGRlbmR1bSxcbiAgICB1cmw6ICcgU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgY2hpbGRPd25lcjogbnVsbFxuICB9O1xuXG4gIC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gIC8vIHByb3BlcnR5LCBpdCBtYXkgYmUgdGhlIGNyZWF0b3Igb2YgdGhlIGNoaWxkIHRoYXQncyByZXNwb25zaWJsZSBmb3JcbiAgLy8gYXNzaWduaW5nIGl0IGEga2V5LlxuICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgIC8vIEdpdmUgdGhlIGNvbXBvbmVudCB0aGF0IG9yaWdpbmFsbHkgY3JlYXRlZCB0aGlzIGNoaWxkLlxuICAgIGFkZGVuZGEuY2hpbGRPd25lciA9ICcgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gJyArIGVsZW1lbnQuX293bmVyLmdldE5hbWUoKSArICcuJztcbiAgfVxuXG4gIHJldHVybiBhZGRlbmRhO1xufVxuXG4vKipcbiAqIEVuc3VyZSB0aGF0IGV2ZXJ5IGVsZW1lbnQgZWl0aGVyIGlzIHBhc3NlZCBpbiBhIHN0YXRpYyBsb2NhdGlvbiwgaW4gYW5cbiAqIGFycmF5IHdpdGggYW4gZXhwbGljaXQga2V5cyBwcm9wZXJ0eSBkZWZpbmVkLCBvciBpbiBhbiBvYmplY3QgbGl0ZXJhbFxuICogd2l0aCB2YWxpZCBrZXkgcHJvcGVydHkuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0ge1JlYWN0Tm9kZX0gbm9kZSBTdGF0aWNhbGx5IHBhc3NlZCBjaGlsZCBvZiBhbnkgdHlwZS5cbiAqIEBwYXJhbSB7Kn0gcGFyZW50VHlwZSBub2RlJ3MgcGFyZW50J3MgdHlwZS5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKFJlYWN0RWxlbWVudC5pc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgIC8vIFRoaXMgZWxlbWVudCB3YXMgcGFzc2VkIGluIGEgdmFsaWQgbG9jYXRpb24uXG4gICAgaWYgKG5vZGUuX3N0b3JlKSB7XG4gICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG5vZGUpO1xuICAgIC8vIEVudHJ5IGl0ZXJhdG9ycyBwcm92aWRlIGltcGxpY2l0IGtleXMuXG4gICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgIGlmIChpdGVyYXRvckZuICE9PSBub2RlLmVudHJpZXMpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgIGlmIChSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHByb3BzIGFyZSB2YWxpZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb21wb25lbnROYW1lIE5hbWUgb2YgdGhlIGNvbXBvbmVudCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcFR5cGVzIE1hcCBvZiBwcm9wIG5hbWUgdG8gYSBSZWFjdFByb3BUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBlLmcuIFwicHJvcFwiLCBcImNvbnRleHRcIiwgXCJjaGlsZCBjb250ZXh0XCJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKGNvbXBvbmVudE5hbWUsIHByb3BUeXBlcywgcHJvcHMsIGxvY2F0aW9uKSB7XG4gIGZvciAodmFyIHByb3BOYW1lIGluIHByb3BUeXBlcykge1xuICAgIGlmIChwcm9wVHlwZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICB2YXIgZXJyb3I7XG4gICAgICAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgLy8gQWZ0ZXIgdGhlc2UgaGF2ZSBiZWVuIGNsZWFuZWQgdXAsIHdlJ2xsIGxldCB0aGVtIHRocm93LlxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG4gICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cbiAgICAgICAgISh0eXBlb2YgcHJvcFR5cGVzW3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSAnICsgJ1JlYWN0LlByb3BUeXBlcy4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXSwgcHJvcE5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgZXJyb3IgPSBwcm9wVHlwZXNbcHJvcE5hbWVdKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCcpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFlcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIEVycm9yLCAnJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sIHByb3BOYW1lLCB0eXBlb2YgZXJyb3IpIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG4gICAgICAgIC8vIHNhbWUgZXJyb3IuXG4gICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG5cbiAgICAgICAgdmFyIGFkZGVuZHVtID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkIHByb3BUeXBlOiAlcyVzJywgZXJyb3IubWVzc2FnZSwgYWRkZW5kdW0pIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdpdmVuIGFuIGVsZW1lbnQsIHZhbGlkYXRlIHRoYXQgaXRzIHByb3BzIGZvbGxvdyB0aGUgcHJvcFR5cGVzIGRlZmluaXRpb24sXG4gKiBwcm92aWRlZCBieSB0aGUgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudFxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KSB7XG4gIHZhciBjb21wb25lbnRDbGFzcyA9IGVsZW1lbnQudHlwZTtcbiAgaWYgKHR5cGVvZiBjb21wb25lbnRDbGFzcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbmFtZSA9IGNvbXBvbmVudENsYXNzLmRpc3BsYXlOYW1lIHx8IGNvbXBvbmVudENsYXNzLm5hbWU7XG4gIGlmIChjb21wb25lbnRDbGFzcy5wcm9wVHlwZXMpIHtcbiAgICBjaGVja1Byb3BUeXBlcyhuYW1lLCBjb21wb25lbnRDbGFzcy5wcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBjb21wb25lbnRDbGFzcy5nZXREZWZhdWx0UHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhjb21wb25lbnRDbGFzcy5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQsICdnZXREZWZhdWx0UHJvcHMgaXMgb25seSB1c2VkIG9uIGNsYXNzaWMgUmVhY3QuY3JlYXRlQ2xhc3MgJyArICdkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuJykgOiB1bmRlZmluZWQ7XG4gIH1cbn1cblxudmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9IHtcblxuICBjcmVhdGVFbGVtZW50OiBmdW5jdGlvbiAodHlwZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG4gICAgdmFyIHZhbGlkVHlwZSA9IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAvLyBXZSB3YXJuIGluIHRoaXMgY2FzZSBidXQgZG9uJ3QgdGhyb3cuIFdlIGV4cGVjdCB0aGUgZWxlbWVudCBjcmVhdGlvbiB0b1xuICAgIC8vIHN1Y2NlZWQgYW5kIHRoZXJlIHdpbGwgbGlrZWx5IGJlIGVycm9ycyBpbiByZW5kZXIuXG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodmFsaWRUeXBlLCAnUmVhY3QuY3JlYXRlRWxlbWVudDogdHlwZSBzaG91bGQgbm90IGJlIG51bGwsIHVuZGVmaW5lZCwgYm9vbGVhbiwgb3IgJyArICdudW1iZXIuIEl0IHNob3VsZCBiZSBhIHN0cmluZyAoZm9yIERPTSBlbGVtZW50cykgb3IgYSBSZWFjdENsYXNzICcgKyAnKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykuJXMnLCBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSkgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgZWxlbWVudCA9IFJlYWN0RWxlbWVudC5jcmVhdGVFbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAvLyBUaGUgcmVzdWx0IGNhbiBiZSBudWxsaXNoIGlmIGEgbW9jayBvciBhIGN1c3RvbSBmdW5jdGlvbiBpcyB1c2VkLlxuICAgIC8vIFRPRE86IERyb3AgdGhpcyB3aGVuIHRoZXNlIGFyZSBubyBsb25nZXIgYWxsb3dlZCBhcyB0aGUgdHlwZSBhcmd1bWVudC5cbiAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgIC8vIGRvZXNuJ3QgZXhwZWN0IGEgbm9uLXN0cmluZy9mdW5jdGlvbiB0eXBlIGFuZCBjYW4gdGhyb3cgY29uZnVzaW5nIGVycm9ycy5cbiAgICAvLyBXZSBkb24ndCB3YW50IGV4Y2VwdGlvbiBiZWhhdmlvciB0byBkaWZmZXIgYmV0d2VlbiBkZXYgYW5kIHByb2QuXG4gICAgLy8gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlIHR5cGUgaXNcbiAgICAvLyBmaXhlZCwgdGhlIGtleSB3YXJuaW5ncyB3aWxsIGFwcGVhci4pXG4gICAgaWYgKHZhbGlkVHlwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCB0eXBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcblxuICAgIHJldHVybiBlbGVtZW50O1xuICB9LFxuXG4gIGNyZWF0ZUZhY3Rvcnk6IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgdmFyIHZhbGlkYXRlZEZhY3RvcnkgPSBSZWFjdEVsZW1lbnRWYWxpZGF0b3IuY3JlYXRlRWxlbWVudC5iaW5kKG51bGwsIHR5cGUpO1xuICAgIC8vIExlZ2FjeSBob29rIFRPRE86IFdhcm4gaWYgdGhpcyBpcyBhY2Nlc3NlZFxuICAgIHZhbGlkYXRlZEZhY3RvcnkudHlwZSA9IHR5cGU7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKGNhbkRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YWxpZGF0ZWRGYWN0b3J5LCAndHlwZScsIHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFjdG9yeS50eXBlIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB0aGUgY2xhc3MgZGlyZWN0bHkgJyArICdiZWZvcmUgcGFzc2luZyBpdCB0byBjcmVhdGVGYWN0b3J5LicpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0eXBlJywge1xuICAgICAgICAgICAgICB2YWx1ZTogdHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0ZWRGYWN0b3J5O1xuICB9LFxuXG4gIGNsb25lRWxlbWVudDogZnVuY3Rpb24gKGVsZW1lbnQsIHByb3BzLCBjaGlsZHJlbikge1xuICAgIHZhciBuZXdFbGVtZW50ID0gUmVhY3RFbGVtZW50LmNsb25lRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIG5ld0VsZW1lbnQudHlwZSk7XG4gICAgfVxuICAgIHZhbGlkYXRlUHJvcFR5cGVzKG5ld0VsZW1lbnQpO1xuICAgIHJldHVybiBuZXdFbGVtZW50O1xuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIHJlcGVhdCA9IGV4cG9ydHMucmVwZWF0ID0gZnVuY3Rpb24gcmVwZWF0KHN0ciwgdGltZXMpIHtcbiAgcmV0dXJuIG5ldyBBcnJheSh0aW1lcyArIDEpLmpvaW4oc3RyKTtcbn07XG5cbnZhciBwYWQgPSBleHBvcnRzLnBhZCA9IGZ1bmN0aW9uIHBhZChudW0sIG1heExlbmd0aCkge1xuICByZXR1cm4gcmVwZWF0KFwiMFwiLCBtYXhMZW5ndGggLSBudW0udG9TdHJpbmcoKS5sZW5ndGgpICsgbnVtO1xufTtcblxudmFyIGZvcm1hdFRpbWUgPSBleHBvcnRzLmZvcm1hdFRpbWUgPSBmdW5jdGlvbiBmb3JtYXRUaW1lKHRpbWUpIHtcbiAgcmV0dXJuIHBhZCh0aW1lLmdldEhvdXJzKCksIDIpICsgXCI6XCIgKyBwYWQodGltZS5nZXRNaW51dGVzKCksIDIpICsgXCI6XCIgKyBwYWQodGltZS5nZXRTZWNvbmRzKCksIDIpICsgXCIuXCIgKyBwYWQodGltZS5nZXRNaWxsaXNlY29uZHMoKSwgMyk7XG59O1xuXG4vLyBVc2UgcGVyZm9ybWFuY2UgQVBJIGlmIGl0J3MgYXZhaWxhYmxlIGluIG9yZGVyIHRvIGdldCBiZXR0ZXIgcHJlY2lzaW9uXG52YXIgdGltZXIgPSBleHBvcnRzLnRpbWVyID0gdHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09IFwiZnVuY3Rpb25cIiA/IHBlcmZvcm1hbmNlIDogRGF0ZTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cblx0aWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuIiwiLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuZXhwb3J0IGRlZmF1bHQgZnJlZUdsb2JhbDtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMubG9nZ2VyID0gZXhwb3J0cy5kZWZhdWx0cyA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi9jb3JlJyk7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG52YXIgX2RlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG52YXIgX2RlZmF1bHRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmF1bHRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBDcmVhdGVzIGxvZ2dlciB3aXRoIGZvbGxvd2luZyBvcHRpb25zXG4gKlxuICogQG5hbWVzcGFjZVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBsb2dnZXJcbiAqIEBwYXJhbSB7c3RyaW5nIHwgZnVuY3Rpb24gfCBvYmplY3R9IG9wdGlvbnMubGV2ZWwgLSBjb25zb2xlW2xldmVsXVxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmR1cmF0aW9uIC0gcHJpbnQgZHVyYXRpb24gb2YgZWFjaCBhY3Rpb24/XG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMudGltZXN0YW1wIC0gcHJpbnQgdGltZXN0YW1wIHdpdGggZWFjaCBhY3Rpb24/XG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucy5jb2xvcnMgLSBjdXN0b20gY29sb3JzXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucy5sb2dnZXIgLSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgYGNvbnNvbGVgIEFQSVxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmxvZ0Vycm9ycyAtIHNob3VsZCBlcnJvcnMgaW4gYWN0aW9uIGV4ZWN1dGlvbiBiZSBjYXVnaHQsIGxvZ2dlZCwgYW5kIHJlLXRocm93bj9cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5jb2xsYXBzZWQgLSBpcyBncm91cCBjb2xsYXBzZWQ/XG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMucHJlZGljYXRlIC0gY29uZGl0aW9uIHdoaWNoIHJlc29sdmVzIGxvZ2dlciBiZWhhdmlvclxuICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5zdGF0ZVRyYW5zZm9ybWVyIC0gdHJhbnNmb3JtIHN0YXRlIGJlZm9yZSBwcmludFxuICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5hY3Rpb25UcmFuc2Zvcm1lciAtIHRyYW5zZm9ybSBhY3Rpb24gYmVmb3JlIHByaW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLmVycm9yVHJhbnNmb3JtZXIgLSB0cmFuc2Zvcm0gZXJyb3IgYmVmb3JlIHByaW50XG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufSBsb2dnZXIgbWlkZGxld2FyZVxuICovXG5mdW5jdGlvbiBjcmVhdGVMb2dnZXIoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICB2YXIgbG9nZ2VyT3B0aW9ucyA9IF9leHRlbmRzKHt9LCBfZGVmYXVsdHMyLmRlZmF1bHQsIG9wdGlvbnMpO1xuXG4gIHZhciBsb2dnZXIgPSBsb2dnZXJPcHRpb25zLmxvZ2dlcixcbiAgICAgIHRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy50cmFuc2Zvcm1lcixcbiAgICAgIHN0YXRlVHJhbnNmb3JtZXIgPSBsb2dnZXJPcHRpb25zLnN0YXRlVHJhbnNmb3JtZXIsXG4gICAgICBlcnJvclRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy5lcnJvclRyYW5zZm9ybWVyLFxuICAgICAgcHJlZGljYXRlID0gbG9nZ2VyT3B0aW9ucy5wcmVkaWNhdGUsXG4gICAgICBsb2dFcnJvcnMgPSBsb2dnZXJPcHRpb25zLmxvZ0Vycm9ycyxcbiAgICAgIGRpZmZQcmVkaWNhdGUgPSBsb2dnZXJPcHRpb25zLmRpZmZQcmVkaWNhdGU7XG5cbiAgLy8gUmV0dXJuIGlmICdjb25zb2xlJyBvYmplY3QgaXMgbm90IGRlZmluZWRcblxuICBpZiAodHlwZW9mIGxvZ2dlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIGlmICh0cmFuc2Zvcm1lcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ09wdGlvbiBcXCd0cmFuc2Zvcm1lclxcJyBpcyBkZXByZWNhdGVkLCB1c2UgXFwnc3RhdGVUcmFuc2Zvcm1lclxcJyBpbnN0ZWFkIScpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgfVxuXG4gIC8vIERldGVjdCBpZiAnY3JlYXRlTG9nZ2VyJyB3YXMgcGFzc2VkIGRpcmVjdGx5IHRvICdhcHBseU1pZGRsZXdhcmUnLlxuICBpZiAob3B0aW9ucy5nZXRTdGF0ZSAmJiBvcHRpb25zLmRpc3BhdGNoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmVycm9yKCdbcmVkdXgtbG9nZ2VyXSByZWR1eC1sb2dnZXIgbm90IGluc3RhbGxlZC4gTWFrZSBzdXJlIHRvIHBhc3MgbG9nZ2VyIGluc3RhbmNlIGFzIG1pZGRsZXdhcmU6XFxuXFxuLy8gTG9nZ2VyIHdpdGggZGVmYXVsdCBvcHRpb25zXFxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcXCdyZWR1eC1sb2dnZXJcXCdcXG5jb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKFxcbiAgcmVkdWNlcixcXG4gIGFwcGx5TWlkZGxld2FyZShsb2dnZXIpXFxuKVxcblxcblxcbi8vIE9yIHlvdSBjYW4gY3JlYXRlIHlvdXIgb3duIGxvZ2dlciB3aXRoIGN1c3RvbSBvcHRpb25zIGh0dHA6Ly9iaXQubHkvcmVkdXgtbG9nZ2VyLW9wdGlvbnNcXG5pbXBvcnQgY3JlYXRlTG9nZ2VyIGZyb20gXFwncmVkdXgtbG9nZ2VyXFwnXFxuXFxuY29uc3QgbG9nZ2VyID0gY3JlYXRlTG9nZ2VyKHtcXG4gIC8vIC4uLm9wdGlvbnNcXG59KTtcXG5cXG5jb25zdCBzdG9yZSA9IGNyZWF0ZVN0b3JlKFxcbiAgcmVkdWNlcixcXG4gIGFwcGx5TWlkZGxld2FyZShsb2dnZXIpXFxuKVxcbicpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH07XG4gIH1cblxuICB2YXIgbG9nQnVmZmVyID0gW107XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGdldFN0YXRlID0gX3JlZi5nZXRTdGF0ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIC8vIEV4aXQgZWFybHkgaWYgcHJlZGljYXRlIGZ1bmN0aW9uIHJldHVybnMgJ2ZhbHNlJ1xuICAgICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhcHJlZGljYXRlKGdldFN0YXRlLCBhY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2dFbnRyeSA9IHt9O1xuICAgICAgICBsb2dCdWZmZXIucHVzaChsb2dFbnRyeSk7XG5cbiAgICAgICAgbG9nRW50cnkuc3RhcnRlZCA9IF9oZWxwZXJzLnRpbWVyLm5vdygpO1xuICAgICAgICBsb2dFbnRyeS5zdGFydGVkVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGxvZ0VudHJ5LnByZXZTdGF0ZSA9IHN0YXRlVHJhbnNmb3JtZXIoZ2V0U3RhdGUoKSk7XG4gICAgICAgIGxvZ0VudHJ5LmFjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICB2YXIgcmV0dXJuZWRWYWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGxvZ0Vycm9ycykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gbmV4dChhY3Rpb24pO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ0VudHJ5LmVycm9yID0gZXJyb3JUcmFuc2Zvcm1lcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IG5leHQoYWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZ0VudHJ5LnRvb2sgPSBfaGVscGVycy50aW1lci5ub3coKSAtIGxvZ0VudHJ5LnN0YXJ0ZWQ7XG4gICAgICAgIGxvZ0VudHJ5Lm5leHRTdGF0ZSA9IHN0YXRlVHJhbnNmb3JtZXIoZ2V0U3RhdGUoKSk7XG5cbiAgICAgICAgdmFyIGRpZmYgPSBsb2dnZXJPcHRpb25zLmRpZmYgJiYgdHlwZW9mIGRpZmZQcmVkaWNhdGUgPT09ICdmdW5jdGlvbicgPyBkaWZmUHJlZGljYXRlKGdldFN0YXRlLCBhY3Rpb24pIDogbG9nZ2VyT3B0aW9ucy5kaWZmO1xuXG4gICAgICAgICgwLCBfY29yZS5wcmludEJ1ZmZlcikobG9nQnVmZmVyLCBfZXh0ZW5kcyh7fSwgbG9nZ2VyT3B0aW9ucywgeyBkaWZmOiBkaWZmIH0pKTtcbiAgICAgICAgbG9nQnVmZmVyLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgaWYgKGxvZ0VudHJ5LmVycm9yKSB0aHJvdyBsb2dFbnRyeS5lcnJvcjtcbiAgICAgICAgcmV0dXJuIHJldHVybmVkVmFsdWU7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbnZhciBkZWZhdWx0TG9nZ2VyID0gY3JlYXRlTG9nZ2VyKCk7XG5cbmV4cG9ydHMuZGVmYXVsdHMgPSBfZGVmYXVsdHMyLmRlZmF1bHQ7XG5leHBvcnRzLmxvZ2dlciA9IGRlZmF1bHRMb2dnZXI7XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVMb2dnZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIlxuKGZ1bmN0aW9uIGxhc3RQYWdlSGFuZGxlcigpIHtcbiAgICBzZWxmLnlvZHVsZXMgPSBzZWxmLnlvZHVsZXMgfHwge307XG5cbiAgICBmdW5jdGlvbiBpbml0KEhlbHBlcnMpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0geW9kdWxlcy5MYXN0UGFnZUhhbmRsZXI7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlVXJsID0gSGVscGVycy5pbnN0YW5jZS52YWxpZGF0ZVVybDtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgTGFzdFBhZ2VIYW5kbGVyIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX0xQbGlzdCA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuX0xQaWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX2N0ID0gY2hyb21lLnRhYnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRMUFVybCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fTFBpZCAmJiB0aGlzLl9MUGxpc3RbdGhpcy5fTFBpZF0gfHwgJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRMUElkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9MUGlkIHx8IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRMUElkKHRhYklkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX0xQbGlzdFt0YWJJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fTFBpZCA9IHRhYklkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZUxQTGlzdChjaHJvbWVUYWIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWJJZCA9IGNocm9tZVRhYiAmJiBjaHJvbWVUYWIuaWQsXG4gICAgICAgICAgICAgICAgICAgIHRhYlVybCA9IGNocm9tZVRhYi51cmwsXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSB0YWJJZCAmJiB2YWxpZGF0ZVVybCh0YWJVcmwpO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX0xQbGlzdFt0YWJJZF0gPSB0YWJVcmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlTFBJZEZyb21BY3RpdmVUYWIoY2hyb21lVGFiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNocm9tZVRhYiAmJiBjaHJvbWVUYWIuaWQgJiYgY2hyb21lVGFiLmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldExQSWQoY2hyb21lVGFiLmlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYW5kbGVMUChjaHJvbWVUYWIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGFnZVVyaSA9IHRoaXMuZ2V0TFBVcmwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUxQTGlzdChjaHJvbWVUYWIpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTFBJZEZyb21BY3RpdmVUYWIoY2hyb21lVGFiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFBhZ2VVcmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbml0T3BlbmVkVGFicygpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdyA9IGNocm9tZSAmJiBjaHJvbWUud2luZG93cztcbiAgICAgICAgICAgICAgICBpZiAoIWN3KSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdFRhYnMoY3cpO1xuICAgICAgICAgICAgICAgIGN3Lm9uRm9jdXNDaGFuZ2VkLmFkZExpc3RlbmVyKHRoaXMuX2N3b25Gb2N1c2VkLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGN3Lm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcih0aGlzLl9jd29uUmVtb3ZlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNlbGVjdGlvbkxpc3RlbmVyID0gdGhpcy5fY3Qub25BY3RpdmF0ZWQgP1xuICAgICAgICAgICAgICAgICAgICAnb25BY3RpdmF0ZWQnIDpcbiAgICAgICAgICAgICAgICAgICAgJ29uU2VsZWN0aW9uQ2hhbmdlZCc7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3RbcmVzZWxlY3Rpb25MaXN0ZW5lcl0uYWRkTGlzdGVuZXIodGhpcy5fb25SZXNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2luaXRUYWJzKGN3KSB7XG4gICAgICAgICAgICAgICAgY3cuZ2V0QWxsKHsgcG9wdWxhdGU6IHRydWUgfSwgKHdpbmRvd3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdyA9IDA7IHcgPCB3aW5kb3dzLmxlbmd0aDsgdysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpbmRvd3Nbd10udGFicy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGVVcmwod2luZG93c1t3XS50YWJzW2ldLnVybCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTFBMaXN0KHdpbmRvd3Nbd10udGFic1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvd3Nbd10uZm9jdXNlZCAmJiB3aW5kb3dzW3ddLnRhYnNbaV0uYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0TFBJZCh3aW5kb3dzW3ddLnRhYnNbaV0uaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2N3b25Gb2N1c2VkKHdpbmRvdykge1xuICAgICAgICAgICAgICAgIGlmICghY2hyb21lLndpbmRvd3MgfHwgY2hyb21lLndpbmRvd3MuV0lORE9XX0lEX05PTkUgPT0gd2luZG93KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY3QucXVlcnkoeyB3aW5kb3dJZDogd2luZG93LCBhY3RpdmU6IHRydWUgfSwgKHRhYnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhYnMgJiYgdGFic1swXSAmJiB0YWJzWzBdLmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMUElkKHRhYnNbMF0uaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY3dvblJlbW92ZWQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3QucXVlcnkoeyBhY3RpdmU6IHRydWUgfSwgKHRhYnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhYnMgJiYgdGFic1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMUElkKHRhYnNbMF0uaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25SZXNlbGVjdGVkKHRhYikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TFBJZCh0YWIudGFiSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBtb2R1bGUuaW5zdGFuY2UgPSBuZXcgbW9kdWxlLmNsYXNzKCk7XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZS5pbml0T3BlbmVkVGFicygpO1xuICAgIH1cbiAgICB5b2R1bGVzLkxhc3RQYWdlSGFuZGxlciA9IHsgaW5pdCwgZGVwczogW1wiSGVscGVyc1wiXSB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24gdGFiTGlzdGVuZXJzKCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoSGVscGVycywgTGFzdFBhZ2VIYW5kbGVyLCBUYWJsaXN0LCBTZW5kUmVxdWVzdEZvclRhYikge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLlRhYkxpc3RlbmVycztcbiAgICAgICAgY29uc3QgdGFibGlzdCA9IFRhYmxpc3QuaW5zdGFuY2UsXG4gICAgICAgICAgICBsYXN0UGFnZUhhbmRsZXIgPSBMYXN0UGFnZUhhbmRsZXIuaW5zdGFuY2UsXG4gICAgICAgICAgICBzZW5kUmVxdWVzdEZvclRhYiA9IFNlbmRSZXF1ZXN0Rm9yVGFiLmluc3RhbmNlLFxuICAgICAgICAgICAgaGVscGVycyA9IEhlbHBlcnMuaW5zdGFuY2U7XG4gICAgICAgIG1vZHVsZS5jbGFzcyA9IGNsYXNzIFRhYkxpc3RlbmVycyB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN0ID0gY2hyb21lLnRhYnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25DcmVhdGVkaGFuZGxlciA9IHRoaXMuX29uQ3JlYXRlZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uUmVwbGFjZWRoYW5kbGVyID0gdGhpcy5fb25SZXBsYWNlZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uVXBkYXRlZGhhbmRsZXIgPSB0aGlzLl9vblVwZGF0ZWQuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblJlbW92ZWRoYW5kbGVyID0gdGhpcy5fb25SZW1vdmVkLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdC5vblVwZGF0ZWQuYWRkTGlzdGVuZXIodGhpcy5fb25VcGRhdGVkaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5jdC5vblJlcGxhY2VkLmFkZExpc3RlbmVyKHRoaXMuX29uUmVwbGFjZWRoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN0Lm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcih0aGlzLl9vblJlbW92ZWRoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN0Lm9uQ3JlYXRlZC5hZGRMaXN0ZW5lcih0aGlzLl9vbkNyZWF0ZWRoYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9vbkNyZWF0ZWQodGFiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0YWIgfHwgIXRhYi51cmwpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyVGFiID0gdGFibGlzdC5nZXRCeUlkKHRhYi5pZCkuc2V0SXNGcigpLnNldElzUmVwbGFjZWQoZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICBvcGVuZXJUYWJJZCA9IHRhYi5vcGVuZXJUYWJJZCB8fCBsYXN0UGFnZUhhbmRsZXIuZ2V0TFBJZCgpO1xuICAgICAgICAgICAgICAgIGlmICh0YWIudXJsLmxlbmd0aCAmJiB0YWJsaXN0Lmhhc0J5SWQob3BlbmVyVGFiSWQpICYmIHRhYi51cmwgPT09IHRhYmxpc3QuZ2V0QnlJZChvcGVuZXJUYWJJZCkuZ2V0VXJsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGlzdC5nZXRCeUlkKHRhYi5pZCkuYWRkTWV0YShcImR1cGxpY2F0aW9uXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFiLnVybC5sZW5ndGggJiYgaGVscGVycy52YWxpZGF0ZVVybCh0YWIudXJsKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0LnF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdGFiLnVybFxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbih0YWJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHRhYnMgfHwgW10pLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsaXN0LmdldEJ5SWQodGFiLmlkKS5hZGRNZXRhKFtcImR1cGxpY2F0aW9uXCIsIFwiYmFja2dyb3VuZF9kdXBsaWNhdGlvblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoJ2NvbXBsZXRlJyA9PT0gdGFiLnN0YXR1cyAmJiAhdGFiLm9wZW5lclRhYklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxpc3QuZ2V0QnlJZCh0YWIuaWQpLmFkZE1ldGEoXCJyZW9wZW5pbmdcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhYmxpc3QuZ2V0QnlJZCh0YWIuaWQpLnNldE9wZW5lcklkKG9wZW5lclRhYklkKTtcbiAgICAgICAgICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd1cG5hYmxhJywgeyBkZXRhaWw6IHsgdGFiSWQ6IHRhYi5pZCwgb3BlbmVySWQ6IG9wZW5lclRhYklkIH0gfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX29uVXBkYXRlZCh0YWJJZCwgZGV0YWlscywgdGFiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFpbHMgJiYgXCJjb21wbGV0ZVwiID09PSBkZXRhaWxzLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGFiID0gdGFibGlzdC5nZXRCeUlkKHRhYklkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUYWIuZ2V0SXNSZXBsYWNlZCgpICYmIGN1cnJlbnRUYWIuZ2V0SXNBamF4KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0VXJsKHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0SXNSZXBvcnRlZChmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0SXNBamF4KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYi5nZXRVcmwoKSAhPT0gdGFiLnVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhYi5zZXRJc1JlcG9ydGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFiXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UmVsdHlwZSh1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0SXNBamF4KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRUcmFuc2l0aW9uVHlwZShcImFqYXhcIik7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRSZXF1ZXN0Rm9yVGFiLnNlbmRUcmFjayh0YWJJZCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWIuc2V0SXNSZXBsYWNlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUudGFicy5zZW5kTWVzc2FnZSh0YWJJZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ3BhZ2VVcmxDaGFuZ2VkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZGV0YWlscy51cmxcbiAgICAgICAgICAgICAgICAgICAgfSwgKCkgPT4gY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yKTtcbiAgICAgICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25SZXBsYWNlZChhZGRlZFRhYklkLCByZW1vdmVkVGFiSWQpIHtcbiAgICAgICAgICAgICAgICB0YWJsaXN0LmdldEJ5SWQoYWRkZWRUYWJJZClcbiAgICAgICAgICAgICAgICAgICAgLnNldElzUmVwbGFjZWQoKVxuICAgICAgICAgICAgICAgICAgICAuc2V0SWQoW2FkZGVkVGFiSWQsIHJlbW92ZWRUYWJJZF0pO1xuICAgICAgICAgICAgICAgIHNlbmRSZXF1ZXN0Rm9yVGFiLnNlbmRUcmFjayhhZGRlZFRhYklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9vblJlbW92ZWQodGFiSWQpIHtcbiAgICAgICAgICAgICAgICB0YWJsaXN0LnJlbW92ZSh0YWJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZSA9IG5ldyBtb2R1bGUuY2xhc3MoKTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlLmFkZExpc3RlbmVycygpO1xuICAgIH1cbiAgICB5b2R1bGVzLlRhYkxpc3RlbmVycyA9IHsgaW5pdCwgZGVwczogW1wiSGVscGVyc1wiLCBcIkxhc3RQYWdlSGFuZGxlclwiLCBcIlRhYmxpc3RcIiwgXCJTZW5kUmVxdWVzdEZvclRhYlwiXSB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24gd2ViUmVxdWVzdExpc3RlbmVycygpIHtcbiAgICBzZWxmLnlvZHVsZXMgPSBzZWxmLnlvZHVsZXMgfHwge307XG5cbiAgICBmdW5jdGlvbiBpbml0KFRhYmxpc3QsIEhlbHBlcnMsIExhc3RQYWdlSGFuZGxlcikge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLldlYlJlcXVlc3RMaXN0ZW5lcnM7XG4gICAgICAgIGNvbnN0IHRhYmxpc3QgPSBUYWJsaXN0Lmluc3RhbmNlLFxuICAgICAgICAgICAgdmFsaWRhdGVVcmwgPSBIZWxwZXJzLmluc3RhbmNlLnZhbGlkYXRlVXJsLFxuICAgICAgICAgICAgbGFzdFBhZ2VIYW5kbGVyID0gTGFzdFBhZ2VIYW5kbGVyLmluc3RhbmNlO1xuICAgICAgICBtb2R1bGUuY2xhc3MgPSBjbGFzcyBUYWJMaXN0ZW5lcnMge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53ciA9IGNocm9tZS53ZWJSZXF1ZXN0O1xuICAgICAgICAgICAgICAgIHRoaXMucmVwZXJ0dWFyID0geyB0eXBlczogW1wibWFpbl9mcmFtZVwiXSwgdXJsczogW1wiPGFsbF91cmxzPlwiXSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkTGlzdGVuZXJzKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy53cikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMud3Iub25CZWZvcmVSZXF1ZXN0LmFkZExpc3RlbmVyKHRoaXMuX29uQmVmb3JlUmVxdWVzdC5iaW5kKHRoaXMpLCB0aGlzLnJlcGVydHVhcik7XG4gICAgICAgICAgICAgICAgdGhpcy53ci5vbkJlZm9yZVJlZGlyZWN0LmFkZExpc3RlbmVyKHRoaXMuX29uQmVmb3JlUmVkaXJlY3QuYmluZCh0aGlzKSwgdGhpcy5yZXBlcnR1YXIpO1xuICAgICAgICAgICAgICAgIGxldCBiZWZvcmVTZW5kT3B0aW9ucyA9IFtcInJlcXVlc3RIZWFkZXJzXCJdO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLndyLk9uQmVmb3JlU2VuZEhlYWRlcnNPcHRpb25zICYmIHRoaXMud3IuT25CZWZvcmVTZW5kSGVhZGVyc09wdGlvbnMuaGFzT3duUHJvcGVydHkoJ0VYVFJBX0hFQURFUlMnKSlcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlU2VuZE9wdGlvbnMucHVzaCgnZXh0cmFIZWFkZXJzJyk7XG4gICAgICAgICAgICAgICAgdGhpcy53ci5vbkJlZm9yZVNlbmRIZWFkZXJzLmFkZExpc3RlbmVyKHRoaXMuX29uQmVmb3JlU2VuZEhlYWRlcnMuYmluZCh0aGlzKSwgdGhpcy5yZXBlcnR1YXIsIGJlZm9yZVNlbmRPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLndyLm9uSGVhZGVyc1JlY2VpdmVkLmFkZExpc3RlbmVyKHRoaXMuX29uSGVhZGVyc1JlY2VpdmVkLmJpbmQodGhpcyksIHRoaXMucmVwZXJ0dWFyKTtcbiAgICAgICAgICAgICAgICB0aGlzLndyLm9uRXJyb3JPY2N1cnJlZC5hZGRMaXN0ZW5lcih0aGlzLl9vbkVycm9yT2NjdXJyZWQuYmluZCh0aGlzKSwgdGhpcy5yZXBlcnR1YXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX29uQmVmb3JlUmVxdWVzdChkZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgdGFibGlzdC5nZXRCeUlkKGRldGFpbHMudGFiSWQpLnNldFByZXYobGFzdFBhZ2VIYW5kbGVyLmdldExQVXJsKCkpO1xuICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGVVcmwoZGV0YWlscy51cmwpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGFibGlzdC5nZXRCeUlkKGRldGFpbHMudGFiSWQpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRVcmwodW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAuc2V0SXNSZXBvcnRlZChmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgLnNldElzQWpheChmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0SGVhZGVyc09yaWdpbihkZXRhaWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9vbkJlZm9yZVJlZGlyZWN0KGRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZVVybChkZXRhaWxzLnVybCkgJiYgdGFibGlzdC5nZXRCeUlkKGRldGFpbHMudGFiSWQpLmFkZFNlcnZlclJlZGlyZWN0cyhkZXRhaWxzLnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25CZWZvcmVTZW5kSGVhZGVycyhkZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgdGFibGlzdC5nZXRCeUlkKGRldGFpbHMudGFiSWQpLnNldElzSGgoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRldGFpbHMucmVxdWVzdEhlYWRlcnMuc29tZShyaCA9PiB0aGlzLl9maWx0ZXJIZWFkZXJzKHJoLCBkZXRhaWxzLnRhYklkKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGlzdC5nZXRCeUlkKGRldGFpbHMudGFiSWQpLnNldEhyZWYoJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyByZXF1ZXN0SGVhZGVyczogZGV0YWlscy5yZXF1ZXN0SGVhZGVycyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2ZpbHRlckhlYWRlcnMocmgsIHRhYklkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC9eUmVmZXJlciQvaS50ZXN0KHJoLm5hbWUpICYmIHRhYmxpc3QuZ2V0QnlJZCh0YWJJZCkuc2V0SHJlZihyaC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfc2V0SGVhZGVyc09yaWdpbihkZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luVXJsID0gZGV0YWlscyAmJiBkZXRhaWxzLm9yaWdpblVybDtcbiAgICAgICAgICAgICAgICAhIW9yaWdpblVybCAmJiB0YWJsaXN0LmdldEJ5SWQoZGV0YWlscy50YWJJZCkuc2V0T3JpZ2luVXJsKG9yaWdpblVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25IZWFkZXJzUmVjZWl2ZWQoZGV0YWlscykge1xuICAgICAgICAgICAgICAgIHRhYmxpc3QuZ2V0QnlJZChkZXRhaWxzLnRhYklkKS5zZXRJc0hoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb25FcnJvck9jY3VycmVkKGRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0YWJsaXN0LmdldEJ5SWQoZGV0YWlscy50YWJJZClcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBtb2R1bGUuaW5zdGFuY2UgPSBuZXcgbW9kdWxlLmNsYXNzKCk7XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgeW9kdWxlcy5XZWJSZXF1ZXN0TGlzdGVuZXJzID0geyBpbml0LCBkZXBzOiBbXCJUYWJsaXN0XCIsIFwiSGVscGVyc1wiLCBcIkxhc3RQYWdlSGFuZGxlclwiXSB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24gd2luZG93TGlzdGVuZXJzKCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoSGVscGVycywgVGFibGlzdCkge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLldpbmRvd0xpc3RlbmVycztcbiAgICAgICAgY29uc3QgdGFibGlzdCA9IFRhYmxpc3QuaW5zdGFuY2UsXG4gICAgICAgICAgICB2YWxpZGF0ZVVybCA9IEhlbHBlcnMuaW5zdGFuY2UudmFsaWRhdGVVcmw7XG4gICAgICAgIG1vZHVsZS5jbGFzcyA9IGNsYXNzIFRhYkxpc3RlbmVycyB7XG4gICAgICAgICAgICBhZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUud2luZG93cy5nZXRBbGwoeyBwb3B1bGF0ZTogdHJ1ZSB9LCBmdW5jdGlvbih3aW5kb3dzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB3ID0gMDsgdyA8IHdpbmRvd3MubGVuZ3RoOyB3KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpbmRvd3Nbd10udGFicy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlVXJsKHdpbmRvd3Nbd10udGFic1tpXS51cmwpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxpc3QuZ2V0QnlJZCh3aW5kb3dzW3ddLnRhYnNbaV0uaWQpLnNldFVybCh3aW5kb3dzW3ddLnRhYnNbaV0udXJsKS5zZXRJc1Jlc3RhcnRpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZSA9IG5ldyBtb2R1bGUuY2xhc3MoKTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlLmFkZExpc3RlbmVycygpO1xuICAgIH1cbiAgICB5b2R1bGVzLldpbmRvd0xpc3RlbmVycyA9IHsgaW5pdCwgZGVwczogW1wiSGVscGVyc1wiLCBcIlRhYmxpc3RcIl0gfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uIGtleVN0b3JhZ2UoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0geW9kdWxlcy5LZXlTdG9yYWdlO1xuICAgICAgICBtb2R1bGUuY2xhc3MgPSBjbGFzcyBLZXlTdG9yYWdlIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dpZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhcnREYXRlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluaXRTdGF0ZXMoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlID0gY2hyb21lLnN0b3JhZ2UubG9jYWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3VpZCgpLnRoZW4odiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2dpZCA9IHZbXCJ5bV9cIl07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9yYWdlR2V0R3VpZChndWlkX3YpIHtcbiAgICAgICAgICAgICAgICBpZiAoZ3VpZF92KSByZXR1cm4gZ3VpZF92LnJlcGxhY2UoL1wiL2csICcnKTtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB2YWx1ZSArPSB0aGlzLl9nZXRHKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yYWdlU2V0KHRoaXMuX2NvbnZlcnRUb09iamVjdChcInltX1wiLCB2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0b3JhZ2VHZXR0ZXIocmVzLCBrZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3VpZF9rZXkgPSBcInltX1wiO1xuICAgICAgICAgICAgICAgIGlmIChrZXlzLmluY2x1ZGVzKGd1aWRfa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICByZXNbZ3VpZF9rZXldID0gdGhpcy5zdG9yYWdlR2V0R3VpZChyZXNbZ3VpZF9rZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdG9yYWdlR2V0KGtleXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5nZXQoa2V5cywgcmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgfSkudGhlbihyZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlR2V0dGVyKHJlcywga2V5cyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9yYWdlU2V0KGt2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0KGt2LCByZXNvbHZlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIGd1aWQoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleXMgPSBbXCJ5bV9cIl07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RvcmFnZUdldChrZXlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldCBnaWQoKSB7IHJldHVybiB0aGlzLl9naWQ7IH1cbiAgICAgICAgICAgIF9nZXRTKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBEYXRlLm5vdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2dldEcoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgoKDEgKyBNYXRoLnJhbmRvbSh0aGlzLl9nZXRTKCkgKyAxMikpICogMHgxMDAwMCkgfCAwKS50b1N0cmluZygzMCkuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2NvbnZlcnRUb09iamVjdChrLCB2KSB7XG4gICAgICAgICAgICAgICAgbGV0IG8gPSB7fTtcbiAgICAgICAgICAgICAgICBvW2tdID0gdjtcbiAgICAgICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgICAgICByZXR1cm4gbW9kdWxlLmluc3RhbmNlLmluaXRTdGF0ZXMoKTtcbiAgICB9XG4gICAgeW9kdWxlcy5LZXlTdG9yYWdlID0geyBpbml0IH07XG59KSgpO1xuXG5cbihmdW5jdGlvbiBwaWlWYWx1ZUVuY3J5cHRvcigpIHtcbiAgICBzZWxmLnlvZHVsZXMgPSBzZWxmLnlvZHVsZXMgfHwge307XG5cbiAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLlBpaVZhbHVlRW5jcnlwdG9yO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFiMmhleChhYikge1xuICAgICAgICAgICAgbGV0IGR2ID0gbmV3IERhdGFWaWV3KGFiKSxcbiAgICAgICAgICAgICAgICBpLCBsZW4sIGhleCA9ICcnLFxuICAgICAgICAgICAgICAgIGM7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBkdi5ieXRlTGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICBjID0gZHYuZ2V0VWludDgoaSkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgICAgIGlmIChjLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgYyA9ICcwJyArIGM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhleCArPSBjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHN0cjJhYihzdHJpbmdUb0VuY29kZSkge1xuICAgICAgICAgICAgc3RyaW5nVG9FbmNvZGUgPSBzdHJpbmdUb0VuY29kZS5yZXBsYWNlKC9cXHJcXG4vZywgXCJcXG5cIik7XG4gICAgICAgICAgICBjb25zdCB1dGZ0ZXh0ID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IHN0cmluZ1RvRW5jb2RlLmxlbmd0aDsgbisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGMgPSBzdHJpbmdUb0VuY29kZS5jaGFyQ29kZUF0KG4pO1xuICAgICAgICAgICAgICAgIGlmIChjIDwgMTI4KSB7XG4gICAgICAgICAgICAgICAgICAgIHV0ZnRleHRbdXRmdGV4dC5sZW5ndGhdID0gYztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChjID4gMTI3KSAmJiAoYyA8IDIwNDgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHV0ZnRleHRbdXRmdGV4dC5sZW5ndGhdID0gKGMgPj4gNikgfCAxOTI7XG4gICAgICAgICAgICAgICAgICAgIHV0ZnRleHRbdXRmdGV4dC5sZW5ndGhdID0gKGMgJiA2MykgfCAxMjg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXRmdGV4dFt1dGZ0ZXh0Lmxlbmd0aF0gPSAoYyA+PiAxMikgfCAyMjQ7XG4gICAgICAgICAgICAgICAgICAgIHV0ZnRleHRbdXRmdGV4dC5sZW5ndGhdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xuICAgICAgICAgICAgICAgICAgICB1dGZ0ZXh0W3V0ZnRleHQubGVuZ3RoXSA9IChjICYgNjMpIHwgMTI4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1dGZ0ZXh0KS5idWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gc3RyVG9TaGEyNTYoc3RyKSB7XG4gICAgICAgICAgICBjb25zdCBhYiA9IHN0cjJhYihzdHIpO1xuICAgICAgICAgICAgY29uc3QgZW5jQnl0ZXMgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdCgnU0hBLTI1NicsIGFiKTtcbiAgICAgICAgICAgIGNvbnN0IGVuY1N0cmluZyA9IGFiMmhleChlbmNCeXRlcyk7XG4gICAgICAgICAgICByZXR1cm4gZW5jU3RyaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkU2FsdCh2YWx1ZSkge1xuICAgICAgICAgICAgbGV0IHNhbHQgPSAoKFwiNlwiICsgMSkgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIHNhbHQ7XG4gICAgICAgIH1cbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgUGlpVmFsdWVFbmNyeXB0b3Ige1xuICAgICAgICAgICAgYXN5bmMgZW5jcnlwdCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgKyBcIlwiO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gYWRkU2FsdCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5jID0gYXdhaXQgc3RyVG9TaGEyNTYodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbmM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZSA9IG5ldyBtb2R1bGUuY2xhc3MoKTtcbiAgICB9XG4gICAgeW9kdWxlcy5QaWlWYWx1ZUVuY3J5cHRvciA9IHsgaW5pdCB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24gYWJzdHJhY3RQaWlGaWx0ZXIoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0geW9kdWxlcy5BYnN0cmFjdFBpaUZpbHRlcjtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgQWJzdHJhY3RQaWlGaWx0ZXIge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoaXNfZmluYWwsIHdoaXRlbGlzdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNGaW5hbChpc19maW5hbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRXaGl0ZWxpc3Qod2hpdGVsaXN0KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldCBpc0ZpbmFsKCkgeyByZXR1cm4gdGhpcy5faXNGaW5hbDsgfVxuICAgICAgICAgICAgc2V0SXNGaW5hbCh2YWwpIHsgdGhpcy5faXNGaW5hbCA9IHZhbDsgcmV0dXJuIHRoaXM7IH1cbiAgICAgICAgICAgIGdldCB3aGl0ZWxpc3QoKSB7IHJldHVybiB0aGlzLl93aGl0ZWxpc3Q7IH1cbiAgICAgICAgICAgIHNldCB3aGl0ZWxpc3QodmFsKSB7IHRoaXMuX3doaXRlbGlzdCA9IHZhbDsgfVxuICAgICAgICAgICAgc2V0V2hpdGVsaXN0KHZhbCkgeyB0aGlzLl93aGl0ZWxpc3QgPSB2YWw7IHJldHVybiB0aGlzOyB9XG4gICAgICAgICAgICBnZXQgY2FjaGUoKSB7IHJldHVybiB0aGlzLl9jYWNoZTsgfVxuICAgICAgICAgICAgc2V0IGNhY2hlKHZhbCkgeyB0aGlzLl9jYWNoZSA9IHZhbDsgfVxuICAgICAgICAgICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLl9uYW1lOyB9XG4gICAgICAgICAgICBzZXQgbmFtZSh2YWwpIHsgdGhpcy5fbmFtZSA9IHZhbDsgfVxuICAgICAgICAgICAgZ2V0IGZpZWxkcygpIHsgcmV0dXJuIHRoaXMuX2ZpZWxkczsgfVxuICAgICAgICAgICAgc2V0IGZpZWxkcyh2YWwpIHsgdGhpcy5fZmllbGRzID0gdmFsOyB9XG4gICAgICAgICAgICBwcm9jZXNzb3IoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWNvZGVVUklSZWN1cnNpdmUoZW5jb2RlZCwgdGltZXMpIHtcbiAgICAgICAgICAgICAgICB0aW1lcyA9IHRpbWVzIHx8IDA7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29kZWQgPSBlbmNvZGVkO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY29kZWQgPSBkZWNvZGVVUklDb21wb25lbnQoZW5jb2RlZCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZDogZGVjb2RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWRUaW1lczogdGltZXNcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRlY29kZWQubGVuZ3RoIDwgZW5jb2RlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjb2RlVVJJUmVjdXJzaXZlKGRlY29kZWQsICsrdGltZXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkOiBkZWNvZGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZFRpbWVzOiB0aW1lc1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlc3QoKSB7fVxuICAgICAgICB9O1xuICAgIH1cbiAgICB5b2R1bGVzLkFic3RyYWN0UGlpRmlsdGVyID0geyBpbml0IH07XG59KSgpO1xuXG5cbihmdW5jdGlvbiB1cmxXaGl0ZUxpc3RGaWx0ZXIoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdChBYnN0cmFjdFBpaUZpbHRlcikge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLlVybFdoaXRlTGlzdEZpbHRlcjtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgVXJsV2hpdGVMaXN0RmlsdGVyIGV4dGVuZHMgQWJzdHJhY3RQaWlGaWx0ZXIuY2xhc3Mge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoaXNGaW5hbGUsIHdoaXRlbGlzdCkge1xuICAgICAgICAgICAgICAgIHN1cGVyKGlzRmluYWxlLCB3aGl0ZWxpc3QpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmllbGRzID0gW1wiaG9zdG5hbWVcIl07XG4gICAgICAgICAgICAgICAgdGhpcy50ZXN0ID0gdGhpcy5fdGVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90ZXN0KGRhdGEsIGNvbnRleHQsIHJlY3Vyc2lvbiwgaG9zdCkge1xuICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdGhpcy53aGl0ZWxpc3QgJiYgLTEgIT0gdGhpcy53aGl0ZWxpc3Quc3BsaXQoJywnKS5pbmRleE9mKGhvc3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICB5b2R1bGVzLlVybFdoaXRlTGlzdEZpbHRlciA9IHsgaW5pdCwgZGVwczogW1wiQWJzdHJhY3RQaWlGaWx0ZXJcIl0gfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uIHVybEJsYWNrTGlzdEZpbHRlcigpIHtcbiAgICBzZWxmLnlvZHVsZXMgPSBzZWxmLnlvZHVsZXMgfHwge307XG5cbiAgICBmdW5jdGlvbiBpbml0KEFic3RyYWN0UGlpRmlsdGVyLCBQaWlWYWx1ZUVuY3J5cHRvciwgSGVscGVycykge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLlVybEJsYWNrTGlzdEZpbHRlcjtcbiAgICAgICAgY29uc3QgcGlpVmFsdWVFbmNyeXB0b3IgPSBQaWlWYWx1ZUVuY3J5cHRvci5pbnN0YW5jZSxcbiAgICAgICAgICAgIEggPSBIZWxwZXJzLmluc3RhbmNlO1xuICAgICAgICBtb2R1bGUuY2xhc3MgPSBjbGFzcyBVcmxCbGFja0xpc3RGaWx0ZXIgZXh0ZW5kcyBBYnN0cmFjdFBpaUZpbHRlci5jbGFzcyB7XG4gICAgICAgICAgICBjb25zdHJ1Y3Rvcihpc0ZpbmFsZSwgYmxhY2tsaXN0KSB7XG4gICAgICAgICAgICAgICAgc3VwZXIoaXNGaW5hbGUsIGJsYWNrbGlzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5maWVsZHMgPSBbXCJwYXRobmFtZVwiLCBcInNlYXJjaFwiLCBcImhhc2hcIl07XG4gICAgICAgICAgICAgICAgdGhpcy5ibGFja0xpc3QgPSBibGFja2xpc3QgfHwge307XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCJwYXRobmFtZVwiOiAnLycsXG4gICAgICAgICAgICAgICAgICAgIFwic2VhcmNoXCI6ICc/JyxcbiAgICAgICAgICAgICAgICAgICAgXCJoYXNoXCI6ICcjJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5uZWVkU3BsaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlc3QgPSB0aGlzLl90ZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0IGJsYWNrTGlzdCgpIHsgcmV0dXJuIHRoaXMuX2JsYWNrbGlzdDsgfVxuICAgICAgICAgICAgc2V0IGJsYWNrTGlzdCh2YWwpIHsgdGhpcy5fYmxhY2tsaXN0ID0gdmFsOyB9XG4gICAgICAgICAgICBnZXQgY2hhcnMoKSB7IHJldHVybiB0aGlzLl9jaGFyczsgfVxuICAgICAgICAgICAgc2V0IGNoYXJzKHZhbCkgeyB0aGlzLl9jaGFycyA9IHZhbDsgfVxuICAgICAgICAgICAgZ2V0IG5lZWRTcGxpdCgpIHsgcmV0dXJuIHRoaXMuX25lZWRTcGxpdDsgfVxuICAgICAgICAgICAgc2V0IG5lZWRTcGxpdCh2YWwpIHsgdGhpcy5fbmVlZFNwbGl0ID0gdmFsOyB9XG4gICAgICAgICAgICBhc3luYyBfdGVzdChkYXRhLCBjb250ZXh0LCByZWN1cnNpb24sIGhvc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuY2hhcnNbY29udGV4dF0gfHwgJy8nKSA9PT0gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCByZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5ibGFja0xpc3QpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBiazsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYmsgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoLTEgIT09IGhvc3QuaW5kZXhPZih0aGlzLmJsYWNrTGlzdFtia10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhY2hlID0gKHRoaXMuY2hhcnNbY29udGV4dF0gfHwgJy8nKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDcnlwdG9cIiArIGF3YWl0IHBpaVZhbHVlRW5jcnlwdG9yLmVuY3J5cHQoYmspICsgXCJvdHB5ckNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgeW9kdWxlcy5VcmxCbGFja0xpc3RGaWx0ZXIgPSB7IGluaXQsIGRlcHM6IFtcIkFic3RyYWN0UGlpRmlsdGVyXCIsIFwiUGlpVmFsdWVFbmNyeXB0b3JcIiwgXCJIZWxwZXJzXCJdIH07XG59KSgpO1xuXG5cbihmdW5jdGlvbiB1cmxQYXJhbWV0ZXJzRmlsdGVyKCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoQWJzdHJhY3RQaWlGaWx0ZXIsIFBpaVZhbHVlRW5jcnlwdG9yLCBIZWxwZXJzKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHlvZHVsZXMuVXJsUGFyYW1ldGVyc0ZpbHRlcixcbiAgICAgICAgICAgIEggPSBIZWxwZXJzLmluc3RhbmNlO1xuICAgICAgICBjb25zdCBwaWlWYWx1ZUVuY3J5cHRvciA9IFBpaVZhbHVlRW5jcnlwdG9yLmluc3RhbmNlO1xuICAgICAgICBtb2R1bGUuY2xhc3MgPSBjbGFzcyBVcmxQYXJhbWV0ZXJzRmlsdGVyIGV4dGVuZHMgQWJzdHJhY3RQaWlGaWx0ZXIuY2xhc3Mge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoaXNGaW5hbGUsIHdoaXRlbGlzdCwgdXJscGFyYW0sIHBhdGhzKSB7XG4gICAgICAgICAgICAgICAgc3VwZXIoaXNGaW5hbGUsIHdoaXRlbGlzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5maWVsZHMgPSBbXCJwYXRobmFtZVwiLCBcInNlYXJjaFwiLCBcImhhc2hcIl07XG4gICAgICAgICAgICAgICAgdGhpcy51cmxQYXJhbXMgPSB1cmxwYXJhbTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGhlcyA9IHBhdGhzO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLndoaXRlbGlzdCA9IHdoaXRlbGlzdCB8fCB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZWRTcGxpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXN0ID0gdGhpcy5fdGVzdDtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHRoaXMuX3Byb2Nlc3NvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldCB1cmxQYXJhbXMoKSB7IHJldHVybiB0aGlzLl91cmxwYXJhbXM7IH1cbiAgICAgICAgICAgIHNldCB1cmxQYXJhbXModmFsKSB7IHRoaXMuX3VybHBhcmFtcyA9IHZhbDsgfVxuICAgICAgICAgICAgZ2V0IHBhdGhlcygpIHsgcmV0dXJuIHRoaXMuX3BhdGg7IH1cbiAgICAgICAgICAgIHNldCBwYXRoZXModmFsKSB7IHRoaXMuX3BhdGggPSB2YWw7IH1cbiAgICAgICAgICAgIGdldCBuZWVkU3BsaXQoKSB7IHJldHVybiB0aGlzLl9uZWVkU3BsaXQ7IH1cbiAgICAgICAgICAgIHNldCBuZWVkU3BsaXQodmFsKSB7IHRoaXMuX25lZWRTcGxpdCA9IHZhbDsgfVxuICAgICAgICAgICAgcHJlcHJvY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdHVtID0ge1xuICAgICAgICAgICAgICAgICAgICBwYXRobmFtZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBcIlwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsZXQgcSA9IGRhdGEuaW5kZXhPZignPycpO1xuICAgICAgICAgICAgICAgIGRhdHVtLnBhdGhuYW1lID0gZGF0YS5zdWJzdHJpbmcoMSwgcSk7XG4gICAgICAgICAgICAgICAgbGV0IHNlYXJjaCA9IGRhdGEuc3Vic3RyaW5nKHEgKyAxKTtcbiAgICAgICAgICAgICAgICBkYXR1bS5zZWFyY2ggPSBzZWFyY2guc3Vic3RyaW5nKDApLnNwbGl0KCcmJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdHVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgdHJ5X3RvX3Rlc3Rfc2VyYWNoKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBsZXQgbG9jYWxfY2FjaGUgPSBkYXRhO1xuICAgICAgICAgICAgICAgIGxldCBrZXkgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKC0xID09PSBkYXRhLmluZGV4T2YoXCI9XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBsb2NhbF9jYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBkYXRhLnNwbGl0KFwiPVwiKVswXTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBkYXRhLnNwbGl0KFwiPVwiKVsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKC0xICE9IHRoaXMud2hpdGVsaXN0LnNwbGl0KCcsJykuaW5kZXhPZihrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBsb2NhbF9jYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGF3YWl0IEguYXN5bmNGb3JFYWNoKE9iamVjdC5rZXlzKHRoaXMudXJsUGFyYW1zKSwgYXN5bmMgciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoLTEgPT0ga2V5LnNlYXJjaChuZXcgUmVnRXhwKHRoaXMudXJsUGFyYW1zW3JdLmtyKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlcyA9IF92YWx1ZS5tYXRjaChuZXcgUmVnRXhwKHRoaXMudXJsUGFyYW1zW3JdLnZyLCAnZycpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXMgfHwgKG1hdGNoZXMgJiYgIW1hdGNoZXMubGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSB0aGlzLmRlY29kZVVSSVJlY3Vyc2l2ZSh2YWx1ZSkuZGVjb2RlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcyA9IF92YWx1ZS5tYXRjaChuZXcgUmVnRXhwKHRoaXMudXJsUGFyYW1zW3JdLnZyLCAnZycpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxfY2FjaGUgPSBrZXkgKyAnPScgKyBhd2FpdCBILmFzeW5jUmVwbGFjZShfdmFsdWUsIG5ldyBSZWdFeHAodGhpcy51cmxQYXJhbXNbcl0udnIpLCBhc3luYyBtYXRjaCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDcnlwdG9cIiArIGF3YWl0IHBpaVZhbHVlRW5jcnlwdG9yLmVuY3J5cHQobWF0Y2gpICsgXCJvdHB5ckNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcyB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBsb2NhbF9jYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiByZXNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFzeW5jIHRyeV90b190ZXN0X3BhdGhuYW1lKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWVzX3RvX3Byb2Nlc3MgPSBkYXRhLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgbGV0IGNhY2hlID0gdmFsdWVzX3RvX3Byb2Nlc3M7XG4gICAgICAgICAgICAgICAgbGV0IHBycyA9IEFycmF5LmZyb20obmV3IEFycmF5KHZhbHVlc190b19wcm9jZXNzLmxlbmd0aCksICgpID0+IGZhbHNlKTtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdiA9IDA7IHYgPCB2YWx1ZXNfdG9fcHJvY2Vzcy5sZW5ndGg7ICsrdikge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBILmFzeW5jRm9yRWFjaChPYmplY3Qua2V5cyh0aGlzLnBhdGhlcyksIGFzeW5jIHBmID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcnNbdl0gJiYgLTEgIT0gdmFsdWVzX3RvX3Byb2Nlc3Nbdl0uc2VhcmNoKG5ldyBSZWdFeHAodGhpcy5wYXRoZXNbcGZdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVbdl0gPSBhd2FpdCBILmFzeW5jUmVwbGFjZSh2YWx1ZXNfdG9fcHJvY2Vzc1t2XSwgbmV3IFJlZ0V4cCh0aGlzLnBhdGhlc1twZl0pLCBhc3luYyBtYXRjaCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ3J5cHRvXCIgKyBhd2FpdFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHsgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKTsgfShtYXRjaCkgKyBcIm90cHlyQ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByc1t2XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3BhdGhfY2FjaGUgPSBjYWNoZS5qb2luKCcvJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhc3luYyBfdGVzdChkYXRhLCBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZSA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZWZpeCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhX3RvX2dvID0gW2RhdGFdO1xuICAgICAgICAgICAgICAgIGxldCBwYXRobmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGF0aF9jYWNoZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKFwiaGFzaFwiID09PSBjb250ZXh0IHx8IFwic2VhcmNoXCIgPT09IGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiaGFzaFwiID09PSBjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZHRnID0gdGhpcy5wcmVwcm9jZXNzKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90b19nbyA9IGR0Zy5zZWFyY2g7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRobmFtZSA9IGR0Zy5wYXRobmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhdGhfY2FjaGUgPSBwYXRobmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZWZpeCA9ICcjJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBILmFzeW5jRm9yRWFjaChkYXRhX3RvX2dvLCBhc3luYyBkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ciA9IGF3YWl0IHRoaXMudHJ5X3RvX3Rlc3Rfc2VyYWNoKGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzIHw9IHRyLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FjaGUucHVzaCh0ci5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcyB8PSBhd2FpdCB0aGlzLnRyeV90b190ZXN0X3BhdGhuYW1lKHBhdGhuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwicGF0aG5hbWVcIiA9PT0gY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXMgPSBhd2FpdCB0aGlzLnRyeV90b190ZXN0X3BhdGhuYW1lKGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF9wcm9jZXNzb3IoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXMuX3ByZWZpeCArIHRoaXMuX3BhdGhfY2FjaGU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGUgJiYgMSA9PSB0aGlzLmNhY2hlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXMgPSByZXMgKyB0aGlzLmNhY2hlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYWNoZS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBqb2luZWQgPSB0aGlzLmNhY2hlLmpvaW4oJyYnKTtcbiAgICAgICAgICAgICAgICAgICAgam9pbmVkID0gJz8nICsgam9pbmVkO1xuICAgICAgICAgICAgICAgICAgICByZXMgPSByZXMgKyBqb2luZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH1cbiAgICB5b2R1bGVzLlVybFBhcmFtZXRlcnNGaWx0ZXIgPSB7IGluaXQsIGRlcHM6IFtcIkFic3RyYWN0UGlpRmlsdGVyXCIsIFwiUGlpVmFsdWVFbmNyeXB0b3JcIiwgXCJIZWxwZXJzXCJdIH07XG59KSgpO1xuXG5cbihmdW5jdGlvbiBwaWlGaWx0ZXIoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdChVcmxXaGl0ZUxpc3RGaWx0ZXIsIFVybEJsYWNrTGlzdEZpbHRlciwgVXJsUGFyYW1ldGVyc0ZpbHRlciwgSGVscGVycykge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLlBpaUZpbHRlcjtcbiAgICAgICAgY29uc3RcbiAgICAgICAgICAgIFVybFdoaXRlTGlzdEZpbHRlckNsYXNzID0gVXJsV2hpdGVMaXN0RmlsdGVyLmNsYXNzLFxuICAgICAgICAgICAgVXJsUGFyYW1ldGVyc0ZpbHRlckNsYXNzID0gVXJsUGFyYW1ldGVyc0ZpbHRlci5jbGFzcyxcbiAgICAgICAgICAgIFVybEJsYWNrTGlzdEZpbHRlckNsYXNzID0gVXJsQmxhY2tMaXN0RmlsdGVyLmNsYXNzLFxuICAgICAgICAgICAgSCA9IEhlbHBlcnMuaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHBpaV9jb25maWcgPSB7IFwiZGF0YVwiOiBcImUzMD1cIiwgXCJ2ZXJzaW9uXCI6IDAgfTtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgUGlpRmlsdGVyIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsdGVycyhwaWlfY29uZmlnIHx8IHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEZpbHRlcnMocGlpX3NldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBwaWlfc2V0dGluZ3MpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBsZXQgcGlpX3NldHRpbmdzX2RhdGEgPSBKU09OLnBhcnNlKGF0b2IocGlpX3NldHRpbmdzLmRhdGEgfHwgXCJlMzA9XCIpKTtcbiAgICAgICAgICAgICAgICBsZXQgcnVsZXMgPSB7fTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cygocGlpX3NldHRpbmdzX2RhdGEudXJscGFyYW1zIHx8IHt9KSkuZm9yRWFjaCgodXApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGQxID0gcGlpX3NldHRpbmdzX2RhdGEudXJscGFyYW1zW3VwXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoMyAhPSBkMS5sZW5ndGggJiYgMiAhPSBkMS5sZW5ndGgpIHt9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleV9ydWxlID0gKGQxWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZV9ydWxlID0gKGQxWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzW3VwXSA9IHsga3I6IGtleV9ydWxlLCB2cjogdmFsdWVfcnVsZSwgdDogZDFbMl0gfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBpaV9zZXR0aW5nc19kYXRhLnVybHBhcmFtc19tID0gcnVsZXM7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGlpX3NldHRpbmdzX2RhdGEuc2l0ZXdoaXRlbGlzdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5wdXNoKG5ldyBVcmxXaGl0ZUxpc3RGaWx0ZXJDbGFzcyh0cnVlLCBwaWlfc2V0dGluZ3NfZGF0YS5zaXRld2hpdGVsaXN0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwaWlfc2V0dGluZ3NfZGF0YS5ibGFja2xpc3QgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXMocGlpX3NldHRpbmdzX2RhdGEuYmxhY2tsaXN0KS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMucHVzaChuZXcgVXJsQmxhY2tMaXN0RmlsdGVyQ2xhc3ModHJ1ZSwgcGlpX3NldHRpbmdzX2RhdGEuYmxhY2tsaXN0KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwaWlfc2V0dGluZ3NfZGF0YS5wYXJhbXdoaXRlbGlzdCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBpaV9zZXR0aW5nc19kYXRhLnVybHBhcmFtc19tID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcGlpX3NldHRpbmdzX2RhdGEucGF0aHMgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBpaV9zZXR0aW5nc19kYXRhLnBhdGhzKS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzLnB1c2gobmV3IFVybFBhcmFtZXRlcnNGaWx0ZXJDbGFzcyhmYWxzZSwgcGlpX3NldHRpbmdzX2RhdGEucGFyYW13aGl0ZWxpc3QsIHBpaV9zZXR0aW5nc19kYXRhLnVybHBhcmFtc19tLCBwaWlfc2V0dGluZ3NfZGF0YS5wYXRocykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgX19wcm9jZXNzb3IodXJsKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRmID0gW107XG4gICAgICAgICAgICAgICAgbGV0IG91cmwgPSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkczogW1wicHJvdG9jb2xcIiwgXCJob3N0bmFtZVwiLCBcInBvcnRcIiwgXCJwYXRobmFtZVwiLCBcInNlYXJjaFwiLCBcImhhc2hcIiwgXCJob3N0XCIsIFwidXNlcm5hbWVcIiwgXCJwYXNzd29yZFwiXSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge30sXG4gICAgICAgICAgICAgICAgICAgIGhyZWY6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBwcm90b2NvbCwgdXNlcm5hbWUsIHBhc3N3b3JkLCBob3N0LCBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0gPSBvdXJsLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RyaW5nQnVpbGRlciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvdG9jb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdCdWlsZGVyICs9IHByb3RvY29sICsgXCIvL1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0J1aWxkZXIgKz0gYCR7dXNlcm5hbWV9OiR7cGFzc3dvcmR9QGA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nQnVpbGRlciArPSBgJHt1c2VybmFtZX1AYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9zdCkgeyBzdHJpbmdCdWlsZGVyICs9IGhvc3Q7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRobmFtZSkgeyBzdHJpbmdCdWlsZGVyICs9IHBhdGhuYW1lOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoKSB7IHN0cmluZ0J1aWxkZXIgKz0gc2VhcmNoOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzaCkgeyBzdHJpbmdCdWlsZGVyICs9IGhhc2g7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdCdWlsZGVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBsZXQgcGFyc2VyO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlciA9IG5ldyBVUkwodXJsKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3VybC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZXJbYV0gJiYgXCJcIiAhPT0gcGFyc2VyW2FdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXJsLmRhdGFbYV0gPSBwYXJzZXJbYV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZpbHRlcnMubGVuZ3RoOyBpID0gaSArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cmYgPSB0aGlzLmZpbHRlcnNbaV07XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IEguYXN5bmNGb3JFYWNoKGN1cmYuZmllbGRzLCBhc3luYyBmdW5jdGlvbihrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW91cmwuZGF0YVtrXSB8fCBcIlwiID09PSBvdXJsLmRhdGFba10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmF3ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmVlZF9zcGxpdCA9IChcInNlYXJjaFwiID09PSBrICYmIChjdXJmLl9uZWVkU3BsaXQgfHwgZmFsc2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZWVkX3NwbGl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3ID0gb3VybC5kYXRhW2tdLnN1YnN0cmluZygxKS5zcGxpdChcIiZcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3LnB1c2gob3VybC5kYXRhW2tdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcmVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBILmFzeW5jRm9yRWFjaChyYXcsIGFzeW5jIGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbHJlcyA9IGF3YWl0IGN1cmYudGVzdChyLCBrLCBmYWxzZSwgb3VybC5kYXRhW1wiaG9zdG5hbWVcIl0gfHwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxyZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRmLnB1c2goY3VyZi5fbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gbHJlcyB8fCByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlcy5wdXNoKGxyZXMgPyBjdXJmLnByb2Nlc3NvcihyLCBrKSA6IHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmVlZF9zcGxpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91cmwuZGF0YVtrXSA9IFwiP1wiICsgcHJlcy5qb2luKCcmJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91cmwuZGF0YVtrXSA9IHByZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzICYmIGN1cmYuaXNGaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nOiBvdXJsLmhyZWYoKSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXMsXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnM6IGRmXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgY2xlYXJVcmwodXJsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByID0gYXdhaXQgdGhpcy5fX3Byb2Nlc3Nvcih1cmwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHIgJiYgcHIuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHIuc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgIH1cbiAgICB5b2R1bGVzLlBpaUZpbHRlciA9IHsgaW5pdCwgZGVwczogW1wiVXJsV2hpdGVMaXN0RmlsdGVyXCIsIFwiVXJsQmxhY2tMaXN0RmlsdGVyXCIsIFwiVXJsUGFyYW1ldGVyc0ZpbHRlclwiLCBcIkhlbHBlcnNcIl0gfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uIHdlYk5hdmlnYXRpb25MaXN0ZW5lcnMoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdChUYWJsaXN0LCBTZW5kUmVxdWVzdEZvclRhYikge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLldlYk5hdmlnYXRpb25MaXN0ZW5lcnM7XG4gICAgICAgIGNvbnN0IHRhYmxpc3QgPSBUYWJsaXN0Lmluc3RhbmNlLFxuICAgICAgICAgICAgc2VuZFJlcXVlc3RGb3JUYWIgPSBTZW5kUmVxdWVzdEZvclRhYi5pbnN0YW5jZTtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgVGFiTGlzdGVuZXJzIHtcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgICAgIHRoaXMud24gPSBjaHJvbWUud2ViTmF2aWdhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZExpc3RlbmVycygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnduLm9uQ29tbWl0dGVkLmFkZExpc3RlbmVyKHRoaXMuX29uQ29tbWl0dGVkLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX29uQ29tbWl0dGVkKGRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICBkZXRhaWxzID0gZGV0YWlscyB8fCB7fTtcbiAgICAgICAgICAgICAgICBjb25zdCB0aWQgPSBkZXRhaWxzLnRhYklkLFxuICAgICAgICAgICAgICAgICAgICBucSA9IGRldGFpbHMudHJhbnNpdGlvblF1YWxpZmllcnM7XG4gICAgICAgICAgICAgICAgaWYgKHRpZCAmJiBkZXRhaWxzLmZyYW1lSWQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGlzdC5nZXRCeUlkKHRpZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRUcmFuc2l0aW9uVHlwZShkZXRhaWxzLnRyYW5zaXRpb25UeXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFRyYW5zaXRpb25RdWFsaWZpZXIobnEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoL2NsaWVudF9yZWRpcmVjdC8udGVzdChucSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxpc3QuZ2V0QnlJZCh0aWQpLmFkZENsaWVudFJlZGlyZWN0cyhkZXRhaWxzLnVybCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VuZFJlcXVlc3RGb3JUYWIuc2VuZFRyYWNrKHRpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBtb2R1bGUuaW5zdGFuY2UgPSBuZXcgbW9kdWxlLmNsYXNzKCk7XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZS5hZGRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgeW9kdWxlcy5XZWJOYXZpZ2F0aW9uTGlzdGVuZXJzID0geyBpbml0LCBkZXBzOiBbXCJUYWJsaXN0XCIsIFwiU2VuZFJlcXVlc3RGb3JUYWJcIl0gfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uIHBsb3lkZXIoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdChTZW5kUmVxdWVzdEZvclRhYikge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLlBsb3lkZXI7XG4gICAgICAgIGNvbnN0IHNlbmRSZXF1ZXN0Rm9yVGFiID0gU2VuZFJlcXVlc3RGb3JUYWIuaW5zdGFuY2U7XG4gICAgICAgIG1vZHVsZS5jbGFzcyA9IGNsYXNzIFBsb3lkZXIge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGxveXMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpbWl0ID0gcGFyc2VJbnQoXCI2XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHVzaEl0ZW0ocGxveSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNQbG95KHBsb3kpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wbG95cy5wdXNoKHBsb3kpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhc1Bsb3kocGxveSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwbG95ICYmIHBsb3kuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpICYmICEhdGhpcy5fcGxveXMuZmluZChQID0+IFAudHlwZSA9PT0gcGxveS50eXBlICYmIEpTT04uc3RyaW5naWZ5KHBsb3kpID09PSBKU09OLnN0cmluZ2lmeShQKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bnNoaWZ0SXRlbShwbG95KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGxveXMudW5zaGlmdChwbG95KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldEFsbCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGxveXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWtlKGxpbWl0ID0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChsaW1pdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50YWtlQWxsKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsKCkuc3BsaWNlKDAsIGxpbWl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWtlQWxsKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wbG95cy5zcGxpY2UoMCwgdGhpcy5fcGxveXMubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhc0l0ZW1zKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wbG95cy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2NoZWNrU2VycFJlc3VsdHMoaXRlbXMsIHVybCkge1xuICAgICAgICAgICAgICAgIGxldCBjb250YWluVmFsaWRTZXJwID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSAhPT0gXCJzZXJwXCIpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5kYXRhLnVybCA9PT0gdXJsICYmICFjb250YWluVmFsaWRTZXJwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgaXRlbS5kYXRhLnVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpdGVtLmRhdGEudGltZXN0YW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpblZhbGlkU2VycCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmRhdGEudGltZXN0YW1wID4gRGF0ZS5ub3coKSAtIDVlMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bnNoaWZ0SXRlbShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWtlQW5kUGFjayh1cmwgPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW1zID0gdGhpcy50YWtlKHRoaXMubGltaXQpO1xuICAgICAgICAgICAgICAgIGl0ZW1zID0gdGhpcy5fY2hlY2tTZXJwUmVzdWx0cyhpdGVtcywgdXJsKTtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpdGVtcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBtb2R1bGUuaW5zdGFuY2UgPSBuZXcgbW9kdWxlLmNsYXNzKCk7XG4gICAgICAgIGNvbnN0IGluc3QgPSBtb2R1bGUuaW5zdGFuY2U7XG4gICAgICAgIHNlbmRSZXF1ZXN0Rm9yVGFiLm9uQmVmb3JlU2VuZCgodGFiSWQsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChpbnN0Lmhhc0l0ZW1zKCkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmxrID0gaW5zdC50YWtlQW5kUGFjayhkYXRhLnN1YnRyZ3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICB5b2R1bGVzLlBsb3lkZXIgPSB7IGluaXQsIGRlcHM6IFtcIlNlbmRSZXF1ZXN0Rm9yVGFiXCJdIH07XG59KSgpO1xuXG5cbihmdW5jdGlvbiBwbG95ZGVySGVscGVyKCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoUGxveWRlciwgSGVscGVycykge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLlBsb3lkZXJIZWxwZXI7XG4gICAgICAgIGNvbnN0IHBsb3lkZXIgPSBQbG95ZGVyLmluc3RhbmNlLFxuICAgICAgICAgICAgaGVscGVycyA9IEhlbHBlcnMuaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHNvdXJjZVR5cGVzID0ge30sXG4gICAgICAgICAgICBhbGxvd2VkU2NyYXBwaW5nVHlwZXMgPSBPYmplY3QudmFsdWVzKHNvdXJjZVR5cGVzKTtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgUGxveWRlckhlbHBlciB7fTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgIH1cbiAgICB5b2R1bGVzLlBsb3lkZXJIZWxwZXIgPSB7XG4gICAgICAgIGluaXQsXG4gICAgICAgIGRlcHM6IFtcIlBsb3lkZXJcIiwgXCJIZWxwZXJzXCJdXG4gICAgfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uIHRvZ2dsZXIoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0geW9kdWxlcy5Ub2dnbGVyO1xuICAgICAgICBjb25zdCBkZWZhdWx0SXNPbiA9IHBhcnNlSW50KFwiMVwiKTtcbiAgICAgICAgY29uc3QgbG9jYWxLZXkgPSBcInR5bV9cIjtcbiAgICAgICAgY29uc3QgU0hBUkVfREVWX0RBVEFfT04gPSBcInR1cm5PblwiLFxuICAgICAgICAgICAgU0hBUkVfREVWX0RBVEFfT0ZGID0gXCJ0dXJuT2ZmXCI7XG4gICAgICAgIG1vZHVsZS5jbGFzcyA9IGNsYXNzIFRvZ2dsZXIge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc09uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRUdXJuT25Qcm9taXNlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0IGlzT24oKSB7IHJldHVybiB0aGlzLl9pc09uOyB9XG4gICAgICAgICAgICBzZXQgaXNPbih2YWwpIHsgdGhpcy5faXNPbiA9IHZhbDsgfVxuICAgICAgICAgICAgX3NhdmUoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdGVPID0ge307XG4gICAgICAgICAgICAgICAgd3JpdGVPW2xvY2FsS2V5XSA9IHRoaXMuaXNPbiB8IDA7XG4gICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHdyaXRlTyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfbG9hZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChsb2NhbEtleSwgcmVzcCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsID0gcmVzcFtsb2NhbEtleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50VmFsID0gcGFyc2VJbnQodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihpbnRWYWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc09uID0gZGVmYXVsdElzT247XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNPbiA9IGludFZhbCA9PT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfb3B0VHVybk9uKCkge31cbiAgICAgICAgICAgIHR1cm5PbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzT24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NhdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vcHRUdXJuT24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHR1cm5PZmYoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc09uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2F2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX29uTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UgJiYgbWVzc2FnZS5hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuYWN0aW9uID09PSBTSEFSRV9ERVZfREFUQV9PTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50dXJuT24oKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLmFjdGlvbiA9PT0gU0hBUkVfREVWX0RBVEFfT0ZGKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR1cm5PZmYoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZExpc3RlbmVycygpIHtcbiAgICAgICAgICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIodGhpcy5fb25NZXNzYWdlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hlbk9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzT24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdFR1cm5PblByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29wdFR1cm5PblByb21pc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBwcm9tO1xuICAgICAgICAgICAgICAgIHByb20gPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3B0VHVybk9uID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX29wdFR1cm5PblByb21pc2U7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29wdFR1cm5PblByb21pc2UgPSBwcm9tO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9tO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9wdGluKCkgeyB0aGlzLnR1cm5PbigpOyByZXR1cm4gdGhpczsgfVxuICAgICAgICAgICAgb3B0b3V0KCkgeyB0aGlzLnR1cm5PZmYoKTsgcmV0dXJuIHRoaXM7IH1cbiAgICAgICAgICAgIGlzb3B0KCkgeyByZXR1cm4gdGhpcy5pc09uOyB9XG4gICAgICAgICAgICB3aGVub3B0KCkgeyByZXR1cm4gdGhpcy53aGVuT24oKTsgfVxuICAgICAgICB9XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZSA9IG5ldyBtb2R1bGUuY2xhc3MoKTtcbiAgICAgICAgcmV0dXJuIG1vZHVsZS5pbnN0YW5jZS5fbG9hZCgpO1xuICAgIH1cbiAgICB5b2R1bGVzLlRvZ2dsZXIgPSB7IGluaXQgfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uIGNvbnRlbnRUeXBlSGVscGVyKCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoVGFibGlzdCkge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLkNvbnRlbnRUeXBlSGVscGVyO1xuICAgICAgICBjb25zdCB0YWJsaXN0ID0gVGFibGlzdC5pbnN0YW5jZTtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgQ29udGVudFR5cGVIZWxwZXIge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R5cGVzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnROYW1lID0gJ3VwbmFibGEnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVnaXN0ZXJDdHlwZSh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbHVlcykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVzID09PSAnc3RyaW5nJykgeyB2YWx1ZXMgPSBbdmFsdWVzXTsgfVxuICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R5cGVzID0gdGhpcy5fY3R5cGVzLmNvbmNhdCh2YWx1ZXMuZmlsdGVyKHZhbHVlID0+ICF0aGlzLl9jdHlwZXMuaW5jbHVkZXModmFsdWUpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDdHlwZShldmVudCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1ZhbGlkUmVxdWVzdChldmVudCwgJ3R5cGUnLCB0aGlzLl9ldmVudE5hbWUpIHx8ICF0aGlzLmlzVmFsaWREZXRhaWxzKGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWIgPSB0YWJsaXN0LmdldEJ5SWQoZXZlbnQuZGV0YWlsLnRhYklkKSxcbiAgICAgICAgICAgICAgICAgICAgb3BlbmVyVGFiID0gdGFibGlzdC5nZXRCeUlkKGV2ZW50LmRldGFpbC5vcGVuZXJJZCksXG4gICAgICAgICAgICAgICAgICAgIHJldHJvY3R5cGUgPSBvcGVuZXJUYWIgJiYgb3BlbmVyVGFiLmdldFJldHJvY3R5cGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYiAmJiByZXRyb2N0eXBlICYmIHRoaXMuX2N0eXBlcy5pbmNsdWRlcyhyZXRyb2N0eXBlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFiLnNldENvbnRlbnRUeXBlKHJldHJvY3R5cGUpO1xuICAgICAgICAgICAgICAgICAgICBvcGVuZXJUYWIuY2xlYXJSZXRyb2N0eXBlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNWYWxpZERldGFpbHMoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQgJiYgZXZlbnQuZGV0YWlsICYmIGV2ZW50LmRldGFpbC50YWJJZCAmJiAhIWV2ZW50LmRldGFpbC5vcGVuZXJJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzVmFsaWRSZXF1ZXN0KHJlcXVlc3QsIHBhcmFtLCB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdCAmJiByZXF1ZXN0W3BhcmFtXSAmJlxuICAgICAgICAgICAgICAgICAgICAocmVxdWVzdFtwYXJhbV0gPT09IHZhbHVlcyB8fCBBcnJheS5pc0FycmF5KHZhbHVlcykgJiYgdmFsdWVzLmluY2x1ZGVzKHJlcXVlc3RbcGFyYW1dKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRMaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50TmFtZSwgdGhpcy5zZXRDdHlwZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgICAgICBtb2R1bGUuaW5zdGFuY2UuYWRkTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIHlvZHVsZXMuQ29udGVudFR5cGVIZWxwZXIgPSB7IGluaXQsIGRlcHM6IFtcIlRhYmxpc3RcIl0gfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uIHNjcmFwQnlSZW1vdGVDb25maWcoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdChQbG95ZGVyLCBTUkNvbmZpZ0ZldGNoZXIpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0geW9kdWxlcy5TY3JhcEJ5UmVtb3RlQ29uZmlnQmc7XG4gICAgICAgIGNvbnN0IHBsb3lkZXIgPSBQbG95ZGVyLmluc3RhbmNlO1xuICAgICAgICBjb25zdCBtZXNzYWdlU2NyYXBDb2xsZWN0ZWQgPSBcIm0oJ3NjcmFwX2NvbGxlY3RlZCcpXCI7XG4gICAgICAgIG1vZHVsZS5jbGFzcyA9IGNsYXNzIFNjcmFwZXJCeVJlbW90ZUNvbmZpZ0JnIHtcbiAgICAgICAgICAgIHN0YXJ0TGlzdGVuU1IoKSB7XG4gICAgICAgICAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChtc2csIHNlbmRlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobXNnLm1lc3NhZ2UgPT09IG1lc3NhZ2VTY3JhcENvbGxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnLnNjcmFwcyAmJiBtc2cuc2NyYXBzLmxlbmd0aCAmJiBtc2cuc2NyYXBzLmZvckVhY2goc2NyYXAgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JhcFtcInR5cGVcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyYXBbXCJtZXRhXCJdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHNlbmRlci50YWIuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNlbmRlci50YWIudXJsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3lkZXIucHVzaEl0ZW0oc2NyYXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgICAgICBtb2R1bGUuaW5zdGFuY2Uuc3RhcnRMaXN0ZW5TUigpO1xuICAgIH1cbiAgICB5b2R1bGVzLlNjcmFwQnlSZW1vdGVDb25maWdCZyA9IHsgaW5pdCwgZGVwczogW1wiUGxveWRlclwiLCBcIlNSQ29uZmlnRmV0Y2hlclwiXSB9O1xufSkoKTtcblxuIiwiXG4oZnVuY3Rpb24gdGFiKCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHlvZHVsZXMuVGFiO1xuICAgICAgICBtb2R1bGUuY2xhc3MgPSBjbGFzcyBUYWIge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck1ldGEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldElkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9JZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldElkKHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX0lkID0gW3ZhbF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRWYWwobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3NpZ25WYWxzKG1hcCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgbWFwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldE9wZW5lcklkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9PcGVuZXJJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE9wZW5lcklkKHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX09wZW5lcklkID0gdmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0VXJsKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9Vcmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRVcmwodmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fVXJsID0gdmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q2hyb21lVXJsKHRhYklkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaHJvbWVUYWJHZXR0ZXIodGFiSWQsICh0YWJJZCwgY2hyb21lVGFiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VXJsKGNocm9tZVRhYi51cmwpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hyb21lVGFiR2V0dGVyKHRhYklkLCBmbikge1xuICAgICAgICAgICAgICAgIGlmICghdGFiSWQgfHwgIWZuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnRhYnMuZ2V0KHRhYklkLCBjaHJvbWVUYWIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcikge30gZWxzZSBpZiAoY2hyb21lVGFiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4odGFiSWQsIGNocm9tZVRhYik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0UmVsdHlwZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fUmVsdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFJlbHR5cGUodmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fUmVsdHlwZSA9IHZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyUmVsdHlwZSgpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fUmVsdHlwZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldFJldHJvY3R5cGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX1JldHJvY3R5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRSZXRyb2N0eXBlKHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX1JldHJvY3R5cGUgPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhclJldHJvY3R5cGUoKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX1JldHJvY3R5cGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRNZXRhKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9NZXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkTWV0YSh2YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX01ldGEpIHRoaXMuY2xlYXJNZXRhKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fTWV0YS5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhck1ldGEoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fTWV0YSA9IFsnZXh0aGVhZCddO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0Q29udGVudFR5cGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX0NvbnRlbnRUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q29udGVudFR5cGUodmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fQ29udGVudFR5cGUgPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRJc1Jlc3RhcnRpbmcoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX0lzUmVzdGFydGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldElzUmVzdGFydGluZyh2YWwgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fSXNSZXN0YXJ0aW5nID0gdmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0SXNBamF4KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9Jc0FqYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRJc0FqYXgodmFsID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX0lzQWpheCA9IHZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldFNlcnZlclJlZGlyZWN0cygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fU2VydmVyUmVkaXJlY3RzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkU2VydmVyUmVkaXJlY3RzKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fU2VydmVyUmVkaXJlY3RzKSB0aGlzLl9TZXJ2ZXJSZWRpcmVjdHMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9TZXJ2ZXJSZWRpcmVjdHMucHVzaCh2YWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYXRTZXJ2ZXJSZWRpcmVjdHMoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fU2VydmVyUmVkaXJlY3RzID0gW107XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRDbGllbnRSZWRpcmVjdHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX0NsaWVudFJlZGlyZWN0cyB8fCAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZENsaWVudFJlZGlyZWN0cyh2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9DbGllbnRSZWRpcmVjdHMgPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhdENsaWVudFJlZGlyZWN0cygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9DbGllbnRSZWRpcmVjdHMgPSAnJztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldFRyYW5zaXRpb25UeXBlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9UcmFuc2l0aW9uVHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRyYW5zaXRpb25UeXBlKHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX1RyYW5zaXRpb25UeXBlID0gdmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0SXNIaCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fSXNIaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldElzSGgodmFsID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX0lzSGggPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRJc1JlcGxhY2VkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9Jc1JlcGxhY2VkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0SXNSZXBsYWNlZCh2YWwgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fSXNSZXBsYWNlZCA9IHZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldEhyZWYoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX0hyZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRIcmVmKHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX0hyZWYgPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRPcmlnaW5VcmwoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29yaWdpblVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldE9yaWdpblVybCh2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vcmlnaW5VcmwgPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRUcmFuc2l0aW9uUXVhbGlmaWVyKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9UcmFuc2l0aW9uUXVhbGlmaWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VHJhbnNpdGlvblF1YWxpZmllcih2YWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9UcmFuc2l0aW9uUXVhbGlmaWVyID0gdmFsO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0SXNGcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fSXNGcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldElzRnIodmFsID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX0lzRnIgPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRJc1JlcG9ydGVkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9Jc1JlcG9ydGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0SXNSZXBvcnRlZCh2YWwgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fSXNSZXBvcnRlZCA9IHZhbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldFByZXYoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX1ByZXY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRQcmV2KHZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX1ByZXYgPSB2YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXJpYWxpemUoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHEgPSB0aGlzLmdldFRyYW5zaXRpb25RdWFsaWZpZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvID0ge1xuICAgICAgICAgICAgICAgICAgICBzdWJyZWY6IHRoaXMuZ2V0SHJlZigpLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IHRoaXMuZ2V0SWQoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFRyYW5zaXRpb25UeXBlKCkpIG8ubnQgPSB0aGlzLmdldFRyYW5zaXRpb25UeXBlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRxICYmIHRxLmxlbmd0aCkgby5ucSA9IHRxO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldE1ldGEoKSkgby5hdG0gPSB0aGlzLmdldE1ldGEoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRDb250ZW50VHlwZSgpKSBvLm5hYmxhID0gdGhpcy5nZXRDb250ZW50VHlwZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFNlcnZlclJlZGlyZWN0cygpKSBvLnN1YnNmd3JkID0gdGhpcy5nZXRTZXJ2ZXJSZWRpcmVjdHMoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRDbGllbnRSZWRpcmVjdHMoKSkgby5zdWJjZndyZCA9IHRoaXMuZ2V0Q2xpZW50UmVkaXJlY3RzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHlvZHVsZXMuVGFiID0geyBpbml0IH07XG59KSgpO1xuXG5cbihmdW5jdGlvbiB0YWJsaXN0KCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoVGFiLCBIZWxwZXJzKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHlvZHVsZXMuVGFibGlzdDtcbiAgICAgICAgVGFiID0gVGFiLmNsYXNzO1xuICAgICAgICBjb25zdCBoZWxwZXJzID0gSGVscGVycy5pbnN0YW5jZTtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgVGFibGlzdCB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90YWJzID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXNCeUlkKGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fdGFic1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRCeUlkKGlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpZCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc0J5SWQoaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RhYnNbaWRdID0gbmV3IFRhYigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90YWJzW2lkXVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldElkKGlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldENocm9tZVVybChpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90YWJzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyVGFiKGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoaWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEJ5SWQoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0T3BlbmVyVGFiKHRhYklkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgX29wZW5lcklkID0gdGhpcy5nZXRCeUlkKHRhYklkKS5nZXRPcGVuZXJJZCgpO1xuICAgICAgICAgICAgICAgIGlmICghX29wZW5lcklkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCBfb3BlbmVyVGFiID0gdGhpcy5nZXRCeUlkKF9vcGVuZXJJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFfb3BlbmVyVGFiKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX29wZW5lclRhYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZShpZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl90YWJzW2lkXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldENocm9tZVRhYkZvclRhYklkKHRhYklkLCBmbikge1xuICAgICAgICAgICAgICAgIGlmICghdGFiSWQgfHwgIXRoaXMuX3RhYnNbdGFiSWRdIHx8ICFmbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RhYnNbdGFiSWRdLmNocm9tZVRhYkdldHRlcih0YWJJZCwgZm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2tpcFRhYlJlcG9ydChpZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhYiA9IHRoaXMuX3RhYnNbaWRdLFxuICAgICAgICAgICAgICAgICAgICBza2lwUmVwb3J0ID0gIXRhYiB8fCAhIXRhYi5nZXRJc1JlcG9ydGVkKCkgJiYgIXRhYi5nZXRJc1JlcGxhY2VkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNraXBSZXBvcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc1ZhbGlkQmFzZVBhcmFtcyh0YWJJZCwgdGFiRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0aGlzLl90YWJzW3RhYklkXTtcbiAgICAgICAgICAgICAgICBsZXQgcCA9IHtcbiAgICAgICAgICAgICAgICAgICAgaXNVcmxWYWxpZDogaGVscGVycy52YWxpZGF0ZVVybCh0YWJEYXRhLnN1YnRyZ3QpLFxuICAgICAgICAgICAgICAgICAgICBsYXN0UGFnZTogdGFiRGF0YS5zdWJsYXN0LFxuICAgICAgICAgICAgICAgICAgICBpc0hoOiBjdXJyZW50VGFiLmdldElzSGgoKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcC5pc1VybEVxdWFscyA9IHAubGFzdFBhZ2UgPT09IHRhYkRhdGEuc3VidHJndDtcbiAgICAgICAgICAgICAgICBwLmlzQWpheCA9IGN1cnJlbnRUYWIuZ2V0SXNBamF4KCkgJiYgIXAuaXNVcmxFcXVhbHM7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9ICEhcC5pc1VybFZhbGlkICYmXG4gICAgICAgICAgICAgICAgICAgICghKCFwLmlzSGggJiYgcC5pc1VybEVxdWFscykgfHwgcC5pc0FqYXgpO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCkgdGhpcy5jbGVhclRhYih0YWJJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRBY3RpdmVUYWJSZWxvYWQoY3VycmVudFRhYiwgY2hyb21lVGFiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNocm9tZVRhYiAmJiAhY2hyb21lVGFiLmFjdGl2ZSAmJiAhY3VycmVudFRhYi5nZXRJc0ZyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdiYWNrZ3JvdW5kX2F1dG9fcmVsb2FkaW5nJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZSA9IG5ldyBtb2R1bGUuY2xhc3MoKTtcbiAgICB9XG4gICAgeW9kdWxlcy5UYWJsaXN0ID0geyBpbml0LCBkZXBzOiBbXCJUYWJcIiwgXCJIZWxwZXJzXCJdIH07XG59KSgpO1xuXG5cblxuKGZ1bmN0aW9uIGhlbHBlcnMoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0geW9kdWxlcy5IZWxwZXJzO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvbnZlcnRUb0xpbmsoaHJlZikge1xuICAgICAgICAgICAgbGV0IGwgPSBuZXcgVVJMKGhyZWYpO1xuICAgICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXN5bmNGb3JFYWNoID0gYXN5bmMgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGFycmF5ID0gdGhpcztcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGFzeW5jTWFwID0gYXN5bmMgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpbmRleF0gPSBhd2FpdCBjYWxsYmFjayh0aGlzW2luZGV4XSwgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhc3luY1JlcGxhY2UgPSBhc3luYyBmdW5jdGlvbihyZWdleCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGxldCBjb3B5ID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSB0aGlzLm1hdGNoKHJlZ2V4KTtcbiAgICAgICAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBtYXRjaGVzW2ldLFxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBhd2FpdCBjYWxsYmFjayhtYXRjaCk7XG4gICAgICAgICAgICAgICAgY29weSA9IGNvcHkucmVwbGFjZShtYXRjaCwgdmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb3B5O1xuICAgICAgICB9O1xuICAgICAgICBtb2R1bGUuY2xhc3MgPSBjbGFzcyBIZWxwZXJzIHtcbiAgICAgICAgICAgIGdldERvbWFpbk5hbWUoaHJlZikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb252ZXJ0VG9MaW5rKGhyZWYpLmhvc3RuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udmVydFRvTGluayhocmVmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRUb0xpbmsoaHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxpZGF0ZVVybCh1cmwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsICYmICh1cmwuaW5kZXhPZihcImh0dHBcIikgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgdXJsLmluZGV4T2YoXCI6L1wiICsgXCIvbG9jYWxob3N0XCIpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICB1cmwuaW5kZXhPZihcImNocm9tZS9uZXd0YWJcIikgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgIHVybC5pbmRleE9mKFwiY2hyb21lLVwiKSAhPT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICB1cmwuaW5kZXhPZihcImFib3V0OlwiKSAhPT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICB1cmwuaW5kZXhPZihcImNocm9tZTovXCIgKyBcIi9cIikgPT09IC0xKSA/IHVybCA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luY0ZvckVhY2goYXJyYXksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzeW5jRm9yRWFjaC5jYWxsKGFycmF5LCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luY01hcChhcnJheSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXN5bmNNYXAuY2FsbChhcnJheSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmNSZXBsYWNlKHN0cmluZywgcmVnZXgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzeW5jUmVwbGFjZS5jYWxsKHN0cmluZywgcmVnZXgsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgIH1cbiAgICB5b2R1bGVzLkhlbHBlcnMgPSB7IGluaXQgfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uIGNvbmZpZ0ZldGNoZXIoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdChLZXlTdG9yYWdlLCBUb2dnbGVyLCBQaWlGaWx0ZXIpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0geW9kdWxlcy5Db25maWdGZXRjaGVyO1xuICAgICAgICBjb25zdFxuICAgICAgICAgICAga2V5U3RvcmFnZSA9IEtleVN0b3JhZ2UuaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHRvZ2dsZXIgPSBUb2dnbGVyLmluc3RhbmNlO1xuICAgICAgICBjb25zdCBwaWlGaWx0ZXIgPSBQaWlGaWx0ZXIuaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHZlcnNpb24gPSBjaHJvbWUucnVudGltZS5nZXRNYW5pZmVzdCgpLnZlcnNpb247XG4gICAgICAgIGNvbnN0IHNrZXlzID0gWydvJywgJ3UnXTtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsZXQgc2V0dGluZ3MgPSB7fTtcbiAgICAgICAgICAgIGxldCBnZXRUaW1lc3RhbXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNob3VsZEdldFNldHRpbmdzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFPYmplY3Qua2V5cyhzZXR0aW5ncykubGVuZ3RoO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcihcInNldHRpbmdzLWV2ZW50XCIsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZXR0aW5ncyA9IGV2ZW50LnNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncyA9IGF0b2Ioc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncyA9IEpTT04ucGFyc2Uoc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNldHRpbmdzKHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmdldFNldHRpbmdzU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGBzPWFjOGJiODE5ZCZ2PSR7dmVyc2lvbn0mcD0ke3NldHRpbmdzLnBpaSA/IHNldHRpbmdzLnBpaS52ZXJzaW9uIDogMH1gXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zZXRTZXR0aW5ncyA9IGZ1bmN0aW9uKHNldHRzKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MgPSBzZXR0cztcbiAgICAgICAgICAgICAgICBsZXQgbG9jYWxfcGlpID0gKHNldHRpbmdzLnBpaSB8fCB7fSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXR0aW5ncy5waWkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MucGlpID0gbG9jYWxfcGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwaWlGaWx0ZXIuc2V0RmlsdGVycyhzZXR0aW5ncy5waWkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuSXNFbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRpbmdzLmhhc093blByb3BlcnR5KHNrZXlzWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBCb29sZWFuKHNldHRpbmdzICYmIHNldHRpbmdzW3NrZXlzWzBdXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5Jc1JlYWR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBnZXRUaW1lc3RhbXAoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZSA+IDA7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5NYWluTG9jYXRvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRpbmdzIHx8ICFzZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShza2V5c1sxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaHR0cHM6Ly9zZWN1cmUubXl3b3QuY29tXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncyAmJiBzZXR0aW5nc1tza2V5c1sxXV1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZSA9IG5ldyBtb2R1bGUuY2xhc3MoKTtcbiAgICAgICAgcmV0dXJuIG1vZHVsZS5pbnN0YW5jZS5zZXRVcFJlc3VsdDtcbiAgICB9XG4gICAgeW9kdWxlcy5Db25maWdGZXRjaGVyID0ge1xuICAgICAgICBpbml0LFxuICAgICAgICBkZXBzOiBbXG4gICAgICAgICAgICBcIktleVN0b3JhZ2VcIixcbiAgICAgICAgICAgIFwiVG9nZ2xlclwiLFxuICAgICAgICAgICAgXCJQaWlGaWx0ZXJcIlxuICAgICAgICBdXG4gICAgfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uIGRhdGFQYWNrZXIoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdChIZWxwZXJzLCBQaWlGaWx0ZXIpIHtcbiAgICAgICAgY29uc3QgSCA9IEhlbHBlcnMuaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHBpaSA9IFBpaUZpbHRlci5pbnN0YW5jZTtcbiAgICAgICAgY29uc3QgbW9kdWxlID0geW9kdWxlcy5EYXRhUGFja2VyO1xuICAgICAgICBjb25zdCBiYXNlS2V5cyA9ICdzdWJ0cmd0IHN1Ymxhc3Qgc3VicmVmIHN1YmNmd3JkIGVycSBrbicsXG4gICAgICAgICAgICBzZXJ2ZXJSZWRpcmVjdEtleSA9ICdzdWJzZndyZCcsXG4gICAgICAgICAgICB1cmxLZXlzID0gYmFzZUtleXMuc3BsaXQoJyAnKS5jb25jYXQoc2VydmVyUmVkaXJlY3RLZXkpLFxuICAgICAgICAgICAgdG1hS2V5ID0gJ2RlbHRhJyxcbiAgICAgICAgICAgIHBpaUtleXMgPSB1cmxLZXlzLFxuICAgICAgICAgICAgZW5jb2RlS2V5cyA9IHVybEtleXMuY29uY2F0KFt0bWFLZXksICdsayddKSxcbiAgICAgICAgICAgIHN0cmluZ2lmeUtleXMgPSBbJ2xrJ107XG4gICAgICAgIG1vZHVsZS5jbGFzcyA9IGNsYXNzIERhdGFQYWNrZXIge1xuICAgICAgICAgICAgYXN5bmMgcGFja0pzb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChvYmouYXRtIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmF0bSA9IG9iai5hdG0uam9pbignLCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCBILmFzeW5jTWFwKHRoaXMuX2ZpbHRlcktleXMob2JqKSwgYXN5bmMga2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXdhaXQgdGhpcy5fcmVmb3JtYXRLZXlWYWx1ZXMoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIF9yZWZvcm1hdEtleVZhbHVlcyhrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBILmFzeW5jTWFwKHZhbHVlLCBhc3luYyBpdGVtID0+IGF3YWl0IHRoaXMuX3JlZm9ybWF0S2V5VmFsdWUoa2V5LCBpdGVtKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9yZWZvcm1hdEtleVZhbHVlKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgX3JlZm9ybWF0S2V5VmFsdWUoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmNvZGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdpZnlLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWlLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXdhaXQgcGlpLmNsZWFyVXJsKHZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZW5jb2RlS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaW5naWZ5S2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9maWx0ZXJLZXlzKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmZpbHRlcihmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqW2tleV0gIT09ICd1bmRlZmluZWQnIHx8IGZhbHNlID09PSBvYmpba2V5XSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgIH1cbiAgICB5b2R1bGVzLkRhdGFQYWNrZXIgPSB7XG4gICAgICAgIGluaXQsXG4gICAgICAgIGRlcHM6IFtcbiAgICAgICAgICAgIFwiSGVscGVyc1wiLFxuICAgICAgICAgICAgXCJQaWlGaWx0ZXJcIixcbiAgICAgICAgXVxuICAgIH07XG59KSgpO1xuXG5cbihmdW5jdGlvbiByZXF1ZXN0ZXIoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdChDb25maWdGZXRjaGVyLCBIZWxwZXJzKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHlvZHVsZXMuUmVxdWVzdGVyO1xuICAgICAgICBjb25zdCBjb25maWdGZXRjaGVyID0gQ29uZmlnRmV0Y2hlci5pbnN0YW5jZSxcbiAgICAgICAgICAgIGhlbHBlcnMgPSBIZWxwZXJzLmluc3RhbmNlO1xuICAgICAgICBtb2R1bGUuY2xhc3MgPSBjbGFzcyBSZXF1ZXN0ZXIge1xuICAgICAgICAgICAgc2VuZFJlcXVlc3REYXRhKHNlbmREYXRhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0V2ZW50KHNlbmREYXRhLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3Byb2Nlc3NFdmVudChzZW5kRGF0YSwgc2VuZFJlc29sdmUsIHNlbmRSZWplY3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudERldGFpbHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JvdXRlLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXRIZWFkZXJzKHNlbmREYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgc2VuZERhdGEuZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgc2VuZERhdGEuZm9ybWF0XG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwicXVlcnlkYXRhXCIsIHsgZGV0YWlsOiBldmVudERldGFpbHMgfSkpO1xuICAgICAgICAgICAgICAgIHNlbmRSZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXQgX3JvdXRlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWdGZXRjaGVyLk1haW5Mb2NhdG9yKCkgKyBcIi8wLjUvcXVlcnlcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9nZXRIZWFkZXJzKHNlbmREYXRhKSB7XG4gICAgICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoc2VuZERhdGEuaGRycykge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGhlYWRlcnMsIHNlbmREYXRhLmhkcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoZWFkZXJzW1wiQ29udGVudC10eXBlXCJdID0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgIH1cbiAgICB5b2R1bGVzLlJlcXVlc3RlciA9IHsgaW5pdCwgZGVwczogW1wiQ29uZmlnRmV0Y2hlclwiLCBcIkhlbHBlcnNcIl0gfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uIHJlcXVlc3RNYW5hZ2VyKCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoXG4gICAgICAgIERhdGFQYWNrZXIsIEhlbHBlcnMsXG4gICAgICAgIEtleVN0b3JhZ2UsIENvbmZpZ0ZldGNoZXIsXG4gICAgICAgIFJlcXVlc3RlciwgVG9nZ2xlclxuICAgICkge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLlJlcXVlc3RNYW5hZ2VyO1xuICAgICAgICBjb25zdCBkYXRhUGFja2VyID0gRGF0YVBhY2tlci5pbnN0YW5jZSxcbiAgICAgICAgICAgIGNvbmZpZ0ZldGNoZXIgPSBDb25maWdGZXRjaGVyLmluc3RhbmNlLFxuICAgICAgICAgICAgaGVscGVycyA9IEhlbHBlcnMuaW5zdGFuY2UsXG4gICAgICAgICAgICBrZXlTdG9yYWdlID0gS2V5U3RvcmFnZS5pbnN0YW5jZSxcbiAgICAgICAgICAgIHJlcXVlc3RlciA9IFJlcXVlc3Rlci5pbnN0YW5jZTtcbiAgICAgICAgY29uc3QgdG9nZ2xlciA9IFRvZ2dsZXIuaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IHZlcnNpb24gPSBjaHJvbWUucnVudGltZS5nZXRNYW5pZmVzdCgpLnZlcnNpb247XG4gICAgICAgIG1vZHVsZS5jbGFzcyA9IGNsYXNzIFJlcXVlc3RNYW5hZ2VyIHtcbiAgICAgICAgICAgIGdldCBjaEZpZWxkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGNoOiBcIjZcIiB8IDAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldCBiYXNlRmllbGRzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoRmllbGQsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc291cmNlRmllbGRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0IGFkZGl0aW9uYWxGaWVsZHMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGtleVN0b3JhZ2UuZ2lkLFxuICAgICAgICAgICAgICAgICAgICB2bXQ6IDYsXG4gICAgICAgICAgICAgICAgICAgIGRtOiAyMSxcbiAgICAgICAgICAgICAgICAgICAgdnY6IDEsXG4gICAgICAgICAgICAgICAgICAgIHZlcjogdmVyc2lvbixcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IFwiQUFFQUFBQUFBRVVSR3dBb1FRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQT1cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldCBzb3VyY2VGaWVsZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzZzogXCJhYzhiYjgxOWRcIiB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvY2Vzc1JlcXVlc3QoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2hlY2tTdGF0dXMoKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZGF0YSwgdGhpcy5fZ2V0VGltZXN0YW1wKCkpO1xuICAgICAgICAgICAgICAgIGxldCBwcm9jZXNzb3I7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc29yID0gdGhpcy5fc2VuZFRyYWNrKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZ2V0RGF0YUJhc2VkSGVhZGVycyhzb3VyY2UsIGhhc0RhdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBoZHJzID0ge30sXG4gICAgICAgICAgICAgICAgICAgIHNraXBUYXBpID0gIWhhc0RhdGE7XG4gICAgICAgICAgICAgICAgaWYgKHNraXBUYXBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhkcnNbXCJvYWxcIl0gPSBcInBpa3NcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBoZHJzW1wiZ2VzXCJdID0gaGVscGVycy5nZXREb21haW5OYW1lKHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBoZHJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgX3NlbmRUcmFjayhkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWREYXRhID0gdGhpcy5fZmlsdGVyVGFiRGF0YShPYmplY3QuYXNzaWduKHt9LCBkYXRhKSksXG4gICAgICAgICAgICAgICAgICAgIHFWYWx1ZSA9IGZpbHRlcmVkRGF0YVtcInN1YnRyZ3RcIl07XG4gICAgICAgICAgICAgICAgbGV0IGhlYWRlckNhY2hlVmFsdWUgPSBxVmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRkaXRpb25hbEhlYWRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGFkZGl0aW9uYWxIZWFkZXJzLCB0aGlzLl9nZXREYXRhQmFzZWRIZWFkZXJzKGhlYWRlckNhY2hlVmFsdWUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnRmV0Y2hlci5zaG91bGRHZXRTZXR0aW5ncygpKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYWRkaXRpb25hbEhlYWRlcnMsIHsgXCJ4LXNlc3Npb24taW5pdFwiOiBjb25maWdGZXRjaGVyLmdldFNldHRpbmdzU3RyaW5nKCkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlbmREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBoZHJzOiBhZGRpdGlvbmFsSGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBkYXRhLmZvcm1hdCAmJiBkYXRhLmZvcm1hdFswXSxcbiAgICAgICAgICAgICAgICAgICAgc3VidHJndDogcVZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzZW5kRGF0YS5kYXRhID0gYXdhaXQgZGF0YVBhY2tlci5wYWNrSnNvbihmaWx0ZXJlZERhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ZXIuc2VuZFJlcXVlc3REYXRhKHNlbmREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9maWx0ZXJUYWJEYXRhKGRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihkYXRhLCB0aGlzLmJhc2VGaWVsZHMsIHRoaXMuYWRkaXRpb25hbEZpZWxkcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZ2V0VGltZXN0YW1wKGRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBlcG9jaHRpbWU6IERhdGUubm93KCkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9zZXRIZWxwRmllbGRzKGRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdWJ0cmd0OiBkYXRhLnN1YnRyZ3QsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogZGF0YS5mb3JtYXRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2NoZWNrU3RhdHVzKCkge1xuICAgICAgICAgICAgICAgIGlmICghdG9nZ2xlci5pc09uKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maWdGZXRjaGVyLklzRW5hYmxlKCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZ0ZldGNoZXIuSXNSZWFkeSgpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZSA9IG5ldyBtb2R1bGUuY2xhc3MoKTtcbiAgICB9XG4gICAgeW9kdWxlcy5SZXF1ZXN0TWFuYWdlciA9IHtcbiAgICAgICAgaW5pdCxcbiAgICAgICAgZGVwczogW1xuICAgICAgICAgICAgXCJEYXRhUGFja2VyXCIsXG4gICAgICAgICAgICBcIkhlbHBlcnNcIixcbiAgICAgICAgICAgIFwiS2V5U3RvcmFnZVwiLFxuICAgICAgICAgICAgXCJDb25maWdGZXRjaGVyXCIsXG4gICAgICAgICAgICBcIlJlcXVlc3RlclwiLFxuICAgICAgICAgICAgXCJUb2dnbGVyXCIsXG4gICAgICAgIF1cbiAgICB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24gc2VuZFJlcXVlc3RGb3JUYWIoKSB7XG4gICAgc2VsZi55b2R1bGVzID0gc2VsZi55b2R1bGVzIHx8IHt9O1xuXG4gICAgZnVuY3Rpb24gaW5pdChSZXF1ZXN0TWFuYWdlciwgVGFibGlzdCwgTGFzdFBhZ2VIYW5kbGVyKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHlvZHVsZXMuU2VuZFJlcXVlc3RGb3JUYWI7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RNYW5hZ2VyID0gUmVxdWVzdE1hbmFnZXIuaW5zdGFuY2UsXG4gICAgICAgICAgICB0YWJsaXN0ID0gVGFibGlzdC5pbnN0YW5jZSxcbiAgICAgICAgICAgIGxhc3RQYWdlSGFuZGxlciA9IExhc3RQYWdlSGFuZGxlci5pbnN0YW5jZTtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgU2VuZFJlcXVlc3RGb3JUYWIge1xuICAgICAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkJlZm9yZVBhY2tMaXN0ZW5lciA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMub25CZWZvcmVTZW5kTGlzdGVuZXIgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9jb252ZXJ0VG9Qcm9taXNlKHBUeXBlLCB0YWJJZCwgdGFiRGF0YSA9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgcExpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICBwVHlwZS5mb3JFYWNoKGwgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gbC5jYWxsKG51bGwsIHRhYklkLCB0YWJEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwTGlzdC5wdXNoKHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBMaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9zZW5kUmVxdWVzdEZvclRhYih0YWJJZCkge1xuICAgICAgICAgICAgICAgIGlmICh0YWJsaXN0LnNraXBUYWJSZXBvcnQodGFiSWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFibGlzdC5nZXRDaHJvbWVUYWJGb3JUYWJJZCh0YWJJZCwgdGhpcy5fYXBwbHlDaHJvbWVUYWIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfYXBwbHlDaHJvbWVUYWIodGFiSWQsIGNocm9tZVRhYikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3REYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWVUYWI6IGNocm9tZVRhYixcbiAgICAgICAgICAgICAgICAgICAgbGFzdFBhZ2U6IGxhc3RQYWdlSGFuZGxlci5oYW5kbGVMUChjaHJvbWVUYWIpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmVQYWNrUHJvbWlzZXMgPSB0aGlzLl9jb252ZXJ0VG9Qcm9taXNlKHRoaXMub25CZWZvcmVQYWNrTGlzdGVuZXIsIHRhYklkLCByZXF1ZXN0RGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJlZm9yZVBhY2tQcm9taXNlcy50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmNhdEFuZFNlbmREYXRhKHRhYklkLCByZXF1ZXN0RGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY29uY2F0QW5kU2VuZERhdGEodGFiSWQsIHJlcXVlc3REYXRhKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhYkRhdGEgPSB0aGlzLl9nZXRUYWJEYXRhKHRhYklkLCByZXF1ZXN0RGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0YWJsaXN0LmlzVmFsaWRCYXNlUGFyYW1zKHRhYklkLCB0YWJEYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGJlZm9yZVNlbmRQcm9taXNlcyA9IHRoaXMuX2NvbnZlcnRUb1Byb21pc2UodGhpcy5vbkJlZm9yZVNlbmRMaXN0ZW5lciwgdGFiSWQsIHRhYkRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBiZWZvcmVTZW5kUHJvbWlzZXMudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlcGFyZVRhYlRvU2VuZGluZyh0YWJJZCwgdGFiRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0TWFuYWdlci5wcm9jZXNzUmVxdWVzdCh0YWJEYXRhKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJlcGFyZVRhYlRvU2VuZGluZyh0YWJJZCwgdGFiRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhyZWZlcnJlciA9IHRhYmxpc3QuZ2V0QnlJZCh0YWJJZCkuZ2V0SHJlZigpO1xuICAgICAgICAgICAgICAgIHRhYmxpc3QuY2xlYXJUYWIodGFiSWQpLnNldElzUmVwb3J0ZWQodHJ1ZSkuc2V0VXJsKHRhYkRhdGEuc3VidHJndCkuc2V0SHJlZihocmVmZXJyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2dldFRhYkRhdGEodGFiSWQsIHJlcXVlc3REYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IHRhYmxpc3QuZ2V0QnlJZCh0YWJJZCksXG4gICAgICAgICAgICAgICAgICAgIGF1dG9SZWxvYWRpbmcgPSB0YWJsaXN0LmdldEFjdGl2ZVRhYlJlbG9hZChjdXJyZW50VGFiLCByZXF1ZXN0RGF0YS5jaHJvbWVUYWIpLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VXJsID0gcmVxdWVzdERhdGEuY2hyb21lVGFiICYmIHJlcXVlc3REYXRhLmNocm9tZVRhYi51cmwsXG4gICAgICAgICAgICAgICAgICAgIHRhYnNQcmV2ID0gY3VycmVudFRhYi5nZXRQcmV2KCk7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRyZ3Q6IGN1cnJlbnRVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBrbjogcmVxdWVzdERhdGEubGFzdFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJsYXN0OiB0YWJzUHJldiB8fCByZXF1ZXN0RGF0YS5sYXN0UGFnZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFiLnNlcmlhbGl6ZSgpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoYXV0b1JlbG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmF0bSA9IChkYXRhLmF0bSB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuYXRtID0gZGF0YS5hdG0uY29uY2F0KGF1dG9SZWxvYWRpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uQmVmb3JlUGFjayhsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMub25CZWZvcmVQYWNrTGlzdGVuZXIucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbkJlZm9yZVNlbmQobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQmVmb3JlU2VuZExpc3RlbmVyLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VuZFRyYWNrKHRhYklkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZFJlcXVlc3RGb3JUYWIodGFiSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBtb2R1bGUuaW5zdGFuY2UgPSBuZXcgbW9kdWxlLmNsYXNzKCk7XG4gICAgfVxuICAgIHlvZHVsZXMuU2VuZFJlcXVlc3RGb3JUYWIgPSB7IGluaXQsIGRlcHM6IFtcIlJlcXVlc3RNYW5hZ2VyXCIsIFwiVGFibGlzdFwiLCBcIkxhc3RQYWdlSGFuZGxlclwiXSB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24gc3JDb25maWdXcmFwcGVyKCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHlvZHVsZXMuU1JDb25maWdXcmFwcGVyO1xuICAgICAgICBjb25zdCByZW1vdGVDb25maWdDaHJvbWVTdG9yYWdlS2V5ID0gXCJtKCdyZW1vdGVfY29uZmlnX3N0b3JhZ2Vfa2V5JylcIjtcbiAgICAgICAgY29uc3QgZmV0Y2hUaW1lQ2hyb21lU3RvcmFnZUtleSA9IFwibSgnZmV0Y2hfdGltZV9zdG9yYWdlX2tleScpXCI7XG4gICAgICAgIGNvbnN0IGZpcnN0Q2hlY2tDaHJvbWVTdG9yYWdlS2V5ID0gXCJtKCdyZW1vdGVfY29uZmlnX2ZpcnN0X2NoZWNrX3N0b3JhZ2Vfa2V5JylcIjtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgU1JDb25maWdXcmFwcGVyIHtcbiAgICAgICAgICAgIGdldENvbmZpZ0Zyb21DaHJvbWVTdG9yYWdlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KHJlbW90ZUNvbmZpZ0Nocm9tZVN0b3JhZ2VLZXksIHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcykgeyByZXR1cm4gcmVzb2x2ZShudWxsKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gcmVzW3JlbW90ZUNvbmZpZ0Nocm9tZVN0b3JhZ2VLZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVvYmZ1c2NhdGVDb25maWcoY29uZikge1xuICAgICAgICAgICAgICAgIGlmIChjb25mLmhhc093blByb3BlcnR5KFwidHlwZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uZjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IGNvbmZbXCJlXCJdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gZS5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdExpbmVMZW5ndGggPSBsaW5lc1swXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IHNiID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjb2x1bW4gPSAwOyBjb2x1bW4gPCBmaXJzdExpbmVMZW5ndGg7IGNvbHVtbisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IGxpbmVzLmxlbmd0aDsgcm93KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBsaW5lc1tyb3ddLmNoYXJBdChjb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGFyKSB7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzYiArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGpzb25TdHIgPSBhdG9iKHNiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKGpzb25TdHIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBnZXREZW9iZnVzY2F0ZWRDb25maWdzKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZzID0gYXdhaXQgdGhpcy5nZXRDb25maWdGcm9tQ2hyb21lU3RvcmFnZSgpO1xuICAgICAgICAgICAgICAgIGlmIChjb25mcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25mcy5tYXAodGhpcy5kZW9iZnVzY2F0ZUNvbmZpZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldENvbmZpZ0luQ2hyb21lU3RvcmFnZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBvW3JlbW90ZUNvbmZpZ0Nocm9tZVN0b3JhZ2VLZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG9bZmV0Y2hUaW1lQ2hyb21lU3RvcmFnZUtleV0gPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQobywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0RmV0Y2hUaW1lRnJvbUNocm9tZVN0b3JhZ2UoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoZmV0Y2hUaW1lQ2hyb21lU3RvcmFnZUtleSwgcmVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzKSB7IHJldHVybiByZXNvbHZlKDApOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSByZXNbZmV0Y2hUaW1lQ2hyb21lU3RvcmFnZUtleV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwYXJzZUludCh2YWwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoMCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmlyc3RDaGVja1dhc0Fnb0Vub3VnaCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChmaXJzdENoZWNrQ2hyb21lU3RvcmFnZUtleSwgcmVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzIHx8ICFyZXNbZmlyc3RDaGVja0Nocm9tZVN0b3JhZ2VLZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9bZmlyc3RDaGVja0Nocm9tZVN0b3JhZ2VLZXldID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5zZXQobyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gcGFyc2VJbnQocmVzW2ZpcnN0Q2hlY2tDaHJvbWVTdG9yYWdlS2V5XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IERhdGUubm93KCkgLSB2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbkRpZmYgPSBwYXJzZUludChcIjM2MDAwMDBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGRpZmYgPiBtaW5EaWZmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgIH1cbiAgICB5b2R1bGVzLlNSQ29uZmlnV3JhcHBlciA9IHsgaW5pdCB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24gc1JDb25maWdGZXRjaGVyKCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoU1JDb25maWdXcmFwcGVyKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHlvZHVsZXMuU1JDb25maWdGZXRjaGVyO1xuICAgICAgICBjb25zdCBzUkNvbmZpZ1dyYXBwZXIgPSBTUkNvbmZpZ1dyYXBwZXIuaW5zdGFuY2U7XG4gICAgICAgIG1vZHVsZS5jbGFzcyA9IGNsYXNzIFNSQ29uZmlnRmV0Y2hlciB7XG4gICAgICAgICAgICBzdGFydExpc3RlbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlbW90ZUNvbmZpZygpO1xuICAgICAgICAgICAgICAgIHNldEludGVydmFsKCgpID0+IHsgdGhpcy51cGRhdGVSZW1vdGVDb25maWcoKTsgfSwgcGFyc2VJbnQoXCI2MDAwMFwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyB1cGRhdGVSZW1vdGVDb25maWcoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF3YWl0IHRoaXMuc2hvdWxkRmV0Y2hSZW1vdGVDb25maWcoKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IHRoaXMuZmV0Y2hSZW1vdGVDb25maWcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc1JDb25maWdXcmFwcGVyLnNldENvbmZpZ0luQ2hyb21lU3RvcmFnZShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyb2FkY2FzdChyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicm9hZGNhc3QoY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoXCJtKGJyb2FkY2FzdF9jb25maWdfZmV0Y2hlZClcIik7XG4gICAgICAgICAgICAgICAgZXZlbnQuY29uZmlnID0gY29uZmlnO1xuICAgICAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBmZXRjaFJlbW90ZUNvbmZpZygpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmZXRjaFVybCA9IFwiaHR0cHM6Ly9zZWN1cmUubXl3b3QuY29tL2NvbnRlbnQvY29uZmlnXCI7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9keSA9IHsgc2lkOiBcImFjOGJiODE5ZFwiIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcjEgPSBhd2FpdCBmZXRjaChmZXRjaFVybCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyMS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByMiA9IGF3YWl0IHIxLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzeW5jIHNob3VsZEZldGNoUmVtb3RlQ29uZmlnKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmZpZyA9IGF3YWl0IHNSQ29uZmlnV3JhcHBlci5nZXRDb25maWdGcm9tQ2hyb21lU3RvcmFnZSgpO1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnKSB7IHJldHVybiBhd2FpdCBzUkNvbmZpZ1dyYXBwZXIuZmlyc3RDaGVja1dhc0Fnb0Vub3VnaCgpOyB9XG4gICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hUaW1lID0gYXdhaXQgc1JDb25maWdXcmFwcGVyLmdldEZldGNoVGltZUZyb21DaHJvbWVTdG9yYWdlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZURJZmYgPSBEYXRlLm5vdygpIC0gZmV0Y2hUaW1lO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aW1lRElmZiA+IHBhcnNlSW50KFwiMjE2MDAwMDBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZSA9IG5ldyBtb2R1bGUuY2xhc3MoKTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlLnN0YXJ0TGlzdGVuKCk7XG4gICAgfVxuICAgIHlvZHVsZXMuU1JDb25maWdGZXRjaGVyID0geyBpbml0LCBkZXBzOiBbXCJTUkNvbmZpZ1dyYXBwZXJcIl0gfTtcbn0pKCk7XG5cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3JpZ2luYWxNb2R1bGUpIHtcblx0aWYgKCFvcmlnaW5hbE1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHR2YXIgbW9kdWxlID0gT2JqZWN0LmNyZWF0ZShvcmlnaW5hbE1vZHVsZSk7XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiZXhwb3J0c1wiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9sb2Rhc2ggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJsb2Rhc2guYXNzaWduaW5cIikpO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoXCIuLi9jb25zdGFudHNcIik7XG5cbnZhciBfc2VyaWFsaXphdGlvbiA9IHJlcXVpcmUoXCIuLi9zZXJpYWxpemF0aW9uXCIpO1xuXG52YXIgX3BhdGNoID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vc3RyYXRlZ2llcy9zaGFsbG93RGlmZi9wYXRjaFwiKSk7XG5cbnZhciBfdXRpbCA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbnZhciBiYWNrZ3JvdW5kRXJyUHJlZml4ID0gJ1xcbkxvb2tzIGxpa2UgdGhlcmUgaXMgYW4gZXJyb3IgaW4gdGhlIGJhY2tncm91bmQgcGFnZS4gJyArICdZb3UgbWlnaHQgd2FudCB0byBpbnNwZWN0IHlvdXIgYmFja2dyb3VuZCBwYWdlIGZvciBtb3JlIGRldGFpbHMuXFxuJztcbnZhciBkZWZhdWx0T3B0cyA9IHtcbiAgcG9ydE5hbWU6IF9jb25zdGFudHMuREVGQVVMVF9QT1JUX05BTUUsXG4gIHN0YXRlOiB7fSxcbiAgZXh0ZW5zaW9uSWQ6IG51bGwsXG4gIHNlcmlhbGl6ZXI6IF9zZXJpYWxpemF0aW9uLm5vb3AsXG4gIGRlc2VyaWFsaXplcjogX3NlcmlhbGl6YXRpb24ubm9vcCxcbiAgcGF0Y2hTdHJhdGVneTogX3BhdGNoLmRlZmF1bHRcbn07XG5cbnZhciBTdG9yZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgUHJveHkgc3RvcmVcclxuICAgKiBAcGFyYW0gIHtvYmplY3R9IG9wdGlvbnMgQW4gb2JqZWN0IG9mIGZvcm0ge3BvcnROYW1lLCBzdGF0ZSwgZXh0ZW5zaW9uSWQsIHNlcmlhbGl6ZXIsIGRlc2VyaWFsaXplciwgZGlmZlN0cmF0ZWd5fSwgd2hlcmUgYHBvcnROYW1lYCBpcyBhIHJlcXVpcmVkIHN0cmluZyBhbmQgZGVmaW5lcyB0aGUgbmFtZSBvZiB0aGUgcG9ydCBmb3Igc3RhdGUgdHJhbnNpdGlvbiBjaGFuZ2VzLCBgc3RhdGVgIGlzIHRoZSBpbml0aWFsIHN0YXRlIG9mIHRoaXMgc3RvcmUgKGRlZmF1bHQgYHt9YCkgYGV4dGVuc2lvbklkYCBpcyB0aGUgZXh0ZW5zaW9uIGlkIGFzIGRlZmluZWQgYnkgYnJvd3NlckFQSSB3aGVuIGV4dGVuc2lvbiBpcyBsb2FkZWQgKGRlZmF1bHQgYCcnYCksIGBzZXJpYWxpemVyYCBpcyBhIGZ1bmN0aW9uIHRvIHNlcmlhbGl6ZSBvdXRnb2luZyBtZXNzYWdlIHBheWxvYWRzIChkZWZhdWx0IGlzIHBhc3N0aHJvdWdoKSwgYGRlc2VyaWFsaXplcmAgaXMgYSBmdW5jdGlvbiB0byBkZXNlcmlhbGl6ZSBpbmNvbWluZyBtZXNzYWdlIHBheWxvYWRzIChkZWZhdWx0IGlzIHBhc3N0aHJvdWdoKSwgYW5kIHBhdGNoU3RyYXRlZ3kgaXMgb25lIG9mIHRoZSBpbmNsdWRlZCBwYXRjaGluZyBzdHJhdGVnaWVzIChkZWZhdWx0IGlzIHNoYWxsb3cgZGlmZikgb3IgYSBjdXN0b20gcGF0Y2hpbmcgZnVuY3Rpb24uXHJcbiAgICovXG4gIGZ1bmN0aW9uIFN0b3JlKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZGVmYXVsdE9wdHMsXG4gICAgICAgIF9yZWYkcG9ydE5hbWUgPSBfcmVmLnBvcnROYW1lLFxuICAgICAgICBwb3J0TmFtZSA9IF9yZWYkcG9ydE5hbWUgPT09IHZvaWQgMCA/IGRlZmF1bHRPcHRzLnBvcnROYW1lIDogX3JlZiRwb3J0TmFtZSxcbiAgICAgICAgX3JlZiRzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICAgIHN0YXRlID0gX3JlZiRzdGF0ZSA9PT0gdm9pZCAwID8gZGVmYXVsdE9wdHMuc3RhdGUgOiBfcmVmJHN0YXRlLFxuICAgICAgICBfcmVmJGV4dGVuc2lvbklkID0gX3JlZi5leHRlbnNpb25JZCxcbiAgICAgICAgZXh0ZW5zaW9uSWQgPSBfcmVmJGV4dGVuc2lvbklkID09PSB2b2lkIDAgPyBkZWZhdWx0T3B0cy5leHRlbnNpb25JZCA6IF9yZWYkZXh0ZW5zaW9uSWQsXG4gICAgICAgIF9yZWYkc2VyaWFsaXplciA9IF9yZWYuc2VyaWFsaXplcixcbiAgICAgICAgc2VyaWFsaXplciA9IF9yZWYkc2VyaWFsaXplciA9PT0gdm9pZCAwID8gZGVmYXVsdE9wdHMuc2VyaWFsaXplciA6IF9yZWYkc2VyaWFsaXplcixcbiAgICAgICAgX3JlZiRkZXNlcmlhbGl6ZXIgPSBfcmVmLmRlc2VyaWFsaXplcixcbiAgICAgICAgZGVzZXJpYWxpemVyID0gX3JlZiRkZXNlcmlhbGl6ZXIgPT09IHZvaWQgMCA/IGRlZmF1bHRPcHRzLmRlc2VyaWFsaXplciA6IF9yZWYkZGVzZXJpYWxpemVyLFxuICAgICAgICBfcmVmJHBhdGNoU3RyYXRlZ3kgPSBfcmVmLnBhdGNoU3RyYXRlZ3ksXG4gICAgICAgIHBhdGNoU3RyYXRlZ3kgPSBfcmVmJHBhdGNoU3RyYXRlZ3kgPT09IHZvaWQgMCA/IGRlZmF1bHRPcHRzLnBhdGNoU3RyYXRlZ3kgOiBfcmVmJHBhdGNoU3RyYXRlZ3k7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RvcmUpO1xuXG4gICAgaWYgKCFwb3J0TmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb3J0TmFtZSBpcyByZXF1aXJlZCBpbiBvcHRpb25zJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzZXJpYWxpemVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlcmlhbGl6ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkZXNlcmlhbGl6ZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZGVzZXJpYWxpemVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcGF0Y2hTdHJhdGVneSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwYXRjaFN0cmF0ZWd5IG11c3QgYmUgb25lIG9mIHRoZSBpbmNsdWRlZCBwYXRjaGluZyBzdHJhdGVnaWVzIG9yIGEgY3VzdG9tIHBhdGNoaW5nIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgdGhpcy5wb3J0TmFtZSA9IHBvcnROYW1lO1xuICAgIHRoaXMucmVhZHlSZXNvbHZlZCA9IGZhbHNlO1xuICAgIHRoaXMucmVhZHlQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgIHJldHVybiBfdGhpcy5yZWFkeVJlc29sdmUgPSByZXNvbHZlO1xuICAgIH0pO1xuICAgIHRoaXMuYnJvd3NlckFQSSA9ICgwLCBfdXRpbC5nZXRCcm93c2VyQVBJKSgpO1xuICAgIHRoaXMuZXh0ZW5zaW9uSWQgPSBleHRlbnNpb25JZDsgLy8ga2VlcCB0aGUgZXh0ZW5zaW9uSWQgYXMgYW4gaW5zdGFuY2UgdmFyaWFibGVcblxuICAgIHRoaXMucG9ydCA9IHRoaXMuYnJvd3NlckFQSS5ydW50aW1lLmNvbm5lY3QodGhpcy5leHRlbnNpb25JZCwge1xuICAgICAgbmFtZTogcG9ydE5hbWVcbiAgICB9KTtcbiAgICB0aGlzLnNhZmV0eUhhbmRsZXIgPSB0aGlzLnNhZmV0eUhhbmRsZXIuYmluZCh0aGlzKTtcblxuICAgIGlmICh0aGlzLmJyb3dzZXJBUEkucnVudGltZS5vbk1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuc2FmZXR5TWVzc2FnZSA9IHRoaXMuYnJvd3NlckFQSS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcih0aGlzLnNhZmV0eUhhbmRsZXIpO1xuICAgIH1cblxuICAgIHRoaXMuc2VyaWFsaXplZFBvcnRMaXN0ZW5lciA9ICgwLCBfc2VyaWFsaXphdGlvbi53aXRoRGVzZXJpYWxpemVyKShkZXNlcmlhbGl6ZXIpKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwb3J0JG9uTWVzc2FnZTtcblxuICAgICAgcmV0dXJuIChfdGhpcyRwb3J0JG9uTWVzc2FnZSA9IF90aGlzLnBvcnQub25NZXNzYWdlKS5hZGRMaXN0ZW5lci5hcHBseShfdGhpcyRwb3J0JG9uTWVzc2FnZSwgYXJndW1lbnRzKTtcbiAgICB9KTtcbiAgICB0aGlzLnNlcmlhbGl6ZWRNZXNzYWdlU2VuZGVyID0gKDAsIF9zZXJpYWxpemF0aW9uLndpdGhTZXJpYWxpemVyKShzZXJpYWxpemVyKShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkYnJvd3NlckFQSSRydW50O1xuXG4gICAgICByZXR1cm4gKF90aGlzJGJyb3dzZXJBUEkkcnVudCA9IF90aGlzLmJyb3dzZXJBUEkucnVudGltZSkuc2VuZE1lc3NhZ2UuYXBwbHkoX3RoaXMkYnJvd3NlckFQSSRydW50LCBhcmd1bWVudHMpO1xuICAgIH0sIDEpO1xuICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMucGF0Y2hTdHJhdGVneSA9IHBhdGNoU3RyYXRlZ3k7IC8vIERvbid0IHVzZSBzaG91bGREZXNlcmlhbGl6ZSBoZXJlLCBzaW5jZSBubyBvbmUgZWxzZSBzaG91bGQgYmUgdXNpbmcgdGhpcyBwb3J0XG5cbiAgICB0aGlzLnNlcmlhbGl6ZWRQb3J0TGlzdGVuZXIoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgICAgIGNhc2UgX2NvbnN0YW50cy5TVEFURV9UWVBFOlxuICAgICAgICAgIF90aGlzLnJlcGxhY2VTdGF0ZShtZXNzYWdlLnBheWxvYWQpO1xuXG4gICAgICAgICAgaWYgKCFfdGhpcy5yZWFkeVJlc29sdmVkKSB7XG4gICAgICAgICAgICBfdGhpcy5yZWFkeVJlc29sdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgX3RoaXMucmVhZHlSZXNvbHZlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBfY29uc3RhbnRzLlBBVENIX1NUQVRFX1RZUEU6XG4gICAgICAgICAgX3RoaXMucGF0Y2hTdGF0ZShtZXNzYWdlLnBheWxvYWQpO1xuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDogLy8gZG8gbm90aGluZ1xuXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kaXNwYXRjaCA9IHRoaXMuZGlzcGF0Y2guYmluZCh0aGlzKTsgLy8gYWRkIHRoaXMgY29udGV4dCB0byBkaXNwYXRjaFxuICB9XG4gIC8qKlxyXG4gICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBzdG9yZSBpcyByZWFkeS4gT3B0aW9uYWxseSBhIGNhbGxiYWNrIG1heSBiZSBwYXNzZWQgaW4gaW5zdGVhZC5cclxuICAqIEBwYXJhbSBbZnVuY3Rpb25dIGNhbGxiYWNrIEFuIG9wdGlvbmFsIGNhbGxiYWNrIHRoYXQgbWF5IGJlIHBhc3NlZCBpbiBhbmQgd2lsbCBmaXJlIHdoZW4gdGhlIHN0b3JlIGlzIHJlYWR5LlxyXG4gICogQHJldHVybiB7b2JqZWN0fSBwcm9taXNlIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHN0b3JlIGhhcyBlc3RhYmxpc2hlZCBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgYmFja2dyb3VuZCBwYWdlLlxyXG4gICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU3RvcmUsIFt7XG4gICAga2V5OiBcInJlYWR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWR5KCkge1xuICAgICAgdmFyIGNiID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBudWxsO1xuXG4gICAgICBpZiAoY2IgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZHlQcm9taXNlLnRoZW4oY2IpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5yZWFkeVByb21pc2U7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogU3Vic2NyaWJlcyBhIGxpc3RlbmVyIGZ1bmN0aW9uIGZvciBhbGwgc3RhdGUgY2hhbmdlc1xyXG4gICAgICogQHBhcmFtICB7ZnVuY3Rpb259IGxpc3RlbmVyIEEgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gc3RvcmUgc3RhdGUgY2hhbmdlc1xyXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb259ICAgICAgICAgIEFuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lciBmcm9tIHN0YXRlIHVwZGF0ZXNcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3Vic2NyaWJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLmxpc3RlbmVycyA9IF90aGlzMi5saXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgcmV0dXJuIGwgIT09IGxpc3RlbmVyO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgdGhlIHN0YXRlIGZvciBvbmx5IHRoZSBrZXlzIGluIHRoZSB1cGRhdGVkIHN0YXRlLiBOb3RpZmllcyBhbGwgbGlzdGVuZXJzIG9mIHN0YXRlIGNoYW5nZS5cclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSB0aGUgbmV3IChwYXJ0aWFsKSByZWR1eCBzdGF0ZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYXRjaFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdGNoU3RhdGUoZGlmZmVyZW5jZSkge1xuICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMucGF0Y2hTdHJhdGVneSh0aGlzLnN0YXRlLCBkaWZmZXJlbmNlKTtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgcmV0dXJuIGwoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIFJlcGxhY2UgdGhlIGN1cnJlbnQgc3RhdGUgd2l0aCBhIG5ldyBzdGF0ZS4gTm90aWZpZXMgYWxsIGxpc3RlbmVycyBvZiBzdGF0ZSBjaGFuZ2UuXHJcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IHN0YXRlIFRoZSBuZXcgc3RhdGUgZm9yIHRoZSBzdG9yZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXBsYWNlU3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVwbGFjZVN0YXRlKHN0YXRlKSB7XG4gICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgIHJldHVybiBsKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHN0b3JlXHJcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IHRoZSBjdXJyZW50IHN0b3JlIHN0YXRlXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFN0YXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogU3R1YiBmdW5jdGlvbiB0byBzdGF5IGNvbnNpc3RlbnQgd2l0aCBSZWR1eCBTdG9yZSBBUEkuIE5vLW9wLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXBsYWNlUmVkdWNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXBsYWNlUmVkdWNlcigpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBEaXNwYXRjaCBhbiBhY3Rpb24gdG8gdGhlIGJhY2tncm91bmQgdXNpbmcgbWVzc2FnaW5nIHBhc3NpbmdcclxuICAgICAqIEBwYXJhbSAge29iamVjdH0gZGF0YSBUaGUgYWN0aW9uIGRhdGEgdG8gZGlzcGF0Y2hcclxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICBQcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlL3JlamVjdCBiYXNlZCBvbiB0aGUgYWN0aW9uIHJlc3BvbnNlIGZyb20gdGhlIGJhY2tncm91bmRcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGlzcGF0Y2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goZGF0YSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIF90aGlzMy5zZXJpYWxpemVkTWVzc2FnZVNlbmRlcihfdGhpczMuZXh0ZW5zaW9uSWQsIHtcbiAgICAgICAgICB0eXBlOiBfY29uc3RhbnRzLkRJU1BBVENIX1RZUEUsXG4gICAgICAgICAgcG9ydE5hbWU6IF90aGlzMy5wb3J0TmFtZSxcbiAgICAgICAgICBwYXlsb2FkOiBkYXRhXG4gICAgICAgIH0sIG51bGwsIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gcmVzcC5lcnJvcixcbiAgICAgICAgICAgICAgdmFsdWUgPSByZXNwLnZhbHVlO1xuXG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB2YXIgYmdFcnIgPSBuZXcgRXJyb3IoXCJcIi5jb25jYXQoYmFja2dyb3VuZEVyclByZWZpeCkuY29uY2F0KGVycm9yKSk7XG4gICAgICAgICAgICByZWplY3QoKDAsIF9sb2Rhc2guZGVmYXVsdCkoYmdFcnIsIGVycm9yKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUgJiYgdmFsdWUucGF5bG9hZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzYWZldHlIYW5kbGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNhZmV0eUhhbmRsZXIobWVzc2FnZSkge1xuICAgICAgaWYgKG1lc3NhZ2UuYWN0aW9uID09PSAnc3RvcmVSZWFkeScgJiYgbWVzc2FnZS5wb3J0TmFtZSA9PT0gdGhpcy5wb3J0TmFtZSkge1xuICAgICAgICAvLyBSZW1vdmUgU2FmdGV5IExpc3RlbmVyXG4gICAgICAgIHRoaXMuYnJvd3NlckFQSS5ydW50aW1lLm9uTWVzc2FnZS5yZW1vdmVMaXN0ZW5lcih0aGlzLnNhZmV0eUhhbmRsZXIpOyAvLyBSZXNvbHZlIGlmIHJlYWR5UHJvbWlzZSBoYXMgbm90IGJlZW4gcmVzb2x2ZWQuXG5cbiAgICAgICAgaWYgKCF0aGlzLnJlYWR5UmVzb2x2ZWQpIHtcbiAgICAgICAgICB0aGlzLnJlYWR5UmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucmVhZHlSZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3RvcmU7XG59KCk7XG5cbnZhciBfZGVmYXVsdCA9IFN0b3JlO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSc7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuXG4gIC8vIFNhZmFyaSA5IG1ha2VzIGBhcmd1bWVudHMubGVuZ3RoYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICB2YXIgcmVzdWx0ID0gKGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSlcbiAgICA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZylcbiAgICA6IFtdO1xuXG4gIHZhciBsZW5ndGggPSByZXN1bHQubGVuZ3RoLFxuICAgICAgc2tpcEluZGV4ZXMgPSAhIWxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChrZXkgPT0gJ2xlbmd0aCcgfHwgaXNJbmRleChrZXksIGxlbmd0aCkpKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gKi9cbmZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgaWYgKCEoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYgZXEob2JqVmFsdWUsIHZhbHVlKSkgfHxcbiAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gIH1cbiAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICBhcnJheSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICB9XG4gICAgaW5kZXggPSAtMTtcbiAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICB3aGlsZSAoKytpbmRleCA8IHN0YXJ0KSB7XG4gICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgfVxuICAgIG90aGVyQXJnc1tzdGFydF0gPSBhcnJheTtcbiAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlID09PSB1bmRlZmluZWQgPyBzb3VyY2Vba2V5XSA6IG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgIGxlbmd0aCA9IDE7XG4gICAgfVxuICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgIGFzc2lnbmVyKG9iamVjdCwgc291cmNlLCBpbmRleCwgY3VzdG9taXplcik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSB2YWx1ZSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJndW1lbnRzIGFyZSBmcm9tIGFuIGl0ZXJhdGVlIGNhbGwsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0l0ZXJhdGVlQ2FsbCh2YWx1ZSwgaW5kZXgsIG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgID8gKGlzQXJyYXlMaWtlKG9iamVjdCkgJiYgaXNJbmRleChpbmRleCwgb2JqZWN0Lmxlbmd0aCkpXG4gICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgKSB7XG4gICAgcmV0dXJuIGVxKG9iamVjdFtpbmRleF0sIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2VcbiAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICghcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpIHx8IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IGFyZ3NUYWcpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5YCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gKiBub3QgYSBmdW5jdGlvbiBhbmQgaGFzIGEgYHZhbHVlLmxlbmd0aGAgdGhhdCdzIGFuIGludGVnZXIgZ3JlYXRlciB0aGFuIG9yXG4gKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhaXNGdW5jdGlvbih2YWx1ZSk7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYFxuICogaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGlzQXJyYXlMaWtlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA4LTkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXkgYW5kIG90aGVyIGNvbnN0cnVjdG9ycy5cbiAgdmFyIHRhZyA9IGlzT2JqZWN0KHZhbHVlKSA/IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0xlbmd0aCgzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKEluZmluaXR5KTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aCgnMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNMZW5ndGgodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJlxuICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIG93biBhbmRcbiAqIGluaGVyaXRlZCBzb3VyY2UgcHJvcGVydGllcy5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAYWxpYXMgZXh0ZW5kXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAc2VlIF8uYXNzaWduXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBmdW5jdGlvbiBCYXIoKSB7XG4gKiAgIHRoaXMuYyA9IDM7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gKlxuICogXy5hc3NpZ25Jbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0IH1cbiAqL1xudmFyIGFzc2lnbkluID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xufSk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXNJbihuZXcgRm9vKTtcbiAqIC8vID0+IFsnYScsICdiJywgJ2MnXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICovXG5mdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QsIHRydWUpIDogYmFzZUtleXNJbihvYmplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFzc2lnbkluO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuXG5mdW5jdGlvbiBfZGVmYXVsdChvYmosIGRpZmZlcmVuY2UpIHtcbiAgdmFyIG5ld09iaiA9IE9iamVjdC5hc3NpZ24oe30sIG9iaik7XG4gIGRpZmZlcmVuY2UuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBjaGFuZ2UgPSBfcmVmLmNoYW5nZSxcbiAgICAgICAga2V5ID0gX3JlZi5rZXksXG4gICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTtcblxuICAgIHN3aXRjaCAoY2hhbmdlKSB7XG4gICAgICBjYXNlIF9jb25zdGFudHMuRElGRl9TVEFUVVNfVVBEQVRFRDpcbiAgICAgICAgbmV3T2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgX2NvbnN0YW50cy5ESUZGX1NUQVRVU19SRU1PVkVEOlxuICAgICAgICBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KG5ld09iaiwga2V5KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6IC8vIGRvIG5vdGhpbmdcblxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBuZXdPYmo7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBhcHBseU1pZGRsZXdhcmU7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSB9XG5cbi8vIEZ1bmN0aW9uIHRha2VuIGZyb20gcmVkdXggc291cmNlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZWR1eC9ibG9iL21hc3Rlci9zcmMvY29tcG9zZS5qc1xuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZ1bmNzWzBdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmNzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYShiLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG59IC8vIEJhc2VkIG9uIHJlZHV4IGltcGxlbWVudGF0aW9uIG9mIGFwcGx5TWlkZGxld2FyZSB0byBzdXBwb3J0IGFsbCBzdGFuZGFyZFxuLy8gcmVkdXggbWlkZGxld2FyZXNcblxuXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoc3RvcmUpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgbWlkZGxld2FyZXNbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICB2YXIgX2Rpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdEaXNwYXRjaGluZyB3aGlsZSBjb25zdHJ1Y3RpbmcgeW91ciBtaWRkbGV3YXJlIGlzIG5vdCBhbGxvd2VkLiAnICsgJ090aGVyIG1pZGRsZXdhcmUgd291bGQgbm90IGJlIGFwcGxpZWQgdG8gdGhpcyBkaXNwYXRjaC4nKTtcbiAgfTtcblxuICB2YXIgbWlkZGxld2FyZUFQSSA9IHtcbiAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUuYmluZChzdG9yZSksXG4gICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgcmV0dXJuIF9kaXNwYXRjaC5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9O1xuICBtaWRkbGV3YXJlcyA9IChtaWRkbGV3YXJlcyB8fCBbXSkubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgcmV0dXJuIG1pZGRsZXdhcmUobWlkZGxld2FyZUFQSSk7XG4gIH0pO1xuICBfZGlzcGF0Y2ggPSBjb21wb3NlLmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KG1pZGRsZXdhcmVzKSkoc3RvcmUuZGlzcGF0Y2gpO1xuICBzdG9yZS5kaXNwYXRjaCA9IF9kaXNwYXRjaDtcbiAgcmV0dXJuIHN0b3JlO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoXCIuLi9jb25zdGFudHNcIik7XG5cbnZhciBfc2VyaWFsaXphdGlvbiA9IHJlcXVpcmUoXCIuLi9zZXJpYWxpemF0aW9uXCIpO1xuXG52YXIgX3V0aWwgPSByZXF1aXJlKFwiLi4vdXRpbFwiKTtcblxudmFyIF9kaWZmID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vc3RyYXRlZ2llcy9zaGFsbG93RGlmZi9kaWZmXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXHJcbiAqIFJlc3BvbmRlciBmb3IgcHJvbWlzaWZpZWQgcmVzdWx0c1xyXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRpc3BhdGNoUmVzdWx0IFRoZSByZXN1bHQgZnJvbSBgc3RvcmUuZGlzcGF0Y2goKWBcclxuICogQHBhcmFtICB7ZnVuY3Rpb259IHNlbmQgICAgICAgICBUaGUgZnVuY3Rpb24gdXNlZCB0byByZXNwb25kIHRvIG9yaWdpbmFsIG1lc3NhZ2VcclxuICogQHJldHVybiB7dW5kZWZpbmVkfVxyXG4gKi9cbnZhciBwcm9taXNlUmVzcG9uZGVyID0gZnVuY3Rpb24gcHJvbWlzZVJlc3BvbmRlcihkaXNwYXRjaFJlc3VsdCwgc2VuZCkge1xuICBQcm9taXNlLnJlc29sdmUoZGlzcGF0Y2hSZXN1bHQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHNlbmQoe1xuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB2YWx1ZTogcmVzXG4gICAgfSk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdlcnJvciBkaXNwYXRjaGluZyByZXN1bHQ6JywgZXJyKTtcbiAgICBzZW5kKHtcbiAgICAgIGVycm9yOiBlcnIubWVzc2FnZSxcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfSk7XG4gIH0pO1xufTtcblxudmFyIGRlZmF1bHRPcHRzID0ge1xuICBwb3J0TmFtZTogX2NvbnN0YW50cy5ERUZBVUxUX1BPUlRfTkFNRSxcbiAgZGlzcGF0Y2hSZXNwb25kZXI6IHByb21pc2VSZXNwb25kZXIsXG4gIHNlcmlhbGl6ZXI6IF9zZXJpYWxpemF0aW9uLm5vb3AsXG4gIGRlc2VyaWFsaXplcjogX3NlcmlhbGl6YXRpb24ubm9vcCxcbiAgZGlmZlN0cmF0ZWd5OiBfZGlmZi5kZWZhdWx0XG59O1xuLyoqXHJcbiAqIFdyYXBzIGEgUmVkdXggc3RvcmUgc28gdGhhdCBwcm94eSBzdG9yZXMgY2FuIGNvbm5lY3QgdG8gaXQuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdG9yZSBBIFJlZHV4IHN0b3JlXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEFuIG9iamVjdCBvZiBmb3JtIHtwb3J0TmFtZSwgZGlzcGF0Y2hSZXNwb25kZXIsIHNlcmlhbGl6ZXIsIGRlc2VyaWFsaXplcn0sIHdoZXJlIGBwb3J0TmFtZWAgaXMgYSByZXF1aXJlZCBzdHJpbmcgYW5kIGRlZmluZXMgdGhlIG5hbWUgb2YgdGhlIHBvcnQgZm9yIHN0YXRlIHRyYW5zaXRpb24gY2hhbmdlcywgYGRpc3BhdGNoUmVzcG9uZGVyYCBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHJlc3VsdCBvZiBhIHN0b3JlIGRpc3BhdGNoIGFuZCBvcHRpb25hbGx5IGltcGxlbWVudHMgY3VzdG9tIGxvZ2ljIGZvciByZXNwb25kaW5nIHRvIHRoZSBvcmlnaW5hbCBkaXNwYXRjaCBtZXNzYWdlLGBzZXJpYWxpemVyYCBpcyBhIGZ1bmN0aW9uIHRvIHNlcmlhbGl6ZSBvdXRnb2luZyBtZXNzYWdlIHBheWxvYWRzIChkZWZhdWx0IGlzIHBhc3N0aHJvdWdoKSwgYGRlc2VyaWFsaXplcmAgaXMgYSBmdW5jdGlvbiB0byBkZXNlcmlhbGl6ZSBpbmNvbWluZyBtZXNzYWdlIHBheWxvYWRzIChkZWZhdWx0IGlzIHBhc3N0aHJvdWdoKSwgYW5kIGRpZmZTdHJhdGVneSBpcyBvbmUgb2YgdGhlIGluY2x1ZGVkIGRpZmZpbmcgc3RyYXRlZ2llcyAoZGVmYXVsdCBpcyBzaGFsbG93IGRpZmYpIG9yIGEgY3VzdG9tIGRpZmZpbmcgZnVuY3Rpb24uXHJcbiAqL1xuXG52YXIgX2RlZmF1bHQgPSBmdW5jdGlvbiBfZGVmYXVsdChzdG9yZSkge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdE9wdHMsXG4gICAgICBfcmVmJHBvcnROYW1lID0gX3JlZi5wb3J0TmFtZSxcbiAgICAgIHBvcnROYW1lID0gX3JlZiRwb3J0TmFtZSA9PT0gdm9pZCAwID8gZGVmYXVsdE9wdHMucG9ydE5hbWUgOiBfcmVmJHBvcnROYW1lLFxuICAgICAgX3JlZiRkaXNwYXRjaFJlc3BvbmRlID0gX3JlZi5kaXNwYXRjaFJlc3BvbmRlcixcbiAgICAgIGRpc3BhdGNoUmVzcG9uZGVyID0gX3JlZiRkaXNwYXRjaFJlc3BvbmRlID09PSB2b2lkIDAgPyBkZWZhdWx0T3B0cy5kaXNwYXRjaFJlc3BvbmRlciA6IF9yZWYkZGlzcGF0Y2hSZXNwb25kZSxcbiAgICAgIF9yZWYkc2VyaWFsaXplciA9IF9yZWYuc2VyaWFsaXplcixcbiAgICAgIHNlcmlhbGl6ZXIgPSBfcmVmJHNlcmlhbGl6ZXIgPT09IHZvaWQgMCA/IGRlZmF1bHRPcHRzLnNlcmlhbGl6ZXIgOiBfcmVmJHNlcmlhbGl6ZXIsXG4gICAgICBfcmVmJGRlc2VyaWFsaXplciA9IF9yZWYuZGVzZXJpYWxpemVyLFxuICAgICAgZGVzZXJpYWxpemVyID0gX3JlZiRkZXNlcmlhbGl6ZXIgPT09IHZvaWQgMCA/IGRlZmF1bHRPcHRzLmRlc2VyaWFsaXplciA6IF9yZWYkZGVzZXJpYWxpemVyLFxuICAgICAgX3JlZiRkaWZmU3RyYXRlZ3kgPSBfcmVmLmRpZmZTdHJhdGVneSxcbiAgICAgIGRpZmZTdHJhdGVneSA9IF9yZWYkZGlmZlN0cmF0ZWd5ID09PSB2b2lkIDAgPyBkZWZhdWx0T3B0cy5kaWZmU3RyYXRlZ3kgOiBfcmVmJGRpZmZTdHJhdGVneTtcblxuICBpZiAoIXBvcnROYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwb3J0TmFtZSBpcyByZXF1aXJlZCBpbiBvcHRpb25zJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHNlcmlhbGl6ZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlcmlhbGl6ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIGRlc2VyaWFsaXplciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignZGVzZXJpYWxpemVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkaWZmU3RyYXRlZ3kgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RpZmZTdHJhdGVneSBtdXN0IGJlIG9uZSBvZiB0aGUgaW5jbHVkZWQgZGlmZmluZyBzdHJhdGVnaWVzIG9yIGEgY3VzdG9tIGRpZmYgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBicm93c2VyQVBJID0gKDAsIF91dGlsLmdldEJyb3dzZXJBUEkpKCk7XG4gIC8qKlxyXG4gICAqIFJlc3BvbmQgdG8gZGlzcGF0Y2hlcyBmcm9tIFVJIGNvbXBvbmVudHNcclxuICAgKi9cblxuICB2YXIgZGlzcGF0Y2hSZXNwb25zZSA9IGZ1bmN0aW9uIGRpc3BhdGNoUmVzcG9uc2UocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpIHtcbiAgICBpZiAocmVxdWVzdC50eXBlID09PSBfY29uc3RhbnRzLkRJU1BBVENIX1RZUEUgJiYgcmVxdWVzdC5wb3J0TmFtZSA9PT0gcG9ydE5hbWUpIHtcbiAgICAgIHZhciBhY3Rpb24gPSBPYmplY3QuYXNzaWduKHt9LCByZXF1ZXN0LnBheWxvYWQsIHtcbiAgICAgICAgX3NlbmRlcjogc2VuZGVyXG4gICAgICB9KTtcbiAgICAgIHZhciBkaXNwYXRjaFJlc3VsdCA9IG51bGw7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGRpc3BhdGNoUmVzdWx0ID0gc3RvcmUuZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZGlzcGF0Y2hSZXN1bHQgPSBQcm9taXNlLnJlamVjdChlLm1lc3NhZ2UpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgfVxuXG4gICAgICBkaXNwYXRjaFJlc3BvbmRlcihkaXNwYXRjaFJlc3VsdCwgc2VuZFJlc3BvbnNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcbiAgLyoqXHJcbiAgKiBTZXR1cCBmb3Igc3RhdGUgdXBkYXRlc1xyXG4gICovXG5cblxuICB2YXIgY29ubmVjdFN0YXRlID0gZnVuY3Rpb24gY29ubmVjdFN0YXRlKHBvcnQpIHtcbiAgICBpZiAocG9ydC5uYW1lICE9PSBwb3J0TmFtZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzZXJpYWxpemVkTWVzc2FnZVBvc3RlciA9ICgwLCBfc2VyaWFsaXphdGlvbi53aXRoU2VyaWFsaXplcikoc2VyaWFsaXplcikoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHBvcnQucG9zdE1lc3NhZ2UuYXBwbHkocG9ydCwgYXJndW1lbnRzKTtcbiAgICB9KTtcbiAgICB2YXIgcHJldlN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcblxuICAgIHZhciBwYXRjaFN0YXRlID0gZnVuY3Rpb24gcGF0Y2hTdGF0ZSgpIHtcbiAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICB2YXIgZGlmZiA9IGRpZmZTdHJhdGVneShwcmV2U3RhdGUsIHN0YXRlKTtcblxuICAgICAgaWYgKGRpZmYubGVuZ3RoKSB7XG4gICAgICAgIHByZXZTdGF0ZSA9IHN0YXRlO1xuICAgICAgICBzZXJpYWxpemVkTWVzc2FnZVBvc3Rlcih7XG4gICAgICAgICAgdHlwZTogX2NvbnN0YW50cy5QQVRDSF9TVEFURV9UWVBFLFxuICAgICAgICAgIHBheWxvYWQ6IGRpZmZcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTsgLy8gU2VuZCBwYXRjaGVkIHN0YXRlIGRvd24gY29ubmVjdGVkIHBvcnQgb24gZXZlcnkgcmVkdXggc3RvcmUgc3RhdGUgY2hhbmdlXG5cblxuICAgIHZhciB1bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShwYXRjaFN0YXRlKTsgLy8gd2hlbiB0aGUgcG9ydCBkaXNjb25uZWN0cywgdW5zdWJzY3JpYmUgdGhlIHNlbmRTdGF0ZSBsaXN0ZW5lclxuXG4gICAgcG9ydC5vbkRpc2Nvbm5lY3QuYWRkTGlzdGVuZXIodW5zdWJzY3JpYmUpOyAvLyBTZW5kIHN0b3JlJ3MgaW5pdGlhbCBzdGF0ZSB0aHJvdWdoIHBvcnRcblxuICAgIHNlcmlhbGl6ZWRNZXNzYWdlUG9zdGVyKHtcbiAgICAgIHR5cGU6IF9jb25zdGFudHMuU1RBVEVfVFlQRSxcbiAgICAgIHBheWxvYWQ6IHByZXZTdGF0ZVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciB3aXRoUGF5bG9hZERlc2VyaWFsaXplciA9ICgwLCBfc2VyaWFsaXphdGlvbi53aXRoRGVzZXJpYWxpemVyKShkZXNlcmlhbGl6ZXIpO1xuXG4gIHZhciBzaG91bGREZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uIHNob3VsZERlc2VyaWFsaXplKHJlcXVlc3QpIHtcbiAgICByZXR1cm4gcmVxdWVzdC50eXBlID09PSBfY29uc3RhbnRzLkRJU1BBVENIX1RZUEUgJiYgcmVxdWVzdC5wb3J0TmFtZSA9PT0gcG9ydE5hbWU7XG4gIH07XG4gIC8qKlxyXG4gICAqIFNldHVwIGFjdGlvbiBoYW5kbGVyXHJcbiAgICovXG5cblxuICB3aXRoUGF5bG9hZERlc2VyaWFsaXplcihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9icm93c2VyQVBJJHJ1bnRpbWUkbztcblxuICAgIHJldHVybiAoX2Jyb3dzZXJBUEkkcnVudGltZSRvID0gYnJvd3NlckFQSS5ydW50aW1lLm9uTWVzc2FnZSkuYWRkTGlzdGVuZXIuYXBwbHkoX2Jyb3dzZXJBUEkkcnVudGltZSRvLCBhcmd1bWVudHMpO1xuICB9KShkaXNwYXRjaFJlc3BvbnNlLCBzaG91bGREZXNlcmlhbGl6ZSk7XG4gIC8qKlxyXG4gICAqIFNldHVwIGV4dGVybmFsIGFjdGlvbiBoYW5kbGVyXHJcbiAgICovXG5cbiAgaWYgKGJyb3dzZXJBUEkucnVudGltZS5vbk1lc3NhZ2VFeHRlcm5hbCkge1xuICAgIHdpdGhQYXlsb2FkRGVzZXJpYWxpemVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYnJvd3NlckFQSSRydW50aW1lJG8yO1xuXG4gICAgICByZXR1cm4gKF9icm93c2VyQVBJJHJ1bnRpbWUkbzIgPSBicm93c2VyQVBJLnJ1bnRpbWUub25NZXNzYWdlRXh0ZXJuYWwpLmFkZExpc3RlbmVyLmFwcGx5KF9icm93c2VyQVBJJHJ1bnRpbWUkbzIsIGFyZ3VtZW50cyk7XG4gICAgfSkoZGlzcGF0Y2hSZXNwb25zZSwgc2hvdWxkRGVzZXJpYWxpemUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybigncnVudGltZS5vbk1lc3NhZ2VFeHRlcm5hbCBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gIH1cbiAgLyoqXHJcbiAgICogU2V0dXAgZXh0ZW5kZWQgY29ubmVjdGlvblxyXG4gICAqL1xuXG5cbiAgYnJvd3NlckFQSS5ydW50aW1lLm9uQ29ubmVjdC5hZGRMaXN0ZW5lcihjb25uZWN0U3RhdGUpO1xuICAvKipcclxuICAgKiBTZXR1cCBleHRlbmRlZCBleHRlcm5hbCBjb25uZWN0aW9uXHJcbiAgICovXG5cbiAgaWYgKGJyb3dzZXJBUEkucnVudGltZS5vbkNvbm5lY3RFeHRlcm5hbCkge1xuICAgIGJyb3dzZXJBUEkucnVudGltZS5vbkNvbm5lY3RFeHRlcm5hbC5hZGRMaXN0ZW5lcihjb25uZWN0U3RhdGUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybigncnVudGltZS5vbkNvbm5lY3RFeHRlcm5hbCBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gIH1cbiAgLyoqXHJcbiAgICogU2FmZXR5IG1lc3NhZ2UgdG8gdGFicyBmb3IgY29udGVudCBzY3JpcHRzXHJcbiAgICovXG5cblxuICBicm93c2VyQVBJLnRhYnMucXVlcnkoe30sIGZ1bmN0aW9uICh0YWJzKSB7XG4gICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0YWJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICB2YXIgdGFiID0gX3N0ZXAudmFsdWU7XG4gICAgICAgIGJyb3dzZXJBUEkudGFicy5zZW5kTWVzc2FnZSh0YWIuaWQsIHtcbiAgICAgICAgICBhY3Rpb246ICdzdG9yZVJlYWR5JyxcbiAgICAgICAgICBwb3J0TmFtZTogcG9ydE5hbWVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChjaHJvbWUucnVudGltZS5sYXN0RXJyb3IpIHsvLyBkbyBub3RoaW5nIC0gZXJyb3JzIGNhbiBiZSBwcmVzZW50XG4gICAgICAgICAgICAvLyBpZiBubyBjb250ZW50IHNjcmlwdCBleGlzdHMgb24gcmVjaWV2ZXJcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTsgLy8gRm9yIG5vbi10YWIgYmFzZWRcbiAgLy8gVE9ETzogRmluZCB1c2UgY2FzZSBmb3IgdGhpcy4gT21taXRpbmcgdW50aWwgdGhlbi5cbiAgLy8gYnJvd3NlckFQSS5ydW50aW1lLnNlbmRNZXNzYWdlKG51bGwsIHthY3Rpb246ICdzdG9yZVJlYWR5J30pO1xufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBzaGFsbG93RGlmZjtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuXG4vKipcclxuICogUmV0dXJucyBhIG5ldyBPYmplY3QgY29udGFpbmluZyBvbmx5IHRoZSBmaWVsZHMgaW4gYG5ld2AgdGhhdCBkaWZmZXIgZnJvbSBgb2xkYFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb2xkXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBuZXdcclxuICogQHJldHVybiB7QXJyYXl9IEFuIGFycmF5IG9mIGNoYW5nZXMuIFRoZSBjaGFuZ2VzIGhhdmUgYSBga2V5YCwgYHZhbHVlYCwgYW5kIGBjaGFuZ2VgLlxyXG4gKiAgIFRoZSBjaGFuZ2UgaXMgZWl0aGVyIGB1cGRhdGVkYCwgd2hpY2ggaXMgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkIG9yIGJlZW4gYWRkZWQsXHJcbiAqICAgb3IgYHJlbW92ZWRgLlxyXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dEaWZmKG9sZE9iaiwgbmV3T2JqKSB7XG4gIHZhciBkaWZmZXJlbmNlID0gW107XG4gIE9iamVjdC5rZXlzKG5ld09iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKG9sZE9ialtrZXldICE9PSBuZXdPYmpba2V5XSkge1xuICAgICAgZGlmZmVyZW5jZS5wdXNoKHtcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHZhbHVlOiBuZXdPYmpba2V5XSxcbiAgICAgICAgY2hhbmdlOiBfY29uc3RhbnRzLkRJRkZfU1RBVFVTX1VQREFURURcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5rZXlzKG9sZE9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFuZXdPYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgZGlmZmVyZW5jZS5wdXNoKHtcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIGNoYW5nZTogX2NvbnN0YW50cy5ESUZGX1NUQVRVU19SRU1PVkVEXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZGlmZmVyZW5jZTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxuLyoqXHJcbiAqIFNpbXBsZSBtaWRkbGV3YXJlIGludGVyY2VwdHMgYWN0aW9ucyBhbmQgcmVwbGFjZXMgd2l0aFxyXG4gKiBhbm90aGVyIGJ5IGNhbGxpbmcgYW4gYWxpYXMgZnVuY3Rpb24gd2l0aCB0aGUgb3JpZ2luYWwgYWN0aW9uXHJcbiAqIEB0eXBlIHtvYmplY3R9IGFsaWFzZXMgYW4gb2JqZWN0IHRoYXQgbWFwcyBhY3Rpb24gdHlwZXMgKGtleXMpIHRvIGFsaWFzIGZ1bmN0aW9ucyAodmFsdWVzKSAoZS5nLiB7IFNPTUVfQUNUSU9OOiBuZXdBY3Rpb25BbGlhc0Z1bmMgfSlcclxuICovXG52YXIgX2RlZmF1bHQgPSBmdW5jdGlvbiBfZGVmYXVsdChhbGlhc2VzKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWxpYXMgPSBhbGlhc2VzW2FjdGlvbi50eXBlXTtcblxuICAgICAgICBpZiAoYWxpYXMpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dChhbGlhcyhhY3Rpb24pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDsiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvUmVhY3QnKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0RE9NID0gcmVxdWlyZSgnLi9SZWFjdERPTScpO1xudmFyIFJlYWN0RE9NU2VydmVyID0gcmVxdWlyZSgnLi9SZWFjdERPTVNlcnZlcicpO1xudmFyIFJlYWN0SXNvbW9ycGhpYyA9IHJlcXVpcmUoJy4vUmVhY3RJc29tb3JwaGljJyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBkZXByZWNhdGVkID0gcmVxdWlyZSgnLi9kZXByZWNhdGVkJyk7XG5cbi8vIGB2ZXJzaW9uYCB3aWxsIGJlIGFkZGVkIGhlcmUgYnkgUmVhY3RJc29tb3JwaGljLlxudmFyIFJlYWN0ID0ge307XG5cbmFzc2lnbihSZWFjdCwgUmVhY3RJc29tb3JwaGljKTtcblxuYXNzaWduKFJlYWN0LCB7XG4gIC8vIFJlYWN0RE9NXG4gIGZpbmRET01Ob2RlOiBkZXByZWNhdGVkKCdmaW5kRE9NTm9kZScsICdSZWFjdERPTScsICdyZWFjdC1kb20nLCBSZWFjdERPTSwgUmVhY3RET00uZmluZERPTU5vZGUpLFxuICByZW5kZXI6IGRlcHJlY2F0ZWQoJ3JlbmRlcicsICdSZWFjdERPTScsICdyZWFjdC1kb20nLCBSZWFjdERPTSwgUmVhY3RET00ucmVuZGVyKSxcbiAgdW5tb3VudENvbXBvbmVudEF0Tm9kZTogZGVwcmVjYXRlZCgndW5tb3VudENvbXBvbmVudEF0Tm9kZScsICdSZWFjdERPTScsICdyZWFjdC1kb20nLCBSZWFjdERPTSwgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSksXG5cbiAgLy8gUmVhY3RET01TZXJ2ZXJcbiAgcmVuZGVyVG9TdHJpbmc6IGRlcHJlY2F0ZWQoJ3JlbmRlclRvU3RyaW5nJywgJ1JlYWN0RE9NU2VydmVyJywgJ3JlYWN0LWRvbS9zZXJ2ZXInLCBSZWFjdERPTVNlcnZlciwgUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdHJpbmcpLFxuICByZW5kZXJUb1N0YXRpY01hcmt1cDogZGVwcmVjYXRlZCgncmVuZGVyVG9TdGF0aWNNYXJrdXAnLCAnUmVhY3RET01TZXJ2ZXInLCAncmVhY3QtZG9tL3NlcnZlcicsIFJlYWN0RE9NU2VydmVyLCBSZWFjdERPTVNlcnZlci5yZW5kZXJUb1N0YXRpY01hcmt1cClcbn0pO1xuXG5SZWFjdC5fX1NFQ1JFVF9ET01fRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCA9IFJlYWN0RE9NO1xuUmVhY3QuX19TRUNSRVRfRE9NX1NFUlZFUl9ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEID0gUmVhY3RET01TZXJ2ZXI7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NXG4gKi9cblxuLyogZ2xvYmFscyBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18qL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcbnZhciBSZWFjdERPTVRleHRDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0RE9NVGV4dENvbXBvbmVudCcpO1xudmFyIFJlYWN0RGVmYXVsdEluamVjdGlvbiA9IHJlcXVpcmUoJy4vUmVhY3REZWZhdWx0SW5qZWN0aW9uJyk7XG52YXIgUmVhY3RJbnN0YW5jZUhhbmRsZXMgPSByZXF1aXJlKCcuL1JlYWN0SW5zdGFuY2VIYW5kbGVzJyk7XG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoJy4vUmVhY3RNb3VudCcpO1xudmFyIFJlYWN0UGVyZiA9IHJlcXVpcmUoJy4vUmVhY3RQZXJmJyk7XG52YXIgUmVhY3RSZWNvbmNpbGVyID0gcmVxdWlyZSgnLi9SZWFjdFJlY29uY2lsZXInKTtcbnZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlcycpO1xudmFyIFJlYWN0VmVyc2lvbiA9IHJlcXVpcmUoJy4vUmVhY3RWZXJzaW9uJyk7XG5cbnZhciBmaW5kRE9NTm9kZSA9IHJlcXVpcmUoJy4vZmluZERPTU5vZGUnKTtcbnZhciByZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lciA9IHJlcXVpcmUoJy4vcmVuZGVyU3VidHJlZUludG9Db250YWluZXInKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG5SZWFjdERlZmF1bHRJbmplY3Rpb24uaW5qZWN0KCk7XG5cbnZhciByZW5kZXIgPSBSZWFjdFBlcmYubWVhc3VyZSgnUmVhY3QnLCAncmVuZGVyJywgUmVhY3RNb3VudC5yZW5kZXIpO1xuXG52YXIgUmVhY3QgPSB7XG4gIGZpbmRET01Ob2RlOiBmaW5kRE9NTm9kZSxcbiAgcmVuZGVyOiByZW5kZXIsXG4gIHVubW91bnRDb21wb25lbnRBdE5vZGU6IFJlYWN0TW91bnQudW5tb3VudENvbXBvbmVudEF0Tm9kZSxcbiAgdmVyc2lvbjogUmVhY3RWZXJzaW9uLFxuXG4gIC8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuICB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlczogUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzLFxuICB1bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcjogcmVuZGVyU3VidHJlZUludG9Db250YWluZXJcbn07XG5cbi8vIEluamVjdCB0aGUgcnVudGltZSBpbnRvIGEgZGV2dG9vbHMgZ2xvYmFsIGhvb2sgcmVnYXJkbGVzcyBvZiBicm93c2VyLlxuLy8gQWxsb3dzIGZvciBkZWJ1Z2dpbmcgd2hlbiB0aGUgaG9vayBpcyBpbmplY3RlZCBvbiB0aGUgcGFnZS5cbi8qIGVzbGludC1lbmFibGUgY2FtZWxjYXNlICovXG5pZiAodHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5pbmplY3QgPT09ICdmdW5jdGlvbicpIHtcbiAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmluamVjdCh7XG4gICAgQ3VycmVudE93bmVyOiBSZWFjdEN1cnJlbnRPd25lcixcbiAgICBJbnN0YW5jZUhhbmRsZXM6IFJlYWN0SW5zdGFuY2VIYW5kbGVzLFxuICAgIE1vdW50OiBSZWFjdE1vdW50LFxuICAgIFJlY29uY2lsZXI6IFJlYWN0UmVjb25jaWxlcixcbiAgICBUZXh0Q29tcG9uZW50OiBSZWFjdERPTVRleHRDb21wb25lbnRcbiAgfSk7XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG4gIGlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgd2luZG93LnRvcCA9PT0gd2luZG93LnNlbGYpIHtcblxuICAgIC8vIEZpcnN0IGNoZWNrIGlmIGRldnRvb2xzIGlzIG5vdCBpbnN0YWxsZWRcbiAgICBpZiAodHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIElmIHdlJ3JlIGluIENocm9tZSBvciBGaXJlZm94LCBwcm92aWRlIGEgZG93bmxvYWQgbGluayBpZiBub3QgaW5zdGFsbGVkLlxuICAgICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgPiAtMSAmJiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0VkZ2UnKSA9PT0gLTEgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdGaXJlZm94JykgPiAtMSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdEb3dubG9hZCB0aGUgUmVhY3QgRGV2VG9vbHMgZm9yIGEgYmV0dGVyIGRldmVsb3BtZW50IGV4cGVyaWVuY2U6ICcgKyAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1kZXZ0b29scycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHdlJ3JlIGluIElFOCwgY2hlY2sgdG8gc2VlIGlmIHdlIGFyZSBpbiBjb21wYXRpYmlsaXR5IG1vZGUgYW5kIHByb3ZpZGVcbiAgICAvLyBpbmZvcm1hdGlvbiBvbiBwcmV2ZW50aW5nIGNvbXBhdGliaWxpdHkgbW9kZVxuICAgIHZhciBpZUNvbXBhdGliaWxpdHlNb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSA8IDg7XG5cbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaWVDb21wYXRpYmlsaXR5TW9kZSwgJ0ludGVybmV0IEV4cGxvcmVyIGlzIHJ1bm5pbmcgaW4gY29tcGF0aWJpbGl0eSBtb2RlOyBwbGVhc2UgYWRkIHRoZSAnICsgJ2ZvbGxvd2luZyB0YWcgdG8geW91ciBIVE1MIHRvIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZzogJyArICc8bWV0YSBodHRwLWVxdWl2PVwiWC1VQS1Db21wYXRpYmxlXCIgY29udGVudD1cIklFPWVkZ2VcIiAvPicpIDogdW5kZWZpbmVkO1xuXG4gICAgdmFyIGV4cGVjdGVkRmVhdHVyZXMgPSBbXG4gICAgLy8gc2hpbXNcbiAgICBBcnJheS5pc0FycmF5LCBBcnJheS5wcm90b3R5cGUuZXZlcnksIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLCBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiwgQXJyYXkucHJvdG90eXBlLm1hcCwgRGF0ZS5ub3csIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLCBPYmplY3Qua2V5cywgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgU3RyaW5nLnByb3RvdHlwZS50cmltLFxuXG4gICAgLy8gc2hhbXNcbiAgICBPYmplY3QuY3JlYXRlLCBPYmplY3QuZnJlZXplXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRGZWF0dXJlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFleHBlY3RlZEZlYXR1cmVzW2ldKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ09uZSBvciBtb3JlIEVTNSBzaGltL3NoYW1zIGV4cGVjdGVkIGJ5IFJlYWN0IGFyZSBub3QgYXZhaWxhYmxlOiAnICsgJ2h0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1wb2x5ZmlsbHMnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIERhbmdlclxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG5cbnZhciBjcmVhdGVOb2Rlc0Zyb21NYXJrdXAgPSByZXF1aXJlKCdmYmpzL2xpYi9jcmVhdGVOb2Rlc0Zyb21NYXJrdXAnKTtcbnZhciBlbXB0eUZ1bmN0aW9uID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlGdW5jdGlvbicpO1xudmFyIGdldE1hcmt1cFdyYXAgPSByZXF1aXJlKCdmYmpzL2xpYi9nZXRNYXJrdXBXcmFwJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG5cbnZhciBPUEVOX1RBR19OQU1FX0VYUCA9IC9eKDxbXiBcXC8+XSspLztcbnZhciBSRVNVTFRfSU5ERVhfQVRUUiA9ICdkYXRhLWRhbmdlci1pbmRleCc7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIGBub2RlTmFtZWAgZnJvbSBhIHN0cmluZyBvZiBtYXJrdXAuXG4gKlxuICogTk9URTogRXh0cmFjdGluZyB0aGUgYG5vZGVOYW1lYCBkb2VzIG5vdCByZXF1aXJlIGEgcmVndWxhciBleHByZXNzaW9uIG1hdGNoXG4gKiBiZWNhdXNlIHdlIG1ha2UgYXNzdW1wdGlvbnMgYWJvdXQgUmVhY3QtZ2VuZXJhdGVkIG1hcmt1cCAoaS5lLiB0aGVyZSBhcmUgbm9cbiAqIHNwYWNlcyBzdXJyb3VuZGluZyB0aGUgb3BlbmluZyB0YWcgYW5kIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBhdHRyaWJ1dGUpLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrdXAgU3RyaW5nIG9mIG1hcmt1cC5cbiAqIEByZXR1cm4ge3N0cmluZ30gTm9kZSBuYW1lIG9mIHRoZSBzdXBwbGllZCBtYXJrdXAuXG4gKiBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL2V4dHJhY3Qtbm9kZW5hbWVcbiAqL1xuZnVuY3Rpb24gZ2V0Tm9kZU5hbWUobWFya3VwKSB7XG4gIHJldHVybiBtYXJrdXAuc3Vic3RyaW5nKDEsIG1hcmt1cC5pbmRleE9mKCcgJykpO1xufVxuXG52YXIgRGFuZ2VyID0ge1xuXG4gIC8qKlxuICAgKiBSZW5kZXJzIG1hcmt1cCBpbnRvIGFuIGFycmF5IG9mIG5vZGVzLiBUaGUgbWFya3VwIGlzIGV4cGVjdGVkIHRvIHJlbmRlclxuICAgKiBpbnRvIGEgbGlzdCBvZiByb290IG5vZGVzLiBBbHNvLCB0aGUgbGVuZ3RoIG9mIGByZXN1bHRMaXN0YCBhbmRcbiAgICogYG1hcmt1cExpc3RgIHNob3VsZCBiZSB0aGUgc2FtZS5cbiAgICpcbiAgICogQHBhcmFtIHthcnJheTxzdHJpbmc+fSBtYXJrdXBMaXN0IExpc3Qgb2YgbWFya3VwIHN0cmluZ3MgdG8gcmVuZGVyLlxuICAgKiBAcmV0dXJuIHthcnJheTxET01FbGVtZW50Pn0gTGlzdCBvZiByZW5kZXJlZCBub2Rlcy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBkYW5nZXJvdXNseVJlbmRlck1hcmt1cDogZnVuY3Rpb24gKG1hcmt1cExpc3QpIHtcbiAgICAhRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2Rhbmdlcm91c2x5UmVuZGVyTWFya3VwKC4uLik6IENhbm5vdCByZW5kZXIgbWFya3VwIGluIGEgd29ya2VyICcgKyAndGhyZWFkLiBNYWtlIHN1cmUgYHdpbmRvd2AgYW5kIGBkb2N1bWVudGAgYXJlIGF2YWlsYWJsZSBnbG9iYWxseSAnICsgJ2JlZm9yZSByZXF1aXJpbmcgUmVhY3Qgd2hlbiB1bml0IHRlc3Rpbmcgb3IgdXNlICcgKyAnUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdHJpbmcgZm9yIHNlcnZlciByZW5kZXJpbmcuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIHZhciBub2RlTmFtZTtcbiAgICB2YXIgbWFya3VwQnlOb2RlTmFtZSA9IHt9O1xuICAgIC8vIEdyb3VwIG1hcmt1cCBieSBgbm9kZU5hbWVgIGlmIGEgd3JhcCBpcyBuZWNlc3NhcnksIGVsc2UgYnkgJyonLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya3VwTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgIW1hcmt1cExpc3RbaV0gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZW5kZXJNYXJrdXAoLi4uKTogTWlzc2luZyBtYXJrdXAuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICAgbm9kZU5hbWUgPSBnZXROb2RlTmFtZShtYXJrdXBMaXN0W2ldKTtcbiAgICAgIG5vZGVOYW1lID0gZ2V0TWFya3VwV3JhcChub2RlTmFtZSkgPyBub2RlTmFtZSA6ICcqJztcbiAgICAgIG1hcmt1cEJ5Tm9kZU5hbWVbbm9kZU5hbWVdID0gbWFya3VwQnlOb2RlTmFtZVtub2RlTmFtZV0gfHwgW107XG4gICAgICBtYXJrdXBCeU5vZGVOYW1lW25vZGVOYW1lXVtpXSA9IG1hcmt1cExpc3RbaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRMaXN0ID0gW107XG4gICAgdmFyIHJlc3VsdExpc3RBc3NpZ25tZW50Q291bnQgPSAwO1xuICAgIGZvciAobm9kZU5hbWUgaW4gbWFya3VwQnlOb2RlTmFtZSkge1xuICAgICAgaWYgKCFtYXJrdXBCeU5vZGVOYW1lLmhhc093blByb3BlcnR5KG5vZGVOYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBtYXJrdXBMaXN0QnlOb2RlTmFtZSA9IG1hcmt1cEJ5Tm9kZU5hbWVbbm9kZU5hbWVdO1xuXG4gICAgICAvLyBUaGlzIGZvci1pbiBsb29wIHNraXBzIHRoZSBob2xlcyBvZiB0aGUgc3BhcnNlIGFycmF5LiBUaGUgb3JkZXIgb2ZcbiAgICAgIC8vIGl0ZXJhdGlvbiBzaG91bGQgZm9sbG93IHRoZSBvcmRlciBvZiBhc3NpZ25tZW50LCB3aGljaCBoYXBwZW5zIHRvIG1hdGNoXG4gICAgICAvLyBudW1lcmljYWwgaW5kZXggb3JkZXIsIGJ1dCB3ZSBkb24ndCByZWx5IG9uIHRoYXQuXG4gICAgICB2YXIgcmVzdWx0SW5kZXg7XG4gICAgICBmb3IgKHJlc3VsdEluZGV4IGluIG1hcmt1cExpc3RCeU5vZGVOYW1lKSB7XG4gICAgICAgIGlmIChtYXJrdXBMaXN0QnlOb2RlTmFtZS5oYXNPd25Qcm9wZXJ0eShyZXN1bHRJbmRleCkpIHtcbiAgICAgICAgICB2YXIgbWFya3VwID0gbWFya3VwTGlzdEJ5Tm9kZU5hbWVbcmVzdWx0SW5kZXhdO1xuXG4gICAgICAgICAgLy8gUHVzaCB0aGUgcmVxdWVzdGVkIG1hcmt1cCB3aXRoIGFuIGFkZGl0aW9uYWwgUkVTVUxUX0lOREVYX0FUVFJcbiAgICAgICAgICAvLyBhdHRyaWJ1dGUuICBJZiB0aGUgbWFya3VwIGRvZXMgbm90IHN0YXJ0IHdpdGggYSA8IGNoYXJhY3RlciwgaXRcbiAgICAgICAgICAvLyB3aWxsIGJlIGRpc2NhcmRlZCBiZWxvdyAod2l0aCBhbiBhcHByb3ByaWF0ZSBjb25zb2xlLmVycm9yKS5cbiAgICAgICAgICBtYXJrdXBMaXN0QnlOb2RlTmFtZVtyZXN1bHRJbmRleF0gPSBtYXJrdXAucmVwbGFjZShPUEVOX1RBR19OQU1FX0VYUCxcbiAgICAgICAgICAvLyBUaGlzIGluZGV4IHdpbGwgYmUgcGFyc2VkIGJhY2sgb3V0IGJlbG93LlxuICAgICAgICAgICckMSAnICsgUkVTVUxUX0lOREVYX0FUVFIgKyAnPVwiJyArIHJlc3VsdEluZGV4ICsgJ1wiICcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFJlbmRlciBlYWNoIGdyb3VwIG9mIG1hcmt1cCB3aXRoIHNpbWlsYXIgd3JhcHBpbmcgYG5vZGVOYW1lYC5cbiAgICAgIHZhciByZW5kZXJOb2RlcyA9IGNyZWF0ZU5vZGVzRnJvbU1hcmt1cChtYXJrdXBMaXN0QnlOb2RlTmFtZS5qb2luKCcnKSwgZW1wdHlGdW5jdGlvbiAvLyBEbyBub3RoaW5nIHNwZWNpYWwgd2l0aCA8c2NyaXB0PiB0YWdzLlxuICAgICAgKTtcblxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByZW5kZXJOb2Rlcy5sZW5ndGg7ICsraikge1xuICAgICAgICB2YXIgcmVuZGVyTm9kZSA9IHJlbmRlck5vZGVzW2pdO1xuICAgICAgICBpZiAocmVuZGVyTm9kZS5oYXNBdHRyaWJ1dGUgJiYgcmVuZGVyTm9kZS5oYXNBdHRyaWJ1dGUoUkVTVUxUX0lOREVYX0FUVFIpKSB7XG5cbiAgICAgICAgICByZXN1bHRJbmRleCA9ICtyZW5kZXJOb2RlLmdldEF0dHJpYnV0ZShSRVNVTFRfSU5ERVhfQVRUUik7XG4gICAgICAgICAgcmVuZGVyTm9kZS5yZW1vdmVBdHRyaWJ1dGUoUkVTVUxUX0lOREVYX0FUVFIpO1xuXG4gICAgICAgICAgISFyZXN1bHRMaXN0Lmhhc093blByb3BlcnR5KHJlc3VsdEluZGV4KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEYW5nZXI6IEFzc2lnbmluZyB0byBhbiBhbHJlYWR5LW9jY3VwaWVkIHJlc3VsdCBpbmRleC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICByZXN1bHRMaXN0W3Jlc3VsdEluZGV4XSA9IHJlbmRlck5vZGU7XG5cbiAgICAgICAgICAvLyBUaGlzIHNob3VsZCBtYXRjaCByZXN1bHRMaXN0Lmxlbmd0aCBhbmQgbWFya3VwTGlzdC5sZW5ndGggd2hlblxuICAgICAgICAgIC8vIHdlJ3JlIGRvbmUuXG4gICAgICAgICAgcmVzdWx0TGlzdEFzc2lnbm1lbnRDb3VudCArPSAxO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdEYW5nZXI6IERpc2NhcmRpbmcgdW5leHBlY3RlZCBub2RlOicsIHJlbmRlck5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWx0aG91Z2ggcmVzdWx0TGlzdCB3YXMgcG9wdWxhdGVkIG91dCBvZiBvcmRlciwgaXQgc2hvdWxkIG5vdyBiZSBhIGRlbnNlXG4gICAgLy8gYXJyYXkuXG4gICAgIShyZXN1bHRMaXN0QXNzaWdubWVudENvdW50ID09PSByZXN1bHRMaXN0Lmxlbmd0aCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnRGFuZ2VyOiBEaWQgbm90IGFzc2lnbiB0byBldmVyeSBpbmRleCBvZiByZXN1bHRMaXN0LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICAgICEocmVzdWx0TGlzdC5sZW5ndGggPT09IG1hcmt1cExpc3QubGVuZ3RoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdEYW5nZXI6IEV4cGVjdGVkIG1hcmt1cCB0byByZW5kZXIgJXMgbm9kZXMsIGJ1dCByZW5kZXJlZCAlcy4nLCBtYXJrdXBMaXN0Lmxlbmd0aCwgcmVzdWx0TGlzdC5sZW5ndGgpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICAgIHJldHVybiByZXN1bHRMaXN0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyBhIG5vZGUgd2l0aCBhIHN0cmluZyBvZiBtYXJrdXAgYXQgaXRzIGN1cnJlbnQgcG9zaXRpb24gd2l0aGluIGl0c1xuICAgKiBwYXJlbnQuIFRoZSBtYXJrdXAgbXVzdCByZW5kZXIgaW50byBhIHNpbmdsZSByb290IG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gb2xkQ2hpbGQgQ2hpbGQgbm9kZSB0byByZXBsYWNlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWFya3VwIE1hcmt1cCB0byByZW5kZXIgaW4gcGxhY2Ugb2YgdGhlIGNoaWxkIG5vZGUuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXA6IGZ1bmN0aW9uIChvbGRDaGlsZCwgbWFya3VwKSB7XG4gICAgIUV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdkYW5nZXJvdXNseVJlcGxhY2VOb2RlV2l0aE1hcmt1cCguLi4pOiBDYW5ub3QgcmVuZGVyIG1hcmt1cCBpbiBhICcgKyAnd29ya2VyIHRocmVhZC4gTWFrZSBzdXJlIGB3aW5kb3dgIGFuZCBgZG9jdW1lbnRgIGFyZSBhdmFpbGFibGUgJyArICdnbG9iYWxseSBiZWZvcmUgcmVxdWlyaW5nIFJlYWN0IHdoZW4gdW5pdCB0ZXN0aW5nIG9yIHVzZSAnICsgJ1JlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RyaW5nKCkgZm9yIHNlcnZlciByZW5kZXJpbmcuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICFtYXJrdXAgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZGFuZ2Vyb3VzbHlSZXBsYWNlTm9kZVdpdGhNYXJrdXAoLi4uKTogTWlzc2luZyBtYXJrdXAuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICEob2xkQ2hpbGQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnaHRtbCcpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2Rhbmdlcm91c2x5UmVwbGFjZU5vZGVXaXRoTWFya3VwKC4uLik6IENhbm5vdCByZXBsYWNlIG1hcmt1cCBvZiB0aGUgJyArICc8aHRtbD4gbm9kZS4gVGhpcyBpcyBiZWNhdXNlIGJyb3dzZXIgcXVpcmtzIG1ha2UgdGhpcyB1bnJlbGlhYmxlICcgKyAnYW5kL29yIHNsb3cuIElmIHlvdSB3YW50IHRvIHJlbmRlciB0byB0aGUgcm9vdCB5b3UgbXVzdCB1c2UgJyArICdzZXJ2ZXIgcmVuZGVyaW5nLiBTZWUgUmVhY3RET01TZXJ2ZXIucmVuZGVyVG9TdHJpbmcoKS4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgbmV3Q2hpbGQ7XG4gICAgaWYgKHR5cGVvZiBtYXJrdXAgPT09ICdzdHJpbmcnKSB7XG4gICAgICBuZXdDaGlsZCA9IGNyZWF0ZU5vZGVzRnJvbU1hcmt1cChtYXJrdXAsIGVtcHR5RnVuY3Rpb24pWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdDaGlsZCA9IG1hcmt1cDtcbiAgICB9XG4gICAgb2xkQ2hpbGQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3Q2hpbGQsIG9sZENoaWxkKTtcbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERhbmdlcjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgY3JlYXRlTm9kZXNGcm9tTWFya3VwXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbi8qZXNsaW50LWRpc2FibGUgZmItd3d3L3Vuc2FmZS1odG1sKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG5cbnZhciBjcmVhdGVBcnJheUZyb21NaXhlZCA9IHJlcXVpcmUoJy4vY3JlYXRlQXJyYXlGcm9tTWl4ZWQnKTtcbnZhciBnZXRNYXJrdXBXcmFwID0gcmVxdWlyZSgnLi9nZXRNYXJrdXBXcmFwJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnLi9pbnZhcmlhbnQnKTtcblxuLyoqXG4gKiBEdW1teSBjb250YWluZXIgdXNlZCB0byByZW5kZXIgYWxsIG1hcmt1cC5cbiAqL1xudmFyIGR1bW15Tm9kZSA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIDogbnVsbDtcblxuLyoqXG4gKiBQYXR0ZXJuIHVzZWQgYnkgYGdldE5vZGVOYW1lYC5cbiAqL1xudmFyIG5vZGVOYW1lUGF0dGVybiA9IC9eXFxzKjwoXFx3KykvO1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSBgbm9kZU5hbWVgIG9mIHRoZSBmaXJzdCBlbGVtZW50IGluIGEgc3RyaW5nIG9mIG1hcmt1cC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFya3VwIFN0cmluZyBvZiBtYXJrdXAuXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBOb2RlIG5hbWUgb2YgdGhlIHN1cHBsaWVkIG1hcmt1cC5cbiAqL1xuZnVuY3Rpb24gZ2V0Tm9kZU5hbWUobWFya3VwKSB7XG4gIHZhciBub2RlTmFtZU1hdGNoID0gbWFya3VwLm1hdGNoKG5vZGVOYW1lUGF0dGVybik7XG4gIHJldHVybiBub2RlTmFtZU1hdGNoICYmIG5vZGVOYW1lTWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG5vZGVzIHJlbmRlcmVkIGZyb20gdGhlIHN1cHBsaWVkIG1hcmt1cC4gVGhlXG4gKiBvcHRpb25hbGx5IHN1cHBsaWVkIGBoYW5kbGVTY3JpcHRgIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCBvbmNlIGZvciBlYWNoXG4gKiA8c2NyaXB0PiBlbGVtZW50IHRoYXQgaXMgcmVuZGVyZWQuIElmIG5vIGBoYW5kbGVTY3JpcHRgIGZ1bmN0aW9uIGlzIHN1cHBsaWVkLFxuICogYW4gZXhjZXB0aW9uIGlzIHRocm93biBpZiBhbnkgPHNjcmlwdD4gZWxlbWVudHMgYXJlIHJlbmRlcmVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXJrdXAgQSBzdHJpbmcgb2YgdmFsaWQgSFRNTCBtYXJrdXAuXG4gKiBAcGFyYW0gez9mdW5jdGlvbn0gaGFuZGxlU2NyaXB0IEludm9rZWQgb25jZSBmb3IgZWFjaCByZW5kZXJlZCA8c2NyaXB0Pi5cbiAqIEByZXR1cm4ge2FycmF5PERPTUVsZW1lbnR8RE9NVGV4dE5vZGU+fSBBbiBhcnJheSBvZiByZW5kZXJlZCBub2Rlcy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlTm9kZXNGcm9tTWFya3VwKG1hcmt1cCwgaGFuZGxlU2NyaXB0KSB7XG4gIHZhciBub2RlID0gZHVtbXlOb2RlO1xuICAhISFkdW1teU5vZGUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnY3JlYXRlTm9kZXNGcm9tTWFya3VwIGR1bW15IG5vdCBpbml0aWFsaXplZCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgdmFyIG5vZGVOYW1lID0gZ2V0Tm9kZU5hbWUobWFya3VwKTtcblxuICB2YXIgd3JhcCA9IG5vZGVOYW1lICYmIGdldE1hcmt1cFdyYXAobm9kZU5hbWUpO1xuICBpZiAod3JhcCkge1xuICAgIG5vZGUuaW5uZXJIVE1MID0gd3JhcFsxXSArIG1hcmt1cCArIHdyYXBbMl07XG5cbiAgICB2YXIgd3JhcERlcHRoID0gd3JhcFswXTtcbiAgICB3aGlsZSAod3JhcERlcHRoLS0pIHtcbiAgICAgIG5vZGUgPSBub2RlLmxhc3RDaGlsZDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbm9kZS5pbm5lckhUTUwgPSBtYXJrdXA7XG4gIH1cblxuICB2YXIgc2NyaXB0cyA9IG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuICBpZiAoc2NyaXB0cy5sZW5ndGgpIHtcbiAgICAhaGFuZGxlU2NyaXB0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2NyZWF0ZU5vZGVzRnJvbU1hcmt1cCguLi4pOiBVbmV4cGVjdGVkIDxzY3JpcHQ+IGVsZW1lbnQgcmVuZGVyZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIGNyZWF0ZUFycmF5RnJvbU1peGVkKHNjcmlwdHMpLmZvckVhY2goaGFuZGxlU2NyaXB0KTtcbiAgfVxuXG4gIHZhciBub2RlcyA9IGNyZWF0ZUFycmF5RnJvbU1peGVkKG5vZGUuY2hpbGROb2Rlcyk7XG4gIHdoaWxlIChub2RlLmxhc3RDaGlsZCkge1xuICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpO1xuICB9XG4gIHJldHVybiBub2Rlcztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVOb2Rlc0Zyb21NYXJrdXA7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGNyZWF0ZUFycmF5RnJvbU1peGVkXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHRvQXJyYXkgPSByZXF1aXJlKCcuL3RvQXJyYXknKTtcblxuLyoqXG4gKiBQZXJmb3JtIGEgaGV1cmlzdGljIHRlc3QgdG8gZGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBcImFycmF5LWxpa2VcIi5cbiAqXG4gKiAgIEEgbW9uayBhc2tlZCBKb3NodSwgYSBaZW4gbWFzdGVyLCBcIkhhcyBhIGRvZyBCdWRkaGEgbmF0dXJlP1wiXG4gKiAgIEpvc2h1IHJlcGxpZWQ6IFwiTXUuXCJcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGRldGVybWluZXMgaWYgaXRzIGFyZ3VtZW50IGhhcyBcImFycmF5IG5hdHVyZVwiOiBpdCByZXR1cm5zXG4gKiB0cnVlIGlmIHRoZSBhcmd1bWVudCBpcyBhbiBhY3R1YWwgYXJyYXksIGFuIGBhcmd1bWVudHMnIG9iamVjdCwgb3IgYW5cbiAqIEhUTUxDb2xsZWN0aW9uIChlLmcuIG5vZGUuY2hpbGROb2RlcyBvciBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCkpLlxuICpcbiAqIEl0IHdpbGwgcmV0dXJuIGZhbHNlIGZvciBvdGhlciBhcnJheS1saWtlIG9iamVjdHMgbGlrZSBGaWxlbGlzdC5cbiAqXG4gKiBAcGFyYW0geyp9IG9ialxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaGFzQXJyYXlOYXR1cmUob2JqKSB7XG4gIHJldHVybihcbiAgICAvLyBub3QgbnVsbC9mYWxzZVxuICAgICEhb2JqICYmIChcbiAgICAvLyBhcnJheXMgYXJlIG9iamVjdHMsIE5vZGVMaXN0cyBhcmUgZnVuY3Rpb25zIGluIFNhZmFyaVxuICAgIHR5cGVvZiBvYmogPT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nKSAmJlxuICAgIC8vIHF1YWNrcyBsaWtlIGFuIGFycmF5XG4gICAgJ2xlbmd0aCcgaW4gb2JqICYmXG4gICAgLy8gbm90IHdpbmRvd1xuICAgICEoJ3NldEludGVydmFsJyBpbiBvYmopICYmXG4gICAgLy8gbm8gRE9NIG5vZGUgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYW4gYXJyYXktbGlrZVxuICAgIC8vIGEgJ3NlbGVjdCcgZWxlbWVudCBoYXMgJ2xlbmd0aCcgYW5kICdpdGVtJyBwcm9wZXJ0aWVzIG9uIElFOFxuICAgIHR5cGVvZiBvYmoubm9kZVR5cGUgIT0gJ251bWJlcicgJiYgKFxuICAgIC8vIGEgcmVhbCBhcnJheVxuICAgIEFycmF5LmlzQXJyYXkob2JqKSB8fFxuICAgIC8vIGFyZ3VtZW50c1xuICAgICdjYWxsZWUnIGluIG9iaiB8fFxuICAgIC8vIEhUTUxDb2xsZWN0aW9uL05vZGVMaXN0XG4gICAgJ2l0ZW0nIGluIG9iailcbiAgKTtcbn1cblxuLyoqXG4gKiBFbnN1cmUgdGhhdCB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXkgYnkgd3JhcHBpbmcgaXQgaW4gYW4gYXJyYXkgaWYgaXQgaXMgbm90LlxuICogQ3JlYXRlcyBhIGNvcHkgb2YgdGhlIGFyZ3VtZW50IGlmIGl0IGlzIGFscmVhZHkgYW4gYXJyYXkuXG4gKlxuICogVGhpcyBpcyBtb3N0bHkgdXNlZnVsIGlkaW9tYXRpY2FsbHk6XG4gKlxuICogICB2YXIgY3JlYXRlQXJyYXlGcm9tTWl4ZWQgPSByZXF1aXJlKCdjcmVhdGVBcnJheUZyb21NaXhlZCcpO1xuICpcbiAqICAgZnVuY3Rpb24gdGFrZXNPbmVPck1vcmVUaGluZ3ModGhpbmdzKSB7XG4gKiAgICAgdGhpbmdzID0gY3JlYXRlQXJyYXlGcm9tTWl4ZWQodGhpbmdzKTtcbiAqICAgICAuLi5cbiAqICAgfVxuICpcbiAqIFRoaXMgYWxsb3dzIHlvdSB0byB0cmVhdCBgdGhpbmdzJyBhcyBhbiBhcnJheSwgYnV0IGFjY2VwdCBzY2FsYXJzIGluIHRoZSBBUEkuXG4gKlxuICogSWYgeW91IG5lZWQgdG8gY29udmVydCBhbiBhcnJheS1saWtlIG9iamVjdCwgbGlrZSBgYXJndW1lbnRzYCwgaW50byBhbiBhcnJheVxuICogdXNlIHRvQXJyYXkgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0geyp9IG9ialxuICogQHJldHVybiB7YXJyYXl9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFycmF5RnJvbU1peGVkKG9iaikge1xuICBpZiAoIWhhc0FycmF5TmF0dXJlKG9iaikpIHtcbiAgICByZXR1cm4gW29ial07XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgcmV0dXJuIG9iai5zbGljZSgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0b0FycmF5KG9iaik7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVBcnJheUZyb21NaXhlZDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgdG9BcnJheVxuICogQHR5cGVjaGVja3NcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCcuL2ludmFyaWFudCcpO1xuXG4vKipcbiAqIENvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIGFycmF5cy5cbiAqXG4gKiBUaGlzIEFQSSBhc3N1bWVzIHRoZSBjYWxsZXIga25vd3MgdGhlIGNvbnRlbnRzIG9mIHRoZSBkYXRhIHR5cGUuIEZvciBsZXNzXG4gKiB3ZWxsIGRlZmluZWQgaW5wdXRzIHVzZSBjcmVhdGVBcnJheUZyb21NaXhlZC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdHxmdW5jdGlvbnxmaWxlbGlzdH0gb2JqXG4gKiBAcmV0dXJuIHthcnJheX1cbiAqL1xuZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgdmFyIGxlbmd0aCA9IG9iai5sZW5ndGg7XG5cbiAgLy8gU29tZSBicm93c2UgYnVpbHRpbiBvYmplY3RzIGNhbiByZXBvcnQgdHlwZW9mICdmdW5jdGlvbicgKGUuZy4gTm9kZUxpc3QgaW5cbiAgLy8gb2xkIHZlcnNpb25zIG9mIFNhZmFyaSkuXG4gICEoIUFycmF5LmlzQXJyYXkob2JqKSAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3RvQXJyYXk6IEFycmF5LWxpa2Ugb2JqZWN0IGV4cGVjdGVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICEodHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3RvQXJyYXk6IE9iamVjdCBuZWVkcyBhIGxlbmd0aCBwcm9wZXJ0eScpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICAhKGxlbmd0aCA9PT0gMCB8fCBsZW5ndGggLSAxIGluIG9iaikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndG9BcnJheTogT2JqZWN0IHNob3VsZCBoYXZlIGtleXMgZm9yIGluZGljZXMnKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgLy8gT2xkIElFIGRvZXNuJ3QgZ2l2ZSBjb2xsZWN0aW9ucyBhY2Nlc3MgdG8gaGFzT3duUHJvcGVydHkuIEFzc3VtZSBpbnB1dHNcbiAgLy8gd2l0aG91dCBtZXRob2Qgd2lsbCB0aHJvdyBkdXJpbmcgdGhlIHNsaWNlIGNhbGwgYW5kIHNraXAgc3RyYWlnaHQgdG8gdGhlXG4gIC8vIGZhbGxiYWNrLlxuICBpZiAob2JqLmhhc093blByb3BlcnR5KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmopO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIElFIDwgOSBkb2VzIG5vdCBzdXBwb3J0IEFycmF5I3NsaWNlIG9uIGNvbGxlY3Rpb25zIG9iamVjdHNcbiAgICB9XG4gIH1cblxuICAvLyBGYWxsIGJhY2sgdG8gY29weWluZyBrZXkgYnkga2V5LiBUaGlzIGFzc3VtZXMgYWxsIGtleXMgaGF2ZSBhIHZhbHVlLFxuICAvLyBzbyB3aWxsIG5vdCBwcmVzZXJ2ZSBzcGFyc2VseSBwb3B1bGF0ZWQgaW5wdXRzLlxuICB2YXIgcmV0ID0gQXJyYXkobGVuZ3RoKTtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGxlbmd0aDsgaWkrKykge1xuICAgIHJldFtpaV0gPSBvYmpbaWldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9BcnJheTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgcXVvdGVBdHRyaWJ1dGVWYWx1ZUZvckJyb3dzZXJcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIgPSByZXF1aXJlKCcuL2VzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlcicpO1xuXG4vKipcbiAqIEVzY2FwZXMgYXR0cmlidXRlIHZhbHVlIHRvIHByZXZlbnQgc2NyaXB0aW5nIGF0dGFja3MuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBlc2NhcGUuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEFuIGVzY2FwZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBxdW90ZUF0dHJpYnV0ZVZhbHVlRm9yQnJvd3Nlcih2YWx1ZSkge1xuICByZXR1cm4gJ1wiJyArIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3Nlcih2YWx1ZSkgKyAnXCInO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHF1b3RlQXR0cmlidXRlVmFsdWVGb3JCcm93c2VyOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBFdmVudFBsdWdpblV0aWxzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRDb25zdGFudHMgPSByZXF1aXJlKCcuL0V2ZW50Q29uc3RhbnRzJyk7XG52YXIgUmVhY3RFcnJvclV0aWxzID0gcmVxdWlyZSgnLi9SZWFjdEVycm9yVXRpbHMnKTtcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5cbi8qKlxuICogSW5qZWN0ZWQgZGVwZW5kZW5jaWVzOlxuICovXG5cbi8qKlxuICogLSBgTW91bnRgOiBbcmVxdWlyZWRdIE1vZHVsZSB0aGF0IGNhbiBjb252ZXJ0IGJldHdlZW4gUmVhY3QgZG9tIElEcyBhbmRcbiAqICAgYWN0dWFsIG5vZGUgcmVmZXJlbmNlcy5cbiAqL1xudmFyIGluamVjdGlvbiA9IHtcbiAgTW91bnQ6IG51bGwsXG4gIGluamVjdE1vdW50OiBmdW5jdGlvbiAoSW5qZWN0ZWRNb3VudCkge1xuICAgIGluamVjdGlvbi5Nb3VudCA9IEluamVjdGVkTW91bnQ7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKEluamVjdGVkTW91bnQgJiYgSW5qZWN0ZWRNb3VudC5nZXROb2RlICYmIEluamVjdGVkTW91bnQuZ2V0SUQsICdFdmVudFBsdWdpblV0aWxzLmluamVjdGlvbi5pbmplY3RNb3VudCguLi4pOiBJbmplY3RlZCBNb3VudCAnICsgJ21vZHVsZSBpcyBtaXNzaW5nIGdldE5vZGUgb3IgZ2V0SUQuJykgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59O1xuXG52YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG5cbmZ1bmN0aW9uIGlzRW5kaXNoKHRvcExldmVsVHlwZSkge1xuICByZXR1cm4gdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlVXAgfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoRW5kIHx8IHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BUb3VjaENhbmNlbDtcbn1cblxuZnVuY3Rpb24gaXNNb3ZlaXNoKHRvcExldmVsVHlwZSkge1xuICByZXR1cm4gdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlTW92ZSB8fCB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wVG91Y2hNb3ZlO1xufVxuZnVuY3Rpb24gaXNTdGFydGlzaCh0b3BMZXZlbFR5cGUpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd24gfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoU3RhcnQ7XG59XG5cbnZhciB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcztcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGRpc3BhdGNoTGlzdGVuZXJzID0gZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzO1xuICAgIHZhciBkaXNwYXRjaElEcyA9IGV2ZW50Ll9kaXNwYXRjaElEcztcblxuICAgIHZhciBsaXN0ZW5lcnNJc0FyciA9IEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcnMpO1xuICAgIHZhciBpZHNJc0FyciA9IEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hJRHMpO1xuICAgIHZhciBJRHNMZW4gPSBpZHNJc0FyciA/IGRpc3BhdGNoSURzLmxlbmd0aCA6IGRpc3BhdGNoSURzID8gMSA6IDA7XG4gICAgdmFyIGxpc3RlbmVyc0xlbiA9IGxpc3RlbmVyc0lzQXJyID8gZGlzcGF0Y2hMaXN0ZW5lcnMubGVuZ3RoIDogZGlzcGF0Y2hMaXN0ZW5lcnMgPyAxIDogMDtcblxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGlkc0lzQXJyID09PSBsaXN0ZW5lcnNJc0FyciAmJiBJRHNMZW4gPT09IGxpc3RlbmVyc0xlbiwgJ0V2ZW50UGx1Z2luVXRpbHM6IEludmFsaWQgYGV2ZW50YC4nKSA6IHVuZGVmaW5lZDtcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCB0aGUgZXZlbnQgdG8gdGhlIGxpc3RlbmVyLlxuICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgU3ludGhldGljRXZlbnQgdG8gaGFuZGxlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHNpbXVsYXRlZCBJZiB0aGUgZXZlbnQgaXMgc2ltdWxhdGVkIChjaGFuZ2VzIGV4biBiZWhhdmlvcilcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIEFwcGxpY2F0aW9uLWxldmVsIGNhbGxiYWNrXG4gKiBAcGFyYW0ge3N0cmluZ30gZG9tSUQgRE9NIGlkIHRvIHBhc3MgdG8gdGhlIGNhbGxiYWNrLlxuICovXG5mdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2goZXZlbnQsIHNpbXVsYXRlZCwgbGlzdGVuZXIsIGRvbUlEKSB7XG4gIHZhciB0eXBlID0gZXZlbnQudHlwZSB8fCAndW5rbm93bi1ldmVudCc7XG4gIGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBpbmplY3Rpb24uTW91bnQuZ2V0Tm9kZShkb21JRCk7XG4gIGlmIChzaW11bGF0ZWQpIHtcbiAgICBSZWFjdEVycm9yVXRpbHMuaW52b2tlR3VhcmRlZENhbGxiYWNrV2l0aENhdGNoKHR5cGUsIGxpc3RlbmVyLCBldmVudCwgZG9tSUQpO1xuICB9IGVsc2Uge1xuICAgIFJlYWN0RXJyb3JVdGlscy5pbnZva2VHdWFyZGVkQ2FsbGJhY2sodHlwZSwgbGlzdGVuZXIsIGV2ZW50LCBkb21JRCk7XG4gIH1cbiAgZXZlbnQuY3VycmVudFRhcmdldCA9IG51bGw7XG59XG5cbi8qKlxuICogU3RhbmRhcmQvc2ltcGxlIGl0ZXJhdGlvbiB0aHJvdWdoIGFuIGV2ZW50J3MgY29sbGVjdGVkIGRpc3BhdGNoZXMuXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlcihldmVudCwgc2ltdWxhdGVkKSB7XG4gIHZhciBkaXNwYXRjaExpc3RlbmVycyA9IGV2ZW50Ll9kaXNwYXRjaExpc3RlbmVycztcbiAgdmFyIGRpc3BhdGNoSURzID0gZXZlbnQuX2Rpc3BhdGNoSURzO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhbGlkYXRlRXZlbnREaXNwYXRjaGVzKGV2ZW50KTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShkaXNwYXRjaExpc3RlbmVycykpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIC8vIExpc3RlbmVycyBhbmQgSURzIGFyZSB0d28gcGFyYWxsZWwgYXJyYXlzIHRoYXQgYXJlIGFsd2F5cyBpbiBzeW5jLlxuICAgICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzW2ldLCBkaXNwYXRjaElEc1tpXSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRpc3BhdGNoTGlzdGVuZXJzKSB7XG4gICAgZXhlY3V0ZURpc3BhdGNoKGV2ZW50LCBzaW11bGF0ZWQsIGRpc3BhdGNoTGlzdGVuZXJzLCBkaXNwYXRjaElEcyk7XG4gIH1cbiAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgZXZlbnQuX2Rpc3BhdGNoSURzID0gbnVsbDtcbn1cblxuLyoqXG4gKiBTdGFuZGFyZC9zaW1wbGUgaXRlcmF0aW9uIHRocm91Z2ggYW4gZXZlbnQncyBjb2xsZWN0ZWQgZGlzcGF0Y2hlcywgYnV0IHN0b3BzXG4gKiBhdCB0aGUgZmlyc3QgZGlzcGF0Y2ggZXhlY3V0aW9uIHJldHVybmluZyB0cnVlLCBhbmQgcmV0dXJucyB0aGF0IGlkLlxuICpcbiAqIEByZXR1cm4gez9zdHJpbmd9IGlkIG9mIHRoZSBmaXJzdCBkaXNwYXRjaCBleGVjdXRpb24gd2hvJ3MgbGlzdGVuZXIgcmV0dXJuc1xuICogdHJ1ZSwgb3IgbnVsbCBpZiBubyBsaXN0ZW5lciByZXR1cm5lZCB0cnVlLlxuICovXG5mdW5jdGlvbiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXJTdG9wQXRUcnVlSW1wbChldmVudCkge1xuICB2YXIgZGlzcGF0Y2hMaXN0ZW5lcnMgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gIHZhciBkaXNwYXRjaElEcyA9IGV2ZW50Ll9kaXNwYXRjaElEcztcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyhldmVudCk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcnMpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXNwYXRjaExpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvLyBMaXN0ZW5lcnMgYW5kIElEcyBhcmUgdHdvIHBhcmFsbGVsIGFycmF5cyB0aGF0IGFyZSBhbHdheXMgaW4gc3luYy5cbiAgICAgIGlmIChkaXNwYXRjaExpc3RlbmVyc1tpXShldmVudCwgZGlzcGF0Y2hJRHNbaV0pKSB7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaElEc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnMpIHtcbiAgICBpZiAoZGlzcGF0Y2hMaXN0ZW5lcnMoZXZlbnQsIGRpc3BhdGNoSURzKSkge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoSURzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBAc2VlIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWVJbXBsXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWUoZXZlbnQpIHtcbiAgdmFyIHJldCA9IGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWVJbXBsKGV2ZW50KTtcbiAgZXZlbnQuX2Rpc3BhdGNoSURzID0gbnVsbDtcbiAgZXZlbnQuX2Rpc3BhdGNoTGlzdGVuZXJzID0gbnVsbDtcbiAgcmV0dXJuIHJldDtcbn1cblxuLyoqXG4gKiBFeGVjdXRpb24gb2YgYSBcImRpcmVjdFwiIGRpc3BhdGNoIC0gdGhlcmUgbXVzdCBiZSBhdCBtb3N0IG9uZSBkaXNwYXRjaFxuICogYWNjdW11bGF0ZWQgb24gdGhlIGV2ZW50IG9yIGl0IGlzIGNvbnNpZGVyZWQgYW4gZXJyb3IuIEl0IGRvZXNuJ3QgcmVhbGx5IG1ha2VcbiAqIHNlbnNlIGZvciBhbiBldmVudCB3aXRoIG11bHRpcGxlIGRpc3BhdGNoZXMgKGJ1YmJsZWQpIHRvIGtlZXAgdHJhY2sgb2YgdGhlXG4gKiByZXR1cm4gdmFsdWVzIGF0IGVhY2ggZGlzcGF0Y2ggZXhlY3V0aW9uLCBidXQgaXQgZG9lcyB0ZW5kIHRvIG1ha2Ugc2Vuc2Ugd2hlblxuICogZGVhbGluZyB3aXRoIFwiZGlyZWN0XCIgZGlzcGF0Y2hlcy5cbiAqXG4gKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGV4ZWN1dGluZyB0aGUgc2luZ2xlIGRpc3BhdGNoLlxuICovXG5mdW5jdGlvbiBleGVjdXRlRGlyZWN0RGlzcGF0Y2goZXZlbnQpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YWxpZGF0ZUV2ZW50RGlzcGF0Y2hlcyhldmVudCk7XG4gIH1cbiAgdmFyIGRpc3BhdGNoTGlzdGVuZXIgPSBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG4gIHZhciBkaXNwYXRjaElEID0gZXZlbnQuX2Rpc3BhdGNoSURzO1xuICAhIUFycmF5LmlzQXJyYXkoZGlzcGF0Y2hMaXN0ZW5lcikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnZXhlY3V0ZURpcmVjdERpc3BhdGNoKC4uLik6IEludmFsaWQgYGV2ZW50YC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIHZhciByZXMgPSBkaXNwYXRjaExpc3RlbmVyID8gZGlzcGF0Y2hMaXN0ZW5lcihldmVudCwgZGlzcGF0Y2hJRCkgOiBudWxsO1xuICBldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnMgPSBudWxsO1xuICBldmVudC5fZGlzcGF0Y2hJRHMgPSBudWxsO1xuICByZXR1cm4gcmVzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmZiBudW1iZXIgb2YgZGlzcGF0Y2hlcyBhY2N1bXVsYXRlZCBpcyBncmVhdGVyIHRoYW4gMC5cbiAqL1xuZnVuY3Rpb24gaGFzRGlzcGF0Y2hlcyhldmVudCkge1xuICByZXR1cm4gISFldmVudC5fZGlzcGF0Y2hMaXN0ZW5lcnM7XG59XG5cbi8qKlxuICogR2VuZXJhbCB1dGlsaXRpZXMgdGhhdCBhcmUgdXNlZnVsIGluIGNyZWF0aW5nIGN1c3RvbSBFdmVudCBQbHVnaW5zLlxuICovXG52YXIgRXZlbnRQbHVnaW5VdGlscyA9IHtcbiAgaXNFbmRpc2g6IGlzRW5kaXNoLFxuICBpc01vdmVpc2g6IGlzTW92ZWlzaCxcbiAgaXNTdGFydGlzaDogaXNTdGFydGlzaCxcblxuICBleGVjdXRlRGlyZWN0RGlzcGF0Y2g6IGV4ZWN1dGVEaXJlY3REaXNwYXRjaCxcbiAgZXhlY3V0ZURpc3BhdGNoZXNJbk9yZGVyOiBleGVjdXRlRGlzcGF0Y2hlc0luT3JkZXIsXG4gIGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWU6IGV4ZWN1dGVEaXNwYXRjaGVzSW5PcmRlclN0b3BBdFRydWUsXG4gIGhhc0Rpc3BhdGNoZXM6IGhhc0Rpc3BhdGNoZXMsXG5cbiAgZ2V0Tm9kZTogZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIGluamVjdGlvbi5Nb3VudC5nZXROb2RlKGlkKTtcbiAgfSxcbiAgZ2V0SUQ6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgcmV0dXJuIGluamVjdGlvbi5Nb3VudC5nZXRJRChub2RlKTtcbiAgfSxcblxuICBpbmplY3Rpb246IGluamVjdGlvblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudFBsdWdpblV0aWxzOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEV2ZW50RW1pdHRlck1peGluXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRQbHVnaW5IdWIgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luSHViJyk7XG5cbmZ1bmN0aW9uIHJ1bkV2ZW50UXVldWVJbkJhdGNoKGV2ZW50cykge1xuICBFdmVudFBsdWdpbkh1Yi5lbnF1ZXVlRXZlbnRzKGV2ZW50cyk7XG4gIEV2ZW50UGx1Z2luSHViLnByb2Nlc3NFdmVudFF1ZXVlKGZhbHNlKTtcbn1cblxudmFyIFJlYWN0RXZlbnRFbWl0dGVyTWl4aW4gPSB7XG5cbiAgLyoqXG4gICAqIFN0cmVhbXMgYSBmaXJlZCB0b3AtbGV2ZWwgZXZlbnQgdG8gYEV2ZW50UGx1Z2luSHViYCB3aGVyZSBwbHVnaW5zIGhhdmUgdGhlXG4gICAqIG9wcG9ydHVuaXR5IHRvIGNyZWF0ZSBgUmVhY3RFdmVudGBzIHRvIGJlIGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAgICogQHBhcmFtIHtvYmplY3R9IHRvcExldmVsVGFyZ2V0IFRoZSBsaXN0ZW5pbmcgY29tcG9uZW50IHJvb3Qgbm9kZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVGFyZ2V0SUQgSUQgb2YgYHRvcExldmVsVGFyZ2V0YC5cbiAgICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBlbnZpcm9ubWVudCBldmVudC5cbiAgICovXG4gIGhhbmRsZVRvcExldmVsOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCB0b3BMZXZlbFRhcmdldCwgdG9wTGV2ZWxUYXJnZXRJRCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgdmFyIGV2ZW50cyA9IEV2ZW50UGx1Z2luSHViLmV4dHJhY3RFdmVudHModG9wTGV2ZWxUeXBlLCB0b3BMZXZlbFRhcmdldCwgdG9wTGV2ZWxUYXJnZXRJRCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICBydW5FdmVudFF1ZXVlSW5CYXRjaChldmVudHMpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RXZlbnRFbWl0dGVyTWl4aW47IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGFkbGVyMzJcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBNT0QgPSA2NTUyMTtcblxuLy8gYWRsZXIzMiBpcyBub3QgY3J5cHRvZ3JhcGhpY2FsbHkgc3Ryb25nLCBhbmQgaXMgb25seSB1c2VkIHRvIHNhbml0eSBjaGVjayB0aGF0XG4vLyBtYXJrdXAgZ2VuZXJhdGVkIG9uIHRoZSBzZXJ2ZXIgbWF0Y2hlcyB0aGUgbWFya3VwIGdlbmVyYXRlZCBvbiB0aGUgY2xpZW50LlxuLy8gVGhpcyBpbXBsZW1lbnRhdGlvbiAoYSBtb2RpZmllZCB2ZXJzaW9uIG9mIHRoZSBTaGVldEpTIHZlcnNpb24pIGhhcyBiZWVuIG9wdGltaXplZFxuLy8gZm9yIG91ciB1c2UgY2FzZSwgYXQgdGhlIGV4cGVuc2Ugb2YgY29uZm9ybWluZyB0byB0aGUgYWRsZXIzMiBzcGVjaWZpY2F0aW9uXG4vLyBmb3Igbm9uLWFzY2lpIGlucHV0cy5cbmZ1bmN0aW9uIGFkbGVyMzIoZGF0YSkge1xuICB2YXIgYSA9IDE7XG4gIHZhciBiID0gMDtcbiAgdmFyIGkgPSAwO1xuICB2YXIgbCA9IGRhdGEubGVuZ3RoO1xuICB2YXIgbSA9IGwgJiB+MHgzO1xuICB3aGlsZSAoaSA8IG0pIHtcbiAgICBmb3IgKDsgaSA8IE1hdGgubWluKGkgKyA0MDk2LCBtKTsgaSArPSA0KSB7XG4gICAgICBiICs9IChhICs9IGRhdGEuY2hhckNvZGVBdChpKSkgKyAoYSArPSBkYXRhLmNoYXJDb2RlQXQoaSArIDEpKSArIChhICs9IGRhdGEuY2hhckNvZGVBdChpICsgMikpICsgKGEgKz0gZGF0YS5jaGFyQ29kZUF0KGkgKyAzKSk7XG4gICAgfVxuICAgIGEgJT0gTU9EO1xuICAgIGIgJT0gTU9EO1xuICB9XG4gIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgYiArPSBhICs9IGRhdGEuY2hhckNvZGVBdChpKTtcbiAgfVxuICBhICU9IE1PRDtcbiAgYiAlPSBNT0Q7XG4gIHJldHVybiBhIHwgYiA8PCAxNjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBhZGxlcjMyOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFJlZlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0T3duZXIgPSByZXF1aXJlKCcuL1JlYWN0T3duZXInKTtcblxudmFyIFJlYWN0UmVmID0ge307XG5cbmZ1bmN0aW9uIGF0dGFjaFJlZihyZWYsIGNvbXBvbmVudCwgb3duZXIpIHtcbiAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZWYoY29tcG9uZW50LmdldFB1YmxpY0luc3RhbmNlKCkpO1xuICB9IGVsc2Uge1xuICAgIC8vIExlZ2FjeSByZWZcbiAgICBSZWFjdE93bmVyLmFkZENvbXBvbmVudEFzUmVmVG8oY29tcG9uZW50LCByZWYsIG93bmVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZXRhY2hSZWYocmVmLCBjb21wb25lbnQsIG93bmVyKSB7XG4gIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmVmKG51bGwpO1xuICB9IGVsc2Uge1xuICAgIC8vIExlZ2FjeSByZWZcbiAgICBSZWFjdE93bmVyLnJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbShjb21wb25lbnQsIHJlZiwgb3duZXIpO1xuICB9XG59XG5cblJlYWN0UmVmLmF0dGFjaFJlZnMgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHJlZiA9IGVsZW1lbnQucmVmO1xuICBpZiAocmVmICE9IG51bGwpIHtcbiAgICBhdHRhY2hSZWYocmVmLCBpbnN0YW5jZSwgZWxlbWVudC5fb3duZXIpO1xuICB9XG59O1xuXG5SZWFjdFJlZi5zaG91bGRVcGRhdGVSZWZzID0gZnVuY3Rpb24gKHByZXZFbGVtZW50LCBuZXh0RWxlbWVudCkge1xuICAvLyBJZiBlaXRoZXIgdGhlIG93bmVyIG9yIGEgYHJlZmAgaGFzIGNoYW5nZWQsIG1ha2Ugc3VyZSB0aGUgbmV3ZXN0IG93bmVyXG4gIC8vIGhhcyBzdG9yZWQgYSByZWZlcmVuY2UgdG8gYHRoaXNgLCBhbmQgdGhlIHByZXZpb3VzIG93bmVyIChpZiBkaWZmZXJlbnQpXG4gIC8vIGhhcyBmb3Jnb3R0ZW4gdGhlIHJlZmVyZW5jZSB0byBgdGhpc2AuIFdlIHVzZSB0aGUgZWxlbWVudCBpbnN0ZWFkXG4gIC8vIG9mIHRoZSBwdWJsaWMgdGhpcy5wcm9wcyBiZWNhdXNlIHRoZSBwb3N0IHByb2Nlc3NpbmcgY2Fubm90IGRldGVybWluZVxuICAvLyBhIHJlZi4gVGhlIHJlZiBjb25jZXB0dWFsbHkgbGl2ZXMgb24gdGhlIGVsZW1lbnQuXG5cbiAgLy8gVE9ETzogU2hvdWxkIHRoaXMgZXZlbiBiZSBwb3NzaWJsZT8gVGhlIG93bmVyIGNhbm5vdCBjaGFuZ2UgYmVjYXVzZVxuICAvLyBpdCdzIGZvcmJpZGRlbiBieSBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudC4gVGhlIHJlZiBjYW4gY2hhbmdlXG4gIC8vIGlmIHlvdSBzd2FwIHRoZSBrZXlzIG9mIGJ1dCBub3QgdGhlIHJlZnMuIFJlY29uc2lkZXIgd2hlcmUgdGhpcyBjaGVja1xuICAvLyBpcyBtYWRlLiBJdCBwcm9iYWJseSBiZWxvbmdzIHdoZXJlIHRoZSBrZXkgY2hlY2tpbmcgYW5kXG4gIC8vIGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQgaXMgZG9uZS5cblxuICB2YXIgcHJldkVtcHR5ID0gcHJldkVsZW1lbnQgPT09IG51bGwgfHwgcHJldkVsZW1lbnQgPT09IGZhbHNlO1xuICB2YXIgbmV4dEVtcHR5ID0gbmV4dEVsZW1lbnQgPT09IG51bGwgfHwgbmV4dEVsZW1lbnQgPT09IGZhbHNlO1xuXG4gIHJldHVybihcbiAgICAvLyBUaGlzIGhhcyBhIGZldyBmYWxzZSBwb3NpdGl2ZXMgdy9yL3QgZW1wdHkgY29tcG9uZW50cy5cbiAgICBwcmV2RW1wdHkgfHwgbmV4dEVtcHR5IHx8IG5leHRFbGVtZW50Ll9vd25lciAhPT0gcHJldkVsZW1lbnQuX293bmVyIHx8IG5leHRFbGVtZW50LnJlZiAhPT0gcHJldkVsZW1lbnQucmVmXG4gICk7XG59O1xuXG5SZWFjdFJlZi5kZXRhY2hSZWZzID0gZnVuY3Rpb24gKGluc3RhbmNlLCBlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciByZWYgPSBlbGVtZW50LnJlZjtcbiAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgZGV0YWNoUmVmKHJlZiwgaW5zdGFuY2UsIGVsZW1lbnQuX293bmVyKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJlZjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RPd25lclxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuXG4vKipcbiAqIFJlYWN0T3duZXJzIGFyZSBjYXBhYmxlIG9mIHN0b3JpbmcgcmVmZXJlbmNlcyB0byBvd25lZCBjb21wb25lbnRzLlxuICpcbiAqIEFsbCBjb21wb25lbnRzIGFyZSBjYXBhYmxlIG9mIC8vYmVpbmcvLyByZWZlcmVuY2VkIGJ5IG93bmVyIGNvbXBvbmVudHMsIGJ1dFxuICogb25seSBSZWFjdE93bmVyIGNvbXBvbmVudHMgYXJlIGNhcGFibGUgb2YgLy9yZWZlcmVuY2luZy8vIG93bmVkIGNvbXBvbmVudHMuXG4gKiBUaGUgbmFtZWQgcmVmZXJlbmNlIGlzIGtub3duIGFzIGEgXCJyZWZcIi5cbiAqXG4gKiBSZWZzIGFyZSBhdmFpbGFibGUgd2hlbiBtb3VudGVkIGFuZCB1cGRhdGVkIGR1cmluZyByZWNvbmNpbGlhdGlvbi5cbiAqXG4gKiAgIHZhciBNeUNvbXBvbmVudCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAqICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICogICAgICAgcmV0dXJuIChcbiAqICAgICAgICAgPGRpdiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5cbiAqICAgICAgICAgICA8Q3VzdG9tQ29tcG9uZW50IHJlZj1cImN1c3RvbVwiIC8+XG4gKiAgICAgICAgIDwvZGl2PlxuICogICAgICAgKTtcbiAqICAgICB9LFxuICogICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbigpIHtcbiAqICAgICAgIHRoaXMucmVmcy5jdXN0b20uaGFuZGxlQ2xpY2soKTtcbiAqICAgICB9LFxuICogICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAqICAgICAgIHRoaXMucmVmcy5jdXN0b20uaW5pdGlhbGl6ZSgpO1xuICogICAgIH1cbiAqICAgfSk7XG4gKlxuICogUmVmcyBzaG91bGQgcmFyZWx5IGJlIHVzZWQuIFdoZW4gcmVmcyBhcmUgdXNlZCwgdGhleSBzaG91bGQgb25seSBiZSBkb25lIHRvXG4gKiBjb250cm9sIGRhdGEgdGhhdCBpcyBub3QgaGFuZGxlZCBieSBSZWFjdCdzIGRhdGEgZmxvdy5cbiAqXG4gKiBAY2xhc3MgUmVhY3RPd25lclxuICovXG52YXIgUmVhY3RPd25lciA9IHtcblxuICAvKipcbiAgICogQHBhcmFtIHs/b2JqZWN0fSBvYmplY3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIHZhbGlkIG93bmVyLlxuICAgKiBAZmluYWxcbiAgICovXG4gIGlzVmFsaWRPd25lcjogZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIHJldHVybiAhIShvYmplY3QgJiYgdHlwZW9mIG9iamVjdC5hdHRhY2hSZWYgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iamVjdC5kZXRhY2hSZWYgPT09ICdmdW5jdGlvbicpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBZGRzIGEgY29tcG9uZW50IGJ5IHJlZiB0byBhbiBvd25lciBjb21wb25lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGNvbXBvbmVudCBDb21wb25lbnQgdG8gcmVmZXJlbmNlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmIE5hbWUgYnkgd2hpY2ggdG8gcmVmZXIgdG8gdGhlIGNvbXBvbmVudC5cbiAgICogQHBhcmFtIHtSZWFjdE93bmVyfSBvd25lciBDb21wb25lbnQgb24gd2hpY2ggdG8gcmVjb3JkIHRoZSByZWYuXG4gICAqIEBmaW5hbFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFkZENvbXBvbmVudEFzUmVmVG86IGZ1bmN0aW9uIChjb21wb25lbnQsIHJlZiwgb3duZXIpIHtcbiAgICAhUmVhY3RPd25lci5pc1ZhbGlkT3duZXIob3duZXIpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2FkZENvbXBvbmVudEFzUmVmVG8oLi4uKTogT25seSBhIFJlYWN0T3duZXIgY2FuIGhhdmUgcmVmcy4gWW91IG1pZ2h0ICcgKyAnYmUgYWRkaW5nIGEgcmVmIHRvIGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBjcmVhdGVkIGluc2lkZSBhIGNvbXBvbmVudFxcJ3MgJyArICdgcmVuZGVyYCBtZXRob2QsIG9yIHlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBsb2FkZWQgJyArICcoZGV0YWlsczogaHR0cHM6Ly9mYi5tZS9yZWFjdC1yZWZzLW11c3QtaGF2ZS1vd25lcikuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIG93bmVyLmF0dGFjaFJlZihyZWYsIGNvbXBvbmVudCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBjb21wb25lbnQgYnkgcmVmIGZyb20gYW4gb3duZXIgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0Q29tcG9uZW50fSBjb21wb25lbnQgQ29tcG9uZW50IHRvIGRlcmVmZXJlbmNlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmIE5hbWUgb2YgdGhlIHJlZiB0byByZW1vdmUuXG4gICAqIEBwYXJhbSB7UmVhY3RPd25lcn0gb3duZXIgQ29tcG9uZW50IG9uIHdoaWNoIHRoZSByZWYgaXMgcmVjb3JkZWQuXG4gICAqIEBmaW5hbFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHJlbW92ZUNvbXBvbmVudEFzUmVmRnJvbTogZnVuY3Rpb24gKGNvbXBvbmVudCwgcmVmLCBvd25lcikge1xuICAgICFSZWFjdE93bmVyLmlzVmFsaWRPd25lcihvd25lcikgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAncmVtb3ZlQ29tcG9uZW50QXNSZWZGcm9tKC4uLik6IE9ubHkgYSBSZWFjdE93bmVyIGNhbiBoYXZlIHJlZnMuIFlvdSBtaWdodCAnICsgJ2JlIHJlbW92aW5nIGEgcmVmIHRvIGEgY29tcG9uZW50IHRoYXQgd2FzIG5vdCBjcmVhdGVkIGluc2lkZSBhIGNvbXBvbmVudFxcJ3MgJyArICdgcmVuZGVyYCBtZXRob2QsIG9yIHlvdSBoYXZlIG11bHRpcGxlIGNvcGllcyBvZiBSZWFjdCBsb2FkZWQgJyArICcoZGV0YWlsczogaHR0cHM6Ly9mYi5tZS9yZWFjdC1yZWZzLW11c3QtaGF2ZS1vd25lcikuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIC8vIENoZWNrIHRoYXQgYGNvbXBvbmVudGAgaXMgc3RpbGwgdGhlIGN1cnJlbnQgcmVmIGJlY2F1c2Ugd2UgZG8gbm90IHdhbnQgdG9cbiAgICAvLyBkZXRhY2ggdGhlIHJlZiBpZiBhbm90aGVyIGNvbXBvbmVudCBzdG9sZSBpdC5cbiAgICBpZiAob3duZXIuZ2V0UHVibGljSW5zdGFuY2UoKS5yZWZzW3JlZl0gPT09IGNvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpKSB7XG4gICAgICBvd25lci5kZXRhY2hSZWYocmVmKTtcbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdE93bmVyOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBpc1RleHROb2RlXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGlzTm9kZSA9IHJlcXVpcmUoJy4vaXNOb2RlJyk7XG5cbi8qKlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBvYmplY3QgaXMgYSBET00gdGV4dCBub2RlLlxuICovXG5mdW5jdGlvbiBpc1RleHROb2RlKG9iamVjdCkge1xuICByZXR1cm4gaXNOb2RlKG9iamVjdCkgJiYgb2JqZWN0Lm5vZGVUeXBlID09IDM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNUZXh0Tm9kZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaXNOb2RlXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbi8qKlxuICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBvYmplY3QgaXMgYSBET00gbm9kZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBpc05vZGUob2JqZWN0KSB7XG4gIHJldHVybiAhIShvYmplY3QgJiYgKHR5cGVvZiBOb2RlID09PSAnZnVuY3Rpb24nID8gb2JqZWN0IGluc3RhbmNlb2YgTm9kZSA6IHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvYmplY3Qubm9kZVR5cGUgPT09ICdudW1iZXInICYmIHR5cGVvZiBvYmplY3Qubm9kZU5hbWUgPT09ICdzdHJpbmcnKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNOb2RlOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL1JlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQnKTtcbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xudmFyIFJlYWN0SW5zdGFuY2VNYXAgPSByZXF1aXJlKCcuL1JlYWN0SW5zdGFuY2VNYXAnKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKCcuL1JlYWN0UGVyZicpO1xudmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMgPSByZXF1aXJlKCcuL1JlYWN0UHJvcFR5cGVMb2NhdGlvbnMnKTtcbnZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMnKTtcbnZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xudmFyIFJlYWN0VXBkYXRlUXVldWUgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlUXVldWUnKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xudmFyIGVtcHR5T2JqZWN0ID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlPYmplY3QnKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbnZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oY29tcG9uZW50KSB7XG4gIHZhciBvd25lciA9IGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQuX293bmVyIHx8IG51bGw7XG4gIGlmIChvd25lcikge1xuICAgIHZhciBuYW1lID0gb3duZXIuZ2V0TmFtZSgpO1xuICAgIGlmIChuYW1lKSB7XG4gICAgICByZXR1cm4gJyBDaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIFN0YXRlbGVzc0NvbXBvbmVudChDb21wb25lbnQpIHt9XG5TdGF0ZWxlc3NDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIENvbXBvbmVudCA9IFJlYWN0SW5zdGFuY2VNYXAuZ2V0KHRoaXMpLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICByZXR1cm4gQ29tcG9uZW50KHRoaXMucHJvcHMsIHRoaXMuY29udGV4dCwgdGhpcy51cGRhdGVyKTtcbn07XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tIFRoZSBMaWZlLUN5Y2xlIG9mIGEgQ29tcG9zaXRlIENvbXBvbmVudCAtLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKiAtIGNvbnN0cnVjdG9yOiBJbml0aWFsaXphdGlvbiBvZiBzdGF0ZS4gVGhlIGluc3RhbmNlIGlzIG5vdyByZXRhaW5lZC5cbiAqICAgLSBjb21wb25lbnRXaWxsTW91bnRcbiAqICAgLSByZW5kZXJcbiAqICAgLSBbY2hpbGRyZW4ncyBjb25zdHJ1Y3RvcnNdXG4gKiAgICAgLSBbY2hpbGRyZW4ncyBjb21wb25lbnRXaWxsTW91bnQgYW5kIHJlbmRlcl1cbiAqICAgICAtIFtjaGlsZHJlbidzIGNvbXBvbmVudERpZE1vdW50XVxuICogICAgIC0gY29tcG9uZW50RGlkTW91bnRcbiAqXG4gKiAgICAgICBVcGRhdGUgUGhhc2VzOlxuICogICAgICAgLSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIChvbmx5IGNhbGxlZCBpZiBwYXJlbnQgdXBkYXRlZClcbiAqICAgICAgIC0gc2hvdWxkQ29tcG9uZW50VXBkYXRlXG4gKiAgICAgICAgIC0gY29tcG9uZW50V2lsbFVwZGF0ZVxuICogICAgICAgICAgIC0gcmVuZGVyXG4gKiAgICAgICAgICAgLSBbY2hpbGRyZW4ncyBjb25zdHJ1Y3RvcnMgb3IgcmVjZWl2ZSBwcm9wcyBwaGFzZXNdXG4gKiAgICAgICAgIC0gY29tcG9uZW50RGlkVXBkYXRlXG4gKlxuICogICAgIC0gY29tcG9uZW50V2lsbFVubW91bnRcbiAqICAgICAtIFtjaGlsZHJlbidzIGNvbXBvbmVudFdpbGxVbm1vdW50XVxuICogICAtIFtjaGlsZHJlbiBkZXN0cm95ZWRdXG4gKiAtIChkZXN0cm95ZWQpOiBUaGUgaW5zdGFuY2UgaXMgbm93IGJsYW5rLCByZWxlYXNlZCBieSBSZWFjdCBhbmQgcmVhZHkgZm9yIEdDLlxuICpcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cblxuLyoqXG4gKiBBbiBpbmNyZW1lbnRpbmcgSUQgYXNzaWduZWQgdG8gZWFjaCBjb21wb25lbnQgd2hlbiBpdCBpcyBtb3VudGVkLiBUaGlzIGlzXG4gKiB1c2VkIHRvIGVuZm9yY2UgdGhlIG9yZGVyIGluIHdoaWNoIGBSZWFjdFVwZGF0ZXNgIHVwZGF0ZXMgZGlydHkgY29tcG9uZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgbmV4dE1vdW50SUQgPSAxO1xuXG4vKipcbiAqIEBsZW5kcyB7UmVhY3RDb21wb3NpdGVDb21wb25lbnQucHJvdG90eXBlfVxuICovXG52YXIgUmVhY3RDb21wb3NpdGVDb21wb25lbnRNaXhpbiA9IHtcblxuICAvKipcbiAgICogQmFzZSBjb25zdHJ1Y3RvciBmb3IgYWxsIGNvbXBvc2l0ZSBjb21wb25lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50XG4gICAqIEBmaW5hbFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5fcm9vdE5vZGVJRCA9IG51bGw7XG4gICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuXG4gICAgLy8gU2VlIFJlYWN0VXBkYXRlUXVldWVcbiAgICB0aGlzLl9wZW5kaW5nRWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgPSBudWxsO1xuICAgIHRoaXMuX3BlbmRpbmdSZXBsYWNlU3RhdGUgPSBmYWxzZTtcbiAgICB0aGlzLl9wZW5kaW5nRm9yY2VVcGRhdGUgPSBmYWxzZTtcblxuICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50ID0gbnVsbDtcblxuICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuX21vdW50T3JkZXIgPSAwO1xuICAgIHRoaXMuX3RvcExldmVsV3JhcHBlciA9IG51bGw7XG5cbiAgICAvLyBTZWUgUmVhY3RVcGRhdGVzIGFuZCBSZWFjdFVwZGF0ZVF1ZXVlLlxuICAgIHRoaXMuX3BlbmRpbmdDYWxsYmFja3MgPSBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgY29tcG9uZW50LCByZW5kZXJzIG1hcmt1cCwgYW5kIHJlZ2lzdGVycyBldmVudCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByb290SUQgRE9NIElEIG9mIHRoZSByb290IG5vZGUuXG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbnxSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcmV0dXJuIHs/c3RyaW5nfSBSZW5kZXJlZCBtYXJrdXAgdG8gYmUgaW5zZXJ0ZWQgaW50byB0aGUgRE9NLlxuICAgKiBAZmluYWxcbiAgICogQGludGVybmFsXG4gICAqL1xuICBtb3VudENvbXBvbmVudDogZnVuY3Rpb24gKHJvb3RJRCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICB0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbiAgICB0aGlzLl9tb3VudE9yZGVyID0gbmV4dE1vdW50SUQrKztcbiAgICB0aGlzLl9yb290Tm9kZUlEID0gcm9vdElEO1xuXG4gICAgdmFyIHB1YmxpY1Byb3BzID0gdGhpcy5fcHJvY2Vzc1Byb3BzKHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzKTtcbiAgICB2YXIgcHVibGljQ29udGV4dCA9IHRoaXMuX3Byb2Nlc3NDb250ZXh0KGNvbnRleHQpO1xuXG4gICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBwdWJsaWMgY2xhc3NcbiAgICB2YXIgaW5zdDtcbiAgICB2YXIgcmVuZGVyZWRFbGVtZW50O1xuXG4gICAgLy8gVGhpcyBpcyBhIHdheSB0byBkZXRlY3QgaWYgQ29tcG9uZW50IGlzIGEgc3RhdGVsZXNzIGFycm93IGZ1bmN0aW9uXG4gICAgLy8gY29tcG9uZW50LCB3aGljaCBpcyBub3QgbmV3YWJsZS4gSXQgbWlnaHQgbm90IGJlIDEwMCUgcmVsaWFibGUgYnV0IGlzXG4gICAgLy8gc29tZXRoaW5nIHdlIGNhbiBkbyB1bnRpbCB3ZSBzdGFydCBkZXRlY3RpbmcgdGhhdCBDb21wb25lbnQgZXh0ZW5kc1xuICAgIC8vIFJlYWN0LkNvbXBvbmVudC4gV2UgYWxyZWFkeSBhc3N1bWUgdGhhdCB0eXBlb2YgQ29tcG9uZW50ID09PSAnZnVuY3Rpb24nLlxuICAgIHZhciBjYW5JbnN0YW50aWF0ZSA9ICgncHJvdG90eXBlJyBpbiBDb21wb25lbnQpO1xuXG4gICAgaWYgKGNhbkluc3RhbnRpYXRlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gdGhpcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbnN0ID0gbmV3IENvbXBvbmVudChwdWJsaWNQcm9wcywgcHVibGljQ29udGV4dCwgUmVhY3RVcGRhdGVRdWV1ZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3QgPSBuZXcgQ29tcG9uZW50KHB1YmxpY1Byb3BzLCBwdWJsaWNDb250ZXh0LCBSZWFjdFVwZGF0ZVF1ZXVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWNhbkluc3RhbnRpYXRlIHx8IGluc3QgPT09IG51bGwgfHwgaW5zdCA9PT0gZmFsc2UgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGluc3QpKSB7XG4gICAgICByZW5kZXJlZEVsZW1lbnQgPSBpbnN0O1xuICAgICAgaW5zdCA9IG5ldyBTdGF0ZWxlc3NDb21wb25lbnQoQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGxhdGVyIGluIF9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQsIGJ1dCBhZGQgYW4gZWFybHlcbiAgICAgIC8vIHdhcm5pbmcgbm93IHRvIGhlbHAgZGVidWdnaW5nXG4gICAgICBpZiAoaW5zdC5yZW5kZXIgPT0gbnVsbCkge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJyVzKC4uLik6IE5vIGByZW5kZXJgIG1ldGhvZCBmb3VuZCBvbiB0aGUgcmV0dXJuZWQgY29tcG9uZW50ICcgKyAnaW5zdGFuY2U6IHlvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gZGVmaW5lIGByZW5kZXJgLCByZXR1cm5lZCAnICsgJ251bGwvZmFsc2UgZnJvbSBhIHN0YXRlbGVzcyBjb21wb25lbnQsIG9yIHRyaWVkIHRvIHJlbmRlciBhbiAnICsgJ2VsZW1lbnQgd2hvc2UgdHlwZSBpcyBhIGZ1bmN0aW9uIHRoYXQgaXNuXFwndCBhIFJlYWN0IGNvbXBvbmVudC4nLCBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCcpIDogdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2Ugc3VwcG9ydCBFUzYgaW5oZXJpdGluZyBmcm9tIFJlYWN0LkNvbXBvbmVudCwgdGhlIG1vZHVsZSBwYXR0ZXJuLFxuICAgICAgICAvLyBhbmQgc3RhdGVsZXNzIGNvbXBvbmVudHMsIGJ1dCBub3QgRVM2IGNsYXNzZXMgdGhhdCBkb24ndCBleHRlbmRcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoQ29tcG9uZW50LnByb3RvdHlwZSAmJiBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgfHwgIWNhbkluc3RhbnRpYXRlIHx8ICEoaW5zdCBpbnN0YW5jZW9mIENvbXBvbmVudCksICclcyguLi4pOiBSZWFjdCBjb21wb25lbnQgY2xhc3NlcyBtdXN0IGV4dGVuZCBSZWFjdC5Db21wb25lbnQuJywgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnKSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUaGVzZSBzaG91bGQgYmUgc2V0IHVwIGluIHRoZSBjb25zdHJ1Y3RvciwgYnV0IGFzIGEgY29udmVuaWVuY2UgZm9yXG4gICAgLy8gc2ltcGxlciBjbGFzcyBhYnN0cmFjdGlvbnMsIHdlIHNldCB0aGVtIHVwIGFmdGVyIHRoZSBmYWN0LlxuICAgIGluc3QucHJvcHMgPSBwdWJsaWNQcm9wcztcbiAgICBpbnN0LmNvbnRleHQgPSBwdWJsaWNDb250ZXh0O1xuICAgIGluc3QucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgIGluc3QudXBkYXRlciA9IFJlYWN0VXBkYXRlUXVldWU7XG5cbiAgICB0aGlzLl9pbnN0YW5jZSA9IGluc3Q7XG5cbiAgICAvLyBTdG9yZSBhIHJlZmVyZW5jZSBmcm9tIHRoZSBpbnN0YW5jZSBiYWNrIHRvIHRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvblxuICAgIFJlYWN0SW5zdGFuY2VNYXAuc2V0KGluc3QsIHRoaXMpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIFNpbmNlIHBsYWluIEpTIGNsYXNzZXMgYXJlIGRlZmluZWQgd2l0aG91dCBhbnkgc3BlY2lhbCBpbml0aWFsaXphdGlvblxuICAgICAgLy8gbG9naWMsIHdlIGNhbiBub3QgY2F0Y2ggY29tbW9uIGVycm9ycyBlYXJseS4gVGhlcmVmb3JlLCB3ZSBoYXZlIHRvXG4gICAgICAvLyBjYXRjaCB0aGVtIGhlcmUsIGF0IGluaXRpYWxpemF0aW9uIHRpbWUsIGluc3RlYWQuXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaW5zdC5nZXRJbml0aWFsU3RhdGUgfHwgaW5zdC5nZXRJbml0aWFsU3RhdGUuaXNSZWFjdENsYXNzQXBwcm92ZWQsICdnZXRJbml0aWFsU3RhdGUgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gJyArICdUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBjbGFzc2VzIGNyZWF0ZWQgdXNpbmcgUmVhY3QuY3JlYXRlQ2xhc3MuICcgKyAnRGlkIHlvdSBtZWFuIHRvIGRlZmluZSBhIHN0YXRlIHByb3BlcnR5IGluc3RlYWQ/JywgdGhpcy5nZXROYW1lKCkgfHwgJ2EgY29tcG9uZW50JykgOiB1bmRlZmluZWQ7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghaW5zdC5nZXREZWZhdWx0UHJvcHMgfHwgaW5zdC5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQsICdnZXREZWZhdWx0UHJvcHMgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gJyArICdUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBjbGFzc2VzIGNyZWF0ZWQgdXNpbmcgUmVhY3QuY3JlYXRlQ2xhc3MuICcgKyAnVXNlIGEgc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBkZWZhdWx0UHJvcHMgaW5zdGVhZC4nLCB0aGlzLmdldE5hbWUoKSB8fCAnYSBjb21wb25lbnQnKSA6IHVuZGVmaW5lZDtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKCFpbnN0LnByb3BUeXBlcywgJ3Byb3BUeXBlcyB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljICcgKyAncHJvcGVydHkgdG8gZGVmaW5lIHByb3BUeXBlcyBpbnN0ZWFkLicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdhIGNvbXBvbmVudCcpIDogdW5kZWZpbmVkO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoIWluc3QuY29udGV4dFR5cGVzLCAnY29udGV4dFR5cGVzIHdhcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzLiBVc2UgYSAnICsgJ3N0YXRpYyBwcm9wZXJ0eSB0byBkZWZpbmUgY29udGV4dFR5cGVzIGluc3RlYWQuJywgdGhpcy5nZXROYW1lKCkgfHwgJ2EgY29tcG9uZW50JykgOiB1bmRlZmluZWQ7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyh0eXBlb2YgaW5zdC5jb21wb25lbnRTaG91bGRVcGRhdGUgIT09ICdmdW5jdGlvbicsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gJyArICdUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgJyArICdleHBlY3RlZCB0byByZXR1cm4gYSB2YWx1ZS4nLCB0aGlzLmdldE5hbWUoKSB8fCAnQSBjb21wb25lbnQnKSA6IHVuZGVmaW5lZDtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiBpbnN0LmNvbXBvbmVudERpZFVubW91bnQgIT09ICdmdW5jdGlvbicsICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgKyAnY29tcG9uZW50RGlkVW5tb3VudCgpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiAnICsgJ0RpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsVW5tb3VudCgpPycsIHRoaXMuZ2V0TmFtZSgpIHx8ICdBIGNvbXBvbmVudCcpIDogdW5kZWZpbmVkO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodHlwZW9mIGluc3QuY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAhPT0gJ2Z1bmN0aW9uJywgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArICdjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/JywgdGhpcy5nZXROYW1lKCkgfHwgJ0EgY29tcG9uZW50JykgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IGluc3Quc3RhdGU7XG4gICAgaWYgKGluaXRpYWxTdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpbnN0LnN0YXRlID0gaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgICB9XG4gICAgISh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnb2JqZWN0JyAmJiAhQXJyYXkuaXNBcnJheShpbml0aWFsU3RhdGUpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICclcy5zdGF0ZTogbXVzdCBiZSBzZXQgdG8gYW4gb2JqZWN0IG9yIG51bGwnLCB0aGlzLmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgICB0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSA9IG51bGw7XG4gICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuXG4gICAgaWYgKGluc3QuY29tcG9uZW50V2lsbE1vdW50KSB7XG4gICAgICBpbnN0LmNvbXBvbmVudFdpbGxNb3VudCgpO1xuICAgICAgLy8gV2hlbiBtb3VudGluZywgY2FsbHMgdG8gYHNldFN0YXRlYCBieSBgY29tcG9uZW50V2lsbE1vdW50YCB3aWxsIHNldFxuICAgICAgLy8gYHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlYCB3aXRob3V0IHRyaWdnZXJpbmcgYSByZS1yZW5kZXIuXG4gICAgICBpZiAodGhpcy5fcGVuZGluZ1N0YXRlUXVldWUpIHtcbiAgICAgICAgaW5zdC5zdGF0ZSA9IHRoaXMuX3Byb2Nlc3NQZW5kaW5nU3RhdGUoaW5zdC5wcm9wcywgaW5zdC5jb250ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBub3QgYSBzdGF0ZWxlc3MgY29tcG9uZW50LCB3ZSBub3cgcmVuZGVyXG4gICAgaWYgKHJlbmRlcmVkRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZW5kZXJlZEVsZW1lbnQgPSB0aGlzLl9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9yZW5kZXJlZENvbXBvbmVudCA9IHRoaXMuX2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQocmVuZGVyZWRFbGVtZW50KTtcblxuICAgIHZhciBtYXJrdXAgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQodGhpcy5fcmVuZGVyZWRDb21wb25lbnQsIHJvb3RJRCwgdHJhbnNhY3Rpb24sIHRoaXMuX3Byb2Nlc3NDaGlsZENvbnRleHQoY29udGV4dCkpO1xuICAgIGlmIChpbnN0LmNvbXBvbmVudERpZE1vdW50KSB7XG4gICAgICB0cmFuc2FjdGlvbi5nZXRSZWFjdE1vdW50UmVhZHkoKS5lbnF1ZXVlKGluc3QuY29tcG9uZW50RGlkTW91bnQsIGluc3QpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXJrdXA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbGVhc2VzIGFueSByZXNvdXJjZXMgYWxsb2NhdGVkIGJ5IGBtb3VudENvbXBvbmVudGAuXG4gICAqXG4gICAqIEBmaW5hbFxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHVubW91bnRDb21wb25lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5zdCA9IHRoaXMuX2luc3RhbmNlO1xuXG4gICAgaWYgKGluc3QuY29tcG9uZW50V2lsbFVubW91bnQpIHtcbiAgICAgIGluc3QuY29tcG9uZW50V2lsbFVubW91bnQoKTtcbiAgICB9XG5cbiAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudCh0aGlzLl9yZW5kZXJlZENvbXBvbmVudCk7XG4gICAgdGhpcy5fcmVuZGVyZWRDb21wb25lbnQgPSBudWxsO1xuICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcblxuICAgIC8vIFJlc2V0IHBlbmRpbmcgZmllbGRzXG4gICAgLy8gRXZlbiBpZiB0aGlzIGNvbXBvbmVudCBpcyBzY2hlZHVsZWQgZm9yIGFub3RoZXIgdXBkYXRlIGluIFJlYWN0VXBkYXRlcyxcbiAgICAvLyBpdCB3b3VsZCBzdGlsbCBiZSBpZ25vcmVkIGJlY2F1c2UgdGhlc2UgZmllbGRzIGFyZSByZXNldC5cbiAgICB0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZSA9IG51bGw7XG4gICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgIHRoaXMuX3BlbmRpbmdGb3JjZVVwZGF0ZSA9IGZhbHNlO1xuICAgIHRoaXMuX3BlbmRpbmdDYWxsYmFja3MgPSBudWxsO1xuICAgIHRoaXMuX3BlbmRpbmdFbGVtZW50ID0gbnVsbDtcblxuICAgIC8vIFRoZXNlIGZpZWxkcyBkbyBub3QgcmVhbGx5IG5lZWQgdG8gYmUgcmVzZXQgc2luY2UgdGhpcyBvYmplY3QgaXMgbm9cbiAgICAvLyBsb25nZXIgYWNjZXNzaWJsZS5cbiAgICB0aGlzLl9jb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLl9yb290Tm9kZUlEID0gbnVsbDtcbiAgICB0aGlzLl90b3BMZXZlbFdyYXBwZXIgPSBudWxsO1xuXG4gICAgLy8gRGVsZXRlIHRoZSByZWZlcmVuY2UgZnJvbSB0aGUgaW5zdGFuY2UgdG8gdGhpcyBpbnRlcm5hbCByZXByZXNlbnRhdGlvblxuICAgIC8vIHdoaWNoIGFsbG93IHRoZSBpbnRlcm5hbHMgdG8gYmUgcHJvcGVybHkgY2xlYW5lZCB1cCBldmVuIGlmIHRoZSB1c2VyXG4gICAgLy8gbGVha3MgYSByZWZlcmVuY2UgdG8gdGhlIHB1YmxpYyBpbnN0YW5jZS5cbiAgICBSZWFjdEluc3RhbmNlTWFwLnJlbW92ZShpbnN0KTtcblxuICAgIC8vIFNvbWUgZXhpc3RpbmcgY29tcG9uZW50cyByZWx5IG9uIGluc3QucHJvcHMgZXZlbiBhZnRlciB0aGV5J3ZlIGJlZW5cbiAgICAvLyBkZXN0cm95ZWQgKGluIGV2ZW50IGhhbmRsZXJzKS5cbiAgICAvLyBUT0RPOiBpbnN0LnByb3BzID0gbnVsbDtcbiAgICAvLyBUT0RPOiBpbnN0LnN0YXRlID0gbnVsbDtcbiAgICAvLyBUT0RPOiBpbnN0LmNvbnRleHQgPSBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGaWx0ZXJzIHRoZSBjb250ZXh0IG9iamVjdCB0byBvbmx5IGNvbnRhaW4ga2V5cyBzcGVjaWZpZWQgaW5cbiAgICogYGNvbnRleHRUeXBlc2BcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHRcbiAgICogQHJldHVybiB7P29iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9tYXNrQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICB2YXIgbWFza2VkQ29udGV4dCA9IG51bGw7XG4gICAgdmFyIENvbXBvbmVudCA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgdmFyIGNvbnRleHRUeXBlcyA9IENvbXBvbmVudC5jb250ZXh0VHlwZXM7XG4gICAgaWYgKCFjb250ZXh0VHlwZXMpIHtcbiAgICAgIHJldHVybiBlbXB0eU9iamVjdDtcbiAgICB9XG4gICAgbWFza2VkQ29udGV4dCA9IHt9O1xuICAgIGZvciAodmFyIGNvbnRleHROYW1lIGluIGNvbnRleHRUeXBlcykge1xuICAgICAgbWFza2VkQ29udGV4dFtjb250ZXh0TmFtZV0gPSBjb250ZXh0W2NvbnRleHROYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIG1hc2tlZENvbnRleHQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbHRlcnMgdGhlIGNvbnRleHQgb2JqZWN0IHRvIG9ubHkgY29udGFpbiBrZXlzIHNwZWNpZmllZCBpblxuICAgKiBgY29udGV4dFR5cGVzYCwgYW5kIGFzc2VydHMgdGhhdCB0aGV5IGFyZSB2YWxpZC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHRcbiAgICogQHJldHVybiB7P29iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcm9jZXNzQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICB2YXIgbWFza2VkQ29udGV4dCA9IHRoaXMuX21hc2tDb250ZXh0KGNvbnRleHQpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgQ29tcG9uZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgIGlmIChDb21wb25lbnQuY29udGV4dFR5cGVzKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrUHJvcFR5cGVzKENvbXBvbmVudC5jb250ZXh0VHlwZXMsIG1hc2tlZENvbnRleHQsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMuY29udGV4dCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXNrZWRDb250ZXh0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY3VycmVudENvbnRleHRcbiAgICogQHJldHVybiB7b2JqZWN0fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Byb2Nlc3NDaGlsZENvbnRleHQ6IGZ1bmN0aW9uIChjdXJyZW50Q29udGV4dCkge1xuICAgIHZhciBDb21wb25lbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC50eXBlO1xuICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgdmFyIGNoaWxkQ29udGV4dCA9IGluc3QuZ2V0Q2hpbGRDb250ZXh0ICYmIGluc3QuZ2V0Q2hpbGRDb250ZXh0KCk7XG4gICAgaWYgKGNoaWxkQ29udGV4dCkge1xuICAgICAgISh0eXBlb2YgQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzID09PSAnb2JqZWN0JykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGNoaWxkQ29udGV4dFR5cGVzIG11c3QgYmUgZGVmaW5lZCBpbiBvcmRlciB0byAnICsgJ3VzZSBnZXRDaGlsZENvbnRleHQoKS4nLCB0aGlzLmdldE5hbWUoKSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB0aGlzLl9jaGVja1Byb3BUeXBlcyhDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMsIGNoaWxkQ29udGV4dCwgUmVhY3RQcm9wVHlwZUxvY2F0aW9ucy5jaGlsZENvbnRleHQpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgbmFtZSBpbiBjaGlsZENvbnRleHQpIHtcbiAgICAgICAgIShuYW1lIGluIENvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGtleSBcIiVzXCIgaXMgbm90IGRlZmluZWQgaW4gY2hpbGRDb250ZXh0VHlwZXMuJywgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JywgbmFtZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFzc2lnbih7fSwgY3VycmVudENvbnRleHQsIGNoaWxkQ29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50Q29udGV4dDtcbiAgfSxcblxuICAvKipcbiAgICogUHJvY2Vzc2VzIHByb3BzIGJ5IHNldHRpbmcgZGVmYXVsdCB2YWx1ZXMgZm9yIHVuc3BlY2lmaWVkIHByb3BzIGFuZFxuICAgKiBhc3NlcnRpbmcgdGhhdCB0aGUgcHJvcHMgYXJlIHZhbGlkLiBEb2VzIG5vdCBtdXRhdGUgaXRzIGFyZ3VtZW50OyByZXR1cm5zXG4gICAqIGEgbmV3IHByb3BzIG9iamVjdCB3aXRoIGRlZmF1bHRzIG1lcmdlZCBpbi5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IG5ld1Byb3BzXG4gICAqIEByZXR1cm4ge29iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcm9jZXNzUHJvcHM6IGZ1bmN0aW9uIChuZXdQcm9wcykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgQ29tcG9uZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQudHlwZTtcbiAgICAgIGlmIChDb21wb25lbnQucHJvcFR5cGVzKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrUHJvcFR5cGVzKENvbXBvbmVudC5wcm9wVHlwZXMsIG5ld1Byb3BzLCBSZWFjdFByb3BUeXBlTG9jYXRpb25zLnByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3UHJvcHM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFzc2VydCB0aGF0IHRoZSBwcm9wcyBhcmUgdmFsaWRcbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHByb3BUeXBlcyBNYXAgb2YgcHJvcCBuYW1lIHRvIGEgUmVhY3RQcm9wVHlwZVxuICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NoZWNrUHJvcFR5cGVzOiBmdW5jdGlvbiAocHJvcFR5cGVzLCBwcm9wcywgbG9jYXRpb24pIHtcbiAgICAvLyBUT0RPOiBTdG9wIHZhbGlkYXRpbmcgcHJvcCB0eXBlcyBoZXJlIGFuZCBvbmx5IHVzZSB0aGUgZWxlbWVudFxuICAgIC8vIHZhbGlkYXRpb24uXG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSB0aGlzLmdldE5hbWUoKTtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBwcm9wVHlwZXMpIHtcbiAgICAgIGlmIChwcm9wVHlwZXMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgISh0eXBlb2YgcHJvcFR5cGVzW3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgJyArICdmcm9tIFJlYWN0LlByb3BUeXBlcy4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXSwgcHJvcE5hbWUpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBlcnJvciA9IHByb3BUeXBlc1twcm9wTmFtZV0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJyk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIC8vIFdlIG1heSB3YW50IHRvIGV4dGVuZCB0aGlzIGxvZ2ljIGZvciBzaW1pbGFyIGVycm9ycyBpblxuICAgICAgICAgIC8vIHRvcC1sZXZlbCByZW5kZXIgY2FsbHMsIHNvIEknbSBhYnN0cmFjdGluZyBpdCBhd2F5IGludG9cbiAgICAgICAgICAvLyBhIGZ1bmN0aW9uIHRvIG1pbmltaXplIHJlZmFjdG9yaW5nIGluIHRoZSBmdXR1cmVcbiAgICAgICAgICB2YXIgYWRkZW5kdW0gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0odGhpcyk7XG5cbiAgICAgICAgICBpZiAobG9jYXRpb24gPT09IFJlYWN0UHJvcFR5cGVMb2NhdGlvbnMucHJvcCkge1xuICAgICAgICAgICAgLy8gUHJlZmFjZSBnaXZlcyB1cyBzb21ldGhpbmcgdG8gYmxhY2tsaXN0IGluIHdhcm5pbmcgbW9kdWxlXG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnRmFpbGVkIENvbnRleHQgVHlwZXM6ICVzJXMnLCBlcnJvci5tZXNzYWdlLCBhZGRlbmR1bSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHJlY2VpdmVDb21wb25lbnQ6IGZ1bmN0aW9uIChuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIG5leHRDb250ZXh0KSB7XG4gICAgdmFyIHByZXZFbGVtZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQ7XG4gICAgdmFyIHByZXZDb250ZXh0ID0gdGhpcy5fY29udGV4dDtcblxuICAgIHRoaXMuX3BlbmRpbmdFbGVtZW50ID0gbnVsbDtcblxuICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KHRyYW5zYWN0aW9uLCBwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQsIHByZXZDb250ZXh0LCBuZXh0Q29udGV4dCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIElmIGFueSBvZiBgX3BlbmRpbmdFbGVtZW50YCwgYF9wZW5kaW5nU3RhdGVRdWV1ZWAsIG9yIGBfcGVuZGluZ0ZvcmNlVXBkYXRlYFxuICAgKiBpcyBzZXQsIHVwZGF0ZSB0aGUgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcGVyZm9ybVVwZGF0ZUlmTmVjZXNzYXJ5OiBmdW5jdGlvbiAodHJhbnNhY3Rpb24pIHtcbiAgICBpZiAodGhpcy5fcGVuZGluZ0VsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgUmVhY3RSZWNvbmNpbGVyLnJlY2VpdmVDb21wb25lbnQodGhpcywgdGhpcy5fcGVuZGluZ0VsZW1lbnQgfHwgdGhpcy5fY3VycmVudEVsZW1lbnQsIHRyYW5zYWN0aW9uLCB0aGlzLl9jb250ZXh0KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcGVuZGluZ1N0YXRlUXVldWUgIT09IG51bGwgfHwgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlKSB7XG4gICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudCh0cmFuc2FjdGlvbiwgdGhpcy5fY3VycmVudEVsZW1lbnQsIHRoaXMuX2N1cnJlbnRFbGVtZW50LCB0aGlzLl9jb250ZXh0LCB0aGlzLl9jb250ZXh0KTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gYW4gdXBkYXRlIHRvIGEgbW91bnRlZCBjb21wb25lbnQuIFRoZSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGFuZFxuICAgKiBzaG91bGRDb21wb25lbnRVcGRhdGUgbWV0aG9kcyBhcmUgY2FsbGVkLCB0aGVuIChhc3N1bWluZyB0aGUgdXBkYXRlIGlzbid0XG4gICAqIHNraXBwZWQpIHRoZSByZW1haW5pbmcgdXBkYXRlIGxpZmVjeWNsZSBtZXRob2RzIGFyZSBjYWxsZWQgYW5kIHRoZSBET01cbiAgICogcmVwcmVzZW50YXRpb24gaXMgdXBkYXRlZC5cbiAgICpcbiAgICogQnkgZGVmYXVsdCwgdGhpcyBpbXBsZW1lbnRzIFJlYWN0J3MgcmVuZGVyaW5nIGFuZCByZWNvbmNpbGlhdGlvbiBhbGdvcml0aG0uXG4gICAqIFNvcGhpc3RpY2F0ZWQgY2xpZW50cyBtYXkgd2lzaCB0byBvdmVycmlkZSB0aGlzLlxuICAgKlxuICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBwcmV2UGFyZW50RWxlbWVudFxuICAgKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gbmV4dFBhcmVudEVsZW1lbnRcbiAgICogQGludGVybmFsXG4gICAqIEBvdmVycmlkYWJsZVxuICAgKi9cbiAgdXBkYXRlQ29tcG9uZW50OiBmdW5jdGlvbiAodHJhbnNhY3Rpb24sIHByZXZQYXJlbnRFbGVtZW50LCBuZXh0UGFyZW50RWxlbWVudCwgcHJldlVubWFza2VkQ29udGV4dCwgbmV4dFVubWFza2VkQ29udGV4dCkge1xuICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG5cbiAgICB2YXIgbmV4dENvbnRleHQgPSB0aGlzLl9jb250ZXh0ID09PSBuZXh0VW5tYXNrZWRDb250ZXh0ID8gaW5zdC5jb250ZXh0IDogdGhpcy5fcHJvY2Vzc0NvbnRleHQobmV4dFVubWFza2VkQ29udGV4dCk7XG4gICAgdmFyIG5leHRQcm9wcztcblxuICAgIC8vIERpc3Rpbmd1aXNoIGJldHdlZW4gYSBwcm9wcyB1cGRhdGUgdmVyc3VzIGEgc2ltcGxlIHN0YXRlIHVwZGF0ZVxuICAgIGlmIChwcmV2UGFyZW50RWxlbWVudCA9PT0gbmV4dFBhcmVudEVsZW1lbnQpIHtcbiAgICAgIC8vIFNraXAgY2hlY2tpbmcgcHJvcCB0eXBlcyBhZ2FpbiAtLSB3ZSBkb24ndCByZWFkIGluc3QucHJvcHMgdG8gYXZvaWRcbiAgICAgIC8vIHdhcm5pbmcgZm9yIERPTSBjb21wb25lbnQgcHJvcHMgaW4gdGhpcyB1cGdyYWRlXG4gICAgICBuZXh0UHJvcHMgPSBuZXh0UGFyZW50RWxlbWVudC5wcm9wcztcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dFByb3BzID0gdGhpcy5fcHJvY2Vzc1Byb3BzKG5leHRQYXJlbnRFbGVtZW50LnByb3BzKTtcbiAgICAgIC8vIEFuIHVwZGF0ZSBoZXJlIHdpbGwgc2NoZWR1bGUgYW4gdXBkYXRlIGJ1dCBpbW1lZGlhdGVseSBzZXRcbiAgICAgIC8vIF9wZW5kaW5nU3RhdGVRdWV1ZSB3aGljaCB3aWxsIGVuc3VyZSB0aGF0IGFueSBzdGF0ZSB1cGRhdGVzIGdldHNcbiAgICAgIC8vIGltbWVkaWF0ZWx5IHJlY29uY2lsZWQgaW5zdGVhZCBvZiB3YWl0aW5nIGZvciB0aGUgbmV4dCBiYXRjaC5cblxuICAgICAgaWYgKGluc3QuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykge1xuICAgICAgICBpbnN0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG5leHRTdGF0ZSA9IHRoaXMuX3Byb2Nlc3NQZW5kaW5nU3RhdGUobmV4dFByb3BzLCBuZXh0Q29udGV4dCk7XG5cbiAgICB2YXIgc2hvdWxkVXBkYXRlID0gdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlIHx8ICFpbnN0LnNob3VsZENvbXBvbmVudFVwZGF0ZSB8fCBpbnN0LnNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHR5cGVvZiBzaG91bGRVcGRhdGUgIT09ICd1bmRlZmluZWQnLCAnJXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk6IFJldHVybmVkIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIGEgJyArICdib29sZWFuIHZhbHVlLiBNYWtlIHN1cmUgdG8gcmV0dXJuIHRydWUgb3IgZmFsc2UuJywgdGhpcy5nZXROYW1lKCkgfHwgJ1JlYWN0Q29tcG9zaXRlQ29tcG9uZW50JykgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgdGhpcy5fcGVuZGluZ0ZvcmNlVXBkYXRlID0gZmFsc2U7XG4gICAgICAvLyBXaWxsIHNldCBgdGhpcy5wcm9wc2AsIGB0aGlzLnN0YXRlYCBhbmQgYHRoaXMuY29udGV4dGAuXG4gICAgICB0aGlzLl9wZXJmb3JtQ29tcG9uZW50VXBkYXRlKG5leHRQYXJlbnRFbGVtZW50LCBuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQsIHRyYW5zYWN0aW9uLCBuZXh0VW5tYXNrZWRDb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgaXQncyBkZXRlcm1pbmVkIHRoYXQgYSBjb21wb25lbnQgc2hvdWxkIG5vdCB1cGRhdGUsIHdlIHN0aWxsIHdhbnRcbiAgICAgIC8vIHRvIHNldCBwcm9wcyBhbmQgc3RhdGUgYnV0IHdlIHNob3J0Y3V0IHRoZSByZXN0IG9mIHRoZSB1cGRhdGUuXG4gICAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG5leHRQYXJlbnRFbGVtZW50O1xuICAgICAgdGhpcy5fY29udGV4dCA9IG5leHRVbm1hc2tlZENvbnRleHQ7XG4gICAgICBpbnN0LnByb3BzID0gbmV4dFByb3BzO1xuICAgICAgaW5zdC5zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgIGluc3QuY29udGV4dCA9IG5leHRDb250ZXh0O1xuICAgIH1cbiAgfSxcblxuICBfcHJvY2Vzc1BlbmRpbmdTdGF0ZTogZnVuY3Rpb24gKHByb3BzLCBjb250ZXh0KSB7XG4gICAgdmFyIGluc3QgPSB0aGlzLl9pbnN0YW5jZTtcbiAgICB2YXIgcXVldWUgPSB0aGlzLl9wZW5kaW5nU3RhdGVRdWV1ZTtcbiAgICB2YXIgcmVwbGFjZSA9IHRoaXMuX3BlbmRpbmdSZXBsYWNlU3RhdGU7XG4gICAgdGhpcy5fcGVuZGluZ1JlcGxhY2VTdGF0ZSA9IGZhbHNlO1xuICAgIHRoaXMuX3BlbmRpbmdTdGF0ZVF1ZXVlID0gbnVsbDtcblxuICAgIGlmICghcXVldWUpIHtcbiAgICAgIHJldHVybiBpbnN0LnN0YXRlO1xuICAgIH1cblxuICAgIGlmIChyZXBsYWNlICYmIHF1ZXVlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHF1ZXVlWzBdO1xuICAgIH1cblxuICAgIHZhciBuZXh0U3RhdGUgPSBhc3NpZ24oe30sIHJlcGxhY2UgPyBxdWV1ZVswXSA6IGluc3Quc3RhdGUpO1xuICAgIGZvciAodmFyIGkgPSByZXBsYWNlID8gMSA6IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHBhcnRpYWwgPSBxdWV1ZVtpXTtcbiAgICAgIGFzc2lnbihuZXh0U3RhdGUsIHR5cGVvZiBwYXJ0aWFsID09PSAnZnVuY3Rpb24nID8gcGFydGlhbC5jYWxsKGluc3QsIG5leHRTdGF0ZSwgcHJvcHMsIGNvbnRleHQpIDogcGFydGlhbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgfSxcblxuICAvKipcbiAgICogTWVyZ2VzIG5ldyBwcm9wcyBhbmQgc3RhdGUsIG5vdGlmaWVzIGRlbGVnYXRlIG1ldGhvZHMgb2YgdXBkYXRlIGFuZFxuICAgKiBwZXJmb3JtcyB1cGRhdGUuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBuZXh0RWxlbWVudCBOZXh0IGVsZW1lbnRcbiAgICogQHBhcmFtIHtvYmplY3R9IG5leHRQcm9wcyBOZXh0IHB1YmxpYyBvYmplY3QgdG8gc2V0IGFzIHByb3BlcnRpZXMuXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dFN0YXRlIE5leHQgb2JqZWN0IHRvIHNldCBhcyBzdGF0ZS5cbiAgICogQHBhcmFtIHs/b2JqZWN0fSBuZXh0Q29udGV4dCBOZXh0IHB1YmxpYyBvYmplY3QgdG8gc2V0IGFzIGNvbnRleHQuXG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHs/b2JqZWN0fSB1bm1hc2tlZENvbnRleHRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wZXJmb3JtQ29tcG9uZW50VXBkYXRlOiBmdW5jdGlvbiAobmV4dEVsZW1lbnQsIG5leHRQcm9wcywgbmV4dFN0YXRlLCBuZXh0Q29udGV4dCwgdHJhbnNhY3Rpb24sIHVubWFza2VkQ29udGV4dCkge1xuICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG5cbiAgICB2YXIgaGFzQ29tcG9uZW50RGlkVXBkYXRlID0gQm9vbGVhbihpbnN0LmNvbXBvbmVudERpZFVwZGF0ZSk7XG4gICAgdmFyIHByZXZQcm9wcztcbiAgICB2YXIgcHJldlN0YXRlO1xuICAgIHZhciBwcmV2Q29udGV4dDtcbiAgICBpZiAoaGFzQ29tcG9uZW50RGlkVXBkYXRlKSB7XG4gICAgICBwcmV2UHJvcHMgPSBpbnN0LnByb3BzO1xuICAgICAgcHJldlN0YXRlID0gaW5zdC5zdGF0ZTtcbiAgICAgIHByZXZDb250ZXh0ID0gaW5zdC5jb250ZXh0O1xuICAgIH1cblxuICAgIGlmIChpbnN0LmNvbXBvbmVudFdpbGxVcGRhdGUpIHtcbiAgICAgIGluc3QuY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSwgbmV4dENvbnRleHQpO1xuICAgIH1cblxuICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbmV4dEVsZW1lbnQ7XG4gICAgdGhpcy5fY29udGV4dCA9IHVubWFza2VkQ29udGV4dDtcbiAgICBpbnN0LnByb3BzID0gbmV4dFByb3BzO1xuICAgIGluc3Quc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgaW5zdC5jb250ZXh0ID0gbmV4dENvbnRleHQ7XG5cbiAgICB0aGlzLl91cGRhdGVSZW5kZXJlZENvbXBvbmVudCh0cmFuc2FjdGlvbiwgdW5tYXNrZWRDb250ZXh0KTtcblxuICAgIGlmIChoYXNDb21wb25lbnREaWRVcGRhdGUpIHtcbiAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUoaW5zdC5jb21wb25lbnREaWRVcGRhdGUuYmluZChpbnN0LCBwcmV2UHJvcHMsIHByZXZTdGF0ZSwgcHJldkNvbnRleHQpLCBpbnN0KTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENhbGwgdGhlIGNvbXBvbmVudCdzIGByZW5kZXJgIG1ldGhvZCBhbmQgdXBkYXRlIHRoZSBET00gYWNjb3JkaW5nbHkuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQGludGVybmFsXG4gICAqL1xuICBfdXBkYXRlUmVuZGVyZWRDb21wb25lbnQ6IGZ1bmN0aW9uICh0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgIHZhciBwcmV2Q29tcG9uZW50SW5zdGFuY2UgPSB0aGlzLl9yZW5kZXJlZENvbXBvbmVudDtcbiAgICB2YXIgcHJldlJlbmRlcmVkRWxlbWVudCA9IHByZXZDb21wb25lbnRJbnN0YW5jZS5fY3VycmVudEVsZW1lbnQ7XG4gICAgdmFyIG5leHRSZW5kZXJlZEVsZW1lbnQgPSB0aGlzLl9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnQoKTtcbiAgICBpZiAoc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQocHJldlJlbmRlcmVkRWxlbWVudCwgbmV4dFJlbmRlcmVkRWxlbWVudCkpIHtcbiAgICAgIFJlYWN0UmVjb25jaWxlci5yZWNlaXZlQ29tcG9uZW50KHByZXZDb21wb25lbnRJbnN0YW5jZSwgbmV4dFJlbmRlcmVkRWxlbWVudCwgdHJhbnNhY3Rpb24sIHRoaXMuX3Byb2Nlc3NDaGlsZENvbnRleHQoY29udGV4dCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUaGVzZSB0d28gSURzIGFyZSBhY3R1YWxseSB0aGUgc2FtZSEgQnV0IG5vdGhpbmcgc2hvdWxkIHJlbHkgb24gdGhhdC5cbiAgICAgIHZhciB0aGlzSUQgPSB0aGlzLl9yb290Tm9kZUlEO1xuICAgICAgdmFyIHByZXZDb21wb25lbnRJRCA9IHByZXZDb21wb25lbnRJbnN0YW5jZS5fcm9vdE5vZGVJRDtcbiAgICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHByZXZDb21wb25lbnRJbnN0YW5jZSk7XG5cbiAgICAgIHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50ID0gdGhpcy5faW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChuZXh0UmVuZGVyZWRFbGVtZW50KTtcbiAgICAgIHZhciBuZXh0TWFya3VwID0gUmVhY3RSZWNvbmNpbGVyLm1vdW50Q29tcG9uZW50KHRoaXMuX3JlbmRlcmVkQ29tcG9uZW50LCB0aGlzSUQsIHRyYW5zYWN0aW9uLCB0aGlzLl9wcm9jZXNzQ2hpbGRDb250ZXh0KGNvbnRleHQpKTtcbiAgICAgIHRoaXMuX3JlcGxhY2VOb2RlV2l0aE1hcmt1cEJ5SUQocHJldkNvbXBvbmVudElELCBuZXh0TWFya3VwKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9yZXBsYWNlTm9kZVdpdGhNYXJrdXBCeUlEOiBmdW5jdGlvbiAocHJldkNvbXBvbmVudElELCBuZXh0TWFya3VwKSB7XG4gICAgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudC5yZXBsYWNlTm9kZVdpdGhNYXJrdXBCeUlEKHByZXZDb21wb25lbnRJRCwgbmV4dE1hcmt1cCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9yZW5kZXJWYWxpZGF0ZWRDb21wb25lbnRXaXRob3V0T3duZXJPckNvbnRleHQ6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaW5zdCA9IHRoaXMuX2luc3RhbmNlO1xuICAgIHZhciByZW5kZXJlZENvbXBvbmVudCA9IGluc3QucmVuZGVyKCk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIFdlIGFsbG93IGF1dG8tbW9ja3MgdG8gcHJvY2VlZCBhcyBpZiB0aGV5J3JlIHJldHVybmluZyBudWxsLlxuICAgICAgaWYgKHR5cGVvZiByZW5kZXJlZENvbXBvbmVudCA9PT0gJ3VuZGVmaW5lZCcgJiYgaW5zdC5yZW5kZXIuX2lzTW9ja0Z1bmN0aW9uKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgcHJvYmFibHkgYmFkIHByYWN0aWNlLiBDb25zaWRlciB3YXJuaW5nIGhlcmUgYW5kXG4gICAgICAgIC8vIGRlcHJlY2F0aW5nIHRoaXMgY29udmVuaWVuY2UuXG4gICAgICAgIHJlbmRlcmVkQ29tcG9uZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyZWRDb21wb25lbnQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJlbmRlcmVkQ29tcG9uZW50O1xuICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB0aGlzO1xuICAgIHRyeSB7XG4gICAgICByZW5kZXJlZENvbXBvbmVudCA9IHRoaXMuX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudFdpdGhvdXRPd25lck9yQ29udGV4dCgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgIShcbiAgICAvLyBUT0RPOiBBbiBgaXNWYWxpZE5vZGVgIGZ1bmN0aW9uIHdvdWxkIHByb2JhYmx5IGJlIG1vcmUgYXBwcm9wcmlhdGVcbiAgICByZW5kZXJlZENvbXBvbmVudCA9PT0gbnVsbCB8fCByZW5kZXJlZENvbXBvbmVudCA9PT0gZmFsc2UgfHwgUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KHJlbmRlcmVkQ29tcG9uZW50KSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnJXMucmVuZGVyKCk6IEEgdmFsaWQgUmVhY3RDb21wb25lbnQgbXVzdCBiZSByZXR1cm5lZC4gWW91IG1heSBoYXZlICcgKyAncmV0dXJuZWQgdW5kZWZpbmVkLCBhbiBhcnJheSBvciBzb21lIG90aGVyIGludmFsaWQgb2JqZWN0LicsIHRoaXMuZ2V0TmFtZSgpIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVuZGVyZWRDb21wb25lbnQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIExhemlseSBhbGxvY2F0ZXMgdGhlIHJlZnMgb2JqZWN0IGFuZCBzdG9yZXMgYGNvbXBvbmVudGAgYXMgYHJlZmAuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWYgUmVmZXJlbmNlIG5hbWUuXG4gICAqIEBwYXJhbSB7Y29tcG9uZW50fSBjb21wb25lbnQgQ29tcG9uZW50IHRvIHN0b3JlIGFzIGByZWZgLlxuICAgKiBAZmluYWxcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGF0dGFjaFJlZjogZnVuY3Rpb24gKHJlZiwgY29tcG9uZW50KSB7XG4gICAgdmFyIGluc3QgPSB0aGlzLmdldFB1YmxpY0luc3RhbmNlKCk7XG4gICAgIShpbnN0ICE9IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1N0YXRlbGVzcyBmdW5jdGlvbiBjb21wb25lbnRzIGNhbm5vdCBoYXZlIHJlZnMuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgIHZhciBwdWJsaWNDb21wb25lbnRJbnN0YW5jZSA9IGNvbXBvbmVudC5nZXRQdWJsaWNJbnN0YW5jZSgpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudCAmJiBjb21wb25lbnQuZ2V0TmFtZSA/IGNvbXBvbmVudC5nZXROYW1lKCkgOiAnYSBjb21wb25lbnQnO1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocHVibGljQ29tcG9uZW50SW5zdGFuY2UgIT0gbnVsbCwgJ1N0YXRlbGVzcyBmdW5jdGlvbiBjb21wb25lbnRzIGNhbm5vdCBiZSBnaXZlbiByZWZzICcgKyAnKFNlZSByZWYgXCIlc1wiIGluICVzIGNyZWF0ZWQgYnkgJXMpLiAnICsgJ0F0dGVtcHRzIHRvIGFjY2VzcyB0aGlzIHJlZiB3aWxsIGZhaWwuJywgcmVmLCBjb21wb25lbnROYW1lLCB0aGlzLmdldE5hbWUoKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHZhciByZWZzID0gaW5zdC5yZWZzID09PSBlbXB0eU9iamVjdCA/IGluc3QucmVmcyA9IHt9IDogaW5zdC5yZWZzO1xuICAgIHJlZnNbcmVmXSA9IHB1YmxpY0NvbXBvbmVudEluc3RhbmNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZXRhY2hlcyBhIHJlZmVyZW5jZSBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVmIE5hbWUgdG8gZGVyZWZlcmVuY2UuXG4gICAqIEBmaW5hbFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGV0YWNoUmVmOiBmdW5jdGlvbiAocmVmKSB7XG4gICAgdmFyIHJlZnMgPSB0aGlzLmdldFB1YmxpY0luc3RhbmNlKCkucmVmcztcbiAgICBkZWxldGUgcmVmc1tyZWZdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgYSB0ZXh0IGRlc2NyaXB0aW9uIG9mIHRoZSBjb21wb25lbnQgdGhhdCBjYW4gYmUgdXNlZCB0byBpZGVudGlmeSBpdFxuICAgKiBpbiBlcnJvciBtZXNzYWdlcy5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbmFtZSBvciBudWxsLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldE5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdHlwZSA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gdGhpcy5faW5zdGFuY2UgJiYgdGhpcy5faW5zdGFuY2UuY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgY29uc3RydWN0b3IgJiYgY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IGNvbnN0cnVjdG9yICYmIGNvbnN0cnVjdG9yLm5hbWUgfHwgbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBwdWJsaWNseSBhY2Nlc3NpYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgY29tcG9uZW50IC0gaS5lLiB3aGF0XG4gICAqIGlzIGV4cG9zZWQgYnkgcmVmcyBhbmQgcmV0dXJuZWQgYnkgcmVuZGVyLiBDYW4gYmUgbnVsbCBmb3Igc3RhdGVsZXNzXG4gICAqIGNvbXBvbmVudHMuXG4gICAqXG4gICAqIEByZXR1cm4ge1JlYWN0Q29tcG9uZW50fSB0aGUgcHVibGljIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBnZXRQdWJsaWNJbnN0YW5jZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbnN0ID0gdGhpcy5faW5zdGFuY2U7XG4gICAgaWYgKGluc3QgaW5zdGFuY2VvZiBTdGF0ZWxlc3NDb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdDtcbiAgfSxcblxuICAvLyBTdHViXG4gIF9pbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50OiBudWxsXG5cbn07XG5cblJlYWN0UGVyZi5tZWFzdXJlTWV0aG9kcyhSZWFjdENvbXBvc2l0ZUNvbXBvbmVudE1peGluLCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnLCB7XG4gIG1vdW50Q29tcG9uZW50OiAnbW91bnRDb21wb25lbnQnLFxuICB1cGRhdGVDb21wb25lbnQ6ICd1cGRhdGVDb21wb25lbnQnLFxuICBfcmVuZGVyVmFsaWRhdGVkQ29tcG9uZW50OiAnX3JlbmRlclZhbGlkYXRlZENvbXBvbmVudCdcbn0pO1xuXG52YXIgUmVhY3RDb21wb3NpdGVDb21wb25lbnQgPSB7XG5cbiAgTWl4aW46IFJlYWN0Q29tcG9zaXRlQ29tcG9uZW50TWl4aW5cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdENvbXBvc2l0ZUNvbXBvbmVudDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xudmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG52YXIgRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlID0gcmVxdWlyZSgnLi9GYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUnKTtcbnZhciBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50Jyk7XG52YXIgU3ludGhldGljSW5wdXRFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljSW5wdXRFdmVudCcpO1xuXG52YXIga2V5T2YgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlPZicpO1xuXG52YXIgRU5EX0tFWUNPREVTID0gWzksIDEzLCAyNywgMzJdOyAvLyBUYWIsIFJldHVybiwgRXNjLCBTcGFjZVxudmFyIFNUQVJUX0tFWUNPREUgPSAyMjk7XG5cbnZhciBjYW5Vc2VDb21wb3NpdGlvbkV2ZW50ID0gRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NICYmICdDb21wb3NpdGlvbkV2ZW50JyBpbiB3aW5kb3c7XG5cbnZhciBkb2N1bWVudE1vZGUgPSBudWxsO1xuaWYgKEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnZG9jdW1lbnRNb2RlJyBpbiBkb2N1bWVudCkge1xuICBkb2N1bWVudE1vZGUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG59XG5cbi8vIFdlYmtpdCBvZmZlcnMgYSB2ZXJ5IHVzZWZ1bCBgdGV4dElucHV0YCBldmVudCB0aGF0IGNhbiBiZSB1c2VkIHRvXG4vLyBkaXJlY3RseSByZXByZXNlbnQgYGJlZm9yZUlucHV0YC4gVGhlIElFIGB0ZXh0aW5wdXRgIGV2ZW50IGlzIG5vdCBhc1xuLy8gdXNlZnVsLCBzbyB3ZSBkb24ndCB1c2UgaXQuXG52YXIgY2FuVXNlVGV4dElucHV0RXZlbnQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ1RleHRFdmVudCcgaW4gd2luZG93ICYmICFkb2N1bWVudE1vZGUgJiYgIWlzUHJlc3RvKCk7XG5cbi8vIEluIElFOSssIHdlIGhhdmUgYWNjZXNzIHRvIGNvbXBvc2l0aW9uIGV2ZW50cywgYnV0IHRoZSBkYXRhIHN1cHBsaWVkXG4vLyBieSB0aGUgbmF0aXZlIGNvbXBvc2l0aW9uZW5kIGV2ZW50IG1heSBiZSBpbmNvcnJlY3QuIEphcGFuZXNlIGlkZW9ncmFwaGljXG4vLyBzcGFjZXMsIGZvciBpbnN0YW5jZSAoXFx1MzAwMCkgYXJlIG5vdCByZWNvcmRlZCBjb3JyZWN0bHkuXG52YXIgdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgKCFjYW5Vc2VDb21wb3NpdGlvbkV2ZW50IHx8IGRvY3VtZW50TW9kZSAmJiBkb2N1bWVudE1vZGUgPiA4ICYmIGRvY3VtZW50TW9kZSA8PSAxMSk7XG5cbi8qKlxuICogT3BlcmEgPD0gMTIgaW5jbHVkZXMgVGV4dEV2ZW50IGluIHdpbmRvdywgYnV0IGRvZXMgbm90IGZpcmVcbiAqIHRleHQgaW5wdXQgZXZlbnRzLiBSZWx5IG9uIGtleXByZXNzIGluc3RlYWQuXG4gKi9cbmZ1bmN0aW9uIGlzUHJlc3RvKCkge1xuICB2YXIgb3BlcmEgPSB3aW5kb3cub3BlcmE7XG4gIHJldHVybiB0eXBlb2Ygb3BlcmEgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvcGVyYS52ZXJzaW9uID09PSAnZnVuY3Rpb24nICYmIHBhcnNlSW50KG9wZXJhLnZlcnNpb24oKSwgMTApIDw9IDEyO1xufVxuXG52YXIgU1BBQ0VCQVJfQ09ERSA9IDMyO1xudmFyIFNQQUNFQkFSX0NIQVIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFNQQUNFQkFSX0NPREUpO1xuXG52YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG5cbi8vIEV2ZW50cyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSBuYW1lcy5cbnZhciBldmVudFR5cGVzID0ge1xuICBiZWZvcmVJbnB1dDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uQmVmb3JlSW5wdXQ6IG51bGwgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkJlZm9yZUlucHV0Q2FwdHVyZTogbnVsbCB9KVxuICAgIH0sXG4gICAgZGVwZW5kZW5jaWVzOiBbdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvbkVuZCwgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzcywgdG9wTGV2ZWxUeXBlcy50b3BUZXh0SW5wdXQsIHRvcExldmVsVHlwZXMudG9wUGFzdGVdXG4gIH0sXG4gIGNvbXBvc2l0aW9uRW5kOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25Db21wb3NpdGlvbkVuZDogbnVsbCB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uQ29tcG9zaXRpb25FbmRDYXB0dXJlOiBudWxsIH0pXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcEJsdXIsIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25FbmQsIHRvcExldmVsVHlwZXMudG9wS2V5RG93biwgdG9wTGV2ZWxUeXBlcy50b3BLZXlQcmVzcywgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcCwgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd25dXG4gIH0sXG4gIGNvbXBvc2l0aW9uU3RhcnQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvbkNvbXBvc2l0aW9uU3RhcnQ6IG51bGwgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkNvbXBvc2l0aW9uU3RhcnRDYXB0dXJlOiBudWxsIH0pXG4gICAgfSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcEJsdXIsIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25TdGFydCwgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duLCB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzLCB0b3BMZXZlbFR5cGVzLnRvcEtleVVwLCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bl1cbiAgfSxcbiAgY29tcG9zaXRpb25VcGRhdGU6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvbkNvbXBvc2l0aW9uVXBkYXRlOiBudWxsIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25Db21wb3NpdGlvblVwZGF0ZUNhcHR1cmU6IG51bGwgfSlcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wQmx1ciwgdG9wTGV2ZWxUeXBlcy50b3BDb21wb3NpdGlvblVwZGF0ZSwgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duLCB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzLCB0b3BMZXZlbFR5cGVzLnRvcEtleVVwLCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bl1cbiAgfVxufTtcblxuLy8gVHJhY2sgd2hldGhlciB3ZSd2ZSBldmVyIGhhbmRsZWQgYSBrZXlwcmVzcyBvbiB0aGUgc3BhY2Uga2V5LlxudmFyIGhhc1NwYWNlS2V5cHJlc3MgPSBmYWxzZTtcblxuLyoqXG4gKiBSZXR1cm4gd2hldGhlciBhIG5hdGl2ZSBrZXlwcmVzcyBldmVudCBpcyBhc3N1bWVkIHRvIGJlIGEgY29tbWFuZC5cbiAqIFRoaXMgaXMgcmVxdWlyZWQgYmVjYXVzZSBGaXJlZm94IGZpcmVzIGBrZXlwcmVzc2AgZXZlbnRzIGZvciBrZXkgY29tbWFuZHNcbiAqIChjdXQsIGNvcHksIHNlbGVjdC1hbGwsIGV0Yy4pIGV2ZW4gdGhvdWdoIG5vIGNoYXJhY3RlciBpcyBpbnNlcnRlZC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlwcmVzc0NvbW1hbmQobmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIChuYXRpdmVFdmVudC5jdHJsS2V5IHx8IG5hdGl2ZUV2ZW50LmFsdEtleSB8fCBuYXRpdmVFdmVudC5tZXRhS2V5KSAmJlxuICAvLyBjdHJsS2V5ICYmIGFsdEtleSBpcyBlcXVpdmFsZW50IHRvIEFsdEdyLCBhbmQgaXMgbm90IGEgY29tbWFuZC5cbiAgIShuYXRpdmVFdmVudC5jdHJsS2V5ICYmIG5hdGl2ZUV2ZW50LmFsdEtleSk7XG59XG5cbi8qKlxuICogVHJhbnNsYXRlIG5hdGl2ZSB0b3AgbGV2ZWwgZXZlbnRzIGludG8gZXZlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZVxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRDb21wb3NpdGlvbkV2ZW50VHlwZSh0b3BMZXZlbFR5cGUpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25TdGFydDpcbiAgICAgIHJldHVybiBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uVXBkYXRlOlxuICAgICAgcmV0dXJuIGV2ZW50VHlwZXMuY29tcG9zaXRpb25VcGRhdGU7XG4gIH1cbn1cblxuLyoqXG4gKiBEb2VzIG91ciBmYWxsYmFjayBiZXN0LWd1ZXNzIG1vZGVsIHRoaW5rIHRoaXMgZXZlbnQgc2lnbmlmaWVzIHRoYXRcbiAqIGNvbXBvc2l0aW9uIGhhcyBiZWd1bj9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgcmV0dXJuIHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duICYmIG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IFNUQVJUX0tFWUNPREU7XG59XG5cbi8qKlxuICogRG9lcyBvdXIgZmFsbGJhY2sgbW9kZSB0aGluayB0aGF0IHRoaXMgZXZlbnQgaXMgdGhlIGVuZCBvZiBjb21wb3NpdGlvbj9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVVwOlxuICAgICAgLy8gQ29tbWFuZCBrZXlzIGluc2VydCBvciBjbGVhciBJTUUgaW5wdXQuXG4gICAgICByZXR1cm4gRU5EX0tFWUNPREVTLmluZGV4T2YobmF0aXZlRXZlbnQua2V5Q29kZSkgIT09IC0xO1xuICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duOlxuICAgICAgLy8gRXhwZWN0IElNRSBrZXlDb2RlIG9uIGVhY2gga2V5ZG93bi4gSWYgd2UgZ2V0IGFueSBvdGhlclxuICAgICAgLy8gY29kZSB3ZSBtdXN0IGhhdmUgZXhpdGVkIGVhcmxpZXIuXG4gICAgICByZXR1cm4gbmF0aXZlRXZlbnQua2V5Q29kZSAhPT0gU1RBUlRfS0VZQ09ERTtcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5UHJlc3M6XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bjpcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQmx1cjpcbiAgICAgIC8vIEV2ZW50cyBhcmUgbm90IHBvc3NpYmxlIHdpdGhvdXQgY2FuY2VsbGluZyBJTUUuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogR29vZ2xlIElucHV0IFRvb2xzIHByb3ZpZGVzIGNvbXBvc2l0aW9uIGRhdGEgdmlhIGEgQ3VzdG9tRXZlbnQsXG4gKiB3aXRoIHRoZSBgZGF0YWAgcHJvcGVydHkgcG9wdWxhdGVkIGluIHRoZSBgZGV0YWlsYCBvYmplY3QuIElmIHRoaXNcbiAqIGlzIGF2YWlsYWJsZSBvbiB0aGUgZXZlbnQgb2JqZWN0LCB1c2UgaXQuIElmIG5vdCwgdGhpcyBpcyBhIHBsYWluXG4gKiBjb21wb3NpdGlvbiBldmVudCBhbmQgd2UgaGF2ZSBub3RoaW5nIHNwZWNpYWwgdG8gZXh0cmFjdC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnRcbiAqIEByZXR1cm4gez9zdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgdmFyIGRldGFpbCA9IG5hdGl2ZUV2ZW50LmRldGFpbDtcbiAgaWYgKHR5cGVvZiBkZXRhaWwgPT09ICdvYmplY3QnICYmICdkYXRhJyBpbiBkZXRhaWwpIHtcbiAgICByZXR1cm4gZGV0YWlsLmRhdGE7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8vIFRyYWNrIHRoZSBjdXJyZW50IElNRSBjb21wb3NpdGlvbiBmYWxsYmFjayBvYmplY3QsIGlmIGFueS5cbnZhciBjdXJyZW50Q29tcG9zaXRpb24gPSBudWxsO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAqIEBwYXJhbSB7RE9NRXZlbnRUYXJnZXR9IHRvcExldmVsVGFyZ2V0IFRoZSBsaXN0ZW5pbmcgY29tcG9uZW50IHJvb3Qgbm9kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFRhcmdldElEIElEIG9mIGB0b3BMZXZlbFRhcmdldGAuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHs/b2JqZWN0fSBBIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RDb21wb3NpdGlvbkV2ZW50KHRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB2YXIgZXZlbnRUeXBlO1xuICB2YXIgZmFsbGJhY2tEYXRhO1xuXG4gIGlmIChjYW5Vc2VDb21wb3NpdGlvbkV2ZW50KSB7XG4gICAgZXZlbnRUeXBlID0gZ2V0Q29tcG9zaXRpb25FdmVudFR5cGUodG9wTGV2ZWxUeXBlKTtcbiAgfSBlbHNlIGlmICghY3VycmVudENvbXBvc2l0aW9uKSB7XG4gICAgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvblN0YXJ0KHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpKSB7XG4gICAgICBldmVudFR5cGUgPSBldmVudFR5cGVzLmNvbXBvc2l0aW9uU3RhcnQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgIGV2ZW50VHlwZSA9IGV2ZW50VHlwZXMuY29tcG9zaXRpb25FbmQ7XG4gIH1cblxuICBpZiAoIWV2ZW50VHlwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhKSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgY29tcG9zaXRpb24gaXMgc3RvcmVkIHN0YXRpY2FsbHkgYW5kIG11c3Qgbm90IGJlXG4gICAgLy8gb3ZlcndyaXR0ZW4gd2hpbGUgY29tcG9zaXRpb24gY29udGludWVzLlxuICAgIGlmICghY3VycmVudENvbXBvc2l0aW9uICYmIGV2ZW50VHlwZSA9PT0gZXZlbnRUeXBlcy5jb21wb3NpdGlvblN0YXJ0KSB7XG4gICAgICBjdXJyZW50Q29tcG9zaXRpb24gPSBGYWxsYmFja0NvbXBvc2l0aW9uU3RhdGUuZ2V0UG9vbGVkKHRvcExldmVsVGFyZ2V0KTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSA9PT0gZXZlbnRUeXBlcy5jb21wb3NpdGlvbkVuZCkge1xuICAgICAgaWYgKGN1cnJlbnRDb21wb3NpdGlvbikge1xuICAgICAgICBmYWxsYmFja0RhdGEgPSBjdXJyZW50Q29tcG9zaXRpb24uZ2V0RGF0YSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBldmVudCA9IFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZSwgdG9wTGV2ZWxUYXJnZXRJRCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICBpZiAoZmFsbGJhY2tEYXRhKSB7XG4gICAgLy8gSW5qZWN0IGRhdGEgZ2VuZXJhdGVkIGZyb20gZmFsbGJhY2sgcGF0aCBpbnRvIHRoZSBzeW50aGV0aWMgZXZlbnQuXG4gICAgLy8gVGhpcyBtYXRjaGVzIHRoZSBwcm9wZXJ0eSBvZiBuYXRpdmUgQ29tcG9zaXRpb25FdmVudEludGVyZmFjZS5cbiAgICBldmVudC5kYXRhID0gZmFsbGJhY2tEYXRhO1xuICB9IGVsc2Uge1xuICAgIHZhciBjdXN0b21EYXRhID0gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCk7XG4gICAgaWYgKGN1c3RvbURhdGEgIT09IG51bGwpIHtcbiAgICAgIGV2ZW50LmRhdGEgPSBjdXN0b21EYXRhO1xuICAgIH1cbiAgfVxuXG4gIEV2ZW50UHJvcGFnYXRvcnMuYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gIHJldHVybiBldmVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBFdmVudENvbnN0YW50c2AuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBUaGUgc3RyaW5nIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBgYmVmb3JlSW5wdXRgIGV2ZW50LlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpIHtcbiAgc3dpdGNoICh0b3BMZXZlbFR5cGUpIHtcbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ29tcG9zaXRpb25FbmQ6XG4gICAgICByZXR1cm4gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCk7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgLyoqXG4gICAgICAgKiBJZiBuYXRpdmUgYHRleHRJbnB1dGAgZXZlbnRzIGFyZSBhdmFpbGFibGUsIG91ciBnb2FsIGlzIHRvIG1ha2VcbiAgICAgICAqIHVzZSBvZiB0aGVtLiBIb3dldmVyLCB0aGVyZSBpcyBhIHNwZWNpYWwgY2FzZTogdGhlIHNwYWNlYmFyIGtleS5cbiAgICAgICAqIEluIFdlYmtpdCwgcHJldmVudGluZyBkZWZhdWx0IG9uIGEgc3BhY2ViYXIgYHRleHRJbnB1dGAgZXZlbnRcbiAgICAgICAqIGNhbmNlbHMgY2hhcmFjdGVyIGluc2VydGlvbiwgYnV0IGl0ICphbHNvKiBjYXVzZXMgdGhlIGJyb3dzZXJcbiAgICAgICAqIHRvIGZhbGwgYmFjayB0byBpdHMgZGVmYXVsdCBzcGFjZWJhciBiZWhhdmlvciBvZiBzY3JvbGxpbmcgdGhlXG4gICAgICAgKiBwYWdlLlxuICAgICAgICpcbiAgICAgICAqIFRyYWNraW5nIGF0OlxuICAgICAgICogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM1NTEwM1xuICAgICAgICpcbiAgICAgICAqIFRvIGF2b2lkIHRoaXMgaXNzdWUsIHVzZSB0aGUga2V5cHJlc3MgZXZlbnQgYXMgaWYgbm8gYHRleHRJbnB1dGBcbiAgICAgICAqIGV2ZW50IGlzIGF2YWlsYWJsZS5cbiAgICAgICAqL1xuICAgICAgdmFyIHdoaWNoID0gbmF0aXZlRXZlbnQud2hpY2g7XG4gICAgICBpZiAod2hpY2ggIT09IFNQQUNFQkFSX0NPREUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGhhc1NwYWNlS2V5cHJlc3MgPSB0cnVlO1xuICAgICAgcmV0dXJuIFNQQUNFQkFSX0NIQVI7XG5cbiAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVGV4dElucHV0OlxuICAgICAgLy8gUmVjb3JkIHRoZSBjaGFyYWN0ZXJzIHRvIGJlIGFkZGVkIHRvIHRoZSBET00uXG4gICAgICB2YXIgY2hhcnMgPSBuYXRpdmVFdmVudC5kYXRhO1xuXG4gICAgICAvLyBJZiBpdCdzIGEgc3BhY2ViYXIgY2hhcmFjdGVyLCBhc3N1bWUgdGhhdCB3ZSBoYXZlIGFscmVhZHkgaGFuZGxlZFxuICAgICAgLy8gaXQgYXQgdGhlIGtleXByZXNzIGxldmVsIGFuZCBiYWlsIGltbWVkaWF0ZWx5LiBBbmRyb2lkIENocm9tZVxuICAgICAgLy8gZG9lc24ndCBnaXZlIHVzIGtleWNvZGVzLCBzbyB3ZSBuZWVkIHRvIGJsYWNrbGlzdCBpdC5cbiAgICAgIGlmIChjaGFycyA9PT0gU1BBQ0VCQVJfQ0hBUiAmJiBoYXNTcGFjZUtleXByZXNzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hhcnM7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gRm9yIG90aGVyIG5hdGl2ZSBldmVudCB0eXBlcywgZG8gbm90aGluZy5cbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogRm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90IHByb3ZpZGUgdGhlIGB0ZXh0SW5wdXRgIGV2ZW50LCBleHRyYWN0IHRoZVxuICogYXBwcm9wcmlhdGUgc3RyaW5nIHRvIHVzZSBmb3IgU3ludGhldGljSW5wdXRFdmVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBFdmVudENvbnN0YW50c2AuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHs/c3RyaW5nfSBUaGUgZmFsbGJhY2sgc3RyaW5nIGZvciB0aGlzIGBiZWZvcmVJbnB1dGAgZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSB7XG4gIC8vIElmIHdlIGFyZSBjdXJyZW50bHkgY29tcG9zaW5nIChJTUUpIGFuZCB1c2luZyBhIGZhbGxiYWNrIHRvIGRvIHNvLFxuICAvLyB0cnkgdG8gZXh0cmFjdCB0aGUgY29tcG9zZWQgY2hhcmFjdGVycyBmcm9tIHRoZSBmYWxsYmFjayBvYmplY3QuXG4gIGlmIChjdXJyZW50Q29tcG9zaXRpb24pIHtcbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kIHx8IGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KSkge1xuICAgICAgdmFyIGNoYXJzID0gY3VycmVudENvbXBvc2l0aW9uLmdldERhdGEoKTtcbiAgICAgIEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZS5yZWxlYXNlKGN1cnJlbnRDb21wb3NpdGlvbik7XG4gICAgICBjdXJyZW50Q29tcG9zaXRpb24gPSBudWxsO1xuICAgICAgcmV0dXJuIGNoYXJzO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHN3aXRjaCAodG9wTGV2ZWxUeXBlKSB7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBhc3RlOlxuICAgICAgLy8gSWYgYSBwYXN0ZSBldmVudCBvY2N1cnMgYWZ0ZXIgYSBrZXlwcmVzcywgdGhyb3cgb3V0IHRoZSBpbnB1dFxuICAgICAgLy8gY2hhcnMuIFBhc3RlIGV2ZW50cyBzaG91bGQgbm90IGxlYWQgdG8gQmVmb3JlSW5wdXQgZXZlbnRzLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgLyoqXG4gICAgICAgKiBBcyBvZiB2MjcsIEZpcmVmb3ggbWF5IGZpcmUga2V5cHJlc3MgZXZlbnRzIGV2ZW4gd2hlbiBubyBjaGFyYWN0ZXJcbiAgICAgICAqIHdpbGwgYmUgaW5zZXJ0ZWQuIEEgZmV3IHBvc3NpYmlsaXRpZXM6XG4gICAgICAgKlxuICAgICAgICogLSBgd2hpY2hgIGlzIGAwYC4gQXJyb3cga2V5cywgRXNjIGtleSwgZXRjLlxuICAgICAgICpcbiAgICAgICAqIC0gYHdoaWNoYCBpcyB0aGUgcHJlc3NlZCBrZXkgY29kZSwgYnV0IG5vIGNoYXIgaXMgYXZhaWxhYmxlLlxuICAgICAgICogICBFeDogJ0FsdEdyICsgZGAgaW4gUG9saXNoLiBUaGVyZSBpcyBubyBtb2RpZmllZCBjaGFyYWN0ZXIgZm9yXG4gICAgICAgKiAgIHRoaXMga2V5IGNvbWJpbmF0aW9uIGFuZCBubyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQgaW50byB0aGVcbiAgICAgICAqICAgZG9jdW1lbnQsIGJ1dCBGRiBmaXJlcyB0aGUga2V5cHJlc3MgZm9yIGNoYXIgY29kZSBgMTAwYCBhbnl3YXkuXG4gICAgICAgKiAgIE5vIGBpbnB1dGAgZXZlbnQgd2lsbCBvY2N1ci5cbiAgICAgICAqXG4gICAgICAgKiAtIGB3aGljaGAgaXMgdGhlIHByZXNzZWQga2V5IGNvZGUsIGJ1dCBhIGNvbW1hbmQgY29tYmluYXRpb24gaXNcbiAgICAgICAqICAgYmVpbmcgdXNlZC4gRXg6IGBDbWQrQ2AuIE5vIGNoYXJhY3RlciBpcyBpbnNlcnRlZCwgYW5kIG5vXG4gICAgICAgKiAgIGBpbnB1dGAgZXZlbnQgd2lsbCBvY2N1ci5cbiAgICAgICAqL1xuICAgICAgaWYgKG5hdGl2ZUV2ZW50LndoaWNoICYmICFpc0tleXByZXNzQ29tbWFuZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobmF0aXZlRXZlbnQud2hpY2gpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbXBvc2l0aW9uRW5kOlxuICAgICAgcmV0dXJuIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhID8gbnVsbCA6IG5hdGl2ZUV2ZW50LmRhdGE7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogRXh0cmFjdCBhIFN5bnRoZXRpY0lucHV0RXZlbnQgZm9yIGBiZWZvcmVJbnB1dGAsIGJhc2VkIG9uIGVpdGhlciBuYXRpdmVcbiAqIGB0ZXh0SW5wdXRgIG9yIGZhbGxiYWNrIGJlaGF2aW9yLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAqIEBwYXJhbSB7RE9NRXZlbnRUYXJnZXR9IHRvcExldmVsVGFyZ2V0IFRoZSBsaXN0ZW5pbmcgY29tcG9uZW50IHJvb3Qgbm9kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFRhcmdldElEIElEIG9mIGB0b3BMZXZlbFRhcmdldGAuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAcmV0dXJuIHs/b2JqZWN0fSBBIFN5bnRoZXRpY0lucHV0RXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RCZWZvcmVJbnB1dEV2ZW50KHRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICB2YXIgY2hhcnM7XG5cbiAgaWYgKGNhblVzZVRleHRJbnB1dEV2ZW50KSB7XG4gICAgY2hhcnMgPSBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9IGVsc2Uge1xuICAgIGNoYXJzID0gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKHRvcExldmVsVHlwZSwgbmF0aXZlRXZlbnQpO1xuICB9XG5cbiAgLy8gSWYgbm8gY2hhcmFjdGVycyBhcmUgYmVpbmcgaW5zZXJ0ZWQsIG5vIEJlZm9yZUlucHV0IGV2ZW50IHNob3VsZFxuICAvLyBiZSBmaXJlZC5cbiAgaWYgKCFjaGFycykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGV2ZW50ID0gU3ludGhldGljSW5wdXRFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5iZWZvcmVJbnB1dCwgdG9wTGV2ZWxUYXJnZXRJRCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICBldmVudC5kYXRhID0gY2hhcnM7XG4gIEV2ZW50UHJvcGFnYXRvcnMuYWNjdW11bGF0ZVR3b1BoYXNlRGlzcGF0Y2hlcyhldmVudCk7XG4gIHJldHVybiBldmVudDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gYG9uQmVmb3JlSW5wdXRgIGV2ZW50IHRvIG1hdGNoXG4gKiBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDEzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDEzMTEwNS8jZXZlbnRzLWlucHV0ZXZlbnRzLlxuICpcbiAqIFRoaXMgZXZlbnQgcGx1Z2luIGlzIGJhc2VkIG9uIHRoZSBuYXRpdmUgYHRleHRJbnB1dGAgZXZlbnRcbiAqIGF2YWlsYWJsZSBpbiBDaHJvbWUsIFNhZmFyaSwgT3BlcmEsIGFuZCBJRS4gVGhpcyBldmVudCBmaXJlcyBhZnRlclxuICogYG9uS2V5UHJlc3NgIGFuZCBgb25Db21wb3NpdGlvbkVuZGAsIGJ1dCBiZWZvcmUgYG9uSW5wdXRgLlxuICpcbiAqIGBiZWZvcmVJbnB1dGAgaXMgc3BlYydkIGJ1dCBub3QgaW1wbGVtZW50ZWQgaW4gYW55IGJyb3dzZXJzLCBhbmRcbiAqIHRoZSBgaW5wdXRgIGV2ZW50IGRvZXMgbm90IHByb3ZpZGUgYW55IHVzZWZ1bCBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGhhc1xuICogYWN0dWFsbHkgYmVlbiBhZGRlZCwgY29udHJhcnkgdG8gdGhlIHNwZWMuIFRodXMsIGB0ZXh0SW5wdXRgIGlzIHRoZSBiZXN0XG4gKiBhdmFpbGFibGUgZXZlbnQgdG8gaWRlbnRpZnkgdGhlIGNoYXJhY3RlcnMgdGhhdCBoYXZlIGFjdHVhbGx5IGJlZW4gaW5zZXJ0ZWRcbiAqIGludG8gdGhlIHRhcmdldCBub2RlLlxuICpcbiAqIFRoaXMgcGx1Z2luIGlzIGFsc28gcmVzcG9uc2libGUgZm9yIGVtaXR0aW5nIGBjb21wb3NpdGlvbmAgZXZlbnRzLCB0aHVzXG4gKiBhbGxvd2luZyB1cyB0byBzaGFyZSBjb21wb3NpdGlvbiBmYWxsYmFjayBjb2RlIGZvciBib3RoIGBiZWZvcmVJbnB1dGAgYW5kXG4gKiBgY29tcG9zaXRpb25gIGV2ZW50IHR5cGVzLlxuICovXG52YXIgQmVmb3JlSW5wdXRFdmVudFBsdWdpbiA9IHtcblxuICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBFdmVudENvbnN0YW50c2AuXG4gICAqIEBwYXJhbSB7RE9NRXZlbnRUYXJnZXR9IHRvcExldmVsVGFyZ2V0IFRoZSBsaXN0ZW5pbmcgY29tcG9uZW50IHJvb3Qgbm9kZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVGFyZ2V0SUQgSUQgb2YgYHRvcExldmVsVGFyZ2V0YC5cbiAgICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICAgKiBAcmV0dXJuIHsqfSBBbiBhY2N1bXVsYXRpb24gb2Ygc3ludGhldGljIGV2ZW50cy5cbiAgICogQHNlZSB7RXZlbnRQbHVnaW5IdWIuZXh0cmFjdEV2ZW50c31cbiAgICovXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRvcExldmVsVGFyZ2V0LCB0b3BMZXZlbFRhcmdldElELCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICByZXR1cm4gW2V4dHJhY3RDb21wb3NpdGlvbkV2ZW50KHRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCksIGV4dHJhY3RCZWZvcmVJbnB1dEV2ZW50KHRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCldO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJlZm9yZUlucHV0RXZlbnRQbHVnaW47IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZVxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBQb29sZWRDbGFzcyA9IHJlcXVpcmUoJy4vUG9vbGVkQ2xhc3MnKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xudmFyIGdldFRleHRDb250ZW50QWNjZXNzb3IgPSByZXF1aXJlKCcuL2dldFRleHRDb250ZW50QWNjZXNzb3InKTtcblxuLyoqXG4gKiBUaGlzIGhlbHBlciBjbGFzcyBzdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgdGV4dCBjb250ZW50IG9mIGEgdGFyZ2V0IG5vZGUsXG4gKiBhbGxvd2luZyBjb21wYXJpc29uIG9mIGNvbnRlbnQgYmVmb3JlIGFuZCBhZnRlciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIElkZW50aWZ5IHRoZSBub2RlIHdoZXJlIHNlbGVjdGlvbiBjdXJyZW50bHkgYmVnaW5zLCB0aGVuIG9ic2VydmVcbiAqIGJvdGggaXRzIHRleHQgY29udGVudCBhbmQgaXRzIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIERPTS4gU2luY2UgdGhlXG4gKiBicm93c2VyIG1heSBuYXRpdmVseSByZXBsYWNlIHRoZSB0YXJnZXQgbm9kZSBkdXJpbmcgY29tcG9zaXRpb24sIHdlIGNhblxuICogdXNlIGl0cyBwb3NpdGlvbiB0byBmaW5kIGl0cyByZXBsYWNlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSByb290XG4gKi9cbmZ1bmN0aW9uIEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZShyb290KSB7XG4gIHRoaXMuX3Jvb3QgPSByb290O1xuICB0aGlzLl9zdGFydFRleHQgPSB0aGlzLmdldFRleHQoKTtcbiAgdGhpcy5fZmFsbGJhY2tUZXh0ID0gbnVsbDtcbn1cblxuYXNzaWduKEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZS5wcm90b3R5cGUsIHtcbiAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgIHRoaXMuX3N0YXJ0VGV4dCA9IG51bGw7XG4gICAgdGhpcy5fZmFsbGJhY2tUZXh0ID0gbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGN1cnJlbnQgdGV4dCBvZiBpbnB1dC5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0VGV4dDogZnVuY3Rpb24gKCkge1xuICAgIGlmICgndmFsdWUnIGluIHRoaXMuX3Jvb3QpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb290LnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcm9vdFtnZXRUZXh0Q29udGVudEFjY2Vzc29yKCldO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgdGhlIGRpZmZlcmluZyBzdWJzdHJpbmcgYmV0d2VlbiB0aGUgaW5pdGlhbGx5IHN0b3JlZFxuICAgKiB0ZXh0IGNvbnRlbnQgYW5kIHRoZSBjdXJyZW50IGNvbnRlbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIGdldERhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5fZmFsbGJhY2tUZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5fZmFsbGJhY2tUZXh0O1xuICAgIH1cblxuICAgIHZhciBzdGFydDtcbiAgICB2YXIgc3RhcnRWYWx1ZSA9IHRoaXMuX3N0YXJ0VGV4dDtcbiAgICB2YXIgc3RhcnRMZW5ndGggPSBzdGFydFZhbHVlLmxlbmd0aDtcbiAgICB2YXIgZW5kO1xuICAgIHZhciBlbmRWYWx1ZSA9IHRoaXMuZ2V0VGV4dCgpO1xuICAgIHZhciBlbmRMZW5ndGggPSBlbmRWYWx1ZS5sZW5ndGg7XG5cbiAgICBmb3IgKHN0YXJ0ID0gMDsgc3RhcnQgPCBzdGFydExlbmd0aDsgc3RhcnQrKykge1xuICAgICAgaWYgKHN0YXJ0VmFsdWVbc3RhcnRdICE9PSBlbmRWYWx1ZVtzdGFydF0pIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG1pbkVuZCA9IHN0YXJ0TGVuZ3RoIC0gc3RhcnQ7XG4gICAgZm9yIChlbmQgPSAxOyBlbmQgPD0gbWluRW5kOyBlbmQrKykge1xuICAgICAgaWYgKHN0YXJ0VmFsdWVbc3RhcnRMZW5ndGggLSBlbmRdICE9PSBlbmRWYWx1ZVtlbmRMZW5ndGggLSBlbmRdKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzbGljZVRhaWwgPSBlbmQgPiAxID8gMSAtIGVuZCA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9mYWxsYmFja1RleHQgPSBlbmRWYWx1ZS5zbGljZShzdGFydCwgc2xpY2VUYWlsKTtcbiAgICByZXR1cm4gdGhpcy5fZmFsbGJhY2tUZXh0O1xuICB9XG59KTtcblxuUG9vbGVkQ2xhc3MuYWRkUG9vbGluZ1RvKEZhbGxiYWNrQ29tcG9zaXRpb25TdGF0ZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gRmFsbGJhY2tDb21wb3NpdGlvblN0YXRlOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFN5bnRoZXRpY0V2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNFdmVudCcpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtY29tcG9zaXRpb25ldmVudHNcbiAqL1xudmFyIENvbXBvc2l0aW9uRXZlbnRJbnRlcmZhY2UgPSB7XG4gIGRhdGE6IG51bGxcbn07XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIENvbmZpZ3VyYXRpb24gdXNlZCB0byBkaXNwYXRjaCB0aGlzIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGRpc3BhdGNoTWFya2VyIE1hcmtlciBpZGVudGlmeWluZyB0aGUgZXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQGV4dGVuZHMge1N5bnRoZXRpY1VJRXZlbnR9XG4gKi9cbmZ1bmN0aW9uIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5cblN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50LCBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTeW50aGV0aWNJbnB1dEV2ZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFN5bnRoZXRpY0V2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNFdmVudCcpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAxMzExMDVcbiAqICAgICAgLyNldmVudHMtaW5wdXRldmVudHNcbiAqL1xudmFyIElucHV0RXZlbnRJbnRlcmZhY2UgPSB7XG4gIGRhdGE6IG51bGxcbn07XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIENvbmZpZ3VyYXRpb24gdXNlZCB0byBkaXNwYXRjaCB0aGlzIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGRpc3BhdGNoTWFya2VyIE1hcmtlciBpZGVudGlmeWluZyB0aGUgZXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQGV4dGVuZHMge1N5bnRoZXRpY1VJRXZlbnR9XG4gKi9cbmZ1bmN0aW9uIFN5bnRoZXRpY0lucHV0RXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgU3ludGhldGljRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5cblN5bnRoZXRpY0V2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNJbnB1dEV2ZW50LCBJbnB1dEV2ZW50SW50ZXJmYWNlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNJbnB1dEV2ZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBDaGFuZ2VFdmVudFBsdWdpblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xudmFyIEV2ZW50UGx1Z2luSHViID0gcmVxdWlyZSgnLi9FdmVudFBsdWdpbkh1YicpO1xudmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG52YXIgUmVhY3RVcGRhdGVzID0gcmVxdWlyZSgnLi9SZWFjdFVwZGF0ZXMnKTtcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcblxudmFyIGdldEV2ZW50VGFyZ2V0ID0gcmVxdWlyZSgnLi9nZXRFdmVudFRhcmdldCcpO1xudmFyIGlzRXZlbnRTdXBwb3J0ZWQgPSByZXF1aXJlKCcuL2lzRXZlbnRTdXBwb3J0ZWQnKTtcbnZhciBpc1RleHRJbnB1dEVsZW1lbnQgPSByZXF1aXJlKCcuL2lzVGV4dElucHV0RWxlbWVudCcpO1xudmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcblxudmFyIHRvcExldmVsVHlwZXMgPSBFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzO1xuXG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgY2hhbmdlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25DaGFuZ2U6IG51bGwgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkNoYW5nZUNhcHR1cmU6IG51bGwgfSlcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wQmx1ciwgdG9wTGV2ZWxUeXBlcy50b3BDaGFuZ2UsIHRvcExldmVsVHlwZXMudG9wQ2xpY2ssIHRvcExldmVsVHlwZXMudG9wRm9jdXMsIHRvcExldmVsVHlwZXMudG9wSW5wdXQsIHRvcExldmVsVHlwZXMudG9wS2V5RG93biwgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcCwgdG9wTGV2ZWxUeXBlcy50b3BTZWxlY3Rpb25DaGFuZ2VdXG4gIH1cbn07XG5cbi8qKlxuICogRm9yIElFIHNoaW1zXG4gKi9cbnZhciBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbnZhciBhY3RpdmVFbGVtZW50SUQgPSBudWxsO1xudmFyIGFjdGl2ZUVsZW1lbnRWYWx1ZSA9IG51bGw7XG52YXIgYWN0aXZlRWxlbWVudFZhbHVlUHJvcCA9IG51bGw7XG5cbi8qKlxuICogU0VDVElPTjogaGFuZGxlIGBjaGFuZ2VgIGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHNob3VsZFVzZUNoYW5nZUV2ZW50KGVsZW0pIHtcbiAgdmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBub2RlTmFtZSA9PT0gJ3NlbGVjdCcgfHwgbm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgZWxlbS50eXBlID09PSAnZmlsZSc7XG59XG5cbnZhciBkb2VzQ2hhbmdlRXZlbnRCdWJibGUgPSBmYWxzZTtcbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgLy8gU2VlIGBoYW5kbGVDaGFuZ2VgIGNvbW1lbnQgYmVsb3dcbiAgZG9lc0NoYW5nZUV2ZW50QnViYmxlID0gaXNFdmVudFN1cHBvcnRlZCgnY2hhbmdlJykgJiYgKCEoJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQpIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA+IDgpO1xufVxuXG5mdW5jdGlvbiBtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50KG5hdGl2ZUV2ZW50KSB7XG4gIHZhciBldmVudCA9IFN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLmNoYW5nZSwgYWN0aXZlRWxlbWVudElELCBuYXRpdmVFdmVudCwgZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpKTtcbiAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcblxuICAvLyBJZiBjaGFuZ2UgYW5kIHByb3BlcnR5Y2hhbmdlIGJ1YmJsZWQsIHdlJ2QganVzdCBiaW5kIHRvIGl0IGxpa2UgYWxsIHRoZVxuICAvLyBvdGhlciBldmVudHMgYW5kIGhhdmUgaXQgZ28gdGhyb3VnaCBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuIFNpbmNlIGl0XG4gIC8vIGRvZXNuJ3QsIHdlIG1hbnVhbGx5IGxpc3RlbiBmb3IgdGhlIGV2ZW50cyBhbmQgc28gd2UgaGF2ZSB0byBlbnF1ZXVlIGFuZFxuICAvLyBwcm9jZXNzIHRoZSBhYnN0cmFjdCBldmVudCBtYW51YWxseS5cbiAgLy9cbiAgLy8gQmF0Y2hpbmcgaXMgbmVjZXNzYXJ5IGhlcmUgaW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgYWxsIGV2ZW50IGhhbmRsZXJzIHJ1blxuICAvLyBiZWZvcmUgdGhlIG5leHQgcmVyZW5kZXIgKGluY2x1ZGluZyBldmVudCBoYW5kbGVycyBhdHRhY2hlZCB0byBhbmNlc3RvclxuICAvLyBlbGVtZW50cyBpbnN0ZWFkIG9mIGRpcmVjdGx5IG9uIHRoZSBpbnB1dCkuIFdpdGhvdXQgdGhpcywgY29udHJvbGxlZFxuICAvLyBjb21wb25lbnRzIGRvbid0IHdvcmsgcHJvcGVybHkgaW4gY29uanVuY3Rpb24gd2l0aCBldmVudCBidWJibGluZyBiZWNhdXNlXG4gIC8vIHRoZSBjb21wb25lbnQgaXMgcmVyZW5kZXJlZCBhbmQgdGhlIHZhbHVlIHJldmVydGVkIGJlZm9yZSBhbGwgdGhlIGV2ZW50XG4gIC8vIGhhbmRsZXJzIGNhbiBydW4uIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzcwOC5cbiAgUmVhY3RVcGRhdGVzLmJhdGNoZWRVcGRhdGVzKHJ1bkV2ZW50SW5CYXRjaCwgZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBydW5FdmVudEluQmF0Y2goZXZlbnQpIHtcbiAgRXZlbnRQbHVnaW5IdWIuZW5xdWV1ZUV2ZW50cyhldmVudCk7XG4gIEV2ZW50UGx1Z2luSHViLnByb2Nlc3NFdmVudFF1ZXVlKGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gc3RhcnRXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KHRhcmdldCwgdGFyZ2V0SUQpIHtcbiAgYWN0aXZlRWxlbWVudCA9IHRhcmdldDtcbiAgYWN0aXZlRWxlbWVudElEID0gdGFyZ2V0SUQ7XG4gIGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uY2hhbmdlJywgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudCk7XG59XG5cbmZ1bmN0aW9uIHN0b3BXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KCkge1xuICBpZiAoIWFjdGl2ZUVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYWN0aXZlRWxlbWVudC5kZXRhY2hFdmVudCgnb25jaGFuZ2UnLCBtYW51YWxEaXNwYXRjaENoYW5nZUV2ZW50KTtcbiAgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gIGFjdGl2ZUVsZW1lbnRJRCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGdldFRhcmdldElERm9yQ2hhbmdlRXZlbnQodG9wTGV2ZWxUeXBlLCB0b3BMZXZlbFRhcmdldCwgdG9wTGV2ZWxUYXJnZXRJRCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcENoYW5nZSkge1xuICAgIHJldHVybiB0b3BMZXZlbFRhcmdldElEO1xuICB9XG59XG5mdW5jdGlvbiBoYW5kbGVFdmVudHNGb3JDaGFuZ2VFdmVudElFOCh0b3BMZXZlbFR5cGUsIHRvcExldmVsVGFyZ2V0LCB0b3BMZXZlbFRhcmdldElEKSB7XG4gIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wRm9jdXMpIHtcbiAgICAvLyBzdG9wV2F0Y2hpbmcoKSBzaG91bGQgYmUgYSBub29wIGhlcmUgYnV0IHdlIGNhbGwgaXQganVzdCBpbiBjYXNlIHdlXG4gICAgLy8gbWlzc2VkIGEgYmx1ciBldmVudCBzb21laG93LlxuICAgIHN0b3BXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KCk7XG4gICAgc3RhcnRXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KHRvcExldmVsVGFyZ2V0LCB0b3BMZXZlbFRhcmdldElEKTtcbiAgfSBlbHNlIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wQmx1cikge1xuICAgIHN0b3BXYXRjaGluZ0ZvckNoYW5nZUV2ZW50SUU4KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTRUNUSU9OOiBoYW5kbGUgYGlucHV0YCBldmVudFxuICovXG52YXIgaXNJbnB1dEV2ZW50U3VwcG9ydGVkID0gZmFsc2U7XG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIC8vIElFOSBjbGFpbXMgdG8gc3VwcG9ydCB0aGUgaW5wdXQgZXZlbnQgYnV0IGZhaWxzIHRvIHRyaWdnZXIgaXQgd2hlblxuICAvLyBkZWxldGluZyB0ZXh0LCBzbyB3ZSBpZ25vcmUgaXRzIGlucHV0IGV2ZW50c1xuICBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSBpc0V2ZW50U3VwcG9ydGVkKCdpbnB1dCcpICYmICghKCdkb2N1bWVudE1vZGUnIGluIGRvY3VtZW50KSB8fCBkb2N1bWVudC5kb2N1bWVudE1vZGUgPiA5KTtcbn1cblxuLyoqXG4gKiAoRm9yIG9sZCBJRS4pIFJlcGxhY2VtZW50IGdldHRlci9zZXR0ZXIgZm9yIHRoZSBgdmFsdWVgIHByb3BlcnR5IHRoYXQgZ2V0c1xuICogc2V0IG9uIHRoZSBhY3RpdmUgZWxlbWVudC5cbiAqL1xudmFyIG5ld1ZhbHVlUHJvcCA9IHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnRWYWx1ZVByb3AuZ2V0LmNhbGwodGhpcyk7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgIC8vIENhc3QgdG8gYSBzdHJpbmcgc28gd2UgY2FuIGRvIGVxdWFsaXR5IGNoZWNrcy5cbiAgICBhY3RpdmVFbGVtZW50VmFsdWUgPSAnJyArIHZhbDtcbiAgICBhY3RpdmVFbGVtZW50VmFsdWVQcm9wLnNldC5jYWxsKHRoaXMsIHZhbCk7XG4gIH1cbn07XG5cbi8qKlxuICogKEZvciBvbGQgSUUuKSBTdGFydHMgdHJhY2tpbmcgcHJvcGVydHljaGFuZ2UgZXZlbnRzIG9uIHRoZSBwYXNzZWQtaW4gZWxlbWVudFxuICogYW5kIG92ZXJyaWRlIHRoZSB2YWx1ZSBwcm9wZXJ0eSBzbyB0aGF0IHdlIGNhbiBkaXN0aW5ndWlzaCB1c2VyIGV2ZW50cyBmcm9tXG4gKiB2YWx1ZSBjaGFuZ2VzIGluIEpTLlxuICovXG5mdW5jdGlvbiBzdGFydFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UodGFyZ2V0LCB0YXJnZXRJRCkge1xuICBhY3RpdmVFbGVtZW50ID0gdGFyZ2V0O1xuICBhY3RpdmVFbGVtZW50SUQgPSB0YXJnZXRJRDtcbiAgYWN0aXZlRWxlbWVudFZhbHVlID0gdGFyZ2V0LnZhbHVlO1xuICBhY3RpdmVFbGVtZW50VmFsdWVQcm9wID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQuY29uc3RydWN0b3IucHJvdG90eXBlLCAndmFsdWUnKTtcblxuICAvLyBOb3QgZ3VhcmRlZCBpbiBhIGNhbkRlZmluZVByb3BlcnR5IGNoZWNrOiBJRTggc3VwcG9ydHMgZGVmaW5lUHJvcGVydHkgb25seVxuICAvLyBvbiBET00gZWxlbWVudHNcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFjdGl2ZUVsZW1lbnQsICd2YWx1ZScsIG5ld1ZhbHVlUHJvcCk7XG4gIGFjdGl2ZUVsZW1lbnQuYXR0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG59XG5cbi8qKlxuICogKEZvciBvbGQgSUUuKSBSZW1vdmVzIHRoZSBldmVudCBsaXN0ZW5lcnMgZnJvbSB0aGUgY3VycmVudGx5LXRyYWNrZWQgZWxlbWVudCxcbiAqIGlmIGFueSBleGlzdHMuXG4gKi9cbmZ1bmN0aW9uIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCkge1xuICBpZiAoIWFjdGl2ZUVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBkZWxldGUgcmVzdG9yZXMgdGhlIG9yaWdpbmFsIHByb3BlcnR5IGRlZmluaXRpb25cbiAgZGVsZXRlIGFjdGl2ZUVsZW1lbnQudmFsdWU7XG4gIGFjdGl2ZUVsZW1lbnQuZGV0YWNoRXZlbnQoJ29ucHJvcGVydHljaGFuZ2UnLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSk7XG5cbiAgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gIGFjdGl2ZUVsZW1lbnRJRCA9IG51bGw7XG4gIGFjdGl2ZUVsZW1lbnRWYWx1ZSA9IG51bGw7XG4gIGFjdGl2ZUVsZW1lbnRWYWx1ZVByb3AgPSBudWxsO1xufVxuXG4vKipcbiAqIChGb3Igb2xkIElFLikgSGFuZGxlcyBhIHByb3BlcnR5Y2hhbmdlIGV2ZW50LCBzZW5kaW5nIGEgYGNoYW5nZWAgZXZlbnQgaWZcbiAqIHRoZSB2YWx1ZSBvZiB0aGUgYWN0aXZlIGVsZW1lbnQgaGFzIGNoYW5nZWQuXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZVByb3BlcnR5Q2hhbmdlKG5hdGl2ZUV2ZW50KSB7XG4gIGlmIChuYXRpdmVFdmVudC5wcm9wZXJ0eU5hbWUgIT09ICd2YWx1ZScpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHZhbHVlID0gbmF0aXZlRXZlbnQuc3JjRWxlbWVudC52YWx1ZTtcbiAgaWYgKHZhbHVlID09PSBhY3RpdmVFbGVtZW50VmFsdWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYWN0aXZlRWxlbWVudFZhbHVlID0gdmFsdWU7XG5cbiAgbWFudWFsRGlzcGF0Y2hDaGFuZ2VFdmVudChuYXRpdmVFdmVudCk7XG59XG5cbi8qKlxuICogSWYgYSBgY2hhbmdlYCBldmVudCBzaG91bGQgYmUgZmlyZWQsIHJldHVybnMgdGhlIHRhcmdldCdzIElELlxuICovXG5mdW5jdGlvbiBnZXRUYXJnZXRJREZvcklucHV0RXZlbnQodG9wTGV2ZWxUeXBlLCB0b3BMZXZlbFRhcmdldCwgdG9wTGV2ZWxUYXJnZXRJRCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcElucHV0KSB7XG4gICAgLy8gSW4gbW9kZXJuIGJyb3dzZXJzIChpLmUuLCBub3QgSUU4IG9yIElFOSksIHRoZSBpbnB1dCBldmVudCBpcyBleGFjdGx5XG4gICAgLy8gd2hhdCB3ZSB3YW50IHNvIGZhbGwgdGhyb3VnaCBoZXJlIGFuZCB0cmlnZ2VyIGFuIGFic3RyYWN0IGV2ZW50XG4gICAgcmV0dXJuIHRvcExldmVsVGFyZ2V0SUQ7XG4gIH1cbn1cblxuLy8gRm9yIElFOCBhbmQgSUU5LlxuZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudElFKHRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BGb2N1cykge1xuICAgIC8vIEluIElFOCwgd2UgY2FuIGNhcHR1cmUgYWxtb3N0IGFsbCAudmFsdWUgY2hhbmdlcyBieSBhZGRpbmcgYVxuICAgIC8vIHByb3BlcnR5Y2hhbmdlIGhhbmRsZXIgYW5kIGxvb2tpbmcgZm9yIGV2ZW50cyB3aXRoIHByb3BlcnR5TmFtZVxuICAgIC8vIGVxdWFsIHRvICd2YWx1ZSdcbiAgICAvLyBJbiBJRTksIHByb3BlcnR5Y2hhbmdlIGZpcmVzIGZvciBtb3N0IGlucHV0IGV2ZW50cyBidXQgaXMgYnVnZ3kgYW5kXG4gICAgLy8gZG9lc24ndCBmaXJlIHdoZW4gdGV4dCBpcyBkZWxldGVkLCBidXQgY29udmVuaWVudGx5LCBzZWxlY3Rpb25jaGFuZ2VcbiAgICAvLyBhcHBlYXJzIHRvIGZpcmUgaW4gYWxsIG9mIHRoZSByZW1haW5pbmcgY2FzZXMgc28gd2UgY2F0Y2ggdGhvc2UgYW5kXG4gICAgLy8gZm9yd2FyZCB0aGUgZXZlbnQgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkXG4gICAgLy8gSW4gZWl0aGVyIGNhc2UsIHdlIGRvbid0IHdhbnQgdG8gY2FsbCB0aGUgZXZlbnQgaGFuZGxlciBpZiB0aGUgdmFsdWVcbiAgICAvLyBpcyBjaGFuZ2VkIGZyb20gSlMgc28gd2UgcmVkZWZpbmUgYSBzZXR0ZXIgZm9yIGAudmFsdWVgIHRoYXQgdXBkYXRlc1xuICAgIC8vIG91ciBhY3RpdmVFbGVtZW50VmFsdWUgdmFyaWFibGUsIGFsbG93aW5nIHVzIHRvIGlnbm9yZSB0aG9zZSBjaGFuZ2VzXG4gICAgLy9cbiAgICAvLyBzdG9wV2F0Y2hpbmcoKSBzaG91bGQgYmUgYSBub29wIGhlcmUgYnV0IHdlIGNhbGwgaXQganVzdCBpbiBjYXNlIHdlXG4gICAgLy8gbWlzc2VkIGEgYmx1ciBldmVudCBzb21laG93LlxuICAgIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gICAgc3RhcnRXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKHRvcExldmVsVGFyZ2V0LCB0b3BMZXZlbFRhcmdldElEKTtcbiAgfSBlbHNlIGlmICh0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wQmx1cikge1xuICAgIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gIH1cbn1cblxuLy8gRm9yIElFOCBhbmQgSUU5LlxuZnVuY3Rpb24gZ2V0VGFyZ2V0SURGb3JJbnB1dEV2ZW50SUUodG9wTGV2ZWxUeXBlLCB0b3BMZXZlbFRhcmdldCwgdG9wTGV2ZWxUYXJnZXRJRCkge1xuICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcFNlbGVjdGlvbkNoYW5nZSB8fCB0b3BMZXZlbFR5cGUgPT09IHRvcExldmVsVHlwZXMudG9wS2V5VXAgfHwgdG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcEtleURvd24pIHtcbiAgICAvLyBPbiB0aGUgc2VsZWN0aW9uY2hhbmdlIGV2ZW50LCB0aGUgdGFyZ2V0IGlzIGp1c3QgZG9jdW1lbnQgd2hpY2ggaXNuJ3RcbiAgICAvLyBoZWxwZnVsIGZvciB1cyBzbyBqdXN0IGNoZWNrIGFjdGl2ZUVsZW1lbnQgaW5zdGVhZC5cbiAgICAvL1xuICAgIC8vIDk5JSBvZiB0aGUgdGltZSwga2V5ZG93biBhbmQga2V5dXAgYXJlbid0IG5lY2Vzc2FyeS4gSUU4IGZhaWxzIHRvIGZpcmVcbiAgICAvLyBwcm9wZXJ0eWNoYW5nZSBvbiB0aGUgZmlyc3QgaW5wdXQgZXZlbnQgYWZ0ZXIgc2V0dGluZyBgdmFsdWVgIGZyb20gYVxuICAgIC8vIHNjcmlwdCBhbmQgZmlyZXMgb25seSBrZXlkb3duLCBrZXlwcmVzcywga2V5dXAuIENhdGNoaW5nIGtleXVwIHVzdWFsbHlcbiAgICAvLyBnZXRzIGl0IGFuZCBjYXRjaGluZyBrZXlkb3duIGxldHMgdXMgZmlyZSBhbiBldmVudCBmb3IgdGhlIGZpcnN0XG4gICAgLy8ga2V5c3Ryb2tlIGlmIHVzZXIgZG9lcyBhIGtleSByZXBlYXQgKGl0J2xsIGJlIGEgbGl0dGxlIGRlbGF5ZWQ6IHJpZ2h0XG4gICAgLy8gYmVmb3JlIHRoZSBzZWNvbmQga2V5c3Ryb2tlKS4gT3RoZXIgaW5wdXQgbWV0aG9kcyAoZS5nLiwgcGFzdGUpIHNlZW0gdG9cbiAgICAvLyBmaXJlIHNlbGVjdGlvbmNoYW5nZSBub3JtYWxseS5cbiAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50LnZhbHVlICE9PSBhY3RpdmVFbGVtZW50VmFsdWUpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnRWYWx1ZSA9IGFjdGl2ZUVsZW1lbnQudmFsdWU7XG4gICAgICByZXR1cm4gYWN0aXZlRWxlbWVudElEO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFNFQ1RJT046IGhhbmRsZSBgY2xpY2tgIGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHNob3VsZFVzZUNsaWNrRXZlbnQoZWxlbSkge1xuICAvLyBVc2UgdGhlIGBjbGlja2AgZXZlbnQgdG8gZGV0ZWN0IGNoYW5nZXMgdG8gY2hlY2tib3ggYW5kIHJhZGlvIGlucHV0cy5cbiAgLy8gVGhpcyBhcHByb2FjaCB3b3JrcyBhY3Jvc3MgYWxsIGJyb3dzZXJzLCB3aGVyZWFzIGBjaGFuZ2VgIGRvZXMgbm90IGZpcmVcbiAgLy8gdW50aWwgYGJsdXJgIGluIElFOC5cbiAgcmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnICYmIChlbGVtLnR5cGUgPT09ICdjaGVja2JveCcgfHwgZWxlbS50eXBlID09PSAncmFkaW8nKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0SURGb3JDbGlja0V2ZW50KHRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQpIHtcbiAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BDbGljaykge1xuICAgIHJldHVybiB0b3BMZXZlbFRhcmdldElEO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBwbHVnaW4gY3JlYXRlcyBhbiBgb25DaGFuZ2VgIGV2ZW50IHRoYXQgbm9ybWFsaXplcyBjaGFuZ2UgZXZlbnRzXG4gKiBhY3Jvc3MgZm9ybSBlbGVtZW50cy4gVGhpcyBldmVudCBmaXJlcyBhdCBhIHRpbWUgd2hlbiBpdCdzIHBvc3NpYmxlIHRvXG4gKiBjaGFuZ2UgdGhlIGVsZW1lbnQncyB2YWx1ZSB3aXRob3V0IHNlZWluZyBhIGZsaWNrZXIuXG4gKlxuICogU3VwcG9ydGVkIGVsZW1lbnRzIGFyZTpcbiAqIC0gaW5wdXQgKHNlZSBgaXNUZXh0SW5wdXRFbGVtZW50YClcbiAqIC0gdGV4dGFyZWFcbiAqIC0gc2VsZWN0XG4gKi9cbnZhciBDaGFuZ2VFdmVudFBsdWdpbiA9IHtcblxuICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBFdmVudENvbnN0YW50c2AuXG4gICAqIEBwYXJhbSB7RE9NRXZlbnRUYXJnZXR9IHRvcExldmVsVGFyZ2V0IFRoZSBsaXN0ZW5pbmcgY29tcG9uZW50IHJvb3Qgbm9kZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVGFyZ2V0SUQgSUQgb2YgYHRvcExldmVsVGFyZ2V0YC5cbiAgICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICAgKiBAcmV0dXJuIHsqfSBBbiBhY2N1bXVsYXRpb24gb2Ygc3ludGhldGljIGV2ZW50cy5cbiAgICogQHNlZSB7RXZlbnRQbHVnaW5IdWIuZXh0cmFjdEV2ZW50c31cbiAgICovXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRvcExldmVsVGFyZ2V0LCB0b3BMZXZlbFRhcmdldElELCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcblxuICAgIHZhciBnZXRUYXJnZXRJREZ1bmMsIGhhbmRsZUV2ZW50RnVuYztcbiAgICBpZiAoc2hvdWxkVXNlQ2hhbmdlRXZlbnQodG9wTGV2ZWxUYXJnZXQpKSB7XG4gICAgICBpZiAoZG9lc0NoYW5nZUV2ZW50QnViYmxlKSB7XG4gICAgICAgIGdldFRhcmdldElERnVuYyA9IGdldFRhcmdldElERm9yQ2hhbmdlRXZlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYW5kbGVFdmVudEZ1bmMgPSBoYW5kbGVFdmVudHNGb3JDaGFuZ2VFdmVudElFODtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzVGV4dElucHV0RWxlbWVudCh0b3BMZXZlbFRhcmdldCkpIHtcbiAgICAgIGlmIChpc0lucHV0RXZlbnRTdXBwb3J0ZWQpIHtcbiAgICAgICAgZ2V0VGFyZ2V0SURGdW5jID0gZ2V0VGFyZ2V0SURGb3JJbnB1dEV2ZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0VGFyZ2V0SURGdW5jID0gZ2V0VGFyZ2V0SURGb3JJbnB1dEV2ZW50SUU7XG4gICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IGhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRJRTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNob3VsZFVzZUNsaWNrRXZlbnQodG9wTGV2ZWxUYXJnZXQpKSB7XG4gICAgICBnZXRUYXJnZXRJREZ1bmMgPSBnZXRUYXJnZXRJREZvckNsaWNrRXZlbnQ7XG4gICAgfVxuXG4gICAgaWYgKGdldFRhcmdldElERnVuYykge1xuICAgICAgdmFyIHRhcmdldElEID0gZ2V0VGFyZ2V0SURGdW5jKHRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQpO1xuICAgICAgaWYgKHRhcmdldElEKSB7XG4gICAgICAgIHZhciBldmVudCA9IFN5bnRoZXRpY0V2ZW50LmdldFBvb2xlZChldmVudFR5cGVzLmNoYW5nZSwgdGFyZ2V0SUQsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgICAgIGV2ZW50LnR5cGUgPSAnY2hhbmdlJztcbiAgICAgICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYW5kbGVFdmVudEZ1bmMpIHtcbiAgICAgIGhhbmRsZUV2ZW50RnVuYyh0b3BMZXZlbFR5cGUsIHRvcExldmVsVGFyZ2V0LCB0b3BMZXZlbFRhcmdldElEKTtcbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDaGFuZ2VFdmVudFBsdWdpbjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgQ2xpZW50UmVhY3RSb290SW5kZXhcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbmV4dFJlYWN0Um9vdEluZGV4ID0gMDtcblxudmFyIENsaWVudFJlYWN0Um9vdEluZGV4ID0ge1xuICBjcmVhdGVSZWFjdFJvb3RJbmRleDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXh0UmVhY3RSb290SW5kZXgrKztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDbGllbnRSZWFjdFJvb3RJbmRleDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRGVmYXVsdEV2ZW50UGx1Z2luT3JkZXJcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBrZXlPZiA9IHJlcXVpcmUoJ2ZianMvbGliL2tleU9mJyk7XG5cbi8qKlxuICogTW9kdWxlIHRoYXQgaXMgaW5qZWN0YWJsZSBpbnRvIGBFdmVudFBsdWdpbkh1YmAsIHRoYXQgc3BlY2lmaWVzIGFcbiAqIGRldGVybWluaXN0aWMgb3JkZXJpbmcgb2YgYEV2ZW50UGx1Z2luYHMuIEEgY29udmVuaWVudCB3YXkgdG8gcmVhc29uIGFib3V0XG4gKiBwbHVnaW5zLCB3aXRob3V0IGhhdmluZyB0byBwYWNrYWdlIGV2ZXJ5IG9uZSBvZiB0aGVtLiBUaGlzIGlzIGJldHRlciB0aGFuXG4gKiBoYXZpbmcgcGx1Z2lucyBiZSBvcmRlcmVkIGluIHRoZSBzYW1lIG9yZGVyIHRoYXQgdGhleSBhcmUgaW5qZWN0ZWQgYmVjYXVzZVxuICogdGhhdCBvcmRlcmluZyB3b3VsZCBiZSBpbmZsdWVuY2VkIGJ5IHRoZSBwYWNrYWdpbmcgb3JkZXIuXG4gKiBgUmVzcG9uZGVyRXZlbnRQbHVnaW5gIG11c3Qgb2NjdXIgYmVmb3JlIGBTaW1wbGVFdmVudFBsdWdpbmAgc28gdGhhdFxuICogcHJldmVudGluZyBkZWZhdWx0IG9uIGV2ZW50cyBpcyBjb252ZW5pZW50IGluIGBTaW1wbGVFdmVudFBsdWdpbmAgaGFuZGxlcnMuXG4gKi9cbnZhciBEZWZhdWx0RXZlbnRQbHVnaW5PcmRlciA9IFtrZXlPZih7IFJlc3BvbmRlckV2ZW50UGx1Z2luOiBudWxsIH0pLCBrZXlPZih7IFNpbXBsZUV2ZW50UGx1Z2luOiBudWxsIH0pLCBrZXlPZih7IFRhcEV2ZW50UGx1Z2luOiBudWxsIH0pLCBrZXlPZih7IEVudGVyTGVhdmVFdmVudFBsdWdpbjogbnVsbCB9KSwga2V5T2YoeyBDaGFuZ2VFdmVudFBsdWdpbjogbnVsbCB9KSwga2V5T2YoeyBTZWxlY3RFdmVudFBsdWdpbjogbnVsbCB9KSwga2V5T2YoeyBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luOiBudWxsIH0pXTtcblxubW9kdWxlLmV4cG9ydHMgPSBEZWZhdWx0RXZlbnRQbHVnaW5PcmRlcjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xudmFyIEV2ZW50UHJvcGFnYXRvcnMgPSByZXF1aXJlKCcuL0V2ZW50UHJvcGFnYXRvcnMnKTtcbnZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNNb3VzZUV2ZW50Jyk7XG5cbnZhciBSZWFjdE1vdW50ID0gcmVxdWlyZSgnLi9SZWFjdE1vdW50Jyk7XG52YXIga2V5T2YgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlPZicpO1xuXG52YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG52YXIgZ2V0Rmlyc3RSZWFjdERPTSA9IFJlYWN0TW91bnQuZ2V0Rmlyc3RSZWFjdERPTTtcblxudmFyIGV2ZW50VHlwZXMgPSB7XG4gIG1vdXNlRW50ZXI6IHtcbiAgICByZWdpc3RyYXRpb25OYW1lOiBrZXlPZih7IG9uTW91c2VFbnRlcjogbnVsbCB9KSxcbiAgICBkZXBlbmRlbmNpZXM6IFt0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0LCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3Zlcl1cbiAgfSxcbiAgbW91c2VMZWF2ZToge1xuICAgIHJlZ2lzdHJhdGlvbk5hbWU6IGtleU9mKHsgb25Nb3VzZUxlYXZlOiBudWxsIH0pLFxuICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wTW91c2VPdXQsIHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyXVxuICB9XG59O1xuXG52YXIgZXh0cmFjdGVkRXZlbnRzID0gW251bGwsIG51bGxdO1xuXG52YXIgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luID0ge1xuXG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG5cbiAgLyoqXG4gICAqIEZvciBhbG1vc3QgZXZlcnkgaW50ZXJhY3Rpb24gd2UgY2FyZSBhYm91dCwgdGhlcmUgd2lsbCBiZSBib3RoIGEgdG9wLWxldmVsXG4gICAqIGBtb3VzZW92ZXJgIGFuZCBgbW91c2VvdXRgIGV2ZW50IHRoYXQgb2NjdXJzLiBPbmx5IHVzZSBgbW91c2VvdXRgIHNvIHRoYXRcbiAgICogd2UgZG8gbm90IGV4dHJhY3QgZHVwbGljYXRlIGV2ZW50cy4gSG93ZXZlciwgbW92aW5nIHRoZSBtb3VzZSBpbnRvIHRoZVxuICAgKiBicm93c2VyIGZyb20gb3V0c2lkZSB3aWxsIG5vdCBmaXJlIGEgYG1vdXNlb3V0YCBldmVudC4gSW4gdGhpcyBjYXNlLCB3ZSB1c2VcbiAgICogdGhlIGBtb3VzZW92ZXJgIHRvcC1sZXZlbCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVHlwZSBSZWNvcmQgZnJvbSBgRXZlbnRDb25zdGFudHNgLlxuICAgKiBAcGFyYW0ge0RPTUV2ZW50VGFyZ2V0fSB0b3BMZXZlbFRhcmdldCBUaGUgbGlzdGVuaW5nIGNvbXBvbmVudCByb290IG5vZGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFRhcmdldElEIElEIG9mIGB0b3BMZXZlbFRhcmdldGAuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAgICogQHJldHVybiB7Kn0gQW4gYWNjdW11bGF0aW9uIG9mIHN5bnRoZXRpYyBldmVudHMuXG4gICAqIEBzZWUge0V2ZW50UGx1Z2luSHViLmV4dHJhY3RFdmVudHN9XG4gICAqL1xuICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCB0b3BMZXZlbFRhcmdldCwgdG9wTGV2ZWxUYXJnZXRJRCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gICAgaWYgKHRvcExldmVsVHlwZSA9PT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU92ZXIgJiYgKG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQuZnJvbUVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRvcExldmVsVHlwZSAhPT0gdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU91dCAmJiB0b3BMZXZlbFR5cGUgIT09IHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyKSB7XG4gICAgICAvLyBNdXN0IG5vdCBiZSBhIG1vdXNlIGluIG9yIG1vdXNlIG91dCAtIGlnbm9yaW5nLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHdpbjtcbiAgICBpZiAodG9wTGV2ZWxUYXJnZXQud2luZG93ID09PSB0b3BMZXZlbFRhcmdldCkge1xuICAgICAgLy8gYHRvcExldmVsVGFyZ2V0YCBpcyBwcm9iYWJseSBhIHdpbmRvdyBvYmplY3QuXG4gICAgICB3aW4gPSB0b3BMZXZlbFRhcmdldDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETzogRmlndXJlIG91dCB3aHkgYG93bmVyRG9jdW1lbnRgIGlzIHNvbWV0aW1lcyB1bmRlZmluZWQgaW4gSUU4LlxuICAgICAgdmFyIGRvYyA9IHRvcExldmVsVGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG4gICAgICBpZiAoZG9jKSB7XG4gICAgICAgIHdpbiA9IGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luID0gd2luZG93O1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBmcm9tO1xuICAgIHZhciB0bztcbiAgICB2YXIgZnJvbUlEID0gJyc7XG4gICAgdmFyIHRvSUQgPSAnJztcbiAgICBpZiAodG9wTGV2ZWxUeXBlID09PSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlT3V0KSB7XG4gICAgICBmcm9tID0gdG9wTGV2ZWxUYXJnZXQ7XG4gICAgICBmcm9tSUQgPSB0b3BMZXZlbFRhcmdldElEO1xuICAgICAgdG8gPSBnZXRGaXJzdFJlYWN0RE9NKG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQudG9FbGVtZW50KTtcbiAgICAgIGlmICh0bykge1xuICAgICAgICB0b0lEID0gUmVhY3RNb3VudC5nZXRJRCh0byk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0byA9IHdpbjtcbiAgICAgIH1cbiAgICAgIHRvID0gdG8gfHwgd2luO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcm9tID0gd2luO1xuICAgICAgdG8gPSB0b3BMZXZlbFRhcmdldDtcbiAgICAgIHRvSUQgPSB0b3BMZXZlbFRhcmdldElEO1xuICAgIH1cblxuICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgLy8gTm90aGluZyBwZXJ0YWlucyB0byBvdXIgbWFuYWdlZCBjb21wb25lbnRzLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGxlYXZlID0gU3ludGhldGljTW91c2VFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5tb3VzZUxlYXZlLCBmcm9tSUQsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgbGVhdmUudHlwZSA9ICdtb3VzZWxlYXZlJztcbiAgICBsZWF2ZS50YXJnZXQgPSBmcm9tO1xuICAgIGxlYXZlLnJlbGF0ZWRUYXJnZXQgPSB0bztcblxuICAgIHZhciBlbnRlciA9IFN5bnRoZXRpY01vdXNlRXZlbnQuZ2V0UG9vbGVkKGV2ZW50VHlwZXMubW91c2VFbnRlciwgdG9JRCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbiAgICBlbnRlci50eXBlID0gJ21vdXNlZW50ZXInO1xuICAgIGVudGVyLnRhcmdldCA9IHRvO1xuICAgIGVudGVyLnJlbGF0ZWRUYXJnZXQgPSBmcm9tO1xuXG4gICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlRW50ZXJMZWF2ZURpc3BhdGNoZXMobGVhdmUsIGVudGVyLCBmcm9tSUQsIHRvSUQpO1xuXG4gICAgZXh0cmFjdGVkRXZlbnRzWzBdID0gbGVhdmU7XG4gICAgZXh0cmFjdGVkRXZlbnRzWzFdID0gZW50ZXI7XG5cbiAgICByZXR1cm4gZXh0cmFjdGVkRXZlbnRzO1xuICB9XG5cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBIVE1MRE9NUHJvcGVydHlDb25maWdcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBET01Qcm9wZXJ0eSA9IHJlcXVpcmUoJy4vRE9NUHJvcGVydHknKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG5cbnZhciBNVVNUX1VTRV9BVFRSSUJVVEUgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uTVVTVF9VU0VfQVRUUklCVVRFO1xudmFyIE1VU1RfVVNFX1BST1BFUlRZID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLk1VU1RfVVNFX1BST1BFUlRZO1xudmFyIEhBU19CT09MRUFOX1ZBTFVFID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19CT09MRUFOX1ZBTFVFO1xudmFyIEhBU19TSURFX0VGRkVDVFMgPSBET01Qcm9wZXJ0eS5pbmplY3Rpb24uSEFTX1NJREVfRUZGRUNUUztcbnZhciBIQVNfTlVNRVJJQ19WQUxVRSA9IERPTVByb3BlcnR5LmluamVjdGlvbi5IQVNfTlVNRVJJQ19WQUxVRTtcbnZhciBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSA9IERPTVByb3BlcnR5LmluamVjdGlvbi5IQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRTtcbnZhciBIQVNfT1ZFUkxPQURFRF9CT09MRUFOX1ZBTFVFID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLkhBU19PVkVSTE9BREVEX0JPT0xFQU5fVkFMVUU7XG5cbnZhciBoYXNTVkc7XG5pZiAoRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIHZhciBpbXBsZW1lbnRhdGlvbiA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uO1xuICBoYXNTVkcgPSBpbXBsZW1lbnRhdGlvbiAmJiBpbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlICYmIGltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoJ2h0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjQmFzaWNTdHJ1Y3R1cmUnLCAnMS4xJyk7XG59XG5cbnZhciBIVE1MRE9NUHJvcGVydHlDb25maWcgPSB7XG4gIGlzQ3VzdG9tQXR0cmlidXRlOiBSZWdFeHAucHJvdG90eXBlLnRlc3QuYmluZCgvXihkYXRhfGFyaWEpLVthLXpfXVthLXpcXGRfLlxcLV0qJC8pLFxuICBQcm9wZXJ0aWVzOiB7XG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgUHJvcGVydGllc1xuICAgICAqL1xuICAgIGFjY2VwdDogbnVsbCxcbiAgICBhY2NlcHRDaGFyc2V0OiBudWxsLFxuICAgIGFjY2Vzc0tleTogbnVsbCxcbiAgICBhY3Rpb246IG51bGwsXG4gICAgYWxsb3dGdWxsU2NyZWVuOiBNVVNUX1VTRV9BVFRSSUJVVEUgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBhbGxvd1RyYW5zcGFyZW5jeTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGFsdDogbnVsbCxcbiAgICBhc3luYzogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgYXV0b0NvbXBsZXRlOiBudWxsLFxuICAgIC8vIGF1dG9Gb2N1cyBpcyBwb2x5ZmlsbGVkL25vcm1hbGl6ZWQgYnkgQXV0b0ZvY3VzVXRpbHNcbiAgICAvLyBhdXRvRm9jdXM6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGF1dG9QbGF5OiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBjYXB0dXJlOiBNVVNUX1VTRV9BVFRSSUJVVEUgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBjZWxsUGFkZGluZzogbnVsbCxcbiAgICBjZWxsU3BhY2luZzogbnVsbCxcbiAgICBjaGFyU2V0OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgY2hhbGxlbmdlOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgY2hlY2tlZDogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBjbGFzc0lEOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgLy8gVG8gc2V0IGNsYXNzTmFtZSBvbiBTVkcgZWxlbWVudHMsIGl0J3MgbmVjZXNzYXJ5IHRvIHVzZSAuc2V0QXR0cmlidXRlO1xuICAgIC8vIHRoaXMgd29ya3Mgb24gSFRNTCBlbGVtZW50cyB0b28gaW4gYWxsIGJyb3dzZXJzIGV4Y2VwdCBJRTguIENvbnZlbmllbnRseSxcbiAgICAvLyBJRTggZG9lc24ndCBzdXBwb3J0IFNWRyBhbmQgc28gd2UgY2FuIHNpbXBseSB1c2UgdGhlIGF0dHJpYnV0ZSBpblxuICAgIC8vIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBTVkcgYW5kIHRoZSBwcm9wZXJ0eSBpbiBicm93c2VycyB0aGF0IGRvbid0LFxuICAgIC8vIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgZWxlbWVudCBpcyBIVE1MIG9yIFNWRy5cbiAgICBjbGFzc05hbWU6IGhhc1NWRyA/IE1VU1RfVVNFX0FUVFJJQlVURSA6IE1VU1RfVVNFX1BST1BFUlRZLFxuICAgIGNvbHM6IE1VU1RfVVNFX0FUVFJJQlVURSB8IEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFLFxuICAgIGNvbFNwYW46IG51bGwsXG4gICAgY29udGVudDogbnVsbCxcbiAgICBjb250ZW50RWRpdGFibGU6IG51bGwsXG4gICAgY29udGV4dE1lbnU6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBjb250cm9sczogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBjb29yZHM6IG51bGwsXG4gICAgY3Jvc3NPcmlnaW46IG51bGwsXG4gICAgZGF0YTogbnVsbCwgLy8gRm9yIGA8b2JqZWN0IC8+YCBhY3RzIGFzIGBzcmNgLlxuICAgIGRhdGVUaW1lOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgJ2RlZmF1bHQnOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBkZWZlcjogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgZGlyOiBudWxsLFxuICAgIGRpc2FibGVkOiBNVVNUX1VTRV9BVFRSSUJVVEUgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBkb3dubG9hZDogSEFTX09WRVJMT0FERURfQk9PTEVBTl9WQUxVRSxcbiAgICBkcmFnZ2FibGU6IG51bGwsXG4gICAgZW5jVHlwZTogbnVsbCxcbiAgICBmb3JtOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZm9ybUFjdGlvbjogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGZvcm1FbmNUeXBlOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZm9ybU1ldGhvZDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGZvcm1Ob1ZhbGlkYXRlOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBmb3JtVGFyZ2V0OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZnJhbWVCb3JkZXI6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBoZWFkZXJzOiBudWxsLFxuICAgIGhlaWdodDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGhpZGRlbjogTVVTVF9VU0VfQVRUUklCVVRFIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgaGlnaDogbnVsbCxcbiAgICBocmVmOiBudWxsLFxuICAgIGhyZWZMYW5nOiBudWxsLFxuICAgIGh0bWxGb3I6IG51bGwsXG4gICAgaHR0cEVxdWl2OiBudWxsLFxuICAgIGljb246IG51bGwsXG4gICAgaWQ6IE1VU1RfVVNFX1BST1BFUlRZLFxuICAgIGlucHV0TW9kZTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGludGVncml0eTogbnVsbCxcbiAgICBpczogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGtleVBhcmFtczogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGtleVR5cGU6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBraW5kOiBudWxsLFxuICAgIGxhYmVsOiBudWxsLFxuICAgIGxhbmc6IG51bGwsXG4gICAgbGlzdDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGxvb3A6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgbG93OiBudWxsLFxuICAgIG1hbmlmZXN0OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgbWFyZ2luSGVpZ2h0OiBudWxsLFxuICAgIG1hcmdpbldpZHRoOiBudWxsLFxuICAgIG1heDogbnVsbCxcbiAgICBtYXhMZW5ndGg6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBtZWRpYTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIG1lZGlhR3JvdXA6IG51bGwsXG4gICAgbWV0aG9kOiBudWxsLFxuICAgIG1pbjogbnVsbCxcbiAgICBtaW5MZW5ndGg6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBtdWx0aXBsZTogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBtdXRlZDogTVVTVF9VU0VfUFJPUEVSVFkgfCBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICBuYW1lOiBudWxsLFxuICAgIG5vbmNlOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgbm9WYWxpZGF0ZTogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgb3BlbjogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgb3B0aW11bTogbnVsbCxcbiAgICBwYXR0ZXJuOiBudWxsLFxuICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgIHBvc3RlcjogbnVsbCxcbiAgICBwcmVsb2FkOiBudWxsLFxuICAgIHJhZGlvR3JvdXA6IG51bGwsXG4gICAgcmVhZE9ubHk6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgcmVsOiBudWxsLFxuICAgIHJlcXVpcmVkOiBIQVNfQk9PTEVBTl9WQUxVRSxcbiAgICByZXZlcnNlZDogSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgcm9sZTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHJvd3M6IE1VU1RfVVNFX0FUVFJJQlVURSB8IEhBU19QT1NJVElWRV9OVU1FUklDX1ZBTFVFLFxuICAgIHJvd1NwYW46IG51bGwsXG4gICAgc2FuZGJveDogbnVsbCxcbiAgICBzY29wZTogbnVsbCxcbiAgICBzY29wZWQ6IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIHNjcm9sbGluZzogbnVsbCxcbiAgICBzZWFtbGVzczogTVVTVF9VU0VfQVRUUklCVVRFIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgc2VsZWN0ZWQ6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX0JPT0xFQU5fVkFMVUUsXG4gICAgc2hhcGU6IG51bGwsXG4gICAgc2l6ZTogTVVTVF9VU0VfQVRUUklCVVRFIHwgSEFTX1BPU0lUSVZFX05VTUVSSUNfVkFMVUUsXG4gICAgc2l6ZXM6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBzcGFuOiBIQVNfUE9TSVRJVkVfTlVNRVJJQ19WQUxVRSxcbiAgICBzcGVsbENoZWNrOiBudWxsLFxuICAgIHNyYzogbnVsbCxcbiAgICBzcmNEb2M6IE1VU1RfVVNFX1BST1BFUlRZLFxuICAgIHNyY0xhbmc6IG51bGwsXG4gICAgc3JjU2V0OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgc3RhcnQ6IEhBU19OVU1FUklDX1ZBTFVFLFxuICAgIHN0ZXA6IG51bGwsXG4gICAgc3R5bGU6IG51bGwsXG4gICAgc3VtbWFyeTogbnVsbCxcbiAgICB0YWJJbmRleDogbnVsbCxcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgdGl0bGU6IG51bGwsXG4gICAgdHlwZTogbnVsbCxcbiAgICB1c2VNYXA6IG51bGwsXG4gICAgdmFsdWU6IE1VU1RfVVNFX1BST1BFUlRZIHwgSEFTX1NJREVfRUZGRUNUUyxcbiAgICB3aWR0aDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHdtb2RlOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgd3JhcDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFJERmEgUHJvcGVydGllc1xuICAgICAqL1xuICAgIGFib3V0OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZGF0YXR5cGU6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBpbmxpc3Q6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBwcmVmaXg6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICAvLyBwcm9wZXJ0eSBpcyBhbHNvIHN1cHBvcnRlZCBmb3IgT3BlbkdyYXBoIGluIG1ldGEgdGFncy5cbiAgICBwcm9wZXJ0eTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHJlc291cmNlOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgJ3R5cGVvZic6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB2b2NhYjogTVVTVF9VU0VfQVRUUklCVVRFLFxuXG4gICAgLyoqXG4gICAgICogTm9uLXN0YW5kYXJkIFByb3BlcnRpZXNcbiAgICAgKi9cbiAgICAvLyBhdXRvQ2FwaXRhbGl6ZSBhbmQgYXV0b0NvcnJlY3QgYXJlIHN1cHBvcnRlZCBpbiBNb2JpbGUgU2FmYXJpIGZvclxuICAgIC8vIGtleWJvYXJkIGhpbnRzLlxuICAgIGF1dG9DYXBpdGFsaXplOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgYXV0b0NvcnJlY3Q6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICAvLyBhdXRvU2F2ZSBhbGxvd3MgV2ViS2l0L0JsaW5rIHRvIHBlcnNpc3QgdmFsdWVzIG9mIGlucHV0IGZpZWxkcyBvbiBwYWdlIHJlbG9hZHNcbiAgICBhdXRvU2F2ZTogbnVsbCxcbiAgICAvLyBjb2xvciBpcyBmb3IgU2FmYXJpIG1hc2staWNvbiBsaW5rXG4gICAgY29sb3I6IG51bGwsXG4gICAgLy8gaXRlbVByb3AsIGl0ZW1TY29wZSwgaXRlbVR5cGUgYXJlIGZvclxuICAgIC8vIE1pY3JvZGF0YSBzdXBwb3J0LiBTZWUgaHR0cDovL3NjaGVtYS5vcmcvZG9jcy9ncy5odG1sXG4gICAgaXRlbVByb3A6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBpdGVtU2NvcGU6IE1VU1RfVVNFX0FUVFJJQlVURSB8IEhBU19CT09MRUFOX1ZBTFVFLFxuICAgIGl0ZW1UeXBlOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgLy8gaXRlbUlEIGFuZCBpdGVtUmVmIGFyZSBmb3IgTWljcm9kYXRhIHN1cHBvcnQgYXMgd2VsbCBidXRcbiAgICAvLyBvbmx5IHNwZWNpZmllZCBpbiB0aGUgdGhlIFdIQVRXRyBzcGVjIGRvY3VtZW50LiBTZWVcbiAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9taWNyb2RhdGEuaHRtbCNtaWNyb2RhdGEtZG9tLWFwaVxuICAgIGl0ZW1JRDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGl0ZW1SZWY6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICAvLyByZXN1bHRzIHNob3cgbG9va2luZyBnbGFzcyBpY29uIGFuZCByZWNlbnQgc2VhcmNoZXMgb24gaW5wdXRcbiAgICAvLyBzZWFyY2ggZmllbGRzIGluIFdlYktpdC9CbGlua1xuICAgIHJlc3VsdHM6IG51bGwsXG4gICAgLy8gSUUtb25seSBhdHRyaWJ1dGUgdGhhdCBzcGVjaWZpZXMgc2VjdXJpdHkgcmVzdHJpY3Rpb25zIG9uIGFuIGlmcmFtZVxuICAgIC8vIGFzIGFuIGFsdGVybmF0aXZlIHRvIHRoZSBzYW5kYm94IGF0dHJpYnV0ZSBvbiBJRTwxMFxuICAgIHNlY3VyaXR5OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgLy8gSUUtb25seSBhdHRyaWJ1dGUgdGhhdCBjb250cm9scyBmb2N1cyBiZWhhdmlvclxuICAgIHVuc2VsZWN0YWJsZTogTVVTVF9VU0VfQVRUUklCVVRFXG4gIH0sXG4gIERPTUF0dHJpYnV0ZU5hbWVzOiB7XG4gICAgYWNjZXB0Q2hhcnNldDogJ2FjY2VwdC1jaGFyc2V0JyxcbiAgICBjbGFzc05hbWU6ICdjbGFzcycsXG4gICAgaHRtbEZvcjogJ2ZvcicsXG4gICAgaHR0cEVxdWl2OiAnaHR0cC1lcXVpdidcbiAgfSxcbiAgRE9NUHJvcGVydHlOYW1lczoge1xuICAgIGF1dG9Db21wbGV0ZTogJ2F1dG9jb21wbGV0ZScsXG4gICAgYXV0b0ZvY3VzOiAnYXV0b2ZvY3VzJyxcbiAgICBhdXRvUGxheTogJ2F1dG9wbGF5JyxcbiAgICBhdXRvU2F2ZTogJ2F1dG9zYXZlJyxcbiAgICAvLyBgZW5jb2RpbmdgIGlzIGVxdWl2YWxlbnQgdG8gYGVuY3R5cGVgLCBJRTggbGFja3MgYW4gYGVuY3R5cGVgIHNldHRlci5cbiAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9mb3Jtcy5odG1sI2RvbS1mcy1lbmNvZGluZ1xuICAgIGVuY1R5cGU6ICdlbmNvZGluZycsXG4gICAgaHJlZkxhbmc6ICdocmVmbGFuZycsXG4gICAgcmFkaW9Hcm91cDogJ3JhZGlvZ3JvdXAnLFxuICAgIHNwZWxsQ2hlY2s6ICdzcGVsbGNoZWNrJyxcbiAgICBzcmNEb2M6ICdzcmNkb2MnLFxuICAgIHNyY1NldDogJ3NyY3NldCdcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBIVE1MRE9NUHJvcGVydHlDb25maWc7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0QnJvd3NlckNvbXBvbmVudE1peGluXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RJbnN0YW5jZU1hcCA9IHJlcXVpcmUoJy4vUmVhY3RJbnN0YW5jZU1hcCcpO1xuXG52YXIgZmluZERPTU5vZGUgPSByZXF1aXJlKCcuL2ZpbmRET01Ob2RlJyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxudmFyIGRpZFdhcm5LZXkgPSAnX2dldERPTU5vZGVEaWRXYXJuJztcblxudmFyIFJlYWN0QnJvd3NlckNvbXBvbmVudE1peGluID0ge1xuICAvKipcbiAgICogUmV0dXJucyB0aGUgRE9NIG5vZGUgcmVuZGVyZWQgYnkgdGhpcyBjb21wb25lbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge0RPTUVsZW1lbnR9IFRoZSByb290IG5vZGUgb2YgdGhpcyBjb21wb25lbnQuXG4gICAqIEBmaW5hbFxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBnZXRET01Ob2RlOiBmdW5jdGlvbiAoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcodGhpcy5jb25zdHJ1Y3RvcltkaWRXYXJuS2V5XSwgJyVzLmdldERPTU5vZGUoLi4uKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlICcgKyAnUmVhY3RET00uZmluZERPTU5vZGUoaW5zdGFuY2UpIGluc3RlYWQuJywgUmVhY3RJbnN0YW5jZU1hcC5nZXQodGhpcykuZ2V0TmFtZSgpIHx8IHRoaXMudGFnTmFtZSB8fCAnVW5rbm93bicpIDogdW5kZWZpbmVkO1xuICAgIHRoaXMuY29uc3RydWN0b3JbZGlkV2FybktleV0gPSB0cnVlO1xuICAgIHJldHVybiBmaW5kRE9NTm9kZSh0aGlzKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEJyb3dzZXJDb21wb25lbnRNaXhpbjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01Db21wb25lbnRcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuLyogZ2xvYmFsIGhhc093blByb3BlcnR5OnRydWUgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgQXV0b0ZvY3VzVXRpbHMgPSByZXF1aXJlKCcuL0F1dG9Gb2N1c1V0aWxzJyk7XG52YXIgQ1NTUHJvcGVydHlPcGVyYXRpb25zID0gcmVxdWlyZSgnLi9DU1NQcm9wZXJ0eU9wZXJhdGlvbnMnKTtcbnZhciBET01Qcm9wZXJ0eSA9IHJlcXVpcmUoJy4vRE9NUHJvcGVydHknKTtcbnZhciBET01Qcm9wZXJ0eU9wZXJhdGlvbnMgPSByZXF1aXJlKCcuL0RPTVByb3BlcnR5T3BlcmF0aW9ucycpO1xudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xudmFyIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJy4vUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyJyk7XG52YXIgUmVhY3RDb21wb25lbnRCcm93c2VyRW52aXJvbm1lbnQgPSByZXF1aXJlKCcuL1JlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50Jyk7XG52YXIgUmVhY3RET01CdXR0b24gPSByZXF1aXJlKCcuL1JlYWN0RE9NQnV0dG9uJyk7XG52YXIgUmVhY3RET01JbnB1dCA9IHJlcXVpcmUoJy4vUmVhY3RET01JbnB1dCcpO1xudmFyIFJlYWN0RE9NT3B0aW9uID0gcmVxdWlyZSgnLi9SZWFjdERPTU9wdGlvbicpO1xudmFyIFJlYWN0RE9NU2VsZWN0ID0gcmVxdWlyZSgnLi9SZWFjdERPTVNlbGVjdCcpO1xudmFyIFJlYWN0RE9NVGV4dGFyZWEgPSByZXF1aXJlKCcuL1JlYWN0RE9NVGV4dGFyZWEnKTtcbnZhciBSZWFjdE1vdW50ID0gcmVxdWlyZSgnLi9SZWFjdE1vdW50Jyk7XG52YXIgUmVhY3RNdWx0aUNoaWxkID0gcmVxdWlyZSgnLi9SZWFjdE11bHRpQ2hpbGQnKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKCcuL1JlYWN0UGVyZicpO1xudmFyIFJlYWN0VXBkYXRlUXVldWUgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlUXVldWUnKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xudmFyIGNhbkRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9jYW5EZWZpbmVQcm9wZXJ0eScpO1xudmFyIGVzY2FwZVRleHRDb250ZW50Rm9yQnJvd3NlciA9IHJlcXVpcmUoJy4vZXNjYXBlVGV4dENvbnRlbnRGb3JCcm93c2VyJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgaXNFdmVudFN1cHBvcnRlZCA9IHJlcXVpcmUoJy4vaXNFdmVudFN1cHBvcnRlZCcpO1xudmFyIGtleU9mID0gcmVxdWlyZSgnZmJqcy9saWIva2V5T2YnKTtcbnZhciBzZXRJbm5lckhUTUwgPSByZXF1aXJlKCcuL3NldElubmVySFRNTCcpO1xudmFyIHNldFRleHRDb250ZW50ID0gcmVxdWlyZSgnLi9zZXRUZXh0Q29udGVudCcpO1xudmFyIHNoYWxsb3dFcXVhbCA9IHJlcXVpcmUoJ2ZianMvbGliL3NoYWxsb3dFcXVhbCcpO1xudmFyIHZhbGlkYXRlRE9NTmVzdGluZyA9IHJlcXVpcmUoJy4vdmFsaWRhdGVET01OZXN0aW5nJyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxudmFyIGRlbGV0ZUxpc3RlbmVyID0gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmRlbGV0ZUxpc3RlbmVyO1xudmFyIGxpc3RlblRvID0gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmxpc3RlblRvO1xudmFyIHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzID0gUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzO1xuXG4vLyBGb3IgcXVpY2tseSBtYXRjaGluZyBjaGlsZHJlbiB0eXBlLCB0byB0ZXN0IGlmIGNhbiBiZSB0cmVhdGVkIGFzIGNvbnRlbnQuXG52YXIgQ09OVEVOVF9UWVBFUyA9IHsgJ3N0cmluZyc6IHRydWUsICdudW1iZXInOiB0cnVlIH07XG5cbnZhciBDSElMRFJFTiA9IGtleU9mKHsgY2hpbGRyZW46IG51bGwgfSk7XG52YXIgU1RZTEUgPSBrZXlPZih7IHN0eWxlOiBudWxsIH0pO1xudmFyIEhUTUwgPSBrZXlPZih7IF9faHRtbDogbnVsbCB9KTtcblxudmFyIEVMRU1FTlRfTk9ERV9UWVBFID0gMTtcblxuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGludGVybmFsSW5zdGFuY2UpIHtcbiAgaWYgKGludGVybmFsSW5zdGFuY2UpIHtcbiAgICB2YXIgb3duZXIgPSBpbnRlcm5hbEluc3RhbmNlLl9jdXJyZW50RWxlbWVudC5fb3duZXIgfHwgbnVsbDtcbiAgICBpZiAob3duZXIpIHtcbiAgICAgIHZhciBuYW1lID0gb3duZXIuZ2V0TmFtZSgpO1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICcgVGhpcyBET00gbm9kZSB3YXMgcmVuZGVyZWQgYnkgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgbGVnYWN5UHJvcHNEZXNjcmlwdG9yO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgbGVnYWN5UHJvcHNEZXNjcmlwdG9yID0ge1xuICAgIHByb3BzOiB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5fcmVhY3RJbnRlcm5hbENvbXBvbmVudDtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdSZWFjdERPTUNvbXBvbmVudDogRG8gbm90IGFjY2VzcyAucHJvcHMgb2YgYSBET00gbm9kZTsgaW5zdGVhZCwgJyArICdyZWNyZWF0ZSB0aGUgcHJvcHMgYXMgYHJlbmRlcmAgZGlkIG9yaWdpbmFsbHkgb3IgcmVhZCB0aGUgRE9NICcgKyAncHJvcGVydGllcy9hdHRyaWJ1dGVzIGRpcmVjdGx5IGZyb20gdGhpcyBub2RlIChlLmcuLCAnICsgJ3RoaXMucmVmcy5ib3guY2xhc3NOYW1lKS4lcycsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBsZWdhY3lHZXRET01Ob2RlKCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciBjb21wb25lbnQgPSB0aGlzLl9yZWFjdEludGVybmFsQ29tcG9uZW50O1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnUmVhY3RET01Db21wb25lbnQ6IERvIG5vdCBhY2Nlc3MgLmdldERPTU5vZGUoKSBvZiBhIERPTSBub2RlOyAnICsgJ2luc3RlYWQsIHVzZSB0aGUgbm9kZSBkaXJlY3RseS4lcycsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpKSA6IHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gbGVnYWN5SXNNb3VudGVkKCkge1xuICB2YXIgY29tcG9uZW50ID0gdGhpcy5fcmVhY3RJbnRlcm5hbENvbXBvbmVudDtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ1JlYWN0RE9NQ29tcG9uZW50OiBEbyBub3QgYWNjZXNzIC5pc01vdW50ZWQoKSBvZiBhIERPTSBub2RlLiVzJywgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGNvbXBvbmVudCkpIDogdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiAhIWNvbXBvbmVudDtcbn1cblxuZnVuY3Rpb24gbGVnYWN5U2V0U3RhdGVFdGMoKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuX3JlYWN0SW50ZXJuYWxDb21wb25lbnQ7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdSZWFjdERPTUNvbXBvbmVudDogRG8gbm90IGFjY2VzcyAuc2V0U3RhdGUoKSwgLnJlcGxhY2VTdGF0ZSgpLCBvciAnICsgJy5mb3JjZVVwZGF0ZSgpIG9mIGEgRE9NIG5vZGUuIFRoaXMgaXMgYSBuby1vcC4lcycsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpKSA6IHVuZGVmaW5lZDtcbiAgfVxufVxuXG5mdW5jdGlvbiBsZWdhY3lTZXRQcm9wcyhwYXJ0aWFsUHJvcHMsIGNhbGxiYWNrKSB7XG4gIHZhciBjb21wb25lbnQgPSB0aGlzLl9yZWFjdEludGVybmFsQ29tcG9uZW50O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnUmVhY3RET01Db21wb25lbnQ6IERvIG5vdCBhY2Nlc3MgLnNldFByb3BzKCkgb2YgYSBET00gbm9kZS4gJyArICdJbnN0ZWFkLCBjYWxsIFJlYWN0RE9NLnJlbmRlciBhZ2FpbiBhdCB0aGUgdG9wIGxldmVsLiVzJywgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGNvbXBvbmVudCkpIDogdW5kZWZpbmVkO1xuICB9XG4gIGlmICghY29tcG9uZW50KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIFJlYWN0VXBkYXRlUXVldWUuZW5xdWV1ZVNldFByb3BzSW50ZXJuYWwoY29tcG9uZW50LCBwYXJ0aWFsUHJvcHMpO1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICBSZWFjdFVwZGF0ZVF1ZXVlLmVucXVldWVDYWxsYmFja0ludGVybmFsKGNvbXBvbmVudCwgY2FsbGJhY2spO1xuICB9XG59XG5cbmZ1bmN0aW9uIGxlZ2FjeVJlcGxhY2VQcm9wcyhwYXJ0aWFsUHJvcHMsIGNhbGxiYWNrKSB7XG4gIHZhciBjb21wb25lbnQgPSB0aGlzLl9yZWFjdEludGVybmFsQ29tcG9uZW50O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnUmVhY3RET01Db21wb25lbnQ6IERvIG5vdCBhY2Nlc3MgLnJlcGxhY2VQcm9wcygpIG9mIGEgRE9NIG5vZGUuICcgKyAnSW5zdGVhZCwgY2FsbCBSZWFjdERPTS5yZW5kZXIgYWdhaW4gYXQgdGhlIHRvcCBsZXZlbC4lcycsIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bShjb21wb25lbnQpKSA6IHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoIWNvbXBvbmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuICBSZWFjdFVwZGF0ZVF1ZXVlLmVucXVldWVSZXBsYWNlUHJvcHNJbnRlcm5hbChjb21wb25lbnQsIHBhcnRpYWxQcm9wcyk7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIFJlYWN0VXBkYXRlUXVldWUuZW5xdWV1ZUNhbGxiYWNrSW50ZXJuYWwoY29tcG9uZW50LCBjYWxsYmFjayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZnJpZW5kbHlTdHJpbmdpZnkob2JqKSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHJldHVybiAnWycgKyBvYmoubWFwKGZyaWVuZGx5U3RyaW5naWZ5KS5qb2luKCcsICcpICsgJ10nO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcGFpcnMgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICB2YXIga2V5RXNjYXBlZCA9IC9eW2EteiRfXVtcXHckX10qJC9pLnRlc3Qoa2V5KSA/IGtleSA6IEpTT04uc3RyaW5naWZ5KGtleSk7XG4gICAgICAgICAgcGFpcnMucHVzaChrZXlFc2NhcGVkICsgJzogJyArIGZyaWVuZGx5U3RyaW5naWZ5KG9ialtrZXldKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAneycgKyBwYWlycy5qb2luKCcsICcpICsgJ30nO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gJ1tmdW5jdGlvbiBvYmplY3RdJztcbiAgfVxuICAvLyBEaWZmZXJzIGZyb20gSlNPTi5zdHJpbmdpZnkgaW4gdGhhdCB1bmRlZmluZWQgYmVjYXVzZXMgdW5kZWZpbmVkIGFuZCB0aGF0XG4gIC8vIGluZiBhbmQgbmFuIGRvbid0IGJlY29tZSBudWxsXG4gIHJldHVybiBTdHJpbmcob2JqKTtcbn1cblxudmFyIHN0eWxlTXV0YXRpb25XYXJuaW5nID0ge307XG5cbmZ1bmN0aW9uIGNoZWNrQW5kV2FybkZvck11dGF0ZWRTdHlsZShzdHlsZTEsIHN0eWxlMiwgY29tcG9uZW50KSB7XG4gIGlmIChzdHlsZTEgPT0gbnVsbCB8fCBzdHlsZTIgPT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc2hhbGxvd0VxdWFsKHN0eWxlMSwgc3R5bGUyKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBjb21wb25lbnROYW1lID0gY29tcG9uZW50Ll90YWc7XG4gIHZhciBvd25lciA9IGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICB2YXIgb3duZXJOYW1lO1xuICBpZiAob3duZXIpIHtcbiAgICBvd25lck5hbWUgPSBvd25lci5nZXROYW1lKCk7XG4gIH1cblxuICB2YXIgaGFzaCA9IG93bmVyTmFtZSArICd8JyArIGNvbXBvbmVudE5hbWU7XG5cbiAgaWYgKHN0eWxlTXV0YXRpb25XYXJuaW5nLmhhc093blByb3BlcnR5KGhhc2gpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3R5bGVNdXRhdGlvbldhcm5pbmdbaGFzaF0gPSB0cnVlO1xuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnYCVzYCB3YXMgcGFzc2VkIGEgc3R5bGUgb2JqZWN0IHRoYXQgaGFzIHByZXZpb3VzbHkgYmVlbiBtdXRhdGVkLiAnICsgJ011dGF0aW5nIGBzdHlsZWAgaXMgZGVwcmVjYXRlZC4gQ29uc2lkZXIgY2xvbmluZyBpdCBiZWZvcmVoYW5kLiBDaGVjayAnICsgJ3RoZSBgcmVuZGVyYCAlcy4gUHJldmlvdXMgc3R5bGU6ICVzLiBNdXRhdGVkIHN0eWxlOiAlcy4nLCBjb21wb25lbnROYW1lLCBvd25lciA/ICdvZiBgJyArIG93bmVyTmFtZSArICdgJyA6ICd1c2luZyA8JyArIGNvbXBvbmVudE5hbWUgKyAnPicsIGZyaWVuZGx5U3RyaW5naWZ5KHN0eWxlMSksIGZyaWVuZGx5U3RyaW5naWZ5KHN0eWxlMikpIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7P29iamVjdH0gcHJvcHNcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0VmFsaWRQcm9wcyhjb21wb25lbnQsIHByb3BzKSB7XG4gIGlmICghcHJvcHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gTm90ZSB0aGUgdXNlIG9mIGA9PWAgd2hpY2ggY2hlY2tzIGZvciBudWxsIG9yIHVuZGVmaW5lZC5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAodm9pZEVsZW1lbnRUYWdzW2NvbXBvbmVudC5fdGFnXSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocHJvcHMuY2hpbGRyZW4gPT0gbnVsbCAmJiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PSBudWxsLCAnJXMgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5vdCBoYXZlIGBjaGlsZHJlbmAgb3IgJyArICd1c2UgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4lcycsIGNvbXBvbmVudC5fdGFnLCBjb21wb25lbnQuX2N1cnJlbnRFbGVtZW50Ll9vd25lciA/ICcgQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJyArIGNvbXBvbmVudC5fY3VycmVudEVsZW1lbnQuX293bmVyLmdldE5hbWUoKSArICcuJyA6ICcnKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbiAgaWYgKHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICE9IG51bGwpIHtcbiAgICAhKHByb3BzLmNoaWxkcmVuID09IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0NhbiBvbmx5IHNldCBvbmUgb2YgYGNoaWxkcmVuYCBvciBgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAhKHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCA9PT0gJ29iamVjdCcgJiYgSFRNTCBpbiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBtdXN0IGJlIGluIHRoZSBmb3JtIGB7X19odG1sOiAuLi59YC4gJyArICdQbGVhc2UgdmlzaXQgaHR0cHM6Ly9mYi5tZS9yZWFjdC1pbnZhcmlhbnQtZGFuZ2Vyb3VzbHktc2V0LWlubmVyLWh0bWwgJyArICdmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhwcm9wcy5pbm5lckhUTUwgPT0gbnVsbCwgJ0RpcmVjdGx5IHNldHRpbmcgcHJvcGVydHkgYGlubmVySFRNTGAgaXMgbm90IHBlcm1pdHRlZC4gJyArICdGb3IgbW9yZSBpbmZvcm1hdGlvbiwgbG9va3VwIGRvY3VtZW50YXRpb24gb24gYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC4nKSA6IHVuZGVmaW5lZDtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyghcHJvcHMuY29udGVudEVkaXRhYmxlIHx8IHByb3BzLmNoaWxkcmVuID09IG51bGwsICdBIGNvbXBvbmVudCBpcyBgY29udGVudEVkaXRhYmxlYCBhbmQgY29udGFpbnMgYGNoaWxkcmVuYCBtYW5hZ2VkIGJ5ICcgKyAnUmVhY3QuIEl0IGlzIG5vdyB5b3VyIHJlc3BvbnNpYmlsaXR5IHRvIGd1YXJhbnRlZSB0aGF0IG5vbmUgb2YgJyArICd0aG9zZSBub2RlcyBhcmUgdW5leHBlY3RlZGx5IG1vZGlmaWVkIG9yIGR1cGxpY2F0ZWQuIFRoaXMgaXMgJyArICdwcm9iYWJseSBub3QgaW50ZW50aW9uYWwuJykgOiB1bmRlZmluZWQ7XG4gIH1cbiAgIShwcm9wcy5zdHlsZSA9PSBudWxsIHx8IHR5cGVvZiBwcm9wcy5zdHlsZSA9PT0gJ29iamVjdCcpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1RoZSBgc3R5bGVgIHByb3AgZXhwZWN0cyBhIG1hcHBpbmcgZnJvbSBzdHlsZSBwcm9wZXJ0aWVzIHRvIHZhbHVlcywgJyArICdub3QgYSBzdHJpbmcuIEZvciBleGFtcGxlLCBzdHlsZT17e21hcmdpblJpZ2h0OiBzcGFjaW5nICsgXFwnZW1cXCd9fSB3aGVuICcgKyAndXNpbmcgSlNYLiVzJywgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKGNvbXBvbmVudCkpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZW5xdWV1ZVB1dExpc3RlbmVyKGlkLCByZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lciwgdHJhbnNhY3Rpb24pIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBJRTggaGFzIG5vIEFQSSBmb3IgZXZlbnQgY2FwdHVyaW5nIGFuZCB0aGUgYG9uU2Nyb2xsYCBldmVudCBkb2Vzbid0XG4gICAgLy8gYnViYmxlLlxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHJlZ2lzdHJhdGlvbk5hbWUgIT09ICdvblNjcm9sbCcgfHwgaXNFdmVudFN1cHBvcnRlZCgnc2Nyb2xsJywgdHJ1ZSksICdUaGlzIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgdGhlIGBvblNjcm9sbGAgZXZlbnQnKSA6IHVuZGVmaW5lZDtcbiAgfVxuICB2YXIgY29udGFpbmVyID0gUmVhY3RNb3VudC5maW5kUmVhY3RDb250YWluZXJGb3JJRChpZCk7XG4gIGlmIChjb250YWluZXIpIHtcbiAgICB2YXIgZG9jID0gY29udGFpbmVyLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREVfVFlQRSA/IGNvbnRhaW5lci5vd25lckRvY3VtZW50IDogY29udGFpbmVyO1xuICAgIGxpc3RlblRvKHJlZ2lzdHJhdGlvbk5hbWUsIGRvYyk7XG4gIH1cbiAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShwdXRMaXN0ZW5lciwge1xuICAgIGlkOiBpZCxcbiAgICByZWdpc3RyYXRpb25OYW1lOiByZWdpc3RyYXRpb25OYW1lLFxuICAgIGxpc3RlbmVyOiBsaXN0ZW5lclxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHV0TGlzdGVuZXIoKSB7XG4gIHZhciBsaXN0ZW5lclRvUHV0ID0gdGhpcztcbiAgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnB1dExpc3RlbmVyKGxpc3RlbmVyVG9QdXQuaWQsIGxpc3RlbmVyVG9QdXQucmVnaXN0cmF0aW9uTmFtZSwgbGlzdGVuZXJUb1B1dC5saXN0ZW5lcik7XG59XG5cbi8vIFRoZXJlIGFyZSBzbyBtYW55IG1lZGlhIGV2ZW50cywgaXQgbWFrZXMgc2Vuc2UgdG8ganVzdFxuLy8gbWFpbnRhaW4gYSBsaXN0IHJhdGhlciB0aGFuIGNyZWF0ZSBhIGB0cmFwQnViYmxlZEV2ZW50YCBmb3IgZWFjaFxudmFyIG1lZGlhRXZlbnRzID0ge1xuICB0b3BBYm9ydDogJ2Fib3J0JyxcbiAgdG9wQ2FuUGxheTogJ2NhbnBsYXknLFxuICB0b3BDYW5QbGF5VGhyb3VnaDogJ2NhbnBsYXl0aHJvdWdoJyxcbiAgdG9wRHVyYXRpb25DaGFuZ2U6ICdkdXJhdGlvbmNoYW5nZScsXG4gIHRvcEVtcHRpZWQ6ICdlbXB0aWVkJyxcbiAgdG9wRW5jcnlwdGVkOiAnZW5jcnlwdGVkJyxcbiAgdG9wRW5kZWQ6ICdlbmRlZCcsXG4gIHRvcEVycm9yOiAnZXJyb3InLFxuICB0b3BMb2FkZWREYXRhOiAnbG9hZGVkZGF0YScsXG4gIHRvcExvYWRlZE1ldGFkYXRhOiAnbG9hZGVkbWV0YWRhdGEnLFxuICB0b3BMb2FkU3RhcnQ6ICdsb2Fkc3RhcnQnLFxuICB0b3BQYXVzZTogJ3BhdXNlJyxcbiAgdG9wUGxheTogJ3BsYXknLFxuICB0b3BQbGF5aW5nOiAncGxheWluZycsXG4gIHRvcFByb2dyZXNzOiAncHJvZ3Jlc3MnLFxuICB0b3BSYXRlQ2hhbmdlOiAncmF0ZWNoYW5nZScsXG4gIHRvcFNlZWtlZDogJ3NlZWtlZCcsXG4gIHRvcFNlZWtpbmc6ICdzZWVraW5nJyxcbiAgdG9wU3RhbGxlZDogJ3N0YWxsZWQnLFxuICB0b3BTdXNwZW5kOiAnc3VzcGVuZCcsXG4gIHRvcFRpbWVVcGRhdGU6ICd0aW1ldXBkYXRlJyxcbiAgdG9wVm9sdW1lQ2hhbmdlOiAndm9sdW1lY2hhbmdlJyxcbiAgdG9wV2FpdGluZzogJ3dhaXRpbmcnXG59O1xuXG5mdW5jdGlvbiB0cmFwQnViYmxlZEV2ZW50c0xvY2FsKCkge1xuICB2YXIgaW5zdCA9IHRoaXM7XG4gIC8vIElmIGEgY29tcG9uZW50IHJlbmRlcnMgdG8gbnVsbCBvciBpZiBhbm90aGVyIGNvbXBvbmVudCBmYXRhbHMgYW5kIGNhdXNlc1xuICAvLyB0aGUgc3RhdGUgb2YgdGhlIHRyZWUgdG8gYmUgY29ycnVwdGVkLCBgbm9kZWAgaGVyZSBjYW4gYmUgbnVsbC5cbiAgIWluc3QuX3Jvb3ROb2RlSUQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnTXVzdCBiZSBtb3VudGVkIHRvIHRyYXAgZXZlbnRzJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICB2YXIgbm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZShpbnN0Ll9yb290Tm9kZUlEKTtcbiAgIW5vZGUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAndHJhcEJ1YmJsZWRFdmVudCguLi4pOiBSZXF1aXJlcyBub2RlIHRvIGJlIHJlbmRlcmVkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICBzd2l0Y2ggKGluc3QuX3RhZykge1xuICAgIGNhc2UgJ2lmcmFtZSc6XG4gICAgICBpbnN0Ll93cmFwcGVyU3RhdGUubGlzdGVuZXJzID0gW1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlci50cmFwQnViYmxlZEV2ZW50KEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXMudG9wTG9hZCwgJ2xvYWQnLCBub2RlKV07XG4gICAgICBicmVhaztcbiAgICBjYXNlICd2aWRlbyc6XG4gICAgY2FzZSAnYXVkaW8nOlxuXG4gICAgICBpbnN0Ll93cmFwcGVyU3RhdGUubGlzdGVuZXJzID0gW107XG4gICAgICAvLyBjcmVhdGUgbGlzdGVuZXIgZm9yIGVhY2ggbWVkaWEgZXZlbnRcbiAgICAgIGZvciAodmFyIGV2ZW50IGluIG1lZGlhRXZlbnRzKSB7XG4gICAgICAgIGlmIChtZWRpYUV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldmVudCkpIHtcbiAgICAgICAgICBpbnN0Ll93cmFwcGVyU3RhdGUubGlzdGVuZXJzLnB1c2goUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLnRyYXBCdWJibGVkRXZlbnQoRXZlbnRDb25zdGFudHMudG9wTGV2ZWxUeXBlc1tldmVudF0sIG1lZGlhRXZlbnRzW2V2ZW50XSwgbm9kZSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2ltZyc6XG4gICAgICBpbnN0Ll93cmFwcGVyU3RhdGUubGlzdGVuZXJzID0gW1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlci50cmFwQnViYmxlZEV2ZW50KEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXMudG9wRXJyb3IsICdlcnJvcicsIG5vZGUpLCBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcExvYWQsICdsb2FkJywgbm9kZSldO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZm9ybSc6XG4gICAgICBpbnN0Ll93cmFwcGVyU3RhdGUubGlzdGVuZXJzID0gW1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlci50cmFwQnViYmxlZEV2ZW50KEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXMudG9wUmVzZXQsICdyZXNldCcsIG5vZGUpLCBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIudHJhcEJ1YmJsZWRFdmVudChFdmVudENvbnN0YW50cy50b3BMZXZlbFR5cGVzLnRvcFN1Ym1pdCwgJ3N1Ym1pdCcsIG5vZGUpXTtcbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1vdW50UmVhZHlJbnB1dFdyYXBwZXIoKSB7XG4gIFJlYWN0RE9NSW5wdXQubW91bnRSZWFkeVdyYXBwZXIodGhpcyk7XG59XG5cbmZ1bmN0aW9uIHBvc3RVcGRhdGVTZWxlY3RXcmFwcGVyKCkge1xuICBSZWFjdERPTVNlbGVjdC5wb3N0VXBkYXRlV3JhcHBlcih0aGlzKTtcbn1cblxuLy8gRm9yIEhUTUwsIGNlcnRhaW4gdGFncyBzaG91bGQgb21pdCB0aGVpciBjbG9zZSB0YWcuIFdlIGtlZXAgYSB3aGl0ZWxpc3QgZm9yXG4vLyB0aG9zZSBzcGVjaWFsIGNhc2VkIHRhZ3MuXG5cbnZhciBvbWl0dGVkQ2xvc2VUYWdzID0ge1xuICAnYXJlYSc6IHRydWUsXG4gICdiYXNlJzogdHJ1ZSxcbiAgJ2JyJzogdHJ1ZSxcbiAgJ2NvbCc6IHRydWUsXG4gICdlbWJlZCc6IHRydWUsXG4gICdocic6IHRydWUsXG4gICdpbWcnOiB0cnVlLFxuICAnaW5wdXQnOiB0cnVlLFxuICAna2V5Z2VuJzogdHJ1ZSxcbiAgJ2xpbmsnOiB0cnVlLFxuICAnbWV0YSc6IHRydWUsXG4gICdwYXJhbSc6IHRydWUsXG4gICdzb3VyY2UnOiB0cnVlLFxuICAndHJhY2snOiB0cnVlLFxuICAnd2JyJzogdHJ1ZVxufTtcblxuLy8gTk9URTogbWVudWl0ZW0ncyBjbG9zZSB0YWcgc2hvdWxkIGJlIG9taXR0ZWQsIGJ1dCB0aGF0IGNhdXNlcyBwcm9ibGVtcy5cbnZhciBuZXdsaW5lRWF0aW5nVGFncyA9IHtcbiAgJ2xpc3RpbmcnOiB0cnVlLFxuICAncHJlJzogdHJ1ZSxcbiAgJ3RleHRhcmVhJzogdHJ1ZVxufTtcblxuLy8gRm9yIEhUTUwsIGNlcnRhaW4gdGFncyBjYW5ub3QgaGF2ZSBjaGlsZHJlbi4gVGhpcyBoYXMgdGhlIHNhbWUgcHVycG9zZSBhc1xuLy8gYG9taXR0ZWRDbG9zZVRhZ3NgIGV4Y2VwdCB0aGF0IGBtZW51aXRlbWAgc2hvdWxkIHN0aWxsIGhhdmUgaXRzIGNsb3NpbmcgdGFnLlxuXG52YXIgdm9pZEVsZW1lbnRUYWdzID0gYXNzaWduKHtcbiAgJ21lbnVpdGVtJzogdHJ1ZVxufSwgb21pdHRlZENsb3NlVGFncyk7XG5cbi8vIFdlIGFjY2VwdCBhbnkgdGFnIHRvIGJlIHJlbmRlcmVkIGJ1dCBzaW5jZSB0aGlzIGdldHMgaW5qZWN0ZWQgaW50byBhcmJpdHJhcnlcbi8vIEhUTUwsIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgaXQncyBhIHNhZmUgdGFnLlxuLy8gaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLXhtbC8jTlQtTmFtZVxuXG52YXIgVkFMSURfVEFHX1JFR0VYID0gL15bYS16QS1aXVthLXpBLVo6X1xcLlxcLVxcZF0qJC87IC8vIFNpbXBsaWZpZWQgc3Vic2V0XG52YXIgdmFsaWRhdGVkVGFnQ2FjaGUgPSB7fTtcbnZhciBoYXNPd25Qcm9wZXJ0eSA9ICh7fSkuaGFzT3duUHJvcGVydHk7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRGFuZ2Vyb3VzVGFnKHRhZykge1xuICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwodmFsaWRhdGVkVGFnQ2FjaGUsIHRhZykpIHtcbiAgICAhVkFMSURfVEFHX1JFR0VYLnRlc3QodGFnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdJbnZhbGlkIHRhZzogJXMnLCB0YWcpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICB2YWxpZGF0ZWRUYWdDYWNoZVt0YWddID0gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzQ2hpbGRDb250ZXh0RGV2KGNvbnRleHQsIGluc3QpIHtcbiAgLy8gUGFzcyBkb3duIG91ciB0YWcgbmFtZSB0byBjaGlsZCBjb21wb25lbnRzIGZvciB2YWxpZGF0aW9uIHB1cnBvc2VzXG4gIGNvbnRleHQgPSBhc3NpZ24oe30sIGNvbnRleHQpO1xuICB2YXIgaW5mbyA9IGNvbnRleHRbdmFsaWRhdGVET01OZXN0aW5nLmFuY2VzdG9ySW5mb0NvbnRleHRLZXldO1xuICBjb250ZXh0W3ZhbGlkYXRlRE9NTmVzdGluZy5hbmNlc3RvckluZm9Db250ZXh0S2V5XSA9IHZhbGlkYXRlRE9NTmVzdGluZy51cGRhdGVkQW5jZXN0b3JJbmZvKGluZm8sIGluc3QuX3RhZywgaW5zdCk7XG4gIHJldHVybiBjb250ZXh0O1xufVxuXG5mdW5jdGlvbiBpc0N1c3RvbUNvbXBvbmVudCh0YWdOYW1lLCBwcm9wcykge1xuICByZXR1cm4gdGFnTmFtZS5pbmRleE9mKCctJykgPj0gMCB8fCBwcm9wcy5pcyAhPSBudWxsO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgUmVhY3QgY2xhc3MgdGhhdCBpcyBpZGVtcG90ZW50IGFuZCBjYXBhYmxlIG9mIGNvbnRhaW5pbmcgb3RoZXJcbiAqIFJlYWN0IGNvbXBvbmVudHMuIEl0IGFjY2VwdHMgZXZlbnQgbGlzdGVuZXJzIGFuZCBET00gcHJvcGVydGllcyB0aGF0IGFyZVxuICogdmFsaWQgYWNjb3JkaW5nIHRvIGBET01Qcm9wZXJ0eWAuXG4gKlxuICogIC0gRXZlbnQgbGlzdGVuZXJzOiBgb25DbGlja2AsIGBvbk1vdXNlRG93bmAsIGV0Yy5cbiAqICAtIERPTSBwcm9wZXJ0aWVzOiBgY2xhc3NOYW1lYCwgYG5hbWVgLCBgdGl0bGVgLCBldGMuXG4gKlxuICogVGhlIGBzdHlsZWAgcHJvcGVydHkgZnVuY3Rpb25zIGRpZmZlcmVudGx5IGZyb20gdGhlIERPTSBBUEkuIEl0IGFjY2VwdHMgYW5cbiAqIG9iamVjdCBtYXBwaW5nIG9mIHN0eWxlIHByb3BlcnRpZXMgdG8gdmFsdWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvciBSZWFjdERPTUNvbXBvbmVudFxuICogQGV4dGVuZHMgUmVhY3RNdWx0aUNoaWxkXG4gKi9cbmZ1bmN0aW9uIFJlYWN0RE9NQ29tcG9uZW50KHRhZykge1xuICB2YWxpZGF0ZURhbmdlcm91c1RhZyh0YWcpO1xuICB0aGlzLl90YWcgPSB0YWcudG9Mb3dlckNhc2UoKTtcbiAgdGhpcy5fcmVuZGVyZWRDaGlsZHJlbiA9IG51bGw7XG4gIHRoaXMuX3ByZXZpb3VzU3R5bGUgPSBudWxsO1xuICB0aGlzLl9wcmV2aW91c1N0eWxlQ29weSA9IG51bGw7XG4gIHRoaXMuX3Jvb3ROb2RlSUQgPSBudWxsO1xuICB0aGlzLl93cmFwcGVyU3RhdGUgPSBudWxsO1xuICB0aGlzLl90b3BMZXZlbFdyYXBwZXIgPSBudWxsO1xuICB0aGlzLl9ub2RlV2l0aExlZ2FjeVByb3BlcnRpZXMgPSBudWxsO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHRoaXMuX3VucHJvY2Vzc2VkQ29udGV4dERldiA9IG51bGw7XG4gICAgdGhpcy5fcHJvY2Vzc2VkQ29udGV4dERldiA9IG51bGw7XG4gIH1cbn1cblxuUmVhY3RET01Db21wb25lbnQuZGlzcGxheU5hbWUgPSAnUmVhY3RET01Db21wb25lbnQnO1xuXG5SZWFjdERPTUNvbXBvbmVudC5NaXhpbiA9IHtcblxuICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBlbGVtZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZXMgcm9vdCB0YWcgbWFya3VwIHRoZW4gcmVjdXJzZXMuIFRoaXMgbWV0aG9kIGhhcyBzaWRlIGVmZmVjdHMgYW5kXG4gICAqIGlzIG5vdCBpZGVtcG90ZW50LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJvb3RJRCBUaGUgcm9vdCBET00gSUQgZm9yIHRoaXMgbm9kZS5cbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb250ZXh0XG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbXB1dGVkIG1hcmt1cC5cbiAgICovXG4gIG1vdW50Q29tcG9uZW50OiBmdW5jdGlvbiAocm9vdElELCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgIHRoaXMuX3Jvb3ROb2RlSUQgPSByb290SUQ7XG5cbiAgICB2YXIgcHJvcHMgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcztcblxuICAgIHN3aXRjaCAodGhpcy5fdGFnKSB7XG4gICAgICBjYXNlICdpZnJhbWUnOlxuICAgICAgY2FzZSAnaW1nJzpcbiAgICAgIGNhc2UgJ2Zvcm0nOlxuICAgICAgY2FzZSAndmlkZW8nOlxuICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICB0aGlzLl93cmFwcGVyU3RhdGUgPSB7XG4gICAgICAgICAgbGlzdGVuZXJzOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHRyYW5zYWN0aW9uLmdldFJlYWN0TW91bnRSZWFkeSgpLmVucXVldWUodHJhcEJ1YmJsZWRFdmVudHNMb2NhbCwgdGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYnV0dG9uJzpcbiAgICAgICAgcHJvcHMgPSBSZWFjdERPTUJ1dHRvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcywgY29udGV4dCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgICBSZWFjdERPTUlucHV0Lm1vdW50V3JhcHBlcih0aGlzLCBwcm9wcywgY29udGV4dCk7XG4gICAgICAgIHByb3BzID0gUmVhY3RET01JbnB1dC5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcywgY29udGV4dCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb3B0aW9uJzpcbiAgICAgICAgUmVhY3RET01PcHRpb24ubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBjb250ZXh0KTtcbiAgICAgICAgcHJvcHMgPSBSZWFjdERPTU9wdGlvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcywgY29udGV4dCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgUmVhY3RET01TZWxlY3QubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBjb250ZXh0KTtcbiAgICAgICAgcHJvcHMgPSBSZWFjdERPTVNlbGVjdC5nZXROYXRpdmVQcm9wcyh0aGlzLCBwcm9wcywgY29udGV4dCk7XG4gICAgICAgIGNvbnRleHQgPSBSZWFjdERPTVNlbGVjdC5wcm9jZXNzQ2hpbGRDb250ZXh0KHRoaXMsIHByb3BzLCBjb250ZXh0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0ZXh0YXJlYSc6XG4gICAgICAgIFJlYWN0RE9NVGV4dGFyZWEubW91bnRXcmFwcGVyKHRoaXMsIHByb3BzLCBjb250ZXh0KTtcbiAgICAgICAgcHJvcHMgPSBSZWFjdERPTVRleHRhcmVhLmdldE5hdGl2ZVByb3BzKHRoaXMsIHByb3BzLCBjb250ZXh0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgYXNzZXJ0VmFsaWRQcm9wcyh0aGlzLCBwcm9wcyk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmIChjb250ZXh0W3ZhbGlkYXRlRE9NTmVzdGluZy5hbmNlc3RvckluZm9Db250ZXh0S2V5XSkge1xuICAgICAgICB2YWxpZGF0ZURPTU5lc3RpbmcodGhpcy5fdGFnLCB0aGlzLCBjb250ZXh0W3ZhbGlkYXRlRE9NTmVzdGluZy5hbmNlc3RvckluZm9Db250ZXh0S2V5XSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHRoaXMuX3VucHJvY2Vzc2VkQ29udGV4dERldiA9IGNvbnRleHQ7XG4gICAgICB0aGlzLl9wcm9jZXNzZWRDb250ZXh0RGV2ID0gcHJvY2Vzc0NoaWxkQ29udGV4dERldihjb250ZXh0LCB0aGlzKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzLl9wcm9jZXNzZWRDb250ZXh0RGV2O1xuICAgIH1cblxuICAgIHZhciBtb3VudEltYWdlO1xuICAgIGlmICh0cmFuc2FjdGlvbi51c2VDcmVhdGVFbGVtZW50KSB7XG4gICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGNvbnRleHRbUmVhY3RNb3VudC5vd25lckRvY3VtZW50Q29udGV4dEtleV07XG4gICAgICB2YXIgZWwgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5fY3VycmVudEVsZW1lbnQudHlwZSk7XG4gICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuc2V0QXR0cmlidXRlRm9ySUQoZWwsIHRoaXMuX3Jvb3ROb2RlSUQpO1xuICAgICAgLy8gUG9wdWxhdGUgbm9kZSBjYWNoZVxuICAgICAgUmVhY3RNb3VudC5nZXRJRChlbCk7XG4gICAgICB0aGlzLl91cGRhdGVET01Qcm9wZXJ0aWVzKHt9LCBwcm9wcywgdHJhbnNhY3Rpb24sIGVsKTtcbiAgICAgIHRoaXMuX2NyZWF0ZUluaXRpYWxDaGlsZHJlbih0cmFuc2FjdGlvbiwgcHJvcHMsIGNvbnRleHQsIGVsKTtcbiAgICAgIG1vdW50SW1hZ2UgPSBlbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHRhZ09wZW4gPSB0aGlzLl9jcmVhdGVPcGVuVGFnTWFya3VwQW5kUHV0TGlzdGVuZXJzKHRyYW5zYWN0aW9uLCBwcm9wcyk7XG4gICAgICB2YXIgdGFnQ29udGVudCA9IHRoaXMuX2NyZWF0ZUNvbnRlbnRNYXJrdXAodHJhbnNhY3Rpb24sIHByb3BzLCBjb250ZXh0KTtcbiAgICAgIGlmICghdGFnQ29udGVudCAmJiBvbWl0dGVkQ2xvc2VUYWdzW3RoaXMuX3RhZ10pIHtcbiAgICAgICAgbW91bnRJbWFnZSA9IHRhZ09wZW4gKyAnLz4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRJbWFnZSA9IHRhZ09wZW4gKyAnPicgKyB0YWdDb250ZW50ICsgJzwvJyArIHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGUgKyAnPic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoICh0aGlzLl90YWcpIHtcbiAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShtb3VudFJlYWR5SW5wdXRXcmFwcGVyLCB0aGlzKTtcbiAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICAgIGNhc2UgJ2J1dHRvbic6XG4gICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICBpZiAocHJvcHMuYXV0b0ZvY3VzKSB7XG4gICAgICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShBdXRvRm9jdXNVdGlscy5mb2N1c0RPTUNvbXBvbmVudCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vdW50SW1hZ2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgbWFya3VwIGZvciB0aGUgb3BlbiB0YWcgYW5kIGFsbCBhdHRyaWJ1dGVzLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBoYXMgc2lkZSBlZmZlY3RzIGJlY2F1c2UgZXZlbnRzIGdldCByZWdpc3RlcmVkLlxuICAgKlxuICAgKiBJdGVyYXRpbmcgb3ZlciBvYmplY3QgcHJvcGVydGllcyBpcyBmYXN0ZXIgdGhhbiBpdGVyYXRpbmcgb3ZlciBhcnJheXMuXG4gICAqIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vb2JqLXZzLWFyci1pdGVyYXRpb25cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9IE1hcmt1cCBvZiBvcGVuaW5nIHRhZy5cbiAgICovXG4gIF9jcmVhdGVPcGVuVGFnTWFya3VwQW5kUHV0TGlzdGVuZXJzOiBmdW5jdGlvbiAodHJhbnNhY3Rpb24sIHByb3BzKSB7XG4gICAgdmFyIHJldCA9ICc8JyArIHRoaXMuX2N1cnJlbnRFbGVtZW50LnR5cGU7XG5cbiAgICBmb3IgKHZhciBwcm9wS2V5IGluIHByb3BzKSB7XG4gICAgICBpZiAoIXByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BLZXldO1xuICAgICAgaWYgKHByb3BWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgIGlmIChwcm9wVmFsdWUpIHtcbiAgICAgICAgICBlbnF1ZXVlUHV0TGlzdGVuZXIodGhpcy5fcm9vdE5vZGVJRCwgcHJvcEtleSwgcHJvcFZhbHVlLCB0cmFuc2FjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcm9wS2V5ID09PSBTVFlMRSkge1xuICAgICAgICAgIGlmIChwcm9wVmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIC8vIFNlZSBgX3VwZGF0ZURPTVByb3BlcnRpZXNgLiBzdHlsZSBibG9ja1xuICAgICAgICAgICAgICB0aGlzLl9wcmV2aW91c1N0eWxlID0gcHJvcFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvcFZhbHVlID0gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBhc3NpZ24oe30sIHByb3BzLnN0eWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJvcFZhbHVlID0gQ1NTUHJvcGVydHlPcGVyYXRpb25zLmNyZWF0ZU1hcmt1cEZvclN0eWxlcyhwcm9wVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYXJrdXAgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5fdGFnICE9IG51bGwgJiYgaXNDdXN0b21Db21wb25lbnQodGhpcy5fdGFnLCBwcm9wcykpIHtcbiAgICAgICAgICBpZiAocHJvcEtleSAhPT0gQ0hJTERSRU4pIHtcbiAgICAgICAgICAgIG1hcmt1cCA9IERPTVByb3BlcnR5T3BlcmF0aW9ucy5jcmVhdGVNYXJrdXBGb3JDdXN0b21BdHRyaWJ1dGUocHJvcEtleSwgcHJvcFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFya3VwID0gRE9NUHJvcGVydHlPcGVyYXRpb25zLmNyZWF0ZU1hcmt1cEZvclByb3BlcnR5KHByb3BLZXksIHByb3BWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hcmt1cCkge1xuICAgICAgICAgIHJldCArPSAnICcgKyBtYXJrdXA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGb3Igc3RhdGljIHBhZ2VzLCBubyBuZWVkIHRvIHB1dCBSZWFjdCBJRCBhbmQgY2hlY2tzdW0uIFNhdmVzIGxvdHMgb2ZcbiAgICAvLyBieXRlcy5cbiAgICBpZiAodHJhbnNhY3Rpb24ucmVuZGVyVG9TdGF0aWNNYXJrdXApIHtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgdmFyIG1hcmt1cEZvcklEID0gRE9NUHJvcGVydHlPcGVyYXRpb25zLmNyZWF0ZU1hcmt1cEZvcklEKHRoaXMuX3Jvb3ROb2RlSUQpO1xuICAgIHJldHVybiByZXQgKyAnICcgKyBtYXJrdXBGb3JJRDtcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlcyBtYXJrdXAgZm9yIHRoZSBjb250ZW50IGJldHdlZW4gdGhlIHRhZ3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbnxSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHRcbiAgICogQHJldHVybiB7c3RyaW5nfSBDb250ZW50IG1hcmt1cC5cbiAgICovXG4gIF9jcmVhdGVDb250ZW50TWFya3VwOiBmdW5jdGlvbiAodHJhbnNhY3Rpb24sIHByb3BzLCBjb250ZXh0KSB7XG4gICAgdmFyIHJldCA9ICcnO1xuXG4gICAgLy8gSW50ZW50aW9uYWwgdXNlIG9mICE9IHRvIGF2b2lkIGNhdGNoaW5nIHplcm8vZmFsc2UuXG4gICAgdmFyIGlubmVySFRNTCA9IHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MO1xuICAgIGlmIChpbm5lckhUTUwgIT0gbnVsbCkge1xuICAgICAgaWYgKGlubmVySFRNTC5fX2h0bWwgIT0gbnVsbCkge1xuICAgICAgICByZXQgPSBpbm5lckhUTUwuX19odG1sO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY29udGVudFRvVXNlID0gQ09OVEVOVF9UWVBFU1t0eXBlb2YgcHJvcHMuY2hpbGRyZW5dID8gcHJvcHMuY2hpbGRyZW4gOiBudWxsO1xuICAgICAgdmFyIGNoaWxkcmVuVG9Vc2UgPSBjb250ZW50VG9Vc2UgIT0gbnVsbCA/IG51bGwgOiBwcm9wcy5jaGlsZHJlbjtcbiAgICAgIGlmIChjb250ZW50VG9Vc2UgIT0gbnVsbCkge1xuICAgICAgICAvLyBUT0RPOiBWYWxpZGF0ZSB0aGF0IHRleHQgaXMgYWxsb3dlZCBhcyBhIGNoaWxkIG9mIHRoaXMgbm9kZVxuICAgICAgICByZXQgPSBlc2NhcGVUZXh0Q29udGVudEZvckJyb3dzZXIoY29udGVudFRvVXNlKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5Ub1VzZSAhPSBudWxsKSB7XG4gICAgICAgIHZhciBtb3VudEltYWdlcyA9IHRoaXMubW91bnRDaGlsZHJlbihjaGlsZHJlblRvVXNlLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIHJldCA9IG1vdW50SW1hZ2VzLmpvaW4oJycpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobmV3bGluZUVhdGluZ1RhZ3NbdGhpcy5fdGFnXSAmJiByZXQuY2hhckF0KDApID09PSAnXFxuJykge1xuICAgICAgLy8gdGV4dC9odG1sIGlnbm9yZXMgdGhlIGZpcnN0IGNoYXJhY3RlciBpbiB0aGVzZSB0YWdzIGlmIGl0J3MgYSBuZXdsaW5lXG4gICAgICAvLyBQcmVmZXIgdG8gYnJlYWsgYXBwbGljYXRpb24veG1sIG92ZXIgdGV4dC9odG1sIChmb3Igbm93KSBieSBhZGRpbmdcbiAgICAgIC8vIGEgbmV3bGluZSBzcGVjaWZpY2FsbHkgdG8gZ2V0IGVhdGVuIGJ5IHRoZSBwYXJzZXIuIChBbHRlcm5hdGVseSBmb3JcbiAgICAgIC8vIHRleHRhcmVhcywgcmVwbGFjaW5nIFwiXlxcblwiIHdpdGggXCJcXHJcXG5cIiBkb2Vzbid0IGdldCBlYXRlbiwgYW5kIHRoZSBmaXJzdFxuICAgICAgLy8gXFxyIGlzIG5vcm1hbGl6ZWQgb3V0IGJ5IEhUTUxUZXh0QXJlYUVsZW1lbnQjdmFsdWUuKVxuICAgICAgLy8gU2VlOiA8aHR0cDovL3d3dy53My5vcmcvVFIvaHRtbC1wb2x5Z2xvdC8jbmV3bGluZXMtaW4tdGV4dGFyZWEtYW5kLXByZT5cbiAgICAgIC8vIFNlZTogPGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L3N5bnRheC5odG1sI2VsZW1lbnQtcmVzdHJpY3Rpb25zPlxuICAgICAgLy8gU2VlOiA8aHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjbmV3bGluZXM+XG4gICAgICAvLyBTZWU6IFBhcnNpbmcgb2YgXCJ0ZXh0YXJlYVwiIFwibGlzdGluZ1wiIGFuZCBcInByZVwiIGVsZW1lbnRzXG4gICAgICAvLyAgZnJvbSA8aHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvc3ludGF4Lmh0bWwjcGFyc2luZy1tYWluLWluYm9keT5cbiAgICAgIHJldHVybiAnXFxuJyArIHJldDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH0sXG5cbiAgX2NyZWF0ZUluaXRpYWxDaGlsZHJlbjogZnVuY3Rpb24gKHRyYW5zYWN0aW9uLCBwcm9wcywgY29udGV4dCwgZWwpIHtcbiAgICAvLyBJbnRlbnRpb25hbCB1c2Ugb2YgIT0gdG8gYXZvaWQgY2F0Y2hpbmcgemVyby9mYWxzZS5cbiAgICB2YXIgaW5uZXJIVE1MID0gcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw7XG4gICAgaWYgKGlubmVySFRNTCAhPSBudWxsKSB7XG4gICAgICBpZiAoaW5uZXJIVE1MLl9faHRtbCAhPSBudWxsKSB7XG4gICAgICAgIHNldElubmVySFRNTChlbCwgaW5uZXJIVE1MLl9faHRtbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBjb250ZW50VG9Vc2UgPSBDT05URU5UX1RZUEVTW3R5cGVvZiBwcm9wcy5jaGlsZHJlbl0gPyBwcm9wcy5jaGlsZHJlbiA6IG51bGw7XG4gICAgICB2YXIgY2hpbGRyZW5Ub1VzZSA9IGNvbnRlbnRUb1VzZSAhPSBudWxsID8gbnVsbCA6IHByb3BzLmNoaWxkcmVuO1xuICAgICAgaWYgKGNvbnRlbnRUb1VzZSAhPSBudWxsKSB7XG4gICAgICAgIC8vIFRPRE86IFZhbGlkYXRlIHRoYXQgdGV4dCBpcyBhbGxvd2VkIGFzIGEgY2hpbGQgb2YgdGhpcyBub2RlXG4gICAgICAgIHNldFRleHRDb250ZW50KGVsLCBjb250ZW50VG9Vc2UpO1xuICAgICAgfSBlbHNlIGlmIChjaGlsZHJlblRvVXNlICE9IG51bGwpIHtcbiAgICAgICAgdmFyIG1vdW50SW1hZ2VzID0gdGhpcy5tb3VudENoaWxkcmVuKGNoaWxkcmVuVG9Vc2UsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb3VudEltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGVsLmFwcGVuZENoaWxkKG1vdW50SW1hZ2VzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVjZWl2ZXMgYSBuZXh0IGVsZW1lbnQgYW5kIHVwZGF0ZXMgdGhlIGNvbXBvbmVudC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBuZXh0RWxlbWVudFxuICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb258UmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHRcbiAgICovXG4gIHJlY2VpdmVDb21wb25lbnQ6IGZ1bmN0aW9uIChuZXh0RWxlbWVudCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICB2YXIgcHJldkVsZW1lbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudDtcbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG5leHRFbGVtZW50O1xuICAgIHRoaXMudXBkYXRlQ29tcG9uZW50KHRyYW5zYWN0aW9uLCBwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQsIGNvbnRleHQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgbmF0aXZlIERPTSBjb21wb25lbnQgYWZ0ZXIgaXQgaGFzIGFscmVhZHkgYmVlbiBhbGxvY2F0ZWQgYW5kXG4gICAqIGF0dGFjaGVkIHRvIHRoZSBET00uIFJlY29uY2lsZXMgdGhlIHJvb3QgRE9NIG5vZGUsIHRoZW4gcmVjdXJzZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IHByZXZFbGVtZW50XG4gICAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBuZXh0RWxlbWVudFxuICAgKiBAaW50ZXJuYWxcbiAgICogQG92ZXJyaWRhYmxlXG4gICAqL1xuICB1cGRhdGVDb21wb25lbnQ6IGZ1bmN0aW9uICh0cmFuc2FjdGlvbiwgcHJldkVsZW1lbnQsIG5leHRFbGVtZW50LCBjb250ZXh0KSB7XG4gICAgdmFyIGxhc3RQcm9wcyA9IHByZXZFbGVtZW50LnByb3BzO1xuICAgIHZhciBuZXh0UHJvcHMgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5wcm9wcztcblxuICAgIHN3aXRjaCAodGhpcy5fdGFnKSB7XG4gICAgICBjYXNlICdidXR0b24nOlxuICAgICAgICBsYXN0UHJvcHMgPSBSZWFjdERPTUJ1dHRvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICBuZXh0UHJvcHMgPSBSZWFjdERPTUJ1dHRvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgUmVhY3RET01JbnB1dC51cGRhdGVXcmFwcGVyKHRoaXMpO1xuICAgICAgICBsYXN0UHJvcHMgPSBSZWFjdERPTUlucHV0LmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgIG5leHRQcm9wcyA9IFJlYWN0RE9NSW5wdXQuZ2V0TmF0aXZlUHJvcHModGhpcywgbmV4dFByb3BzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvcHRpb24nOlxuICAgICAgICBsYXN0UHJvcHMgPSBSZWFjdERPTU9wdGlvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBsYXN0UHJvcHMpO1xuICAgICAgICBuZXh0UHJvcHMgPSBSZWFjdERPTU9wdGlvbi5nZXROYXRpdmVQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbGVjdCc6XG4gICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NU2VsZWN0LmdldE5hdGl2ZVByb3BzKHRoaXMsIGxhc3RQcm9wcyk7XG4gICAgICAgIG5leHRQcm9wcyA9IFJlYWN0RE9NU2VsZWN0LmdldE5hdGl2ZVByb3BzKHRoaXMsIG5leHRQcm9wcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGV4dGFyZWEnOlxuICAgICAgICBSZWFjdERPTVRleHRhcmVhLnVwZGF0ZVdyYXBwZXIodGhpcyk7XG4gICAgICAgIGxhc3RQcm9wcyA9IFJlYWN0RE9NVGV4dGFyZWEuZ2V0TmF0aXZlUHJvcHModGhpcywgbGFzdFByb3BzKTtcbiAgICAgICAgbmV4dFByb3BzID0gUmVhY3RET01UZXh0YXJlYS5nZXROYXRpdmVQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gSWYgdGhlIGNvbnRleHQgaXMgcmVmZXJlbmNlLWVxdWFsIHRvIHRoZSBvbGQgb25lLCBwYXNzIGRvd24gdGhlIHNhbWVcbiAgICAgIC8vIHByb2Nlc3NlZCBvYmplY3Qgc28gdGhlIHVwZGF0ZSBiYWlsb3V0IGluIFJlYWN0UmVjb25jaWxlciBiZWhhdmVzXG4gICAgICAvLyBjb3JyZWN0bHkgKGFuZCBpZGVudGljYWxseSBpbiBkZXYgYW5kIHByb2QpLiBTZWUgIzUwMDUuXG4gICAgICBpZiAodGhpcy5fdW5wcm9jZXNzZWRDb250ZXh0RGV2ICE9PSBjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuX3VucHJvY2Vzc2VkQ29udGV4dERldiA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NlZENvbnRleHREZXYgPSBwcm9jZXNzQ2hpbGRDb250ZXh0RGV2KGNvbnRleHQsIHRoaXMpO1xuICAgICAgfVxuICAgICAgY29udGV4dCA9IHRoaXMuX3Byb2Nlc3NlZENvbnRleHREZXY7XG4gICAgfVxuXG4gICAgYXNzZXJ0VmFsaWRQcm9wcyh0aGlzLCBuZXh0UHJvcHMpO1xuICAgIHRoaXMuX3VwZGF0ZURPTVByb3BlcnRpZXMobGFzdFByb3BzLCBuZXh0UHJvcHMsIHRyYW5zYWN0aW9uLCBudWxsKTtcbiAgICB0aGlzLl91cGRhdGVET01DaGlsZHJlbihsYXN0UHJvcHMsIG5leHRQcm9wcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuXG4gICAgaWYgKCFjYW5EZWZpbmVQcm9wZXJ0eSAmJiB0aGlzLl9ub2RlV2l0aExlZ2FjeVByb3BlcnRpZXMpIHtcbiAgICAgIHRoaXMuX25vZGVXaXRoTGVnYWN5UHJvcGVydGllcy5wcm9wcyA9IG5leHRQcm9wcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fdGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgLy8gPHNlbGVjdD4gdmFsdWUgdXBkYXRlIG5lZWRzIHRvIG9jY3VyIGFmdGVyIDxvcHRpb24+IGNoaWxkcmVuXG4gICAgICAvLyByZWNvbmNpbGlhdGlvblxuICAgICAgdHJhbnNhY3Rpb24uZ2V0UmVhY3RNb3VudFJlYWR5KCkuZW5xdWV1ZShwb3N0VXBkYXRlU2VsZWN0V3JhcHBlciwgdGhpcyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZWNvbmNpbGVzIHRoZSBwcm9wZXJ0aWVzIGJ5IGRldGVjdGluZyBkaWZmZXJlbmNlcyBpbiBwcm9wZXJ0eSB2YWx1ZXMgYW5kXG4gICAqIHVwZGF0aW5nIHRoZSBET00gYXMgbmVjZXNzYXJ5LiBUaGlzIGZ1bmN0aW9uIGlzIHByb2JhYmx5IHRoZSBzaW5nbGUgbW9zdFxuICAgKiBjcml0aWNhbCBwYXRoIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24uXG4gICAqXG4gICAqIFRPRE86IEJlbmNobWFyayB3aGV0aGVyIGNoZWNraW5nIGZvciBjaGFuZ2VkIHZhbHVlcyBpbiBtZW1vcnkgYWN0dWFsbHlcbiAgICogICAgICAgaW1wcm92ZXMgcGVyZm9ybWFuY2UgKGVzcGVjaWFsbHkgc3RhdGljYWxseSBwb3NpdGlvbmVkIGVsZW1lbnRzKS5cbiAgICogVE9ETzogQmVuY2htYXJrIHRoZSBlZmZlY3RzIG9mIHB1dHRpbmcgdGhpcyBhdCB0aGUgdG9wIHNpbmNlIDk5JSBvZiBwcm9wc1xuICAgKiAgICAgICBkbyBub3QgY2hhbmdlIGZvciBhIGdpdmVuIHJlY29uY2lsaWF0aW9uLlxuICAgKiBUT0RPOiBCZW5jaG1hcmsgYXJlYXMgdGhhdCBjYW4gYmUgaW1wcm92ZWQgd2l0aCBjYWNoaW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge29iamVjdH0gbGFzdFByb3BzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0UHJvcHNcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0gez9ET01FbGVtZW50fSBub2RlXG4gICAqL1xuICBfdXBkYXRlRE9NUHJvcGVydGllczogZnVuY3Rpb24gKGxhc3RQcm9wcywgbmV4dFByb3BzLCB0cmFuc2FjdGlvbiwgbm9kZSkge1xuICAgIHZhciBwcm9wS2V5O1xuICAgIHZhciBzdHlsZU5hbWU7XG4gICAgdmFyIHN0eWxlVXBkYXRlcztcbiAgICBmb3IgKHByb3BLZXkgaW4gbGFzdFByb3BzKSB7XG4gICAgICBpZiAobmV4dFByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpIHx8ICFsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgICAgdmFyIGxhc3RTdHlsZSA9IHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5O1xuICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiBsYXN0U3R5bGUpIHtcbiAgICAgICAgICBpZiAobGFzdFN0eWxlLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IHN0eWxlVXBkYXRlcyB8fCB7fTtcbiAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzU3R5bGVDb3B5ID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAocmVnaXN0cmF0aW9uTmFtZU1vZHVsZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgaWYgKGxhc3RQcm9wc1twcm9wS2V5XSkge1xuICAgICAgICAgIC8vIE9ubHkgY2FsbCBkZWxldGVMaXN0ZW5lciBpZiB0aGVyZSB3YXMgYSBsaXN0ZW5lciBwcmV2aW91c2x5IG9yXG4gICAgICAgICAgLy8gZWxzZSB3aWxsRGVsZXRlTGlzdGVuZXIgZ2V0cyBjYWxsZWQgd2hlbiB0aGVyZSB3YXNuJ3QgYWN0dWFsbHkgYVxuICAgICAgICAgIC8vIGxpc3RlbmVyIChlLmcuLCBvbkNsaWNrPXtudWxsfSlcbiAgICAgICAgICBkZWxldGVMaXN0ZW5lcih0aGlzLl9yb290Tm9kZUlELCBwcm9wS2V5KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChET01Qcm9wZXJ0eS5wcm9wZXJ0aWVzW3Byb3BLZXldIHx8IERPTVByb3BlcnR5LmlzQ3VzdG9tQXR0cmlidXRlKHByb3BLZXkpKSB7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgIG5vZGUgPSBSZWFjdE1vdW50LmdldE5vZGUodGhpcy5fcm9vdE5vZGVJRCk7XG4gICAgICAgIH1cbiAgICAgICAgRE9NUHJvcGVydHlPcGVyYXRpb25zLmRlbGV0ZVZhbHVlRm9yUHJvcGVydHkobm9kZSwgcHJvcEtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAocHJvcEtleSBpbiBuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBuZXh0UHJvcCA9IG5leHRQcm9wc1twcm9wS2V5XTtcbiAgICAgIHZhciBsYXN0UHJvcCA9IHByb3BLZXkgPT09IFNUWUxFID8gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgOiBsYXN0UHJvcHNbcHJvcEtleV07XG4gICAgICBpZiAoIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fCBuZXh0UHJvcCA9PT0gbGFzdFByb3ApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAocHJvcEtleSA9PT0gU1RZTEUpIHtcbiAgICAgICAgaWYgKG5leHRQcm9wKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGNoZWNrQW5kV2FybkZvck11dGF0ZWRTdHlsZSh0aGlzLl9wcmV2aW91c1N0eWxlQ29weSwgdGhpcy5fcHJldmlvdXNTdHlsZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9wcmV2aW91c1N0eWxlID0gbmV4dFByb3A7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHRQcm9wID0gdGhpcy5fcHJldmlvdXNTdHlsZUNvcHkgPSBhc3NpZ24oe30sIG5leHRQcm9wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9wcmV2aW91c1N0eWxlQ29weSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RQcm9wKSB7XG4gICAgICAgICAgLy8gVW5zZXQgc3R5bGVzIG9uIGBsYXN0UHJvcGAgYnV0IG5vdCBvbiBgbmV4dFByb3BgLlxuICAgICAgICAgIGZvciAoc3R5bGVOYW1lIGluIGxhc3RQcm9wKSB7XG4gICAgICAgICAgICBpZiAobGFzdFByb3AuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJiAoIW5leHRQcm9wIHx8ICFuZXh0UHJvcC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSkge1xuICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXMgPSBzdHlsZVVwZGF0ZXMgfHwge307XG4gICAgICAgICAgICAgIHN0eWxlVXBkYXRlc1tzdHlsZU5hbWVdID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFVwZGF0ZSBzdHlsZXMgdGhhdCBjaGFuZ2VkIHNpbmNlIGBsYXN0UHJvcGAuXG4gICAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gbmV4dFByb3ApIHtcbiAgICAgICAgICAgIGlmIChuZXh0UHJvcC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpICYmIGxhc3RQcm9wW3N0eWxlTmFtZV0gIT09IG5leHRQcm9wW3N0eWxlTmFtZV0pIHtcbiAgICAgICAgICAgICAgc3R5bGVVcGRhdGVzID0gc3R5bGVVcGRhdGVzIHx8IHt9O1xuICAgICAgICAgICAgICBzdHlsZVVwZGF0ZXNbc3R5bGVOYW1lXSA9IG5leHRQcm9wW3N0eWxlTmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJlbGllcyBvbiBgdXBkYXRlU3R5bGVzQnlJRGAgbm90IG11dGF0aW5nIGBzdHlsZVVwZGF0ZXNgLlxuICAgICAgICAgIHN0eWxlVXBkYXRlcyA9IG5leHRQcm9wO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJlZ2lzdHJhdGlvbk5hbWVNb2R1bGVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgIGlmIChuZXh0UHJvcCkge1xuICAgICAgICAgIGVucXVldWVQdXRMaXN0ZW5lcih0aGlzLl9yb290Tm9kZUlELCBwcm9wS2V5LCBuZXh0UHJvcCwgdHJhbnNhY3Rpb24pO1xuICAgICAgICB9IGVsc2UgaWYgKGxhc3RQcm9wKSB7XG4gICAgICAgICAgZGVsZXRlTGlzdGVuZXIodGhpcy5fcm9vdE5vZGVJRCwgcHJvcEtleSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNDdXN0b21Db21wb25lbnQodGhpcy5fdGFnLCBuZXh0UHJvcHMpKSB7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgIG5vZGUgPSBSZWFjdE1vdW50LmdldE5vZGUodGhpcy5fcm9vdE5vZGVJRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BLZXkgPT09IENISUxEUkVOKSB7XG4gICAgICAgICAgbmV4dFByb3AgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvckF0dHJpYnV0ZShub2RlLCBwcm9wS2V5LCBuZXh0UHJvcCk7XG4gICAgICB9IGVsc2UgaWYgKERPTVByb3BlcnR5LnByb3BlcnRpZXNbcHJvcEtleV0gfHwgRE9NUHJvcGVydHkuaXNDdXN0b21BdHRyaWJ1dGUocHJvcEtleSkpIHtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgbm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZSh0aGlzLl9yb290Tm9kZUlEKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSdyZSB1cGRhdGluZyB0byBudWxsIG9yIHVuZGVmaW5lZCwgd2Ugc2hvdWxkIHJlbW92ZSB0aGUgcHJvcGVydHlcbiAgICAgICAgLy8gZnJvbSB0aGUgRE9NIG5vZGUgaW5zdGVhZCBvZiBpbmFkdmVydGFudGx5IHNldHRpbmcgdG8gYSBzdHJpbmcuIFRoaXNcbiAgICAgICAgLy8gYnJpbmdzIHVzIGluIGxpbmUgd2l0aCB0aGUgc2FtZSBiZWhhdmlvciB3ZSBoYXZlIG9uIGluaXRpYWwgcmVuZGVyLlxuICAgICAgICBpZiAobmV4dFByb3AgIT0gbnVsbCkge1xuICAgICAgICAgIERPTVByb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvclByb3BlcnR5KG5vZGUsIHByb3BLZXksIG5leHRQcm9wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBET01Qcm9wZXJ0eU9wZXJhdGlvbnMuZGVsZXRlVmFsdWVGb3JQcm9wZXJ0eShub2RlLCBwcm9wS2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3R5bGVVcGRhdGVzKSB7XG4gICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgbm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZSh0aGlzLl9yb290Tm9kZUlEKTtcbiAgICAgIH1cbiAgICAgIENTU1Byb3BlcnR5T3BlcmF0aW9ucy5zZXRWYWx1ZUZvclN0eWxlcyhub2RlLCBzdHlsZVVwZGF0ZXMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVjb25jaWxlcyB0aGUgY2hpbGRyZW4gd2l0aCB0aGUgdmFyaW91cyBwcm9wZXJ0aWVzIHRoYXQgYWZmZWN0IHRoZVxuICAgKiBjaGlsZHJlbiBjb250ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbGFzdFByb3BzXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0UHJvcHNcbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dFxuICAgKi9cbiAgX3VwZGF0ZURPTUNoaWxkcmVuOiBmdW5jdGlvbiAobGFzdFByb3BzLCBuZXh0UHJvcHMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgdmFyIGxhc3RDb250ZW50ID0gQ09OVEVOVF9UWVBFU1t0eXBlb2YgbGFzdFByb3BzLmNoaWxkcmVuXSA/IGxhc3RQcm9wcy5jaGlsZHJlbiA6IG51bGw7XG4gICAgdmFyIG5leHRDb250ZW50ID0gQ09OVEVOVF9UWVBFU1t0eXBlb2YgbmV4dFByb3BzLmNoaWxkcmVuXSA/IG5leHRQcm9wcy5jaGlsZHJlbiA6IG51bGw7XG5cbiAgICB2YXIgbGFzdEh0bWwgPSBsYXN0UHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgJiYgbGFzdFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbDtcbiAgICB2YXIgbmV4dEh0bWwgPSBuZXh0UHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgJiYgbmV4dFByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbDtcblxuICAgIC8vIE5vdGUgdGhlIHVzZSBvZiBgIT1gIHdoaWNoIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWQuXG4gICAgdmFyIGxhc3RDaGlsZHJlbiA9IGxhc3RDb250ZW50ICE9IG51bGwgPyBudWxsIDogbGFzdFByb3BzLmNoaWxkcmVuO1xuICAgIHZhciBuZXh0Q2hpbGRyZW4gPSBuZXh0Q29udGVudCAhPSBudWxsID8gbnVsbCA6IG5leHRQcm9wcy5jaGlsZHJlbjtcblxuICAgIC8vIElmIHdlJ3JlIHN3aXRjaGluZyBmcm9tIGNoaWxkcmVuIHRvIGNvbnRlbnQvaHRtbCBvciB2aWNlIHZlcnNhLCByZW1vdmVcbiAgICAvLyB0aGUgb2xkIGNvbnRlbnRcbiAgICB2YXIgbGFzdEhhc0NvbnRlbnRPckh0bWwgPSBsYXN0Q29udGVudCAhPSBudWxsIHx8IGxhc3RIdG1sICE9IG51bGw7XG4gICAgdmFyIG5leHRIYXNDb250ZW50T3JIdG1sID0gbmV4dENvbnRlbnQgIT0gbnVsbCB8fCBuZXh0SHRtbCAhPSBudWxsO1xuICAgIGlmIChsYXN0Q2hpbGRyZW4gIT0gbnVsbCAmJiBuZXh0Q2hpbGRyZW4gPT0gbnVsbCkge1xuICAgICAgdGhpcy51cGRhdGVDaGlsZHJlbihudWxsLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChsYXN0SGFzQ29udGVudE9ySHRtbCAmJiAhbmV4dEhhc0NvbnRlbnRPckh0bWwpIHtcbiAgICAgIHRoaXMudXBkYXRlVGV4dENvbnRlbnQoJycpO1xuICAgIH1cblxuICAgIGlmIChuZXh0Q29udGVudCAhPSBudWxsKSB7XG4gICAgICBpZiAobGFzdENvbnRlbnQgIT09IG5leHRDb250ZW50KSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dENvbnRlbnQoJycgKyBuZXh0Q29udGVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChuZXh0SHRtbCAhPSBudWxsKSB7XG4gICAgICBpZiAobGFzdEh0bWwgIT09IG5leHRIdG1sKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTWFya3VwKCcnICsgbmV4dEh0bWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobmV4dENoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4obmV4dENoaWxkcmVuLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyBhbGwgZXZlbnQgcmVnaXN0cmF0aW9ucyBmb3IgdGhpcyBpbnN0YW5jZS4gRG9lcyBub3QgcmVtb3ZlIGZyb21cbiAgICogdGhlIERPTS4gVGhhdCBtdXN0IGJlIGRvbmUgYnkgdGhlIHBhcmVudC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICB1bm1vdW50Q29tcG9uZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgc3dpdGNoICh0aGlzLl90YWcpIHtcbiAgICAgIGNhc2UgJ2lmcmFtZSc6XG4gICAgICBjYXNlICdpbWcnOlxuICAgICAgY2FzZSAnZm9ybSc6XG4gICAgICBjYXNlICd2aWRlbyc6XG4gICAgICBjYXNlICdhdWRpbyc6XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl93cmFwcGVyU3RhdGUubGlzdGVuZXJzO1xuICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxpc3RlbmVyc1tpXS5yZW1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdpbnB1dCc6XG4gICAgICAgIFJlYWN0RE9NSW5wdXQudW5tb3VudFdyYXBwZXIodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaHRtbCc6XG4gICAgICBjYXNlICdoZWFkJzpcbiAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcG9uZW50cyBsaWtlIDxodG1sPiA8aGVhZD4gYW5kIDxib2R5PiBjYW4ndCBiZSByZW1vdmVkIG9yIGFkZGVkXG4gICAgICAgICAqIGVhc2lseSBpbiBhIGNyb3NzLWJyb3dzZXIgd2F5LCBob3dldmVyIGl0J3MgdmFsdWFibGUgdG8gYmUgYWJsZSB0b1xuICAgICAgICAgKiB0YWtlIGFkdmFudGFnZSBvZiBSZWFjdCdzIHJlY29uY2lsaWF0aW9uIGZvciBzdHlsaW5nIGFuZCA8dGl0bGU+XG4gICAgICAgICAqIG1hbmFnZW1lbnQuIFNvIHdlIGp1c3QgZG9jdW1lbnQgaXQgYW5kIHRocm93IGluIGRhbmdlcm91cyBjYXNlcy5cbiAgICAgICAgICovXG4gICAgICAgICFmYWxzZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICc8JXM+IHRyaWVkIHRvIHVubW91bnQuIEJlY2F1c2Ugb2YgY3Jvc3MtYnJvd3NlciBxdWlya3MgaXQgaXMgJyArICdpbXBvc3NpYmxlIHRvIHVubW91bnQgc29tZSB0b3AtbGV2ZWwgY29tcG9uZW50cyAoZWcgPGh0bWw+LCAnICsgJzxoZWFkPiwgYW5kIDxib2R5PikgcmVsaWFibHkgYW5kIGVmZmljaWVudGx5LiBUbyBmaXggdGhpcywgaGF2ZSBhICcgKyAnc2luZ2xlIHRvcC1sZXZlbCBjb21wb25lbnQgdGhhdCBuZXZlciB1bm1vdW50cyByZW5kZXIgdGhlc2UgJyArICdlbGVtZW50cy4nLCB0aGlzLl90YWcpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy51bm1vdW50Q2hpbGRyZW4oKTtcbiAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuZGVsZXRlQWxsTGlzdGVuZXJzKHRoaXMuX3Jvb3ROb2RlSUQpO1xuICAgIFJlYWN0Q29tcG9uZW50QnJvd3NlckVudmlyb25tZW50LnVubW91bnRJREZyb21FbnZpcm9ubWVudCh0aGlzLl9yb290Tm9kZUlEKTtcbiAgICB0aGlzLl9yb290Tm9kZUlEID0gbnVsbDtcbiAgICB0aGlzLl93cmFwcGVyU3RhdGUgPSBudWxsO1xuICAgIGlmICh0aGlzLl9ub2RlV2l0aExlZ2FjeVByb3BlcnRpZXMpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5fbm9kZVdpdGhMZWdhY3lQcm9wZXJ0aWVzO1xuICAgICAgbm9kZS5fcmVhY3RJbnRlcm5hbENvbXBvbmVudCA9IG51bGw7XG4gICAgICB0aGlzLl9ub2RlV2l0aExlZ2FjeVByb3BlcnRpZXMgPSBudWxsO1xuICAgIH1cbiAgfSxcblxuICBnZXRQdWJsaWNJbnN0YW5jZTogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5fbm9kZVdpdGhMZWdhY3lQcm9wZXJ0aWVzKSB7XG4gICAgICB2YXIgbm9kZSA9IFJlYWN0TW91bnQuZ2V0Tm9kZSh0aGlzLl9yb290Tm9kZUlEKTtcblxuICAgICAgbm9kZS5fcmVhY3RJbnRlcm5hbENvbXBvbmVudCA9IHRoaXM7XG4gICAgICBub2RlLmdldERPTU5vZGUgPSBsZWdhY3lHZXRET01Ob2RlO1xuICAgICAgbm9kZS5pc01vdW50ZWQgPSBsZWdhY3lJc01vdW50ZWQ7XG4gICAgICBub2RlLnNldFN0YXRlID0gbGVnYWN5U2V0U3RhdGVFdGM7XG4gICAgICBub2RlLnJlcGxhY2VTdGF0ZSA9IGxlZ2FjeVNldFN0YXRlRXRjO1xuICAgICAgbm9kZS5mb3JjZVVwZGF0ZSA9IGxlZ2FjeVNldFN0YXRlRXRjO1xuICAgICAgbm9kZS5zZXRQcm9wcyA9IGxlZ2FjeVNldFByb3BzO1xuICAgICAgbm9kZS5yZXBsYWNlUHJvcHMgPSBsZWdhY3lSZXBsYWNlUHJvcHM7XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG5vZGUsIGxlZ2FjeVByb3BzRGVzY3JpcHRvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdXBkYXRlQ29tcG9uZW50IHdpbGwgdXBkYXRlIHRoaXMgcHJvcGVydHkgb24gc3Vic2VxdWVudCByZW5kZXJzXG4gICAgICAgICAgbm9kZS5wcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1cGRhdGVDb21wb25lbnQgd2lsbCB1cGRhdGUgdGhpcyBwcm9wZXJ0eSBvbiBzdWJzZXF1ZW50IHJlbmRlcnNcbiAgICAgICAgbm9kZS5wcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9ub2RlV2l0aExlZ2FjeVByb3BlcnRpZXMgPSBub2RlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fbm9kZVdpdGhMZWdhY3lQcm9wZXJ0aWVzO1xuICB9XG5cbn07XG5cblJlYWN0UGVyZi5tZWFzdXJlTWV0aG9kcyhSZWFjdERPTUNvbXBvbmVudCwgJ1JlYWN0RE9NQ29tcG9uZW50Jywge1xuICBtb3VudENvbXBvbmVudDogJ21vdW50Q29tcG9uZW50JyxcbiAgdXBkYXRlQ29tcG9uZW50OiAndXBkYXRlQ29tcG9uZW50J1xufSk7XG5cbmFzc2lnbihSZWFjdERPTUNvbXBvbmVudC5wcm90b3R5cGUsIFJlYWN0RE9NQ29tcG9uZW50Lk1peGluLCBSZWFjdE11bHRpQ2hpbGQuTWl4aW4pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NQ29tcG9uZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBBdXRvRm9jdXNVdGlsc1xuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdE1vdW50ID0gcmVxdWlyZSgnLi9SZWFjdE1vdW50Jyk7XG5cbnZhciBmaW5kRE9NTm9kZSA9IHJlcXVpcmUoJy4vZmluZERPTU5vZGUnKTtcbnZhciBmb2N1c05vZGUgPSByZXF1aXJlKCdmYmpzL2xpYi9mb2N1c05vZGUnKTtcblxudmFyIE1peGluID0ge1xuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmF1dG9Gb2N1cykge1xuICAgICAgZm9jdXNOb2RlKGZpbmRET01Ob2RlKHRoaXMpKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBBdXRvRm9jdXNVdGlscyA9IHtcbiAgTWl4aW46IE1peGluLFxuXG4gIGZvY3VzRE9NQ29tcG9uZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgZm9jdXNOb2RlKFJlYWN0TW91bnQuZ2V0Tm9kZSh0aGlzLl9yb290Tm9kZUlEKSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQXV0b0ZvY3VzVXRpbHM7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIENTU1Byb3BlcnR5T3BlcmF0aW9uc1xuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBDU1NQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vQ1NTUHJvcGVydHknKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG52YXIgUmVhY3RQZXJmID0gcmVxdWlyZSgnLi9SZWFjdFBlcmYnKTtcblxudmFyIGNhbWVsaXplU3R5bGVOYW1lID0gcmVxdWlyZSgnZmJqcy9saWIvY2FtZWxpemVTdHlsZU5hbWUnKTtcbnZhciBkYW5nZXJvdXNTdHlsZVZhbHVlID0gcmVxdWlyZSgnLi9kYW5nZXJvdXNTdHlsZVZhbHVlJyk7XG52YXIgaHlwaGVuYXRlU3R5bGVOYW1lID0gcmVxdWlyZSgnZmJqcy9saWIvaHlwaGVuYXRlU3R5bGVOYW1lJyk7XG52YXIgbWVtb2l6ZVN0cmluZ09ubHkgPSByZXF1aXJlKCdmYmpzL2xpYi9tZW1vaXplU3RyaW5nT25seScpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5cbnZhciBwcm9jZXNzU3R5bGVOYW1lID0gbWVtb2l6ZVN0cmluZ09ubHkoZnVuY3Rpb24gKHN0eWxlTmFtZSkge1xuICByZXR1cm4gaHlwaGVuYXRlU3R5bGVOYW1lKHN0eWxlTmFtZSk7XG59KTtcblxudmFyIGhhc1Nob3J0aGFuZFByb3BlcnR5QnVnID0gZmFsc2U7XG52YXIgc3R5bGVGbG9hdEFjY2Vzc29yID0gJ2Nzc0Zsb2F0JztcbmlmIChFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgdmFyIHRlbXBTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLnN0eWxlO1xuICB0cnkge1xuICAgIC8vIElFOCB0aHJvd3MgXCJJbnZhbGlkIGFyZ3VtZW50LlwiIGlmIHJlc2V0dGluZyBzaG9ydGhhbmQgc3R5bGUgcHJvcGVydGllcy5cbiAgICB0ZW1wU3R5bGUuZm9udCA9ICcnO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaGFzU2hvcnRoYW5kUHJvcGVydHlCdWcgPSB0cnVlO1xuICB9XG4gIC8vIElFOCBvbmx5IHN1cHBvcnRzIGFjY2Vzc2luZyBjc3NGbG9hdCAoc3RhbmRhcmQpIGFzIHN0eWxlRmxvYXRcbiAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5jc3NGbG9hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc3R5bGVGbG9hdEFjY2Vzc29yID0gJ3N0eWxlRmxvYXQnO1xuICB9XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vICdtc1RyYW5zZm9ybScgaXMgY29ycmVjdCwgYnV0IHRoZSBvdGhlciBwcmVmaXhlcyBzaG91bGQgYmUgY2FwaXRhbGl6ZWRcbiAgdmFyIGJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybiA9IC9eKD86d2Via2l0fG1venxvKVtBLVpdLztcblxuICAvLyBzdHlsZSB2YWx1ZXMgc2hvdWxkbid0IGNvbnRhaW4gYSBzZW1pY29sb25cbiAgdmFyIGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiA9IC87XFxzKiQvO1xuXG4gIHZhciB3YXJuZWRTdHlsZU5hbWVzID0ge307XG4gIHZhciB3YXJuZWRTdHlsZVZhbHVlcyA9IHt9O1xuXG4gIHZhciB3YXJuSHlwaGVuYXRlZFN0eWxlTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnVW5zdXBwb3J0ZWQgc3R5bGUgcHJvcGVydHkgJXMuIERpZCB5b3UgbWVhbiAlcz8nLCBuYW1lLCBjYW1lbGl6ZVN0eWxlTmFtZShuYW1lKSkgOiB1bmRlZmluZWQ7XG4gIH07XG5cbiAgdmFyIHdhcm5CYWRWZW5kb3JlZFN0eWxlTmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgd2FybmVkU3R5bGVOYW1lc1tuYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFN0eWxlTmFtZXNbbmFtZV0gPSB0cnVlO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGZhbHNlLCAnVW5zdXBwb3J0ZWQgdmVuZG9yLXByZWZpeGVkIHN0eWxlIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/JywgbmFtZSwgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSkpIDogdW5kZWZpbmVkO1xuICB9O1xuXG4gIHZhciB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICBpZiAod2FybmVkU3R5bGVWYWx1ZXMuaGFzT3duUHJvcGVydHkodmFsdWUpICYmIHdhcm5lZFN0eWxlVmFsdWVzW3ZhbHVlXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdhcm5lZFN0eWxlVmFsdWVzW3ZhbHVlXSA9IHRydWU7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdTdHlsZSBwcm9wZXJ0eSB2YWx1ZXMgc2hvdWxkblxcJ3QgY29udGFpbiBhIHNlbWljb2xvbi4gJyArICdUcnkgXCIlczogJXNcIiBpbnN0ZWFkLicsIG5hbWUsIHZhbHVlLnJlcGxhY2UoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLCAnJykpIDogdW5kZWZpbmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqL1xuICB2YXIgd2FyblZhbGlkU3R5bGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICBpZiAobmFtZS5pbmRleE9mKCctJykgPiAtMSkge1xuICAgICAgd2Fybkh5cGhlbmF0ZWRTdHlsZU5hbWUobmFtZSk7XG4gICAgfSBlbHNlIGlmIChiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4udGVzdChuYW1lKSkge1xuICAgICAgd2FybkJhZFZlbmRvcmVkU3R5bGVOYW1lKG5hbWUpO1xuICAgIH0gZWxzZSBpZiAoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLnRlc3QodmFsdWUpKSB7XG4gICAgICB3YXJuU3R5bGVWYWx1ZVdpdGhTZW1pY29sb24obmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBPcGVyYXRpb25zIGZvciBkZWFsaW5nIHdpdGggQ1NTIHByb3BlcnRpZXMuXG4gKi9cbnZhciBDU1NQcm9wZXJ0eU9wZXJhdGlvbnMgPSB7XG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgYSBtYXBwaW5nIG9mIHN0eWxlIHByb3BlcnRpZXMgZm9yIHVzZSBhcyBpbmxpbmUgc3R5bGVzOlxuICAgKlxuICAgKiAgID4gY3JlYXRlTWFya3VwRm9yU3R5bGVzKHt3aWR0aDogJzIwMHB4JywgaGVpZ2h0OiAwfSlcbiAgICogICBcIndpZHRoOjIwMHB4O2hlaWdodDowO1wiXG4gICAqXG4gICAqIFVuZGVmaW5lZCB2YWx1ZXMgYXJlIGlnbm9yZWQgc28gdGhhdCBkZWNsYXJhdGl2ZSBwcm9ncmFtbWluZyBpcyBlYXNpZXIuXG4gICAqIFRoZSByZXN1bHQgc2hvdWxkIGJlIEhUTUwtZXNjYXBlZCBiZWZvcmUgaW5zZXJ0aW9uIGludG8gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlc1xuICAgKiBAcmV0dXJuIHs/c3RyaW5nfVxuICAgKi9cbiAgY3JlYXRlTWFya3VwRm9yU3R5bGVzOiBmdW5jdGlvbiAoc3R5bGVzKSB7XG4gICAgdmFyIHNlcmlhbGl6ZWQgPSAnJztcbiAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICBpZiAoIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHN0eWxlVmFsdWUgPSBzdHlsZXNbc3R5bGVOYW1lXTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm5WYWxpZFN0eWxlKHN0eWxlTmFtZSwgc3R5bGVWYWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHNlcmlhbGl6ZWQgKz0gcHJvY2Vzc1N0eWxlTmFtZShzdHlsZU5hbWUpICsgJzonO1xuICAgICAgICBzZXJpYWxpemVkICs9IGRhbmdlcm91c1N0eWxlVmFsdWUoc3R5bGVOYW1lLCBzdHlsZVZhbHVlKSArICc7JztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWQgfHwgbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyB0aGUgdmFsdWUgZm9yIG11bHRpcGxlIHN0eWxlcyBvbiBhIG5vZGUuICBJZiBhIHZhbHVlIGlzIHNwZWNpZmllZCBhc1xuICAgKiAnJyAoZW1wdHkgc3RyaW5nKSwgdGhlIGNvcnJlc3BvbmRpbmcgc3R5bGUgcHJvcGVydHkgd2lsbCBiZSB1bnNldC5cbiAgICpcbiAgICogQHBhcmFtIHtET01FbGVtZW50fSBub2RlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZXNcbiAgICovXG4gIHNldFZhbHVlRm9yU3R5bGVzOiBmdW5jdGlvbiAobm9kZSwgc3R5bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gbm9kZS5zdHlsZTtcbiAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gc3R5bGVzKSB7XG4gICAgICBpZiAoIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgd2FyblZhbGlkU3R5bGUoc3R5bGVOYW1lLCBzdHlsZXNbc3R5bGVOYW1lXSk7XG4gICAgICB9XG4gICAgICB2YXIgc3R5bGVWYWx1ZSA9IGRhbmdlcm91c1N0eWxlVmFsdWUoc3R5bGVOYW1lLCBzdHlsZXNbc3R5bGVOYW1lXSk7XG4gICAgICBpZiAoc3R5bGVOYW1lID09PSAnZmxvYXQnKSB7XG4gICAgICAgIHN0eWxlTmFtZSA9IHN0eWxlRmxvYXRBY2Nlc3NvcjtcbiAgICAgIH1cbiAgICAgIGlmIChzdHlsZVZhbHVlKSB7XG4gICAgICAgIHN0eWxlW3N0eWxlTmFtZV0gPSBzdHlsZVZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGV4cGFuc2lvbiA9IGhhc1Nob3J0aGFuZFByb3BlcnR5QnVnICYmIENTU1Byb3BlcnR5LnNob3J0aGFuZFByb3BlcnR5RXhwYW5zaW9uc1tzdHlsZU5hbWVdO1xuICAgICAgICBpZiAoZXhwYW5zaW9uKSB7XG4gICAgICAgICAgLy8gU2hvcnRoYW5kIHByb3BlcnR5IHRoYXQgSUU4IHdvbid0IGxpa2UgdW5zZXR0aW5nLCBzbyB1bnNldCBlYWNoXG4gICAgICAgICAgLy8gY29tcG9uZW50IHRvIHBsYWNhdGUgaXRcbiAgICAgICAgICBmb3IgKHZhciBpbmRpdmlkdWFsU3R5bGVOYW1lIGluIGV4cGFuc2lvbikge1xuICAgICAgICAgICAgc3R5bGVbaW5kaXZpZHVhbFN0eWxlTmFtZV0gPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGVbc3R5bGVOYW1lXSA9ICcnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn07XG5cblJlYWN0UGVyZi5tZWFzdXJlTWV0aG9kcyhDU1NQcm9wZXJ0eU9wZXJhdGlvbnMsICdDU1NQcm9wZXJ0eU9wZXJhdGlvbnMnLCB7XG4gIHNldFZhbHVlRm9yU3R5bGVzOiAnc2V0VmFsdWVGb3JTdHlsZXMnXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBDU1NQcm9wZXJ0eU9wZXJhdGlvbnM7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGNhbWVsaXplU3R5bGVOYW1lXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGNhbWVsaXplID0gcmVxdWlyZSgnLi9jYW1lbGl6ZScpO1xuXG52YXIgbXNQYXR0ZXJuID0gL14tbXMtLztcblxuLyoqXG4gKiBDYW1lbGNhc2VzIGEgaHlwaGVuYXRlZCBDU1MgcHJvcGVydHkgbmFtZSwgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGNhbWVsaXplU3R5bGVOYW1lKCdiYWNrZ3JvdW5kLWNvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmRDb2xvclwiXG4gKiAgID4gY2FtZWxpemVTdHlsZU5hbWUoJy1tb3otdHJhbnNpdGlvbicpXG4gKiAgIDwgXCJNb3pUcmFuc2l0aW9uXCJcbiAqICAgPiBjYW1lbGl6ZVN0eWxlTmFtZSgnLW1zLXRyYW5zaXRpb24nKVxuICogICA8IFwibXNUcmFuc2l0aW9uXCJcbiAqXG4gKiBBcyBBbmRpIFNtaXRoIHN1Z2dlc3RzXG4gKiAoaHR0cDovL3d3dy5hbmRpc21pdGguY29tL2Jsb2cvMjAxMi8wMi9tb2Rlcm5penItcHJlZml4ZWQvKSwgYW4gYC1tc2AgcHJlZml4XG4gKiBpcyBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlIGBtc2AuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZ1xuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjYW1lbGl6ZVN0eWxlTmFtZShzdHJpbmcpIHtcbiAgcmV0dXJuIGNhbWVsaXplKHN0cmluZy5yZXBsYWNlKG1zUGF0dGVybiwgJ21zLScpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbGl6ZVN0eWxlTmFtZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgY2FtZWxpemVcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaHlwaGVuUGF0dGVybiA9IC8tKC4pL2c7XG5cbi8qKlxuICogQ2FtZWxjYXNlcyBhIGh5cGhlbmF0ZWQgc3RyaW5nLCBmb3IgZXhhbXBsZTpcbiAqXG4gKiAgID4gY2FtZWxpemUoJ2JhY2tncm91bmQtY29sb3InKVxuICogICA8IFwiYmFja2dyb3VuZENvbG9yXCJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGNhbWVsaXplKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoX2h5cGhlblBhdHRlcm4sIGZ1bmN0aW9uIChfLCBjaGFyYWN0ZXIpIHtcbiAgICByZXR1cm4gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNhbWVsaXplOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBkYW5nZXJvdXNTdHlsZVZhbHVlXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIENTU1Byb3BlcnR5ID0gcmVxdWlyZSgnLi9DU1NQcm9wZXJ0eScpO1xuXG52YXIgaXNVbml0bGVzc051bWJlciA9IENTU1Byb3BlcnR5LmlzVW5pdGxlc3NOdW1iZXI7XG5cbi8qKlxuICogQ29udmVydCBhIHZhbHVlIGludG8gdGhlIHByb3BlciBjc3Mgd3JpdGFibGUgdmFsdWUuIFRoZSBzdHlsZSBuYW1lIGBuYW1lYFxuICogc2hvdWxkIGJlIGxvZ2ljYWwgKG5vIGh5cGhlbnMpLCBhcyBzcGVjaWZpZWRcbiAqIGluIGBDU1NQcm9wZXJ0eS5pc1VuaXRsZXNzTnVtYmVyYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDU1MgcHJvcGVydHkgbmFtZSBzdWNoIGFzIGB0b3BNYXJnaW5gLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBDU1MgcHJvcGVydHkgdmFsdWUgc3VjaCBhcyBgMTBweGAuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5vcm1hbGl6ZWQgc3R5bGUgdmFsdWUgd2l0aCBkaW1lbnNpb25zIGFwcGxpZWQuXG4gKi9cbmZ1bmN0aW9uIGRhbmdlcm91c1N0eWxlVmFsdWUobmFtZSwgdmFsdWUpIHtcbiAgLy8gTm90ZSB0aGF0IHdlJ3ZlIHJlbW92ZWQgZXNjYXBlVGV4dEZvckJyb3dzZXIoKSBjYWxscyBoZXJlIHNpbmNlIHRoZVxuICAvLyB3aG9sZSBzdHJpbmcgd2lsbCBiZSBlc2NhcGVkIHdoZW4gdGhlIGF0dHJpYnV0ZSBpcyBpbmplY3RlZCBpbnRvXG4gIC8vIHRoZSBtYXJrdXAuIElmIHlvdSBwcm92aWRlIHVuc2FmZSB1c2VyIGRhdGEgaGVyZSB0aGV5IGNhbiBpbmplY3RcbiAgLy8gYXJiaXRyYXJ5IENTUyB3aGljaCBtYXkgYmUgcHJvYmxlbWF0aWMgKEkgY291bGRuJ3QgcmVwcm8gdGhpcyk6XG4gIC8vIGh0dHBzOi8vd3d3Lm93YXNwLm9yZy9pbmRleC5waHAvWFNTX0ZpbHRlcl9FdmFzaW9uX0NoZWF0X1NoZWV0XG4gIC8vIGh0dHA6Ly93d3cudGhlc3Bhbm5lci5jby51ay8yMDA3LzExLzI2L3VsdGltYXRlLXhzcy1jc3MtaW5qZWN0aW9uL1xuICAvLyBUaGlzIGlzIG5vdCBhbiBYU1MgaG9sZSBidXQgaW5zdGVhZCBhIHBvdGVudGlhbCBDU1MgaW5qZWN0aW9uIGlzc3VlXG4gIC8vIHdoaWNoIGhhcyBsZWFkIHRvIGEgZ3JlYXRlciBkaXNjdXNzaW9uIGFib3V0IGhvdyB3ZSdyZSBnb2luZyB0b1xuICAvLyB0cnVzdCBVUkxzIG1vdmluZyBmb3J3YXJkLiBTZWUgIzIxMTU5MDFcblxuICB2YXIgaXNFbXB0eSA9IHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHwgdmFsdWUgPT09ICcnO1xuICBpZiAoaXNFbXB0eSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHZhciBpc05vbk51bWVyaWMgPSBpc05hTih2YWx1ZSk7XG4gIGlmIChpc05vbk51bWVyaWMgfHwgdmFsdWUgPT09IDAgfHwgaXNVbml0bGVzc051bWJlci5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBpc1VuaXRsZXNzTnVtYmVyW25hbWVdKSB7XG4gICAgcmV0dXJuICcnICsgdmFsdWU7IC8vIGNhc3QgdG8gc3RyaW5nXG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuICB9XG4gIHJldHVybiB2YWx1ZSArICdweCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGFuZ2Vyb3VzU3R5bGVWYWx1ZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgaHlwaGVuYXRlU3R5bGVOYW1lXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGh5cGhlbmF0ZSA9IHJlcXVpcmUoJy4vaHlwaGVuYXRlJyk7XG5cbnZhciBtc1BhdHRlcm4gPSAvXm1zLS87XG5cbi8qKlxuICogSHlwaGVuYXRlcyBhIGNhbWVsY2FzZWQgQ1NTIHByb3BlcnR5IG5hbWUsIGZvciBleGFtcGxlOlxuICpcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ2JhY2tncm91bmRDb2xvcicpXG4gKiAgIDwgXCJiYWNrZ3JvdW5kLWNvbG9yXCJcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ01velRyYW5zaXRpb24nKVxuICogICA8IFwiLW1vei10cmFuc2l0aW9uXCJcbiAqICAgPiBoeXBoZW5hdGVTdHlsZU5hbWUoJ21zVHJhbnNpdGlvbicpXG4gKiAgIDwgXCItbXMtdHJhbnNpdGlvblwiXG4gKlxuICogQXMgTW9kZXJuaXpyIHN1Z2dlc3RzIChodHRwOi8vbW9kZXJuaXpyLmNvbS9kb2NzLyNwcmVmaXhlZCksIGFuIGBtc2AgcHJlZml4XG4gKiBpcyBjb252ZXJ0ZWQgdG8gYC1tcy1gLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gaHlwaGVuYXRlU3R5bGVOYW1lKHN0cmluZykge1xuICByZXR1cm4gaHlwaGVuYXRlKHN0cmluZykucmVwbGFjZShtc1BhdHRlcm4sICctbXMtJyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaHlwaGVuYXRlU3R5bGVOYW1lOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBoeXBoZW5hdGVcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3VwcGVyY2FzZVBhdHRlcm4gPSAvKFtBLVpdKS9nO1xuXG4vKipcbiAqIEh5cGhlbmF0ZXMgYSBjYW1lbGNhc2VkIHN0cmluZywgZm9yIGV4YW1wbGU6XG4gKlxuICogICA+IGh5cGhlbmF0ZSgnYmFja2dyb3VuZENvbG9yJylcbiAqICAgPCBcImJhY2tncm91bmQtY29sb3JcIlxuICpcbiAqIEZvciBDU1Mgc3R5bGUgbmFtZXMsIHVzZSBgaHlwaGVuYXRlU3R5bGVOYW1lYCBpbnN0ZWFkIHdoaWNoIHdvcmtzIHByb3Blcmx5XG4gKiB3aXRoIGFsbCB2ZW5kb3IgcHJlZml4ZXMsIGluY2x1ZGluZyBgbXNgLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gaHlwaGVuYXRlKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoX3VwcGVyY2FzZVBhdHRlcm4sICctJDEnKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGh5cGhlbmF0ZTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgbWVtb2l6ZVN0cmluZ09ubHlcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1lbW9pemVzIHRoZSByZXR1cm4gdmFsdWUgb2YgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgb25lIHN0cmluZyBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybiB7ZnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIG1lbW9pemVTdHJpbmdPbmx5KGNhbGxiYWNrKSB7XG4gIHZhciBjYWNoZSA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gKHN0cmluZykge1xuICAgIGlmICghY2FjaGUuaGFzT3duUHJvcGVydHkoc3RyaW5nKSkge1xuICAgICAgY2FjaGVbc3RyaW5nXSA9IGNhbGxiYWNrLmNhbGwodGhpcywgc3RyaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlW3N0cmluZ107XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVtb2l6ZVN0cmluZ09ubHk7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NQnV0dG9uXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbW91c2VMaXN0ZW5lck5hbWVzID0ge1xuICBvbkNsaWNrOiB0cnVlLFxuICBvbkRvdWJsZUNsaWNrOiB0cnVlLFxuICBvbk1vdXNlRG93bjogdHJ1ZSxcbiAgb25Nb3VzZU1vdmU6IHRydWUsXG4gIG9uTW91c2VVcDogdHJ1ZSxcblxuICBvbkNsaWNrQ2FwdHVyZTogdHJ1ZSxcbiAgb25Eb3VibGVDbGlja0NhcHR1cmU6IHRydWUsXG4gIG9uTW91c2VEb3duQ2FwdHVyZTogdHJ1ZSxcbiAgb25Nb3VzZU1vdmVDYXB0dXJlOiB0cnVlLFxuICBvbk1vdXNlVXBDYXB0dXJlOiB0cnVlXG59O1xuXG4vKipcbiAqIEltcGxlbWVudHMgYSA8YnV0dG9uPiBuYXRpdmUgY29tcG9uZW50IHRoYXQgZG9lcyBub3QgcmVjZWl2ZSBtb3VzZSBldmVudHNcbiAqIHdoZW4gYGRpc2FibGVkYCBpcyBzZXQuXG4gKi9cbnZhciBSZWFjdERPTUJ1dHRvbiA9IHtcbiAgZ2V0TmF0aXZlUHJvcHM6IGZ1bmN0aW9uIChpbnN0LCBwcm9wcywgY29udGV4dCkge1xuICAgIGlmICghcHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9XG5cbiAgICAvLyBDb3B5IHRoZSBwcm9wcywgZXhjZXB0IHRoZSBtb3VzZSBsaXN0ZW5lcnNcbiAgICB2YXIgbmF0aXZlUHJvcHMgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFtb3VzZUxpc3RlbmVyTmFtZXNba2V5XSkge1xuICAgICAgICBuYXRpdmVQcm9wc1trZXldID0gcHJvcHNba2V5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmF0aXZlUHJvcHM7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01CdXR0b247IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NSW5wdXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdERPTUlET3BlcmF0aW9ucyA9IHJlcXVpcmUoJy4vUmVhY3RET01JRE9wZXJhdGlvbnMnKTtcbnZhciBMaW5rZWRWYWx1ZVV0aWxzID0gcmVxdWlyZSgnLi9MaW5rZWRWYWx1ZVV0aWxzJyk7XG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoJy4vUmVhY3RNb3VudCcpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVzJyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxudmFyIGluc3RhbmNlc0J5UmVhY3RJRCA9IHt9O1xuXG5mdW5jdGlvbiBmb3JjZVVwZGF0ZUlmTW91bnRlZCgpIHtcbiAgaWYgKHRoaXMuX3Jvb3ROb2RlSUQpIHtcbiAgICAvLyBET00gY29tcG9uZW50IGlzIHN0aWxsIG1vdW50ZWQ7IHVwZGF0ZVxuICAgIFJlYWN0RE9NSW5wdXQudXBkYXRlV3JhcHBlcih0aGlzKTtcbiAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgYW4gPGlucHV0PiBuYXRpdmUgY29tcG9uZW50IHRoYXQgYWxsb3dzIHNldHRpbmcgdGhlc2Ugb3B0aW9uYWxcbiAqIHByb3BzOiBgY2hlY2tlZGAsIGB2YWx1ZWAsIGBkZWZhdWx0Q2hlY2tlZGAsIGFuZCBgZGVmYXVsdFZhbHVlYC5cbiAqXG4gKiBJZiBgY2hlY2tlZGAgb3IgYHZhbHVlYCBhcmUgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9uc1xuICogdGhhdCBhZmZlY3QgdGhlIGNoZWNrZWQgc3RhdGUgb3IgdmFsdWUgd2lsbCB0cmlnZ2VyIHVwZGF0ZXMgdG8gdGhlIGVsZW1lbnQuXG4gKlxuICogSWYgdGhleSBhcmUgc3VwcGxpZWQgKGFuZCBub3QgbnVsbC91bmRlZmluZWQpLCB0aGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsIG5vdFxuICogdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LiBJbnN0ZWFkLCB0aGUgcHJvcHMgbXVzdCBjaGFuZ2UgaW4gb3JkZXIgZm9yXG4gKiB0aGUgcmVuZGVyZWQgZWxlbWVudCB0byBiZSB1cGRhdGVkLlxuICpcbiAqIFRoZSByZW5kZXJlZCBlbGVtZW50IHdpbGwgYmUgaW5pdGlhbGl6ZWQgYXMgdW5jaGVja2VkIChvciBgZGVmYXVsdENoZWNrZWRgKVxuICogd2l0aCBhbiBlbXB0eSB2YWx1ZSAob3IgYGRlZmF1bHRWYWx1ZWApLlxuICpcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMi9XRC1odG1sNS0yMDEyMTAyNS90aGUtaW5wdXQtZWxlbWVudC5odG1sXG4gKi9cbnZhciBSZWFjdERPTUlucHV0ID0ge1xuICBnZXROYXRpdmVQcm9wczogZnVuY3Rpb24gKGluc3QsIHByb3BzLCBjb250ZXh0KSB7XG4gICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG4gICAgdmFyIGNoZWNrZWQgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldENoZWNrZWQocHJvcHMpO1xuXG4gICAgdmFyIG5hdGl2ZVByb3BzID0gYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgZGVmYXVsdENoZWNrZWQ6IHVuZGVmaW5lZCxcbiAgICAgIGRlZmF1bHRWYWx1ZTogdW5kZWZpbmVkLFxuICAgICAgdmFsdWU6IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IGluc3QuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUsXG4gICAgICBjaGVja2VkOiBjaGVja2VkICE9IG51bGwgPyBjaGVja2VkIDogaW5zdC5fd3JhcHBlclN0YXRlLmluaXRpYWxDaGVja2VkLFxuICAgICAgb25DaGFuZ2U6IGluc3QuX3dyYXBwZXJTdGF0ZS5vbkNoYW5nZVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5hdGl2ZVByb3BzO1xuICB9LFxuXG4gIG1vdW50V3JhcHBlcjogZnVuY3Rpb24gKGluc3QsIHByb3BzKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIExpbmtlZFZhbHVlVXRpbHMuY2hlY2tQcm9wVHlwZXMoJ2lucHV0JywgcHJvcHMsIGluc3QuX2N1cnJlbnRFbGVtZW50Ll9vd25lcik7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICBpbnN0Ll93cmFwcGVyU3RhdGUgPSB7XG4gICAgICBpbml0aWFsQ2hlY2tlZDogcHJvcHMuZGVmYXVsdENoZWNrZWQgfHwgZmFsc2UsXG4gICAgICBpbml0aWFsVmFsdWU6IGRlZmF1bHRWYWx1ZSAhPSBudWxsID8gZGVmYXVsdFZhbHVlIDogbnVsbCxcbiAgICAgIG9uQ2hhbmdlOiBfaGFuZGxlQ2hhbmdlLmJpbmQoaW5zdClcbiAgICB9O1xuICB9LFxuXG4gIG1vdW50UmVhZHlXcmFwcGVyOiBmdW5jdGlvbiAoaW5zdCkge1xuICAgIC8vIENhbid0IGJlIGluIG1vdW50V3JhcHBlciBvciBlbHNlIHNlcnZlciByZW5kZXJpbmcgbGVha3MuXG4gICAgaW5zdGFuY2VzQnlSZWFjdElEW2luc3QuX3Jvb3ROb2RlSURdID0gaW5zdDtcbiAgfSxcblxuICB1bm1vdW50V3JhcHBlcjogZnVuY3Rpb24gKGluc3QpIHtcbiAgICBkZWxldGUgaW5zdGFuY2VzQnlSZWFjdElEW2luc3QuX3Jvb3ROb2RlSURdO1xuICB9LFxuXG4gIHVwZGF0ZVdyYXBwZXI6IGZ1bmN0aW9uIChpbnN0KSB7XG4gICAgdmFyIHByb3BzID0gaW5zdC5fY3VycmVudEVsZW1lbnQucHJvcHM7XG5cbiAgICAvLyBUT0RPOiBTaG91bGRuJ3QgdGhpcyBiZSBnZXRDaGVja2VkKHByb3BzKT9cbiAgICB2YXIgY2hlY2tlZCA9IHByb3BzLmNoZWNrZWQ7XG4gICAgaWYgKGNoZWNrZWQgIT0gbnVsbCkge1xuICAgICAgUmVhY3RET01JRE9wZXJhdGlvbnMudXBkYXRlUHJvcGVydHlCeUlEKGluc3QuX3Jvb3ROb2RlSUQsICdjaGVja2VkJywgY2hlY2tlZCB8fCBmYWxzZSk7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIC8vIENhc3QgYHZhbHVlYCB0byBhIHN0cmluZyB0byBlbnN1cmUgdGhlIHZhbHVlIGlzIHNldCBjb3JyZWN0bHkuIFdoaWxlXG4gICAgICAvLyBicm93c2VycyB0eXBpY2FsbHkgZG8gdGhpcyBhcyBuZWNlc3NhcnksIGpzZG9tIGRvZXNuJ3QuXG4gICAgICBSZWFjdERPTUlET3BlcmF0aW9ucy51cGRhdGVQcm9wZXJ0eUJ5SUQoaW5zdC5fcm9vdE5vZGVJRCwgJ3ZhbHVlJywgJycgKyB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBfaGFuZGxlQ2hhbmdlKGV2ZW50KSB7XG4gIHZhciBwcm9wcyA9IHRoaXMuX2N1cnJlbnRFbGVtZW50LnByb3BzO1xuXG4gIHZhciByZXR1cm5WYWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZXhlY3V0ZU9uQ2hhbmdlKHByb3BzLCBldmVudCk7XG5cbiAgLy8gSGVyZSB3ZSB1c2UgYXNhcCB0byB3YWl0IHVudGlsIGFsbCB1cGRhdGVzIGhhdmUgcHJvcGFnYXRlZCwgd2hpY2hcbiAgLy8gaXMgaW1wb3J0YW50IHdoZW4gdXNpbmcgY29udHJvbGxlZCBjb21wb25lbnRzIHdpdGhpbiBsYXllcnM6XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTY5OFxuICBSZWFjdFVwZGF0ZXMuYXNhcChmb3JjZVVwZGF0ZUlmTW91bnRlZCwgdGhpcyk7XG5cbiAgdmFyIG5hbWUgPSBwcm9wcy5uYW1lO1xuICBpZiAocHJvcHMudHlwZSA9PT0gJ3JhZGlvJyAmJiBuYW1lICE9IG51bGwpIHtcbiAgICB2YXIgcm9vdE5vZGUgPSBSZWFjdE1vdW50LmdldE5vZGUodGhpcy5fcm9vdE5vZGVJRCk7XG4gICAgdmFyIHF1ZXJ5Um9vdCA9IHJvb3ROb2RlO1xuXG4gICAgd2hpbGUgKHF1ZXJ5Um9vdC5wYXJlbnROb2RlKSB7XG4gICAgICBxdWVyeVJvb3QgPSBxdWVyeVJvb3QucGFyZW50Tm9kZTtcbiAgICB9XG5cbiAgICAvLyBJZiBgcm9vdE5vZGUuZm9ybWAgd2FzIG5vbi1udWxsLCB0aGVuIHdlIGNvdWxkIHRyeSBgZm9ybS5lbGVtZW50c2AsXG4gICAgLy8gYnV0IHRoYXQgc29tZXRpbWVzIGJlaGF2ZXMgc3RyYW5nZWx5IGluIElFOC4gV2UgY291bGQgYWxzbyB0cnkgdXNpbmdcbiAgICAvLyBgZm9ybS5nZXRFbGVtZW50c0J5TmFtZWAsIGJ1dCB0aGF0IHdpbGwgb25seSByZXR1cm4gZGlyZWN0IGNoaWxkcmVuXG4gICAgLy8gYW5kIHdvbid0IGluY2x1ZGUgaW5wdXRzIHRoYXQgdXNlIHRoZSBIVE1MNSBgZm9ybT1gIGF0dHJpYnV0ZS4gU2luY2VcbiAgICAvLyB0aGUgaW5wdXQgbWlnaHQgbm90IGV2ZW4gYmUgaW4gYSBmb3JtLCBsZXQncyBqdXN0IHVzZSB0aGUgZ2xvYmFsXG4gICAgLy8gYHF1ZXJ5U2VsZWN0b3JBbGxgIHRvIGVuc3VyZSB3ZSBkb24ndCBtaXNzIGFueXRoaW5nLlxuICAgIHZhciBncm91cCA9IHF1ZXJ5Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPScgKyBKU09OLnN0cmluZ2lmeSgnJyArIG5hbWUpICsgJ11bdHlwZT1cInJhZGlvXCJdJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgb3RoZXJOb2RlID0gZ3JvdXBbaV07XG4gICAgICBpZiAob3RoZXJOb2RlID09PSByb290Tm9kZSB8fCBvdGhlck5vZGUuZm9ybSAhPT0gcm9vdE5vZGUuZm9ybSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBpZiByYWRpbyBidXR0b25zIHJlbmRlcmVkIGJ5IGRpZmZlcmVudCBjb3BpZXMgb2YgUmVhY3RcbiAgICAgIC8vIGFuZCB0aGUgc2FtZSBuYW1lIGFyZSByZW5kZXJlZCBpbnRvIHRoZSBzYW1lIGZvcm0gKHNhbWUgYXMgIzE5MzkpLlxuICAgICAgLy8gVGhhdCdzIHByb2JhYmx5IG9rYXk7IHdlIGRvbid0IHN1cHBvcnQgaXQganVzdCBhcyB3ZSBkb24ndCBzdXBwb3J0XG4gICAgICAvLyBtaXhpbmcgUmVhY3Qgd2l0aCBub24tUmVhY3QuXG4gICAgICB2YXIgb3RoZXJJRCA9IFJlYWN0TW91bnQuZ2V0SUQob3RoZXJOb2RlKTtcbiAgICAgICFvdGhlcklEID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ1JlYWN0RE9NSW5wdXQ6IE1peGluZyBSZWFjdCBhbmQgbm9uLVJlYWN0IHJhZGlvIGlucHV0cyB3aXRoIHRoZSAnICsgJ3NhbWUgYG5hbWVgIGlzIG5vdCBzdXBwb3J0ZWQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIG90aGVySW5zdGFuY2UgPSBpbnN0YW5jZXNCeVJlYWN0SURbb3RoZXJJRF07XG4gICAgICAhb3RoZXJJbnN0YW5jZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdSZWFjdERPTUlucHV0OiBVbmtub3duIHJhZGlvIGJ1dHRvbiBJRCAlcy4nLCBvdGhlcklEKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgICAvLyBJZiB0aGlzIGlzIGEgY29udHJvbGxlZCByYWRpbyBidXR0b24gZ3JvdXAsIGZvcmNpbmcgdGhlIGlucHV0IHRoYXRcbiAgICAgIC8vIHdhcyBwcmV2aW91c2x5IGNoZWNrZWQgdG8gdXBkYXRlIHdpbGwgY2F1c2UgaXQgdG8gYmUgY29tZSByZS1jaGVja2VkXG4gICAgICAvLyBhcyBhcHByb3ByaWF0ZS5cbiAgICAgIFJlYWN0VXBkYXRlcy5hc2FwKGZvcmNlVXBkYXRlSWZNb3VudGVkLCBvdGhlckluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01JbnB1dDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01PcHRpb25cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdENoaWxkcmVuID0gcmVxdWlyZSgnLi9SZWFjdENoaWxkcmVuJyk7XG52YXIgUmVhY3RET01TZWxlY3QgPSByZXF1aXJlKCcuL1JlYWN0RE9NU2VsZWN0Jyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG52YXIgdmFsdWVDb250ZXh0S2V5ID0gUmVhY3RET01TZWxlY3QudmFsdWVDb250ZXh0S2V5O1xuXG4vKipcbiAqIEltcGxlbWVudHMgYW4gPG9wdGlvbj4gbmF0aXZlIGNvbXBvbmVudCB0aGF0IHdhcm5zIHdoZW4gYHNlbGVjdGVkYCBpcyBzZXQuXG4gKi9cbnZhciBSZWFjdERPTU9wdGlvbiA9IHtcbiAgbW91bnRXcmFwcGVyOiBmdW5jdGlvbiAoaW5zdCwgcHJvcHMsIGNvbnRleHQpIHtcbiAgICAvLyBUT0RPICh5dW5nc3RlcnMpOiBSZW1vdmUgc3VwcG9ydCBmb3IgYHNlbGVjdGVkYCBpbiA8b3B0aW9uPi5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcocHJvcHMuc2VsZWN0ZWQgPT0gbnVsbCwgJ1VzZSB0aGUgYGRlZmF1bHRWYWx1ZWAgb3IgYHZhbHVlYCBwcm9wcyBvbiA8c2VsZWN0PiBpbnN0ZWFkIG9mICcgKyAnc2V0dGluZyBgc2VsZWN0ZWRgIG9uIDxvcHRpb24+LicpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vIExvb2sgdXAgd2hldGhlciB0aGlzIG9wdGlvbiBpcyAnc2VsZWN0ZWQnIHZpYSBjb250ZXh0XG4gICAgdmFyIHNlbGVjdFZhbHVlID0gY29udGV4dFt2YWx1ZUNvbnRleHRLZXldO1xuXG4gICAgLy8gSWYgY29udGV4dCBrZXkgaXMgbnVsbCAoZS5nLiwgbm8gc3BlY2lmaWVkIHZhbHVlIG9yIGFmdGVyIGluaXRpYWwgbW91bnQpXG4gICAgLy8gb3IgbWlzc2luZyAoZS5nLiwgZm9yIDxkYXRhbGlzdD4pLCB3ZSBkb24ndCBjaGFuZ2UgcHJvcHMuc2VsZWN0ZWRcbiAgICB2YXIgc2VsZWN0ZWQgPSBudWxsO1xuICAgIGlmIChzZWxlY3RWYWx1ZSAhPSBudWxsKSB7XG4gICAgICBzZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0VmFsdWUpKSB7XG4gICAgICAgIC8vIG11bHRpcGxlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0VmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoJycgKyBzZWxlY3RWYWx1ZVtpXSA9PT0gJycgKyBwcm9wcy52YWx1ZSkge1xuICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxlY3RlZCA9ICcnICsgc2VsZWN0VmFsdWUgPT09ICcnICsgcHJvcHMudmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5zdC5fd3JhcHBlclN0YXRlID0geyBzZWxlY3RlZDogc2VsZWN0ZWQgfTtcbiAgfSxcblxuICBnZXROYXRpdmVQcm9wczogZnVuY3Rpb24gKGluc3QsIHByb3BzLCBjb250ZXh0KSB7XG4gICAgdmFyIG5hdGl2ZVByb3BzID0gYXNzaWduKHsgc2VsZWN0ZWQ6IHVuZGVmaW5lZCwgY2hpbGRyZW46IHVuZGVmaW5lZCB9LCBwcm9wcyk7XG5cbiAgICAvLyBSZWFkIHN0YXRlIG9ubHkgZnJvbSBpbml0aWFsIG1vdW50IGJlY2F1c2UgPHNlbGVjdD4gdXBkYXRlcyB2YWx1ZVxuICAgIC8vIG1hbnVhbGx5OyB3ZSBuZWVkIHRoZSBpbml0aWFsIHN0YXRlIG9ubHkgZm9yIHNlcnZlciByZW5kZXJpbmdcbiAgICBpZiAoaW5zdC5fd3JhcHBlclN0YXRlLnNlbGVjdGVkICE9IG51bGwpIHtcbiAgICAgIG5hdGl2ZVByb3BzLnNlbGVjdGVkID0gaW5zdC5fd3JhcHBlclN0YXRlLnNlbGVjdGVkO1xuICAgIH1cblxuICAgIHZhciBjb250ZW50ID0gJyc7XG5cbiAgICAvLyBGbGF0dGVuIGNoaWxkcmVuIGFuZCB3YXJuIGlmIHRoZXkgYXJlbid0IHN0cmluZ3Mgb3IgbnVtYmVycztcbiAgICAvLyBpbnZhbGlkIHR5cGVzIGFyZSBpZ25vcmVkLlxuICAgIFJlYWN0Q2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNoaWxkID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgY2hpbGQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gY2hpbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gd2FybmluZyhmYWxzZSwgJ09ubHkgc3RyaW5ncyBhbmQgbnVtYmVycyBhcmUgc3VwcG9ydGVkIGFzIDxvcHRpb24+IGNoaWxkcmVuLicpIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgIG5hdGl2ZVByb3BzLmNoaWxkcmVuID0gY29udGVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmF0aXZlUHJvcHM7XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTU9wdGlvbjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RET01UZXh0YXJlYVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIExpbmtlZFZhbHVlVXRpbHMgPSByZXF1aXJlKCcuL0xpbmtlZFZhbHVlVXRpbHMnKTtcbnZhciBSZWFjdERPTUlET3BlcmF0aW9ucyA9IHJlcXVpcmUoJy4vUmVhY3RET01JRE9wZXJhdGlvbnMnKTtcbnZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlcycpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi9PYmplY3QuYXNzaWduJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuZnVuY3Rpb24gZm9yY2VVcGRhdGVJZk1vdW50ZWQoKSB7XG4gIGlmICh0aGlzLl9yb290Tm9kZUlEKSB7XG4gICAgLy8gRE9NIGNvbXBvbmVudCBpcyBzdGlsbCBtb3VudGVkOyB1cGRhdGVcbiAgICBSZWFjdERPTVRleHRhcmVhLnVwZGF0ZVdyYXBwZXIodGhpcyk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGEgPHRleHRhcmVhPiBuYXRpdmUgY29tcG9uZW50IHRoYXQgYWxsb3dzIHNldHRpbmcgYHZhbHVlYCwgYW5kXG4gKiBgZGVmYXVsdFZhbHVlYC4gVGhpcyBkaWZmZXJzIGZyb20gdGhlIHRyYWRpdGlvbmFsIERPTSBBUEkgYmVjYXVzZSB2YWx1ZSBpc1xuICogdXN1YWxseSBzZXQgYXMgUENEQVRBIGNoaWxkcmVuLlxuICpcbiAqIElmIGB2YWx1ZWAgaXMgbm90IHN1cHBsaWVkIChvciBudWxsL3VuZGVmaW5lZCksIHVzZXIgYWN0aW9ucyB0aGF0IGFmZmVjdCB0aGVcbiAqIHZhbHVlIHdpbGwgdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LlxuICpcbiAqIElmIGB2YWx1ZWAgaXMgc3VwcGxpZWQgKGFuZCBub3QgbnVsbC91bmRlZmluZWQpLCB0aGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsXG4gKiBub3QgdHJpZ2dlciB1cGRhdGVzIHRvIHRoZSBlbGVtZW50LiBJbnN0ZWFkLCB0aGUgYHZhbHVlYCBwcm9wIG11c3QgY2hhbmdlIGluXG4gKiBvcmRlciBmb3IgdGhlIHJlbmRlcmVkIGVsZW1lbnQgdG8gYmUgdXBkYXRlZC5cbiAqXG4gKiBUaGUgcmVuZGVyZWQgZWxlbWVudCB3aWxsIGJlIGluaXRpYWxpemVkIHdpdGggYW4gZW1wdHkgdmFsdWUsIHRoZSBwcm9wXG4gKiBgZGVmYXVsdFZhbHVlYCBpZiBzcGVjaWZpZWQsIG9yIHRoZSBjaGlsZHJlbiBjb250ZW50IChkZXByZWNhdGVkKS5cbiAqL1xudmFyIFJlYWN0RE9NVGV4dGFyZWEgPSB7XG4gIGdldE5hdGl2ZVByb3BzOiBmdW5jdGlvbiAoaW5zdCwgcHJvcHMsIGNvbnRleHQpIHtcbiAgICAhKHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID09IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ2BkYW5nZXJvdXNseVNldElubmVySFRNTGAgZG9lcyBub3QgbWFrZSBzZW5zZSBvbiA8dGV4dGFyZWE+LicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIEFsd2F5cyBzZXQgY2hpbGRyZW4gdG8gdGhlIHNhbWUgdGhpbmcuIEluIElFOSwgdGhlIHNlbGVjdGlvbiByYW5nZSB3aWxsXG4gICAgLy8gZ2V0IHJlc2V0IGlmIGB0ZXh0Q29udGVudGAgaXMgbXV0YXRlZC5cbiAgICB2YXIgbmF0aXZlUHJvcHMgPSBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICBkZWZhdWx0VmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgICBjaGlsZHJlbjogaW5zdC5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSxcbiAgICAgIG9uQ2hhbmdlOiBpbnN0Ll93cmFwcGVyU3RhdGUub25DaGFuZ2VcbiAgICB9KTtcblxuICAgIHJldHVybiBuYXRpdmVQcm9wcztcbiAgfSxcblxuICBtb3VudFdyYXBwZXI6IGZ1bmN0aW9uIChpbnN0LCBwcm9wcykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBMaW5rZWRWYWx1ZVV0aWxzLmNoZWNrUHJvcFR5cGVzKCd0ZXh0YXJlYScsIHByb3BzLCBpbnN0Ll9jdXJyZW50RWxlbWVudC5fb3duZXIpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWU7XG4gICAgLy8gVE9ETyAoeXVuZ3N0ZXJzKTogUmVtb3ZlIHN1cHBvcnQgZm9yIGNoaWxkcmVuIGNvbnRlbnQgaW4gPHRleHRhcmVhPi5cbiAgICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHdhcm5pbmcoZmFsc2UsICdVc2UgdGhlIGBkZWZhdWx0VmFsdWVgIG9yIGB2YWx1ZWAgcHJvcHMgaW5zdGVhZCBvZiBzZXR0aW5nICcgKyAnY2hpbGRyZW4gb24gPHRleHRhcmVhPi4nKSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgICEoZGVmYXVsdFZhbHVlID09IG51bGwpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ0lmIHlvdSBzdXBwbHkgYGRlZmF1bHRWYWx1ZWAgb24gYSA8dGV4dGFyZWE+LCBkbyBub3QgcGFzcyBjaGlsZHJlbi4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgIShjaGlsZHJlbi5sZW5ndGggPD0gMSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAnPHRleHRhcmVhPiBjYW4gb25seSBoYXZlIGF0IG1vc3Qgb25lIGNoaWxkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlblswXTtcbiAgICAgIH1cblxuICAgICAgZGVmYXVsdFZhbHVlID0gJycgKyBjaGlsZHJlbjtcbiAgICB9XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSAnJztcbiAgICB9XG4gICAgdmFyIHZhbHVlID0gTGlua2VkVmFsdWVVdGlscy5nZXRWYWx1ZShwcm9wcyk7XG5cbiAgICBpbnN0Ll93cmFwcGVyU3RhdGUgPSB7XG4gICAgICAvLyBXZSBzYXZlIHRoZSBpbml0aWFsIHZhbHVlIHNvIHRoYXQgYFJlYWN0RE9NQ29tcG9uZW50YCBkb2Vzbid0IHVwZGF0ZVxuICAgICAgLy8gYHRleHRDb250ZW50YCAodW5uZWNlc3Nhcnkgc2luY2Ugd2UgdXBkYXRlIHZhbHVlKS5cbiAgICAgIC8vIFRoZSBpbml0aWFsIHZhbHVlIGNhbiBiZSBhIGJvb2xlYW4gb3Igb2JqZWN0IHNvIHRoYXQncyB3aHkgaXQnc1xuICAgICAgLy8gZm9yY2VkIHRvIGJlIGEgc3RyaW5nLlxuICAgICAgaW5pdGlhbFZhbHVlOiAnJyArICh2YWx1ZSAhPSBudWxsID8gdmFsdWUgOiBkZWZhdWx0VmFsdWUpLFxuICAgICAgb25DaGFuZ2U6IF9oYW5kbGVDaGFuZ2UuYmluZChpbnN0KVxuICAgIH07XG4gIH0sXG5cbiAgdXBkYXRlV3JhcHBlcjogZnVuY3Rpb24gKGluc3QpIHtcbiAgICB2YXIgcHJvcHMgPSBpbnN0Ll9jdXJyZW50RWxlbWVudC5wcm9wcztcbiAgICB2YXIgdmFsdWUgPSBMaW5rZWRWYWx1ZVV0aWxzLmdldFZhbHVlKHByb3BzKTtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgLy8gQ2FzdCBgdmFsdWVgIHRvIGEgc3RyaW5nIHRvIGVuc3VyZSB0aGUgdmFsdWUgaXMgc2V0IGNvcnJlY3RseS4gV2hpbGVcbiAgICAgIC8vIGJyb3dzZXJzIHR5cGljYWxseSBkbyB0aGlzIGFzIG5lY2Vzc2FyeSwganNkb20gZG9lc24ndC5cbiAgICAgIFJlYWN0RE9NSURPcGVyYXRpb25zLnVwZGF0ZVByb3BlcnR5QnlJRChpbnN0Ll9yb290Tm9kZUlELCAndmFsdWUnLCAnJyArIHZhbHVlKTtcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIF9oYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgdmFyIHByb3BzID0gdGhpcy5fY3VycmVudEVsZW1lbnQucHJvcHM7XG4gIHZhciByZXR1cm5WYWx1ZSA9IExpbmtlZFZhbHVlVXRpbHMuZXhlY3V0ZU9uQ2hhbmdlKHByb3BzLCBldmVudCk7XG4gIFJlYWN0VXBkYXRlcy5hc2FwKGZvcmNlVXBkYXRlSWZNb3VudGVkLCB0aGlzKTtcbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NVGV4dGFyZWE7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0TXVsdGlDaGlsZFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdENvbXBvbmVudEVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9SZWFjdENvbXBvbmVudEVudmlyb25tZW50Jyk7XG52YXIgUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMgPSByZXF1aXJlKCcuL1JlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzJyk7XG5cbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IHJlcXVpcmUoJy4vUmVhY3RDdXJyZW50T3duZXInKTtcbnZhciBSZWFjdFJlY29uY2lsZXIgPSByZXF1aXJlKCcuL1JlYWN0UmVjb25jaWxlcicpO1xudmFyIFJlYWN0Q2hpbGRSZWNvbmNpbGVyID0gcmVxdWlyZSgnLi9SZWFjdENoaWxkUmVjb25jaWxlcicpO1xuXG52YXIgZmxhdHRlbkNoaWxkcmVuID0gcmVxdWlyZSgnLi9mbGF0dGVuQ2hpbGRyZW4nKTtcblxuLyoqXG4gKiBVcGRhdGluZyBjaGlsZHJlbiBvZiBhIGNvbXBvbmVudCBtYXkgdHJpZ2dlciByZWN1cnNpdmUgdXBkYXRlcy4gVGhlIGRlcHRoIGlzXG4gKiB1c2VkIHRvIGJhdGNoIHJlY3Vyc2l2ZSB1cGRhdGVzIHRvIHJlbmRlciBtYXJrdXAgbW9yZSBlZmZpY2llbnRseS5cbiAqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQHByaXZhdGVcbiAqL1xudmFyIHVwZGF0ZURlcHRoID0gMDtcblxuLyoqXG4gKiBRdWV1ZSBvZiB1cGRhdGUgY29uZmlndXJhdGlvbiBvYmplY3RzLlxuICpcbiAqIEVhY2ggb2JqZWN0IGhhcyBhIGB0eXBlYCBwcm9wZXJ0eSB0aGF0IGlzIGluIGBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlc2AuXG4gKlxuICogQHR5cGUge2FycmF5PG9iamVjdD59XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgdXBkYXRlUXVldWUgPSBbXTtcblxuLyoqXG4gKiBRdWV1ZSBvZiBtYXJrdXAgdG8gYmUgcmVuZGVyZWQuXG4gKlxuICogQHR5cGUge2FycmF5PHN0cmluZz59XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgbWFya3VwUXVldWUgPSBbXTtcblxuLyoqXG4gKiBFbnF1ZXVlcyBtYXJrdXAgdG8gYmUgcmVuZGVyZWQgYW5kIGluc2VydGVkIGF0IGEgc3VwcGxpZWQgaW5kZXguXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudElEIElEIG9mIHRoZSBwYXJlbnQgY29tcG9uZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IG1hcmt1cCBNYXJrdXAgdGhhdCByZW5kZXJzIGludG8gYW4gZWxlbWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b0luZGV4IERlc3RpbmF0aW9uIGluZGV4LlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZW5xdWV1ZUluc2VydE1hcmt1cChwYXJlbnRJRCwgbWFya3VwLCB0b0luZGV4KSB7XG4gIC8vIE5PVEU6IE51bGwgdmFsdWVzIHJlZHVjZSBoaWRkZW4gY2xhc3Nlcy5cbiAgdXBkYXRlUXVldWUucHVzaCh7XG4gICAgcGFyZW50SUQ6IHBhcmVudElELFxuICAgIHBhcmVudE5vZGU6IG51bGwsXG4gICAgdHlwZTogUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuSU5TRVJUX01BUktVUCxcbiAgICBtYXJrdXBJbmRleDogbWFya3VwUXVldWUucHVzaChtYXJrdXApIC0gMSxcbiAgICBjb250ZW50OiBudWxsLFxuICAgIGZyb21JbmRleDogbnVsbCxcbiAgICB0b0luZGV4OiB0b0luZGV4XG4gIH0pO1xufVxuXG4vKipcbiAqIEVucXVldWVzIG1vdmluZyBhbiBleGlzdGluZyBlbGVtZW50IHRvIGFub3RoZXIgaW5kZXguXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudElEIElEIG9mIHRoZSBwYXJlbnQgY29tcG9uZW50LlxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBTb3VyY2UgaW5kZXggb2YgdGhlIGV4aXN0aW5nIGVsZW1lbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gdG9JbmRleCBEZXN0aW5hdGlvbiBpbmRleCBvZiB0aGUgZWxlbWVudC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVucXVldWVNb3ZlKHBhcmVudElELCBmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgLy8gTk9URTogTnVsbCB2YWx1ZXMgcmVkdWNlIGhpZGRlbiBjbGFzc2VzLlxuICB1cGRhdGVRdWV1ZS5wdXNoKHtcbiAgICBwYXJlbnRJRDogcGFyZW50SUQsXG4gICAgcGFyZW50Tm9kZTogbnVsbCxcbiAgICB0eXBlOiBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5NT1ZFX0VYSVNUSU5HLFxuICAgIG1hcmt1cEluZGV4OiBudWxsLFxuICAgIGNvbnRlbnQ6IG51bGwsXG4gICAgZnJvbUluZGV4OiBmcm9tSW5kZXgsXG4gICAgdG9JbmRleDogdG9JbmRleFxuICB9KTtcbn1cblxuLyoqXG4gKiBFbnF1ZXVlcyByZW1vdmluZyBhbiBlbGVtZW50IGF0IGFuIGluZGV4LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRJRCBJRCBvZiB0aGUgcGFyZW50IGNvbXBvbmVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggSW5kZXggb2YgdGhlIGVsZW1lbnQgdG8gcmVtb3ZlLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZW5xdWV1ZVJlbW92ZShwYXJlbnRJRCwgZnJvbUluZGV4KSB7XG4gIC8vIE5PVEU6IE51bGwgdmFsdWVzIHJlZHVjZSBoaWRkZW4gY2xhc3Nlcy5cbiAgdXBkYXRlUXVldWUucHVzaCh7XG4gICAgcGFyZW50SUQ6IHBhcmVudElELFxuICAgIHBhcmVudE5vZGU6IG51bGwsXG4gICAgdHlwZTogUmVhY3RNdWx0aUNoaWxkVXBkYXRlVHlwZXMuUkVNT1ZFX05PREUsXG4gICAgbWFya3VwSW5kZXg6IG51bGwsXG4gICAgY29udGVudDogbnVsbCxcbiAgICBmcm9tSW5kZXg6IGZyb21JbmRleCxcbiAgICB0b0luZGV4OiBudWxsXG4gIH0pO1xufVxuXG4vKipcbiAqIEVucXVldWVzIHNldHRpbmcgdGhlIG1hcmt1cCBvZiBhIG5vZGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudElEIElEIG9mIHRoZSBwYXJlbnQgY29tcG9uZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IG1hcmt1cCBNYXJrdXAgdGhhdCByZW5kZXJzIGludG8gYW4gZWxlbWVudC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVucXVldWVTZXRNYXJrdXAocGFyZW50SUQsIG1hcmt1cCkge1xuICAvLyBOT1RFOiBOdWxsIHZhbHVlcyByZWR1Y2UgaGlkZGVuIGNsYXNzZXMuXG4gIHVwZGF0ZVF1ZXVlLnB1c2goe1xuICAgIHBhcmVudElEOiBwYXJlbnRJRCxcbiAgICBwYXJlbnROb2RlOiBudWxsLFxuICAgIHR5cGU6IFJlYWN0TXVsdGlDaGlsZFVwZGF0ZVR5cGVzLlNFVF9NQVJLVVAsXG4gICAgbWFya3VwSW5kZXg6IG51bGwsXG4gICAgY29udGVudDogbWFya3VwLFxuICAgIGZyb21JbmRleDogbnVsbCxcbiAgICB0b0luZGV4OiBudWxsXG4gIH0pO1xufVxuXG4vKipcbiAqIEVucXVldWVzIHNldHRpbmcgdGhlIHRleHQgY29udGVudC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50SUQgSUQgb2YgdGhlIHBhcmVudCBjb21wb25lbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dENvbnRlbnQgVGV4dCBjb250ZW50IHRvIHNldC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVucXVldWVUZXh0Q29udGVudChwYXJlbnRJRCwgdGV4dENvbnRlbnQpIHtcbiAgLy8gTk9URTogTnVsbCB2YWx1ZXMgcmVkdWNlIGhpZGRlbiBjbGFzc2VzLlxuICB1cGRhdGVRdWV1ZS5wdXNoKHtcbiAgICBwYXJlbnRJRDogcGFyZW50SUQsXG4gICAgcGFyZW50Tm9kZTogbnVsbCxcbiAgICB0eXBlOiBSZWFjdE11bHRpQ2hpbGRVcGRhdGVUeXBlcy5URVhUX0NPTlRFTlQsXG4gICAgbWFya3VwSW5kZXg6IG51bGwsXG4gICAgY29udGVudDogdGV4dENvbnRlbnQsXG4gICAgZnJvbUluZGV4OiBudWxsLFxuICAgIHRvSW5kZXg6IG51bGxcbiAgfSk7XG59XG5cbi8qKlxuICogUHJvY2Vzc2VzIGFueSBlbnF1ZXVlZCB1cGRhdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NRdWV1ZSgpIHtcbiAgaWYgKHVwZGF0ZVF1ZXVlLmxlbmd0aCkge1xuICAgIFJlYWN0Q29tcG9uZW50RW52aXJvbm1lbnQucHJvY2Vzc0NoaWxkcmVuVXBkYXRlcyh1cGRhdGVRdWV1ZSwgbWFya3VwUXVldWUpO1xuICAgIGNsZWFyUXVldWUoKTtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFycyBhbnkgZW5xdWV1ZWQgdXBkYXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjbGVhclF1ZXVlKCkge1xuICB1cGRhdGVRdWV1ZS5sZW5ndGggPSAwO1xuICBtYXJrdXBRdWV1ZS5sZW5ndGggPSAwO1xufVxuXG4vKipcbiAqIFJlYWN0TXVsdGlDaGlsZCBhcmUgY2FwYWJsZSBvZiByZWNvbmNpbGluZyBtdWx0aXBsZSBjaGlsZHJlbi5cbiAqXG4gKiBAY2xhc3MgUmVhY3RNdWx0aUNoaWxkXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIFJlYWN0TXVsdGlDaGlsZCA9IHtcblxuICAvKipcbiAgICogUHJvdmlkZXMgY29tbW9uIGZ1bmN0aW9uYWxpdHkgZm9yIGNvbXBvbmVudHMgdGhhdCBtdXN0IHJlY29uY2lsZSBtdWx0aXBsZVxuICAgKiBjaGlsZHJlbi4gVGhpcyBpcyB1c2VkIGJ5IGBSZWFjdERPTUNvbXBvbmVudGAgdG8gbW91bnQsIHVwZGF0ZSwgYW5kXG4gICAqIHVubW91bnQgY2hpbGQgY29tcG9uZW50cy5cbiAgICpcbiAgICogQGxlbmRzIHtSZWFjdE11bHRpQ2hpbGQucHJvdG90eXBlfVxuICAgKi9cbiAgTWl4aW46IHtcblxuICAgIF9yZWNvbmNpbGVySW5zdGFudGlhdGVDaGlsZHJlbjogZnVuY3Rpb24gKG5lc3RlZENoaWxkcmVuLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgPSB0aGlzLl9jdXJyZW50RWxlbWVudC5fb3duZXI7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3RDaGlsZFJlY29uY2lsZXIuaW5zdGFudGlhdGVDaGlsZHJlbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdENoaWxkUmVjb25jaWxlci5pbnN0YW50aWF0ZUNoaWxkcmVuKG5lc3RlZENoaWxkcmVuLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIF9yZWNvbmNpbGVyVXBkYXRlQ2hpbGRyZW46IGZ1bmN0aW9uIChwcmV2Q2hpbGRyZW4sIG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgdmFyIG5leHRDaGlsZHJlbjtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ID0gdGhpcy5fY3VycmVudEVsZW1lbnQuX293bmVyO1xuICAgICAgICAgICAgbmV4dENoaWxkcmVuID0gZmxhdHRlbkNoaWxkcmVuKG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBSZWFjdENoaWxkUmVjb25jaWxlci51cGRhdGVDaGlsZHJlbihwcmV2Q2hpbGRyZW4sIG5leHRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0Q2hpbGRyZW4gPSBmbGF0dGVuQ2hpbGRyZW4obmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMpO1xuICAgICAgcmV0dXJuIFJlYWN0Q2hpbGRSZWNvbmNpbGVyLnVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dENoaWxkcmVuLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIFwibW91bnQgaW1hZ2VcIiBmb3IgZWFjaCBvZiB0aGUgc3VwcGxpZWQgY2hpbGRyZW4uIEluIHRoZSBjYXNlXG4gICAgICogb2YgYFJlYWN0RE9NQ29tcG9uZW50YCwgYSBtb3VudCBpbWFnZSBpcyBhIHN0cmluZyBvZiBtYXJrdXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gez9vYmplY3R9IG5lc3RlZENoaWxkcmVuIE5lc3RlZCBjaGlsZCBtYXBzLlxuICAgICAqIEByZXR1cm4ge2FycmF5fSBBbiBhcnJheSBvZiBtb3VudGVkIHJlcHJlc2VudGF0aW9ucy5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBtb3VudENoaWxkcmVuOiBmdW5jdGlvbiAobmVzdGVkQ2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLl9yZWNvbmNpbGVySW5zdGFudGlhdGVDaGlsZHJlbihuZXN0ZWRDaGlsZHJlbiwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgdGhpcy5fcmVuZGVyZWRDaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgdmFyIG1vdW50SW1hZ2VzID0gW107XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgZm9yICh2YXIgbmFtZSBpbiBjaGlsZHJlbikge1xuICAgICAgICBpZiAoY2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltuYW1lXTtcbiAgICAgICAgICAvLyBJbmxpbmVkIGZvciBwZXJmb3JtYW5jZSwgc2VlIGBSZWFjdEluc3RhbmNlSGFuZGxlcy5jcmVhdGVSZWFjdElEYC5cbiAgICAgICAgICB2YXIgcm9vdElEID0gdGhpcy5fcm9vdE5vZGVJRCArIG5hbWU7XG4gICAgICAgICAgdmFyIG1vdW50SW1hZ2UgPSBSZWFjdFJlY29uY2lsZXIubW91bnRDb21wb25lbnQoY2hpbGQsIHJvb3RJRCwgdHJhbnNhY3Rpb24sIGNvbnRleHQpO1xuICAgICAgICAgIGNoaWxkLl9tb3VudEluZGV4ID0gaW5kZXgrKztcbiAgICAgICAgICBtb3VudEltYWdlcy5wdXNoKG1vdW50SW1hZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbW91bnRJbWFnZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIGFueSByZW5kZXJlZCBjaGlsZHJlbiB3aXRoIGEgdGV4dCBjb250ZW50IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXh0Q29udGVudCBTdHJpbmcgb2YgY29udGVudC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB1cGRhdGVUZXh0Q29udGVudDogZnVuY3Rpb24gKG5leHRDb250ZW50KSB7XG4gICAgICB1cGRhdGVEZXB0aCsrO1xuICAgICAgdmFyIGVycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBwcmV2Q2hpbGRyZW4gPSB0aGlzLl9yZW5kZXJlZENoaWxkcmVuO1xuICAgICAgICAvLyBSZW1vdmUgYW55IHJlbmRlcmVkIGNoaWxkcmVuLlxuICAgICAgICBSZWFjdENoaWxkUmVjb25jaWxlci51bm1vdW50Q2hpbGRyZW4ocHJldkNoaWxkcmVuKTtcbiAgICAgICAgLy8gVE9ETzogVGhlIHNldFRleHRDb250ZW50IG9wZXJhdGlvbiBzaG91bGQgYmUgZW5vdWdoXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKHByZXZDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5fdW5tb3VudENoaWxkKHByZXZDaGlsZHJlbltuYW1lXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNldCBuZXcgdGV4dCBjb250ZW50LlxuICAgICAgICB0aGlzLnNldFRleHRDb250ZW50KG5leHRDb250ZW50KTtcbiAgICAgICAgZXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHVwZGF0ZURlcHRoLS07XG4gICAgICAgIGlmICghdXBkYXRlRGVwdGgpIHtcbiAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgIGNsZWFyUXVldWUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIGFueSByZW5kZXJlZCBjaGlsZHJlbiB3aXRoIGEgbWFya3VwIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXh0TWFya3VwIFN0cmluZyBvZiBtYXJrdXAuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdXBkYXRlTWFya3VwOiBmdW5jdGlvbiAobmV4dE1hcmt1cCkge1xuICAgICAgdXBkYXRlRGVwdGgrKztcbiAgICAgIHZhciBlcnJvclRocm93biA9IHRydWU7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcHJldkNoaWxkcmVuID0gdGhpcy5fcmVuZGVyZWRDaGlsZHJlbjtcbiAgICAgICAgLy8gUmVtb3ZlIGFueSByZW5kZXJlZCBjaGlsZHJlbi5cbiAgICAgICAgUmVhY3RDaGlsZFJlY29uY2lsZXIudW5tb3VudENoaWxkcmVuKHByZXZDaGlsZHJlbik7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gcHJldkNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKHByZXZDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5fdW5tb3VudENoaWxkQnlOYW1lKHByZXZDaGlsZHJlbltuYW1lXSwgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0TWFya3VwKG5leHRNYXJrdXApO1xuICAgICAgICBlcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBkYXRlRGVwdGgtLTtcbiAgICAgICAgaWYgKCF1cGRhdGVEZXB0aCkge1xuICAgICAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICAgICAgY2xlYXJRdWV1ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzUXVldWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcmVuZGVyZWQgY2hpbGRyZW4gd2l0aCBuZXcgY2hpbGRyZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gez9vYmplY3R9IG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzIE5lc3RlZCBjaGlsZCBlbGVtZW50IG1hcHMuXG4gICAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHVwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbiAobmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICB1cGRhdGVEZXB0aCsrO1xuICAgICAgdmFyIGVycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNoaWxkcmVuKG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzLCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIGVycm9yVGhyb3duID0gZmFsc2U7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB1cGRhdGVEZXB0aC0tO1xuICAgICAgICBpZiAoIXVwZGF0ZURlcHRoKSB7XG4gICAgICAgICAgaWYgKGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICBjbGVhclF1ZXVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbXByb3ZlIHBlcmZvcm1hbmNlIGJ5IGlzb2xhdGluZyB0aGlzIGhvdCBjb2RlIHBhdGggZnJvbSB0aGUgdHJ5L2NhdGNoXG4gICAgICogYmxvY2sgaW4gYHVwZGF0ZUNoaWxkcmVuYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMgTmVzdGVkIGNoaWxkIGVsZW1lbnQgbWFwcy5cbiAgICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAgICogQGZpbmFsXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF91cGRhdGVDaGlsZHJlbjogZnVuY3Rpb24gKG5leHROZXN0ZWRDaGlsZHJlbkVsZW1lbnRzLCB0cmFuc2FjdGlvbiwgY29udGV4dCkge1xuICAgICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgICB2YXIgbmV4dENoaWxkcmVuID0gdGhpcy5fcmVjb25jaWxlclVwZGF0ZUNoaWxkcmVuKHByZXZDaGlsZHJlbiwgbmV4dE5lc3RlZENoaWxkcmVuRWxlbWVudHMsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW4gPSBuZXh0Q2hpbGRyZW47XG4gICAgICBpZiAoIW5leHRDaGlsZHJlbiAmJiAhcHJldkNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuYW1lO1xuICAgICAgLy8gYG5leHRJbmRleGAgd2lsbCBpbmNyZW1lbnQgZm9yIGVhY2ggY2hpbGQgaW4gYG5leHRDaGlsZHJlbmAsIGJ1dFxuICAgICAgLy8gYGxhc3RJbmRleGAgd2lsbCBiZSB0aGUgbGFzdCBpbmRleCB2aXNpdGVkIGluIGBwcmV2Q2hpbGRyZW5gLlxuICAgICAgdmFyIGxhc3RJbmRleCA9IDA7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gMDtcbiAgICAgIGZvciAobmFtZSBpbiBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFuZXh0Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldkNoaWxkID0gcHJldkNoaWxkcmVuICYmIHByZXZDaGlsZHJlbltuYW1lXTtcbiAgICAgICAgdmFyIG5leHRDaGlsZCA9IG5leHRDaGlsZHJlbltuYW1lXTtcbiAgICAgICAgaWYgKHByZXZDaGlsZCA9PT0gbmV4dENoaWxkKSB7XG4gICAgICAgICAgdGhpcy5tb3ZlQ2hpbGQocHJldkNoaWxkLCBuZXh0SW5kZXgsIGxhc3RJbmRleCk7XG4gICAgICAgICAgbGFzdEluZGV4ID0gTWF0aC5tYXgocHJldkNoaWxkLl9tb3VudEluZGV4LCBsYXN0SW5kZXgpO1xuICAgICAgICAgIHByZXZDaGlsZC5fbW91bnRJbmRleCA9IG5leHRJbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocHJldkNoaWxkKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgYGxhc3RJbmRleGAgYmVmb3JlIGBfbW91bnRJbmRleGAgZ2V0cyB1bnNldCBieSB1bm1vdW50aW5nLlxuICAgICAgICAgICAgbGFzdEluZGV4ID0gTWF0aC5tYXgocHJldkNoaWxkLl9tb3VudEluZGV4LCBsYXN0SW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5fdW5tb3VudENoaWxkKHByZXZDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFRoZSBjaGlsZCBtdXN0IGJlIGluc3RhbnRpYXRlZCBiZWZvcmUgaXQncyBtb3VudGVkLlxuICAgICAgICAgIHRoaXMuX21vdW50Q2hpbGRCeU5hbWVBdEluZGV4KG5leHRDaGlsZCwgbmFtZSwgbmV4dEluZGV4LCB0cmFuc2FjdGlvbiwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dEluZGV4Kys7XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgY2hpbGRyZW4gdGhhdCBhcmUgbm8gbG9uZ2VyIHByZXNlbnQuXG4gICAgICBmb3IgKG5hbWUgaW4gcHJldkNoaWxkcmVuKSB7XG4gICAgICAgIGlmIChwcmV2Q2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkgJiYgIShuZXh0Q2hpbGRyZW4gJiYgbmV4dENoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSkge1xuICAgICAgICAgIHRoaXMuX3VubW91bnRDaGlsZChwcmV2Q2hpbGRyZW5bbmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVubW91bnRzIGFsbCByZW5kZXJlZCBjaGlsZHJlbi4gVGhpcyBzaG91bGQgYmUgdXNlZCB0byBjbGVhbiB1cCBjaGlsZHJlblxuICAgICAqIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdW5tb3VudENoaWxkcmVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVuZGVyZWRDaGlsZHJlbiA9IHRoaXMuX3JlbmRlcmVkQ2hpbGRyZW47XG4gICAgICBSZWFjdENoaWxkUmVjb25jaWxlci51bm1vdW50Q2hpbGRyZW4ocmVuZGVyZWRDaGlsZHJlbik7XG4gICAgICB0aGlzLl9yZW5kZXJlZENoaWxkcmVuID0gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYSBjaGlsZCBjb21wb25lbnQgdG8gdGhlIHN1cHBsaWVkIGluZGV4LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFjdENvbXBvbmVudH0gY2hpbGQgQ29tcG9uZW50IHRvIG1vdmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvSW5kZXggRGVzdGluYXRpb24gaW5kZXggb2YgdGhlIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxhc3RJbmRleCBMYXN0IGluZGV4IHZpc2l0ZWQgb2YgdGhlIHNpYmxpbmdzIG9mIGBjaGlsZGAuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG1vdmVDaGlsZDogZnVuY3Rpb24gKGNoaWxkLCB0b0luZGV4LCBsYXN0SW5kZXgpIHtcbiAgICAgIC8vIElmIHRoZSBpbmRleCBvZiBgY2hpbGRgIGlzIGxlc3MgdGhhbiBgbGFzdEluZGV4YCwgdGhlbiBpdCBuZWVkcyB0b1xuICAgICAgLy8gYmUgbW92ZWQuIE90aGVyd2lzZSwgd2UgZG8gbm90IG5lZWQgdG8gbW92ZSBpdCBiZWNhdXNlIGEgY2hpbGQgd2lsbCBiZVxuICAgICAgLy8gaW5zZXJ0ZWQgb3IgbW92ZWQgYmVmb3JlIGBjaGlsZGAuXG4gICAgICBpZiAoY2hpbGQuX21vdW50SW5kZXggPCBsYXN0SW5kZXgpIHtcbiAgICAgICAgZW5xdWV1ZU1vdmUodGhpcy5fcm9vdE5vZGVJRCwgY2hpbGQuX21vdW50SW5kZXgsIHRvSW5kZXgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2hpbGQgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFjdENvbXBvbmVudH0gY2hpbGQgQ29tcG9uZW50IHRvIGNyZWF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW91bnRJbWFnZSBNYXJrdXAgdG8gaW5zZXJ0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjcmVhdGVDaGlsZDogZnVuY3Rpb24gKGNoaWxkLCBtb3VudEltYWdlKSB7XG4gICAgICBlbnF1ZXVlSW5zZXJ0TWFya3VwKHRoaXMuX3Jvb3ROb2RlSUQsIG1vdW50SW1hZ2UsIGNoaWxkLl9tb3VudEluZGV4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGNoaWxkIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGNoaWxkIENoaWxkIHRvIHJlbW92ZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcmVtb3ZlQ2hpbGQ6IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgZW5xdWV1ZVJlbW92ZSh0aGlzLl9yb290Tm9kZUlELCBjaGlsZC5fbW91bnRJbmRleCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhpcyB0ZXh0IGNvbnRlbnQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHRDb250ZW50IFRleHQgY29udGVudCB0byBzZXQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHNldFRleHRDb250ZW50OiBmdW5jdGlvbiAodGV4dENvbnRlbnQpIHtcbiAgICAgIGVucXVldWVUZXh0Q29udGVudCh0aGlzLl9yb290Tm9kZUlELCB0ZXh0Q29udGVudCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhpcyBtYXJrdXAgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1hcmt1cCBNYXJrdXAgdG8gc2V0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBzZXRNYXJrdXA6IGZ1bmN0aW9uIChtYXJrdXApIHtcbiAgICAgIGVucXVldWVTZXRNYXJrdXAodGhpcy5fcm9vdE5vZGVJRCwgbWFya3VwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW91bnRzIGEgY2hpbGQgd2l0aCB0aGUgc3VwcGxpZWQgbmFtZS5cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoaXMgaXMgcGFydCBvZiBgdXBkYXRlQ2hpbGRyZW5gIGFuZCBpcyBoZXJlIGZvciByZWFkYWJpbGl0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGNoaWxkIENvbXBvbmVudCB0byBtb3VudC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBjaGlsZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXggYXQgd2hpY2ggdG8gaW5zZXJ0IHRoZSBjaGlsZC5cbiAgICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbW91bnRDaGlsZEJ5TmFtZUF0SW5kZXg6IGZ1bmN0aW9uIChjaGlsZCwgbmFtZSwgaW5kZXgsIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgICAvLyBJbmxpbmVkIGZvciBwZXJmb3JtYW5jZSwgc2VlIGBSZWFjdEluc3RhbmNlSGFuZGxlcy5jcmVhdGVSZWFjdElEYC5cbiAgICAgIHZhciByb290SUQgPSB0aGlzLl9yb290Tm9kZUlEICsgbmFtZTtcbiAgICAgIHZhciBtb3VudEltYWdlID0gUmVhY3RSZWNvbmNpbGVyLm1vdW50Q29tcG9uZW50KGNoaWxkLCByb290SUQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgIGNoaWxkLl9tb3VudEluZGV4ID0gaW5kZXg7XG4gICAgICB0aGlzLmNyZWF0ZUNoaWxkKGNoaWxkLCBtb3VudEltYWdlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5tb3VudHMgYSByZW5kZXJlZCBjaGlsZC5cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoaXMgaXMgcGFydCBvZiBgdXBkYXRlQ2hpbGRyZW5gIGFuZCBpcyBoZXJlIGZvciByZWFkYWJpbGl0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVhY3RDb21wb25lbnR9IGNoaWxkIENvbXBvbmVudCB0byB1bm1vdW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VubW91bnRDaGlsZDogZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICB0aGlzLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgIGNoaWxkLl9tb3VudEluZGV4ID0gbnVsbDtcbiAgICB9XG5cbiAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TXVsdGlDaGlsZDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgUmVhY3RDaGlsZFJlY29uY2lsZXJcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RSZWNvbmNpbGVyID0gcmVxdWlyZSgnLi9SZWFjdFJlY29uY2lsZXInKTtcblxudmFyIGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQgPSByZXF1aXJlKCcuL2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQnKTtcbnZhciBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudCA9IHJlcXVpcmUoJy4vc2hvdWxkVXBkYXRlUmVhY3RDb21wb25lbnQnKTtcbnZhciB0cmF2ZXJzZUFsbENoaWxkcmVuID0gcmVxdWlyZSgnLi90cmF2ZXJzZUFsbENoaWxkcmVuJyk7XG52YXIgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxuZnVuY3Rpb24gaW5zdGFudGlhdGVDaGlsZChjaGlsZEluc3RhbmNlcywgY2hpbGQsIG5hbWUpIHtcbiAgLy8gV2UgZm91bmQgYSBjb21wb25lbnQgaW5zdGFuY2UuXG4gIHZhciBrZXlVbmlxdWUgPSBjaGlsZEluc3RhbmNlc1tuYW1lXSA9PT0gdW5kZWZpbmVkO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGtleVVuaXF1ZSwgJ2ZsYXR0ZW5DaGlsZHJlbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksICcgKyAnYCVzYC4gQ2hpbGQga2V5cyBtdXN0IGJlIHVuaXF1ZTsgd2hlbiB0d28gY2hpbGRyZW4gc2hhcmUgYSBrZXksIG9ubHkgJyArICd0aGUgZmlyc3QgY2hpbGQgd2lsbCBiZSB1c2VkLicsIG5hbWUpIDogdW5kZWZpbmVkO1xuICB9XG4gIGlmIChjaGlsZCAhPSBudWxsICYmIGtleVVuaXF1ZSkge1xuICAgIGNoaWxkSW5zdGFuY2VzW25hbWVdID0gaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChjaGlsZCwgbnVsbCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZWFjdENoaWxkUmVjb25jaWxlciBwcm92aWRlcyBoZWxwZXJzIGZvciBpbml0aWFsaXppbmcgb3IgdXBkYXRpbmcgYSBzZXQgb2ZcbiAqIGNoaWxkcmVuLiBJdHMgb3V0cHV0IGlzIHN1aXRhYmxlIGZvciBwYXNzaW5nIGl0IG9udG8gUmVhY3RNdWx0aUNoaWxkIHdoaWNoXG4gKiBkb2VzIGRpZmZlZCByZW9yZGVyaW5nIGFuZCBpbnNlcnRpb24uXG4gKi9cbnZhciBSZWFjdENoaWxkUmVjb25jaWxlciA9IHtcbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIFwibW91bnQgaW1hZ2VcIiBmb3IgZWFjaCBvZiB0aGUgc3VwcGxpZWQgY2hpbGRyZW4uIEluIHRoZSBjYXNlXG4gICAqIG9mIGBSZWFjdERPTUNvbXBvbmVudGAsIGEgbW91bnQgaW1hZ2UgaXMgYSBzdHJpbmcgb2YgbWFya3VwLlxuICAgKlxuICAgKiBAcGFyYW0gez9vYmplY3R9IG5lc3RlZENoaWxkTm9kZXMgTmVzdGVkIGNoaWxkIG1hcHMuXG4gICAqIEByZXR1cm4gez9vYmplY3R9IEEgc2V0IG9mIGNoaWxkIGluc3RhbmNlcy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBpbnN0YW50aWF0ZUNoaWxkcmVuOiBmdW5jdGlvbiAobmVzdGVkQ2hpbGROb2RlcywgdHJhbnNhY3Rpb24sIGNvbnRleHQpIHtcbiAgICBpZiAobmVzdGVkQ2hpbGROb2RlcyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGNoaWxkSW5zdGFuY2VzID0ge307XG4gICAgdHJhdmVyc2VBbGxDaGlsZHJlbihuZXN0ZWRDaGlsZE5vZGVzLCBpbnN0YW50aWF0ZUNoaWxkLCBjaGlsZEluc3RhbmNlcyk7XG4gICAgcmV0dXJuIGNoaWxkSW5zdGFuY2VzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSByZW5kZXJlZCBjaGlsZHJlbiBhbmQgcmV0dXJucyBhIG5ldyBzZXQgb2YgY2hpbGRyZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7P29iamVjdH0gcHJldkNoaWxkcmVuIFByZXZpb3VzbHkgaW5pdGlhbGl6ZWQgc2V0IG9mIGNoaWxkcmVuLlxuICAgKiBAcGFyYW0gez9vYmplY3R9IG5leHRDaGlsZHJlbiBGbGF0IGNoaWxkIGVsZW1lbnQgbWFwcy5cbiAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dFxuICAgKiBAcmV0dXJuIHs/b2JqZWN0fSBBIG5ldyBzZXQgb2YgY2hpbGQgaW5zdGFuY2VzLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHVwZGF0ZUNoaWxkcmVuOiBmdW5jdGlvbiAocHJldkNoaWxkcmVuLCBuZXh0Q2hpbGRyZW4sIHRyYW5zYWN0aW9uLCBjb250ZXh0KSB7XG4gICAgLy8gV2UgY3VycmVudGx5IGRvbid0IGhhdmUgYSB3YXkgdG8gdHJhY2sgbW92ZXMgaGVyZSBidXQgaWYgd2UgdXNlIGl0ZXJhdG9yc1xuICAgIC8vIGluc3RlYWQgb2YgZm9yLi5pbiB3ZSBjYW4gemlwIHRoZSBpdGVyYXRvcnMgYW5kIGNoZWNrIGlmIGFuIGl0ZW0gaGFzXG4gICAgLy8gbW92ZWQuXG4gICAgLy8gVE9ETzogSWYgbm90aGluZyBoYXMgY2hhbmdlZCwgcmV0dXJuIHRoZSBwcmV2Q2hpbGRyZW4gb2JqZWN0IHNvIHRoYXQgd2VcbiAgICAvLyBjYW4gcXVpY2tseSBiYWlsb3V0IGlmIG5vdGhpbmcgaGFzIGNoYW5nZWQuXG4gICAgaWYgKCFuZXh0Q2hpbGRyZW4gJiYgIXByZXZDaGlsZHJlbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBuYW1lO1xuICAgIGZvciAobmFtZSBpbiBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgIGlmICghbmV4dENoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHByZXZDaGlsZCA9IHByZXZDaGlsZHJlbiAmJiBwcmV2Q2hpbGRyZW5bbmFtZV07XG4gICAgICB2YXIgcHJldkVsZW1lbnQgPSBwcmV2Q2hpbGQgJiYgcHJldkNoaWxkLl9jdXJyZW50RWxlbWVudDtcbiAgICAgIHZhciBuZXh0RWxlbWVudCA9IG5leHRDaGlsZHJlbltuYW1lXTtcbiAgICAgIGlmIChwcmV2Q2hpbGQgIT0gbnVsbCAmJiBzaG91bGRVcGRhdGVSZWFjdENvbXBvbmVudChwcmV2RWxlbWVudCwgbmV4dEVsZW1lbnQpKSB7XG4gICAgICAgIFJlYWN0UmVjb25jaWxlci5yZWNlaXZlQ29tcG9uZW50KHByZXZDaGlsZCwgbmV4dEVsZW1lbnQsIHRyYW5zYWN0aW9uLCBjb250ZXh0KTtcbiAgICAgICAgbmV4dENoaWxkcmVuW25hbWVdID0gcHJldkNoaWxkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByZXZDaGlsZCkge1xuICAgICAgICAgIFJlYWN0UmVjb25jaWxlci51bm1vdW50Q29tcG9uZW50KHByZXZDaGlsZCwgbmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIGNoaWxkIG11c3QgYmUgaW5zdGFudGlhdGVkIGJlZm9yZSBpdCdzIG1vdW50ZWQuXG4gICAgICAgIHZhciBuZXh0Q2hpbGRJbnN0YW5jZSA9IGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQobmV4dEVsZW1lbnQsIG51bGwpO1xuICAgICAgICBuZXh0Q2hpbGRyZW5bbmFtZV0gPSBuZXh0Q2hpbGRJbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVW5tb3VudCBjaGlsZHJlbiB0aGF0IGFyZSBubyBsb25nZXIgcHJlc2VudC5cbiAgICBmb3IgKG5hbWUgaW4gcHJldkNoaWxkcmVuKSB7XG4gICAgICBpZiAocHJldkNoaWxkcmVuLmhhc093blByb3BlcnR5KG5hbWUpICYmICEobmV4dENoaWxkcmVuICYmIG5leHRDaGlsZHJlbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkpIHtcbiAgICAgICAgUmVhY3RSZWNvbmNpbGVyLnVubW91bnRDb21wb25lbnQocHJldkNoaWxkcmVuW25hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5leHRDaGlsZHJlbjtcbiAgfSxcblxuICAvKipcbiAgICogVW5tb3VudHMgYWxsIHJlbmRlcmVkIGNoaWxkcmVuLiBUaGlzIHNob3VsZCBiZSB1c2VkIHRvIGNsZWFuIHVwIGNoaWxkcmVuXG4gICAqIHdoZW4gdGhpcyBjb21wb25lbnQgaXMgdW5tb3VudGVkLlxuICAgKlxuICAgKiBAcGFyYW0gez9vYmplY3R9IHJlbmRlcmVkQ2hpbGRyZW4gUHJldmlvdXNseSBpbml0aWFsaXplZCBzZXQgb2YgY2hpbGRyZW4uXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdW5tb3VudENoaWxkcmVuOiBmdW5jdGlvbiAocmVuZGVyZWRDaGlsZHJlbikge1xuICAgIGZvciAodmFyIG5hbWUgaW4gcmVuZGVyZWRDaGlsZHJlbikge1xuICAgICAgaWYgKHJlbmRlcmVkQ2hpbGRyZW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgdmFyIHJlbmRlcmVkQ2hpbGQgPSByZW5kZXJlZENoaWxkcmVuW25hbWVdO1xuICAgICAgICBSZWFjdFJlY29uY2lsZXIudW5tb3VudENvbXBvbmVudChyZW5kZXJlZENoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdENoaWxkUmVjb25jaWxlcjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZmxhdHRlbkNoaWxkcmVuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdHJhdmVyc2VBbGxDaGlsZHJlbiA9IHJlcXVpcmUoJy4vdHJhdmVyc2VBbGxDaGlsZHJlbicpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gdHJhdmVyc2VDb250ZXh0IENvbnRleHQgcGFzc2VkIHRocm91Z2ggdHJhdmVyc2FsLlxuICogQHBhcmFtIHs/UmVhY3RDb21wb25lbnR9IGNoaWxkIFJlYWN0IGNoaWxkIGNvbXBvbmVudC5cbiAqIEBwYXJhbSB7IXN0cmluZ30gbmFtZSBTdHJpbmcgbmFtZSBvZiBrZXkgcGF0aCB0byBjaGlsZC5cbiAqL1xuZnVuY3Rpb24gZmxhdHRlblNpbmdsZUNoaWxkSW50b0NvbnRleHQodHJhdmVyc2VDb250ZXh0LCBjaGlsZCwgbmFtZSkge1xuICAvLyBXZSBmb3VuZCBhIGNvbXBvbmVudCBpbnN0YW5jZS5cbiAgdmFyIHJlc3VsdCA9IHRyYXZlcnNlQ29udGV4dDtcbiAgdmFyIGtleVVuaXF1ZSA9IHJlc3VsdFtuYW1lXSA9PT0gdW5kZWZpbmVkO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKGtleVVuaXF1ZSwgJ2ZsYXR0ZW5DaGlsZHJlbiguLi4pOiBFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksICcgKyAnYCVzYC4gQ2hpbGQga2V5cyBtdXN0IGJlIHVuaXF1ZTsgd2hlbiB0d28gY2hpbGRyZW4gc2hhcmUgYSBrZXksIG9ubHkgJyArICd0aGUgZmlyc3QgY2hpbGQgd2lsbCBiZSB1c2VkLicsIG5hbWUpIDogdW5kZWZpbmVkO1xuICB9XG4gIGlmIChrZXlVbmlxdWUgJiYgY2hpbGQgIT0gbnVsbCkge1xuICAgIHJlc3VsdFtuYW1lXSA9IGNoaWxkO1xuICB9XG59XG5cbi8qKlxuICogRmxhdHRlbnMgY2hpbGRyZW4gdGhhdCBhcmUgdHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gLiBBbnkgbnVsbFxuICogY2hpbGRyZW4gd2lsbCBub3QgYmUgaW5jbHVkZWQgaW4gdGhlIHJlc3VsdGluZyBvYmplY3QuXG4gKiBAcmV0dXJuIHshb2JqZWN0fSBmbGF0dGVuZWQgY2hpbGRyZW4ga2V5ZWQgYnkgbmFtZS5cbiAqL1xuZnVuY3Rpb24gZmxhdHRlbkNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgdHJhdmVyc2VBbGxDaGlsZHJlbihjaGlsZHJlbiwgZmxhdHRlblNpbmdsZUNoaWxkSW50b0NvbnRleHQsIHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmxhdHRlbkNoaWxkcmVuOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdEV2ZW50TGlzdGVuZXJcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ2ZianMvbGliL0V2ZW50TGlzdGVuZXInKTtcbnZhciBFeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJ2ZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50Jyk7XG52YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG52YXIgUmVhY3RJbnN0YW5jZUhhbmRsZXMgPSByZXF1aXJlKCcuL1JlYWN0SW5zdGFuY2VIYW5kbGVzJyk7XG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoJy4vUmVhY3RNb3VudCcpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVzJyk7XG5cbnZhciBhc3NpZ24gPSByZXF1aXJlKCcuL09iamVjdC5hc3NpZ24nKTtcbnZhciBnZXRFdmVudFRhcmdldCA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRUYXJnZXQnKTtcbnZhciBnZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2dldFVuYm91bmRlZFNjcm9sbFBvc2l0aW9uJyk7XG5cbnZhciBET0NVTUVOVF9GUkFHTUVOVF9OT0RFX1RZUEUgPSAxMTtcblxuLyoqXG4gKiBGaW5kcyB0aGUgcGFyZW50IFJlYWN0IGNvbXBvbmVudCBvZiBgbm9kZWAuXG4gKlxuICogQHBhcmFtIHsqfSBub2RlXG4gKiBAcmV0dXJuIHs/RE9NRXZlbnRUYXJnZXR9IFBhcmVudCBjb250YWluZXIsIG9yIGBudWxsYCBpZiB0aGUgc3BlY2lmaWVkIG5vZGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgbm90IG5lc3RlZC5cbiAqL1xuZnVuY3Rpb24gZmluZFBhcmVudChub2RlKSB7XG4gIC8vIFRPRE86IEl0IG1heSBiZSBhIGdvb2QgaWRlYSB0byBjYWNoZSB0aGlzIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgRE9NXG4gIC8vIHRyYXZlcnNhbCwgYnV0IGNhY2hpbmcgaXMgZGlmZmljdWx0IHRvIGRvIGNvcnJlY3RseSB3aXRob3V0IHVzaW5nIGFcbiAgLy8gbXV0YXRpb24gb2JzZXJ2ZXIgdG8gbGlzdGVuIGZvciBhbGwgRE9NIGNoYW5nZXMuXG4gIHZhciBub2RlSUQgPSBSZWFjdE1vdW50LmdldElEKG5vZGUpO1xuICB2YXIgcm9vdElEID0gUmVhY3RJbnN0YW5jZUhhbmRsZXMuZ2V0UmVhY3RSb290SURGcm9tTm9kZUlEKG5vZGVJRCk7XG4gIHZhciBjb250YWluZXIgPSBSZWFjdE1vdW50LmZpbmRSZWFjdENvbnRhaW5lckZvcklEKHJvb3RJRCk7XG4gIHZhciBwYXJlbnQgPSBSZWFjdE1vdW50LmdldEZpcnN0UmVhY3RET00oY29udGFpbmVyKTtcbiAgcmV0dXJuIHBhcmVudDtcbn1cblxuLy8gVXNlZCB0byBzdG9yZSBhbmNlc3RvciBoaWVyYXJjaHkgaW4gdG9wIGxldmVsIGNhbGxiYWNrXG5mdW5jdGlvbiBUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICB0aGlzLnRvcExldmVsVHlwZSA9IHRvcExldmVsVHlwZTtcbiAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICB0aGlzLmFuY2VzdG9ycyA9IFtdO1xufVxuYXNzaWduKFRvcExldmVsQ2FsbGJhY2tCb29rS2VlcGluZy5wcm90b3R5cGUsIHtcbiAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMudG9wTGV2ZWxUeXBlID0gbnVsbDtcbiAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbnVsbDtcbiAgICB0aGlzLmFuY2VzdG9ycy5sZW5ndGggPSAwO1xuICB9XG59KTtcblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhUb3BMZXZlbENhbGxiYWNrQm9va0tlZXBpbmcsIFBvb2xlZENsYXNzLnR3b0FyZ3VtZW50UG9vbGVyKTtcblxuZnVuY3Rpb24gaGFuZGxlVG9wTGV2ZWxJbXBsKGJvb2tLZWVwaW5nKSB7XG4gIC8vIFRPRE86IFJlLWVuYWJsZSBldmVudC5wYXRoIGhhbmRsaW5nXG4gIC8vXG4gIC8vIGlmIChib29rS2VlcGluZy5uYXRpdmVFdmVudC5wYXRoICYmIGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50LnBhdGgubGVuZ3RoID4gMSkge1xuICAvLyAgIC8vIE5ldyBicm93c2VycyBoYXZlIGEgcGF0aCBhdHRyaWJ1dGUgb24gbmF0aXZlIGV2ZW50c1xuICAvLyAgIGhhbmRsZVRvcExldmVsV2l0aFBhdGgoYm9va0tlZXBpbmcpO1xuICAvLyB9IGVsc2Uge1xuICAvLyAgIC8vIExlZ2FjeSBicm93c2VycyBkb24ndCBoYXZlIGEgcGF0aCBhdHRyaWJ1dGUgb24gbmF0aXZlIGV2ZW50c1xuICAvLyAgIGhhbmRsZVRvcExldmVsV2l0aG91dFBhdGgoYm9va0tlZXBpbmcpO1xuICAvLyB9XG5cbiAgdm9pZCBoYW5kbGVUb3BMZXZlbFdpdGhQYXRoOyAvLyB0ZW1wb3JhcmlseSB1bnVzZWRcbiAgaGFuZGxlVG9wTGV2ZWxXaXRob3V0UGF0aChib29rS2VlcGluZyk7XG59XG5cbi8vIExlZ2FjeSBicm93c2VycyBkb24ndCBoYXZlIGEgcGF0aCBhdHRyaWJ1dGUgb24gbmF0aXZlIGV2ZW50c1xuZnVuY3Rpb24gaGFuZGxlVG9wTGV2ZWxXaXRob3V0UGF0aChib29rS2VlcGluZykge1xuICB2YXIgdG9wTGV2ZWxUYXJnZXQgPSBSZWFjdE1vdW50LmdldEZpcnN0UmVhY3RET00oZ2V0RXZlbnRUYXJnZXQoYm9va0tlZXBpbmcubmF0aXZlRXZlbnQpKSB8fCB3aW5kb3c7XG5cbiAgLy8gTG9vcCB0aHJvdWdoIHRoZSBoaWVyYXJjaHksIGluIGNhc2UgdGhlcmUncyBhbnkgbmVzdGVkIGNvbXBvbmVudHMuXG4gIC8vIEl0J3MgaW1wb3J0YW50IHRoYXQgd2UgYnVpbGQgdGhlIGFycmF5IG9mIGFuY2VzdG9ycyBiZWZvcmUgY2FsbGluZyBhbnlcbiAgLy8gZXZlbnQgaGFuZGxlcnMsIGJlY2F1c2UgZXZlbnQgaGFuZGxlcnMgY2FuIG1vZGlmeSB0aGUgRE9NLCBsZWFkaW5nIHRvXG4gIC8vIGluY29uc2lzdGVuY2llcyB3aXRoIFJlYWN0TW91bnQncyBub2RlIGNhY2hlLiBTZWUgIzExMDUuXG4gIHZhciBhbmNlc3RvciA9IHRvcExldmVsVGFyZ2V0O1xuICB3aGlsZSAoYW5jZXN0b3IpIHtcbiAgICBib29rS2VlcGluZy5hbmNlc3RvcnMucHVzaChhbmNlc3Rvcik7XG4gICAgYW5jZXN0b3IgPSBmaW5kUGFyZW50KGFuY2VzdG9yKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYm9va0tlZXBpbmcuYW5jZXN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgdG9wTGV2ZWxUYXJnZXQgPSBib29rS2VlcGluZy5hbmNlc3RvcnNbaV07XG4gICAgdmFyIHRvcExldmVsVGFyZ2V0SUQgPSBSZWFjdE1vdW50LmdldElEKHRvcExldmVsVGFyZ2V0KSB8fCAnJztcbiAgICBSZWFjdEV2ZW50TGlzdGVuZXIuX2hhbmRsZVRvcExldmVsKGJvb2tLZWVwaW5nLnRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQsIGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50LCBnZXRFdmVudFRhcmdldChib29rS2VlcGluZy5uYXRpdmVFdmVudCkpO1xuICB9XG59XG5cbi8vIE5ldyBicm93c2VycyBoYXZlIGEgcGF0aCBhdHRyaWJ1dGUgb24gbmF0aXZlIGV2ZW50c1xuZnVuY3Rpb24gaGFuZGxlVG9wTGV2ZWxXaXRoUGF0aChib29rS2VlcGluZykge1xuICB2YXIgcGF0aCA9IGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50LnBhdGg7XG4gIHZhciBjdXJyZW50TmF0aXZlVGFyZ2V0ID0gcGF0aFswXTtcbiAgdmFyIGV2ZW50c0ZpcmVkID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGN1cnJlbnRQYXRoRWxlbWVudCA9IHBhdGhbaV07XG4gICAgaWYgKGN1cnJlbnRQYXRoRWxlbWVudC5ub2RlVHlwZSA9PT0gRE9DVU1FTlRfRlJBR01FTlRfTk9ERV9UWVBFKSB7XG4gICAgICBjdXJyZW50TmF0aXZlVGFyZ2V0ID0gcGF0aFtpICsgMV07XG4gICAgfVxuICAgIC8vIFRPRE86IHNsb3dcbiAgICB2YXIgcmVhY3RQYXJlbnQgPSBSZWFjdE1vdW50LmdldEZpcnN0UmVhY3RET00oY3VycmVudFBhdGhFbGVtZW50KTtcbiAgICBpZiAocmVhY3RQYXJlbnQgPT09IGN1cnJlbnRQYXRoRWxlbWVudCkge1xuICAgICAgdmFyIGN1cnJlbnRQYXRoRWxlbWVudElEID0gUmVhY3RNb3VudC5nZXRJRChjdXJyZW50UGF0aEVsZW1lbnQpO1xuICAgICAgdmFyIG5ld1Jvb3RJRCA9IFJlYWN0SW5zdGFuY2VIYW5kbGVzLmdldFJlYWN0Um9vdElERnJvbU5vZGVJRChjdXJyZW50UGF0aEVsZW1lbnRJRCk7XG4gICAgICBib29rS2VlcGluZy5hbmNlc3RvcnMucHVzaChjdXJyZW50UGF0aEVsZW1lbnQpO1xuXG4gICAgICB2YXIgdG9wTGV2ZWxUYXJnZXRJRCA9IFJlYWN0TW91bnQuZ2V0SUQoY3VycmVudFBhdGhFbGVtZW50KSB8fCAnJztcbiAgICAgIGV2ZW50c0ZpcmVkKys7XG4gICAgICBSZWFjdEV2ZW50TGlzdGVuZXIuX2hhbmRsZVRvcExldmVsKGJvb2tLZWVwaW5nLnRvcExldmVsVHlwZSwgY3VycmVudFBhdGhFbGVtZW50LCB0b3BMZXZlbFRhcmdldElELCBib29rS2VlcGluZy5uYXRpdmVFdmVudCwgY3VycmVudE5hdGl2ZVRhcmdldCk7XG5cbiAgICAgIC8vIEp1bXAgdG8gdGhlIHJvb3Qgb2YgdGhpcyBSZWFjdCByZW5kZXIgdHJlZVxuICAgICAgd2hpbGUgKGN1cnJlbnRQYXRoRWxlbWVudElEICE9PSBuZXdSb290SUQpIHtcbiAgICAgICAgaSsrO1xuICAgICAgICBjdXJyZW50UGF0aEVsZW1lbnQgPSBwYXRoW2ldO1xuICAgICAgICBjdXJyZW50UGF0aEVsZW1lbnRJRCA9IFJlYWN0TW91bnQuZ2V0SUQoY3VycmVudFBhdGhFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGV2ZW50c0ZpcmVkID09PSAwKSB7XG4gICAgUmVhY3RFdmVudExpc3RlbmVyLl9oYW5kbGVUb3BMZXZlbChib29rS2VlcGluZy50b3BMZXZlbFR5cGUsIHdpbmRvdywgJycsIGJvb2tLZWVwaW5nLm5hdGl2ZUV2ZW50LCBnZXRFdmVudFRhcmdldChib29rS2VlcGluZy5uYXRpdmVFdmVudCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNjcm9sbFZhbHVlTW9uaXRvcihjYikge1xuICB2YXIgc2Nyb2xsUG9zaXRpb24gPSBnZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbih3aW5kb3cpO1xuICBjYihzY3JvbGxQb3NpdGlvbik7XG59XG5cbnZhciBSZWFjdEV2ZW50TGlzdGVuZXIgPSB7XG4gIF9lbmFibGVkOiB0cnVlLFxuICBfaGFuZGxlVG9wTGV2ZWw6IG51bGwsXG5cbiAgV0lORE9XX0hBTkRMRTogRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gd2luZG93IDogbnVsbCxcblxuICBzZXRIYW5kbGVUb3BMZXZlbDogZnVuY3Rpb24gKGhhbmRsZVRvcExldmVsKSB7XG4gICAgUmVhY3RFdmVudExpc3RlbmVyLl9oYW5kbGVUb3BMZXZlbCA9IGhhbmRsZVRvcExldmVsO1xuICB9LFxuXG4gIHNldEVuYWJsZWQ6IGZ1bmN0aW9uIChlbmFibGVkKSB7XG4gICAgUmVhY3RFdmVudExpc3RlbmVyLl9lbmFibGVkID0gISFlbmFibGVkO1xuICB9LFxuXG4gIGlzRW5hYmxlZDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBSZWFjdEV2ZW50TGlzdGVuZXIuX2VuYWJsZWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRyYXBzIHRvcC1sZXZlbCBldmVudHMgYnkgdXNpbmcgZXZlbnQgYnViYmxpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGhhbmRsZXJCYXNlTmFtZSBFdmVudCBuYW1lIChlLmcuIFwiY2xpY2tcIikuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBoYW5kbGUgRWxlbWVudCBvbiB3aGljaCB0byBhdHRhY2ggbGlzdGVuZXIuXG4gICAqIEByZXR1cm4gez9vYmplY3R9IEFuIG9iamVjdCB3aXRoIGEgcmVtb3ZlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgZm9yY2VmdWxseVxuICAgKiAgICAgICAgICAgICAgICAgIHJlbW92ZSB0aGUgbGlzdGVuZXIuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdHJhcEJ1YmJsZWRFdmVudDogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgaGFuZGxlckJhc2VOYW1lLCBoYW5kbGUpIHtcbiAgICB2YXIgZWxlbWVudCA9IGhhbmRsZTtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gRXZlbnRMaXN0ZW5lci5saXN0ZW4oZWxlbWVudCwgaGFuZGxlckJhc2VOYW1lLCBSZWFjdEV2ZW50TGlzdGVuZXIuZGlzcGF0Y2hFdmVudC5iaW5kKG51bGwsIHRvcExldmVsVHlwZSkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUcmFwcyBhIHRvcC1sZXZlbCBldmVudCBieSB1c2luZyBldmVudCBjYXB0dXJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGhhbmRsZXJCYXNlTmFtZSBFdmVudCBuYW1lIChlLmcuIFwiY2xpY2tcIikuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBoYW5kbGUgRWxlbWVudCBvbiB3aGljaCB0byBhdHRhY2ggbGlzdGVuZXIuXG4gICAqIEByZXR1cm4gez9vYmplY3R9IEFuIG9iamVjdCB3aXRoIGEgcmVtb3ZlIGZ1bmN0aW9uIHdoaWNoIHdpbGwgZm9yY2VmdWxseVxuICAgKiAgICAgICAgICAgICAgICAgIHJlbW92ZSB0aGUgbGlzdGVuZXIuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdHJhcENhcHR1cmVkRXZlbnQ6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIGhhbmRsZXJCYXNlTmFtZSwgaGFuZGxlKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBoYW5kbGU7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIEV2ZW50TGlzdGVuZXIuY2FwdHVyZShlbGVtZW50LCBoYW5kbGVyQmFzZU5hbWUsIFJlYWN0RXZlbnRMaXN0ZW5lci5kaXNwYXRjaEV2ZW50LmJpbmQobnVsbCwgdG9wTGV2ZWxUeXBlKSk7XG4gIH0sXG5cbiAgbW9uaXRvclNjcm9sbFZhbHVlOiBmdW5jdGlvbiAocmVmcmVzaCkge1xuICAgIHZhciBjYWxsYmFjayA9IHNjcm9sbFZhbHVlTW9uaXRvci5iaW5kKG51bGwsIHJlZnJlc2gpO1xuICAgIEV2ZW50TGlzdGVuZXIubGlzdGVuKHdpbmRvdywgJ3Njcm9sbCcsIGNhbGxiYWNrKTtcbiAgfSxcblxuICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiAodG9wTGV2ZWxUeXBlLCBuYXRpdmVFdmVudCkge1xuICAgIGlmICghUmVhY3RFdmVudExpc3RlbmVyLl9lbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGJvb2tLZWVwaW5nID0gVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nLmdldFBvb2xlZCh0b3BMZXZlbFR5cGUsIG5hdGl2ZUV2ZW50KTtcbiAgICB0cnkge1xuICAgICAgLy8gRXZlbnQgcXVldWUgYmVpbmcgcHJvY2Vzc2VkIGluIHRoZSBzYW1lIGN5Y2xlIGFsbG93c1xuICAgICAgLy8gYHByZXZlbnREZWZhdWx0YC5cbiAgICAgIFJlYWN0VXBkYXRlcy5iYXRjaGVkVXBkYXRlcyhoYW5kbGVUb3BMZXZlbEltcGwsIGJvb2tLZWVwaW5nKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgVG9wTGV2ZWxDYWxsYmFja0Jvb2tLZWVwaW5nLnJlbGVhc2UoYm9va0tlZXBpbmcpO1xuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdEV2ZW50TGlzdGVuZXI7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIGdldFVuYm91bmRlZFNjcm9sbFBvc2l0aW9uXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBHZXRzIHRoZSBzY3JvbGwgcG9zaXRpb24gb2YgdGhlIHN1cHBsaWVkIGVsZW1lbnQgb3Igd2luZG93LlxuICpcbiAqIFRoZSByZXR1cm4gdmFsdWVzIGFyZSB1bmJvdW5kZWQsIHVubGlrZSBgZ2V0U2Nyb2xsUG9zaXRpb25gLiBUaGlzIG1lYW5zIHRoZXlcbiAqIG1heSBiZSBuZWdhdGl2ZSBvciBleGNlZWQgdGhlIGVsZW1lbnQgYm91bmRhcmllcyAod2hpY2ggaXMgcG9zc2libGUgdXNpbmdcbiAqIGluZXJ0aWFsIHNjcm9sbGluZykuXG4gKlxuICogQHBhcmFtIHtET01XaW5kb3d8RE9NRWxlbWVudH0gc2Nyb2xsYWJsZVxuICogQHJldHVybiB7b2JqZWN0fSBNYXAgd2l0aCBgeGAgYW5kIGB5YCBrZXlzLlxuICovXG5mdW5jdGlvbiBnZXRVbmJvdW5kZWRTY3JvbGxQb3NpdGlvbihzY3JvbGxhYmxlKSB7XG4gIGlmIChzY3JvbGxhYmxlID09PSB3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LFxuICAgICAgeTogd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogc2Nyb2xsYWJsZS5zY3JvbGxMZWZ0LFxuICAgIHk6IHNjcm9sbGFibGUuc2Nyb2xsVG9wXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0VW5ib3VuZGVkU2Nyb2xsUG9zaXRpb247IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0SW5qZWN0aW9uXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRE9NUHJvcGVydHkgPSByZXF1aXJlKCcuL0RPTVByb3BlcnR5Jyk7XG52YXIgRXZlbnRQbHVnaW5IdWIgPSByZXF1aXJlKCcuL0V2ZW50UGx1Z2luSHViJyk7XG52YXIgUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vUmVhY3RDb21wb25lbnRFbnZpcm9ubWVudCcpO1xudmFyIFJlYWN0Q2xhc3MgPSByZXF1aXJlKCcuL1JlYWN0Q2xhc3MnKTtcbnZhciBSZWFjdEVtcHR5Q29tcG9uZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVtcHR5Q29tcG9uZW50Jyk7XG52YXIgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnLi9SZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXInKTtcbnZhciBSZWFjdE5hdGl2ZUNvbXBvbmVudCA9IHJlcXVpcmUoJy4vUmVhY3ROYXRpdmVDb21wb25lbnQnKTtcbnZhciBSZWFjdFBlcmYgPSByZXF1aXJlKCcuL1JlYWN0UGVyZicpO1xudmFyIFJlYWN0Um9vdEluZGV4ID0gcmVxdWlyZSgnLi9SZWFjdFJvb3RJbmRleCcpO1xudmFyIFJlYWN0VXBkYXRlcyA9IHJlcXVpcmUoJy4vUmVhY3RVcGRhdGVzJyk7XG5cbnZhciBSZWFjdEluamVjdGlvbiA9IHtcbiAgQ29tcG9uZW50OiBSZWFjdENvbXBvbmVudEVudmlyb25tZW50LmluamVjdGlvbixcbiAgQ2xhc3M6IFJlYWN0Q2xhc3MuaW5qZWN0aW9uLFxuICBET01Qcm9wZXJ0eTogRE9NUHJvcGVydHkuaW5qZWN0aW9uLFxuICBFbXB0eUNvbXBvbmVudDogUmVhY3RFbXB0eUNvbXBvbmVudC5pbmplY3Rpb24sXG4gIEV2ZW50UGx1Z2luSHViOiBFdmVudFBsdWdpbkh1Yi5pbmplY3Rpb24sXG4gIEV2ZW50RW1pdHRlcjogUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyLmluamVjdGlvbixcbiAgTmF0aXZlQ29tcG9uZW50OiBSZWFjdE5hdGl2ZUNvbXBvbmVudC5pbmplY3Rpb24sXG4gIFBlcmY6IFJlYWN0UGVyZi5pbmplY3Rpb24sXG4gIFJvb3RJbmRleDogUmVhY3RSb290SW5kZXguaW5qZWN0aW9uLFxuICBVcGRhdGVzOiBSZWFjdFVwZGF0ZXMuaW5qZWN0aW9uXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0SW5qZWN0aW9uOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIENhbGxiYWNrUXVldWUgPSByZXF1aXJlKCcuL0NhbGxiYWNrUXVldWUnKTtcbnZhciBQb29sZWRDbGFzcyA9IHJlcXVpcmUoJy4vUG9vbGVkQ2xhc3MnKTtcbnZhciBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCcuL1JlYWN0QnJvd3NlckV2ZW50RW1pdHRlcicpO1xudmFyIFJlYWN0RE9NRmVhdHVyZUZsYWdzID0gcmVxdWlyZSgnLi9SZWFjdERPTUZlYXR1cmVGbGFncycpO1xudmFyIFJlYWN0SW5wdXRTZWxlY3Rpb24gPSByZXF1aXJlKCcuL1JlYWN0SW5wdXRTZWxlY3Rpb24nKTtcbnZhciBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vVHJhbnNhY3Rpb24nKTtcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xuXG4vKipcbiAqIEVuc3VyZXMgdGhhdCwgd2hlbiBwb3NzaWJsZSwgdGhlIHNlbGVjdGlvbiByYW5nZSAoY3VycmVudGx5IHNlbGVjdGVkIHRleHRcbiAqIGlucHV0KSBpcyBub3QgZGlzdHVyYmVkIGJ5IHBlcmZvcm1pbmcgdGhlIHRyYW5zYWN0aW9uLlxuICovXG52YXIgU0VMRUNUSU9OX1JFU1RPUkFUSU9OID0ge1xuICAvKipcbiAgICogQHJldHVybiB7U2VsZWN0aW9ufSBTZWxlY3Rpb24gaW5mb3JtYXRpb24uXG4gICAqL1xuICBpbml0aWFsaXplOiBSZWFjdElucHV0U2VsZWN0aW9uLmdldFNlbGVjdGlvbkluZm9ybWF0aW9uLFxuICAvKipcbiAgICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbCBTZWxlY3Rpb24gaW5mb3JtYXRpb24gcmV0dXJuZWQgZnJvbSBgaW5pdGlhbGl6ZWAuXG4gICAqL1xuICBjbG9zZTogUmVhY3RJbnB1dFNlbGVjdGlvbi5yZXN0b3JlU2VsZWN0aW9uXG59O1xuXG4vKipcbiAqIFN1cHByZXNzZXMgZXZlbnRzIChibHVyL2ZvY3VzKSB0aGF0IGNvdWxkIGJlIGluYWR2ZXJ0ZW50bHkgZGlzcGF0Y2hlZCBkdWUgdG9cbiAqIGhpZ2ggbGV2ZWwgRE9NIG1hbmlwdWxhdGlvbnMgKGxpa2UgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgYSB0ZXh0IGlucHV0IGZyb20gdGhlXG4gKiBET00pLlxuICovXG52YXIgRVZFTlRfU1VQUFJFU1NJT04gPSB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUaGUgZW5hYmxlZCBzdGF0dXMgb2YgYFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlcmAgYmVmb3JlXG4gICAqIHRoZSByZWNvbmNpbGlhdGlvbi5cbiAgICovXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY3VycmVudGx5RW5hYmxlZCA9IFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5pc0VuYWJsZWQoKTtcbiAgICBSZWFjdEJyb3dzZXJFdmVudEVtaXR0ZXIuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgcmV0dXJuIGN1cnJlbnRseUVuYWJsZWQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJldmlvdXNseUVuYWJsZWQgRW5hYmxlZCBzdGF0dXMgb2ZcbiAgICogICBgUmVhY3RCcm93c2VyRXZlbnRFbWl0dGVyYCBiZWZvcmUgdGhlIHJlY29uY2lsaWF0aW9uIG9jY3VycmVkLiBgY2xvc2VgXG4gICAqICAgcmVzdG9yZXMgdGhlIHByZXZpb3VzIHZhbHVlLlxuICAgKi9cbiAgY2xvc2U6IGZ1bmN0aW9uIChwcmV2aW91c2x5RW5hYmxlZCkge1xuICAgIFJlYWN0QnJvd3NlckV2ZW50RW1pdHRlci5zZXRFbmFibGVkKHByZXZpb3VzbHlFbmFibGVkKTtcbiAgfVxufTtcblxuLyoqXG4gKiBQcm92aWRlcyBhIHF1ZXVlIGZvciBjb2xsZWN0aW5nIGBjb21wb25lbnREaWRNb3VudGAgYW5kXG4gKiBgY29tcG9uZW50RGlkVXBkYXRlYCBjYWxsYmFja3MgZHVyaW5nIHRoZSB0aGUgdHJhbnNhY3Rpb24uXG4gKi9cbnZhciBPTl9ET01fUkVBRFlfUVVFVUVJTkcgPSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgaW50ZXJuYWwgYG9uRE9NUmVhZHlgIHF1ZXVlLlxuICAgKi9cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMucmVhY3RNb3VudFJlYWR5LnJlc2V0KCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFmdGVyIERPTSBpcyBmbHVzaGVkLCBpbnZva2UgYWxsIHJlZ2lzdGVyZWQgYG9uRE9NUmVhZHlgIGNhbGxiYWNrcy5cbiAgICovXG4gIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkubm90aWZ5QWxsKCk7XG4gIH1cbn07XG5cbi8qKlxuICogRXhlY3V0ZWQgd2l0aGluIHRoZSBzY29wZSBvZiB0aGUgYFRyYW5zYWN0aW9uYCBpbnN0YW5jZS4gQ29uc2lkZXIgdGhlc2UgYXNcbiAqIGJlaW5nIG1lbWJlciBtZXRob2RzLCBidXQgd2l0aCBhbiBpbXBsaWVkIG9yZGVyaW5nIHdoaWxlIGJlaW5nIGlzb2xhdGVkIGZyb21cbiAqIGVhY2ggb3RoZXIuXG4gKi9cbnZhciBUUkFOU0FDVElPTl9XUkFQUEVSUyA9IFtTRUxFQ1RJT05fUkVTVE9SQVRJT04sIEVWRU5UX1NVUFBSRVNTSU9OLCBPTl9ET01fUkVBRFlfUVVFVUVJTkddO1xuXG4vKipcbiAqIEN1cnJlbnRseTpcbiAqIC0gVGhlIG9yZGVyIHRoYXQgdGhlc2UgYXJlIGxpc3RlZCBpbiB0aGUgdHJhbnNhY3Rpb24gaXMgY3JpdGljYWw6XG4gKiAtIFN1cHByZXNzZXMgZXZlbnRzLlxuICogLSBSZXN0b3JlcyBzZWxlY3Rpb24gcmFuZ2UuXG4gKlxuICogRnV0dXJlOlxuICogLSBSZXN0b3JlIGRvY3VtZW50L292ZXJmbG93IHNjcm9sbCBwb3NpdGlvbnMgdGhhdCB3ZXJlIHVuaW50ZW50aW9uYWxseVxuICogICBtb2RpZmllZCB2aWEgRE9NIGluc2VydGlvbnMgYWJvdmUgdGhlIHRvcCB2aWV3cG9ydCBib3VuZGFyeS5cbiAqIC0gSW1wbGVtZW50L2ludGVncmF0ZSB3aXRoIGN1c3RvbWl6ZWQgY29uc3RyYWludCBiYXNlZCBsYXlvdXQgc3lzdGVtIGFuZCBrZWVwXG4gKiAgIHRyYWNrIG9mIHdoaWNoIGRpbWVuc2lvbnMgbXVzdCBiZSByZW1lYXN1cmVkLlxuICpcbiAqIEBjbGFzcyBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uXG4gKi9cbmZ1bmN0aW9uIFJlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb24oZm9yY2VIVE1MKSB7XG4gIHRoaXMucmVpbml0aWFsaXplVHJhbnNhY3Rpb24oKTtcbiAgLy8gT25seSBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgcmVhbGx5IG5lZWRzIHRoaXMgb3B0aW9uIChzZWVcbiAgLy8gYFJlYWN0U2VydmVyUmVuZGVyaW5nYCksIGJ1dCBzZXJ2ZXItc2lkZSB1c2VzXG4gIC8vIGBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uYCBpbnN0ZWFkLiBUaGlzIG9wdGlvbiBpcyBoZXJlIHNvIHRoYXQgaXQnc1xuICAvLyBhY2Nlc3NpYmxlIGFuZCBkZWZhdWx0cyB0byBmYWxzZSB3aGVuIGBSZWFjdERPTUNvbXBvbmVudGAgYW5kXG4gIC8vIGBSZWFjdFRleHRDb21wb25lbnRgIGNoZWNrcyBpdCBpbiBgbW91bnRDb21wb25lbnRgLmBcbiAgdGhpcy5yZW5kZXJUb1N0YXRpY01hcmt1cCA9IGZhbHNlO1xuICB0aGlzLnJlYWN0TW91bnRSZWFkeSA9IENhbGxiYWNrUXVldWUuZ2V0UG9vbGVkKG51bGwpO1xuICB0aGlzLnVzZUNyZWF0ZUVsZW1lbnQgPSAhZm9yY2VIVE1MICYmIFJlYWN0RE9NRmVhdHVyZUZsYWdzLnVzZUNyZWF0ZUVsZW1lbnQ7XG59XG5cbnZhciBNaXhpbiA9IHtcbiAgLyoqXG4gICAqIEBzZWUgVHJhbnNhY3Rpb25cbiAgICogQGFic3RyYWN0XG4gICAqIEBmaW5hbFxuICAgKiBAcmV0dXJuIHthcnJheTxvYmplY3Q+fSBMaXN0IG9mIG9wZXJhdGlvbiB3cmFwIHByb2NlZHVyZXMuXG4gICAqICAgVE9ETzogY29udmVydCB0byBhcnJheTxUcmFuc2FjdGlvbldyYXBwZXI+XG4gICAqL1xuICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRSQU5TQUNUSU9OX1dSQVBQRVJTO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBxdWV1ZSB0byBjb2xsZWN0IGBvbkRPTVJlYWR5YCBjYWxsYmFja3Mgd2l0aC5cbiAgICovXG4gIGdldFJlYWN0TW91bnRSZWFkeTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWN0TW91bnRSZWFkeTtcbiAgfSxcblxuICAvKipcbiAgICogYFBvb2xlZENsYXNzYCBsb29rcyBmb3IgdGhpcywgYW5kIHdpbGwgaW52b2tlIHRoaXMgYmVmb3JlIGFsbG93aW5nIHRoaXNcbiAgICogaW5zdGFuY2UgdG8gYmUgcmV1c2VkLlxuICAgKi9cbiAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24gKCkge1xuICAgIENhbGxiYWNrUXVldWUucmVsZWFzZSh0aGlzLnJlYWN0TW91bnRSZWFkeSk7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkgPSBudWxsO1xuICB9XG59O1xuXG5hc3NpZ24oUmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFRyYW5zYWN0aW9uLk1peGluLCBNaXhpbik7XG5cblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9uOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERPTVNlbGVjdGlvblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQgPSByZXF1aXJlKCcuL2dldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQnKTtcbnZhciBnZXRUZXh0Q29udGVudEFjY2Vzc29yID0gcmVxdWlyZSgnLi9nZXRUZXh0Q29udGVudEFjY2Vzc29yJyk7XG5cbi8qKlxuICogV2hpbGUgYGlzQ29sbGFwc2VkYCBpcyBhdmFpbGFibGUgb24gdGhlIFNlbGVjdGlvbiBvYmplY3QgYW5kIGBjb2xsYXBzZWRgXG4gKiBpcyBhdmFpbGFibGUgb24gdGhlIFJhbmdlIG9iamVjdCwgSUUxMSBzb21ldGltZXMgZ2V0cyB0aGVtIHdyb25nLlxuICogSWYgdGhlIGFuY2hvci9mb2N1cyBub2RlcyBhbmQgb2Zmc2V0cyBhcmUgdGhlIHNhbWUsIHRoZSByYW5nZSBpcyBjb2xsYXBzZWQuXG4gKi9cbmZ1bmN0aW9uIGlzQ29sbGFwc2VkKGFuY2hvck5vZGUsIGFuY2hvck9mZnNldCwgZm9jdXNOb2RlLCBmb2N1c09mZnNldCkge1xuICByZXR1cm4gYW5jaG9yTm9kZSA9PT0gZm9jdXNOb2RlICYmIGFuY2hvck9mZnNldCA9PT0gZm9jdXNPZmZzZXQ7XG59XG5cbi8qKlxuICogR2V0IHRoZSBhcHByb3ByaWF0ZSBhbmNob3IgYW5kIGZvY3VzIG5vZGUvb2Zmc2V0IHBhaXJzIGZvciBJRS5cbiAqXG4gKiBUaGUgY2F0Y2ggaGVyZSBpcyB0aGF0IElFJ3Mgc2VsZWN0aW9uIEFQSSBkb2Vzbid0IHByb3ZpZGUgaW5mb3JtYXRpb25cbiAqIGFib3V0IHdoZXRoZXIgdGhlIHNlbGVjdGlvbiBpcyBmb3J3YXJkIG9yIGJhY2t3YXJkLCBzbyB3ZSBoYXZlIHRvXG4gKiBiZWhhdmUgYXMgdGhvdWdoIGl0J3MgYWx3YXlzIGZvcndhcmQuXG4gKlxuICogSUUgdGV4dCBkaWZmZXJzIGZyb20gbW9kZXJuIHNlbGVjdGlvbiBpbiB0aGF0IGl0IGJlaGF2ZXMgYXMgdGhvdWdoXG4gKiBibG9jayBlbGVtZW50cyBlbmQgd2l0aCBhIG5ldyBsaW5lLiBUaGlzIG1lYW5zIGNoYXJhY3RlciBvZmZzZXRzIHdpbGxcbiAqIGRpZmZlciBiZXR3ZWVuIHRoZSB0d28gQVBJcy5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0SUVPZmZzZXRzKG5vZGUpIHtcbiAgdmFyIHNlbGVjdGlvbiA9IGRvY3VtZW50LnNlbGVjdGlvbjtcbiAgdmFyIHNlbGVjdGVkUmFuZ2UgPSBzZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgdmFyIHNlbGVjdGVkTGVuZ3RoID0gc2VsZWN0ZWRSYW5nZS50ZXh0Lmxlbmd0aDtcblxuICAvLyBEdXBsaWNhdGUgc2VsZWN0aW9uIHNvIHdlIGNhbiBtb3ZlIHJhbmdlIHdpdGhvdXQgYnJlYWtpbmcgdXNlciBzZWxlY3Rpb24uXG4gIHZhciBmcm9tU3RhcnQgPSBzZWxlY3RlZFJhbmdlLmR1cGxpY2F0ZSgpO1xuICBmcm9tU3RhcnQubW92ZVRvRWxlbWVudFRleHQobm9kZSk7XG4gIGZyb21TdGFydC5zZXRFbmRQb2ludCgnRW5kVG9TdGFydCcsIHNlbGVjdGVkUmFuZ2UpO1xuXG4gIHZhciBzdGFydE9mZnNldCA9IGZyb21TdGFydC50ZXh0Lmxlbmd0aDtcbiAgdmFyIGVuZE9mZnNldCA9IHN0YXJ0T2Zmc2V0ICsgc2VsZWN0ZWRMZW5ndGg7XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydDogc3RhcnRPZmZzZXQsXG4gICAgZW5kOiBlbmRPZmZzZXRcbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm4gez9vYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGdldE1vZGVybk9mZnNldHMobm9kZSkge1xuICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbiAmJiB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgaWYgKCFzZWxlY3Rpb24gfHwgc2VsZWN0aW9uLnJhbmdlQ291bnQgPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBhbmNob3JOb2RlID0gc2VsZWN0aW9uLmFuY2hvck5vZGU7XG4gIHZhciBhbmNob3JPZmZzZXQgPSBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0O1xuICB2YXIgZm9jdXNOb2RlID0gc2VsZWN0aW9uLmZvY3VzTm9kZTtcbiAgdmFyIGZvY3VzT2Zmc2V0ID0gc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuXG4gIHZhciBjdXJyZW50UmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKTtcblxuICAvLyBJbiBGaXJlZm94LCByYW5nZS5zdGFydENvbnRhaW5lciBhbmQgcmFuZ2UuZW5kQ29udGFpbmVyIGNhbiBiZSBcImFub255bW91c1xuICAvLyBkaXZzXCIsIGUuZy4gdGhlIHVwL2Rvd24gYnV0dG9ucyBvbiBhbiA8aW5wdXQgdHlwZT1cIm51bWJlclwiPi4gQW5vbnltb3VzXG4gIC8vIGRpdnMgZG8gbm90IHNlZW0gdG8gZXhwb3NlIHByb3BlcnRpZXMsIHRyaWdnZXJpbmcgYSBcIlBlcm1pc3Npb24gZGVuaWVkXG4gIC8vIGVycm9yXCIgaWYgYW55IG9mIGl0cyBwcm9wZXJ0aWVzIGFyZSBhY2Nlc3NlZC4gVGhlIG9ubHkgc2VlbWluZ2x5IHBvc3NpYmxlXG4gIC8vIHdheSB0byBhdm9pZCBlcnJvcmluZyBpcyB0byBhY2Nlc3MgYSBwcm9wZXJ0eSB0aGF0IHR5cGljYWxseSB3b3JrcyBmb3JcbiAgLy8gbm9uLWFub255bW91cyBkaXZzIGFuZCBjYXRjaCBhbnkgZXJyb3IgdGhhdCBtYXkgb3RoZXJ3aXNlIGFyaXNlLiBTZWVcbiAgLy8gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjA4NDI3XG4gIHRyeSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG4gICAgY3VycmVudFJhbmdlLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlO1xuICAgIGN1cnJlbnRSYW5nZS5lbmRDb250YWluZXIubm9kZVR5cGU7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gSWYgdGhlIG5vZGUgYW5kIG9mZnNldCB2YWx1ZXMgYXJlIHRoZSBzYW1lLCB0aGUgc2VsZWN0aW9uIGlzIGNvbGxhcHNlZC5cbiAgLy8gYFNlbGVjdGlvbi5pc0NvbGxhcHNlZGAgaXMgYXZhaWxhYmxlIG5hdGl2ZWx5LCBidXQgSUUgc29tZXRpbWVzIGdldHNcbiAgLy8gdGhpcyB2YWx1ZSB3cm9uZy5cbiAgdmFyIGlzU2VsZWN0aW9uQ29sbGFwc2VkID0gaXNDb2xsYXBzZWQoc2VsZWN0aW9uLmFuY2hvck5vZGUsIHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsIHNlbGVjdGlvbi5mb2N1c05vZGUsIHNlbGVjdGlvbi5mb2N1c09mZnNldCk7XG5cbiAgdmFyIHJhbmdlTGVuZ3RoID0gaXNTZWxlY3Rpb25Db2xsYXBzZWQgPyAwIDogY3VycmVudFJhbmdlLnRvU3RyaW5nKCkubGVuZ3RoO1xuXG4gIHZhciB0ZW1wUmFuZ2UgPSBjdXJyZW50UmFuZ2UuY2xvbmVSYW5nZSgpO1xuICB0ZW1wUmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKG5vZGUpO1xuICB0ZW1wUmFuZ2Uuc2V0RW5kKGN1cnJlbnRSYW5nZS5zdGFydENvbnRhaW5lciwgY3VycmVudFJhbmdlLnN0YXJ0T2Zmc2V0KTtcblxuICB2YXIgaXNUZW1wUmFuZ2VDb2xsYXBzZWQgPSBpc0NvbGxhcHNlZCh0ZW1wUmFuZ2Uuc3RhcnRDb250YWluZXIsIHRlbXBSYW5nZS5zdGFydE9mZnNldCwgdGVtcFJhbmdlLmVuZENvbnRhaW5lciwgdGVtcFJhbmdlLmVuZE9mZnNldCk7XG5cbiAgdmFyIHN0YXJ0ID0gaXNUZW1wUmFuZ2VDb2xsYXBzZWQgPyAwIDogdGVtcFJhbmdlLnRvU3RyaW5nKCkubGVuZ3RoO1xuICB2YXIgZW5kID0gc3RhcnQgKyByYW5nZUxlbmd0aDtcblxuICAvLyBEZXRlY3Qgd2hldGhlciB0aGUgc2VsZWN0aW9uIGlzIGJhY2t3YXJkLlxuICB2YXIgZGV0ZWN0aW9uUmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICBkZXRlY3Rpb25SYW5nZS5zZXRTdGFydChhbmNob3JOb2RlLCBhbmNob3JPZmZzZXQpO1xuICBkZXRlY3Rpb25SYW5nZS5zZXRFbmQoZm9jdXNOb2RlLCBmb2N1c09mZnNldCk7XG4gIHZhciBpc0JhY2t3YXJkID0gZGV0ZWN0aW9uUmFuZ2UuY29sbGFwc2VkO1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IGlzQmFja3dhcmQgPyBlbmQgOiBzdGFydCxcbiAgICBlbmQ6IGlzQmFja3dhcmQgPyBzdGFydCA6IGVuZFxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IG9mZnNldHNcbiAqL1xuZnVuY3Rpb24gc2V0SUVPZmZzZXRzKG5vZGUsIG9mZnNldHMpIHtcbiAgdmFyIHJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZHVwbGljYXRlKCk7XG4gIHZhciBzdGFydCwgZW5kO1xuXG4gIGlmICh0eXBlb2Ygb2Zmc2V0cy5lbmQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3RhcnQgPSBvZmZzZXRzLnN0YXJ0O1xuICAgIGVuZCA9IHN0YXJ0O1xuICB9IGVsc2UgaWYgKG9mZnNldHMuc3RhcnQgPiBvZmZzZXRzLmVuZCkge1xuICAgIHN0YXJ0ID0gb2Zmc2V0cy5lbmQ7XG4gICAgZW5kID0gb2Zmc2V0cy5zdGFydDtcbiAgfSBlbHNlIHtcbiAgICBzdGFydCA9IG9mZnNldHMuc3RhcnQ7XG4gICAgZW5kID0gb2Zmc2V0cy5lbmQ7XG4gIH1cblxuICByYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChub2RlKTtcbiAgcmFuZ2UubW92ZVN0YXJ0KCdjaGFyYWN0ZXInLCBzdGFydCk7XG4gIHJhbmdlLnNldEVuZFBvaW50KCdFbmRUb1N0YXJ0JywgcmFuZ2UpO1xuICByYW5nZS5tb3ZlRW5kKCdjaGFyYWN0ZXInLCBlbmQgLSBzdGFydCk7XG4gIHJhbmdlLnNlbGVjdCgpO1xufVxuXG4vKipcbiAqIEluIG1vZGVybiBub24tSUUgYnJvd3NlcnMsIHdlIGNhbiBzdXBwb3J0IGJvdGggZm9yd2FyZCBhbmQgYmFja3dhcmRcbiAqIHNlbGVjdGlvbnMuXG4gKlxuICogTm90ZTogSUUxMCsgc3VwcG9ydHMgdGhlIFNlbGVjdGlvbiBvYmplY3QsIGJ1dCBpdCBkb2VzIG5vdCBzdXBwb3J0XG4gKiB0aGUgYGV4dGVuZGAgbWV0aG9kLCB3aGljaCBtZWFucyB0aGF0IGV2ZW4gaW4gbW9kZXJuIElFLCBpdCdzIG5vdCBwb3NzaWJsZVxuICogdG8gcHJvZ3JhbWF0aWNhbGx5IGNyZWF0ZSBhIGJhY2t3YXJkIHNlbGVjdGlvbi4gVGh1cywgZm9yIGFsbCBJRVxuICogdmVyc2lvbnMsIHdlIHVzZSB0aGUgb2xkIElFIEFQSSB0byBjcmVhdGUgb3VyIHNlbGVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fERPTVRleHROb2RlfSBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gb2Zmc2V0c1xuICovXG5mdW5jdGlvbiBzZXRNb2Rlcm5PZmZzZXRzKG5vZGUsIG9mZnNldHMpIHtcbiAgaWYgKCF3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHNlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgdmFyIGxlbmd0aCA9IG5vZGVbZ2V0VGV4dENvbnRlbnRBY2Nlc3NvcigpXS5sZW5ndGg7XG4gIHZhciBzdGFydCA9IE1hdGgubWluKG9mZnNldHMuc3RhcnQsIGxlbmd0aCk7XG4gIHZhciBlbmQgPSB0eXBlb2Ygb2Zmc2V0cy5lbmQgPT09ICd1bmRlZmluZWQnID8gc3RhcnQgOiBNYXRoLm1pbihvZmZzZXRzLmVuZCwgbGVuZ3RoKTtcblxuICAvLyBJRSAxMSB1c2VzIG1vZGVybiBzZWxlY3Rpb24sIGJ1dCBkb2Vzbid0IHN1cHBvcnQgdGhlIGV4dGVuZCBtZXRob2QuXG4gIC8vIEZsaXAgYmFja3dhcmQgc2VsZWN0aW9ucywgc28gd2UgY2FuIHNldCB3aXRoIGEgc2luZ2xlIHJhbmdlLlxuICBpZiAoIXNlbGVjdGlvbi5leHRlbmQgJiYgc3RhcnQgPiBlbmQpIHtcbiAgICB2YXIgdGVtcCA9IGVuZDtcbiAgICBlbmQgPSBzdGFydDtcbiAgICBzdGFydCA9IHRlbXA7XG4gIH1cblxuICB2YXIgc3RhcnRNYXJrZXIgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KG5vZGUsIHN0YXJ0KTtcbiAgdmFyIGVuZE1hcmtlciA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQobm9kZSwgZW5kKTtcblxuICBpZiAoc3RhcnRNYXJrZXIgJiYgZW5kTWFya2VyKSB7XG4gICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICByYW5nZS5zZXRTdGFydChzdGFydE1hcmtlci5ub2RlLCBzdGFydE1hcmtlci5vZmZzZXQpO1xuICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcblxuICAgIGlmIChzdGFydCA+IGVuZCkge1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgIHNlbGVjdGlvbi5leHRlbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByYW5nZS5zZXRFbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpO1xuICAgICAgc2VsZWN0aW9uLmFkZFJhbmdlKHJhbmdlKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHVzZUlFT2Zmc2V0cyA9IEV4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSAmJiAnc2VsZWN0aW9uJyBpbiBkb2N1bWVudCAmJiAhKCdnZXRTZWxlY3Rpb24nIGluIHdpbmRvdyk7XG5cbnZhciBSZWFjdERPTVNlbGVjdGlvbiA9IHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gbm9kZVxuICAgKi9cbiAgZ2V0T2Zmc2V0czogdXNlSUVPZmZzZXRzID8gZ2V0SUVPZmZzZXRzIDogZ2V0TW9kZXJuT2Zmc2V0cyxcblxuICAvKipcbiAgICogQHBhcmFtIHtET01FbGVtZW50fERPTVRleHROb2RlfSBub2RlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvZmZzZXRzXG4gICAqL1xuICBzZXRPZmZzZXRzOiB1c2VJRU9mZnNldHMgPyBzZXRJRU9mZnNldHMgOiBzZXRNb2Rlcm5PZmZzZXRzXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NU2VsZWN0aW9uOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEdpdmVuIGFueSBub2RlIHJldHVybiB0aGUgZmlyc3QgbGVhZiBub2RlIHdpdGhvdXQgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fERPTVRleHROb2RlfSBub2RlXG4gKiBAcmV0dXJuIHtET01FbGVtZW50fERPTVRleHROb2RlfVxuICovXG5mdW5jdGlvbiBnZXRMZWFmTm9kZShub2RlKSB7XG4gIHdoaWxlIChub2RlICYmIG5vZGUuZmlyc3RDaGlsZCkge1xuICAgIG5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogR2V0IHRoZSBuZXh0IHNpYmxpbmcgd2l0aGluIGEgY29udGFpbmVyLiBUaGlzIHdpbGwgd2FsayB1cCB0aGVcbiAqIERPTSBpZiBhIG5vZGUncyBzaWJsaW5ncyBoYXZlIGJlZW4gZXhoYXVzdGVkLlxuICpcbiAqIEBwYXJhbSB7RE9NRWxlbWVudHxET01UZXh0Tm9kZX0gbm9kZVxuICogQHJldHVybiB7P0RPTUVsZW1lbnR8RE9NVGV4dE5vZGV9XG4gKi9cbmZ1bmN0aW9uIGdldFNpYmxpbmdOb2RlKG5vZGUpIHtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAobm9kZS5uZXh0U2libGluZykge1xuICAgICAgcmV0dXJuIG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgb2JqZWN0IGRlc2NyaWJpbmcgdGhlIG5vZGVzIHdoaWNoIGNvbnRhaW4gY2hhcmFjdGVycyBhdCBvZmZzZXQuXG4gKlxuICogQHBhcmFtIHtET01FbGVtZW50fERPTVRleHROb2RlfSByb290XG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0XG4gKiBAcmV0dXJuIHs/b2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KHJvb3QsIG9mZnNldCkge1xuICB2YXIgbm9kZSA9IGdldExlYWZOb2RlKHJvb3QpO1xuICB2YXIgbm9kZVN0YXJ0ID0gMDtcbiAgdmFyIG5vZGVFbmQgPSAwO1xuXG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgIG5vZGVFbmQgPSBub2RlU3RhcnQgKyBub2RlLnRleHRDb250ZW50Lmxlbmd0aDtcblxuICAgICAgaWYgKG5vZGVTdGFydCA8PSBvZmZzZXQgJiYgbm9kZUVuZCA+PSBvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBub2RlOiBub2RlLFxuICAgICAgICAgIG9mZnNldDogb2Zmc2V0IC0gbm9kZVN0YXJ0XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIG5vZGVTdGFydCA9IG5vZGVFbmQ7XG4gICAgfVxuXG4gICAgbm9kZSA9IGdldExlYWZOb2RlKGdldFNpYmxpbmdOb2RlKG5vZGUpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFNlbGVjdEV2ZW50UGx1Z2luXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgRXZlbnRDb25zdGFudHMgPSByZXF1aXJlKCcuL0V2ZW50Q29uc3RhbnRzJyk7XG52YXIgRXZlbnRQcm9wYWdhdG9ycyA9IHJlcXVpcmUoJy4vRXZlbnRQcm9wYWdhdG9ycycpO1xudmFyIEV4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcbnZhciBSZWFjdElucHV0U2VsZWN0aW9uID0gcmVxdWlyZSgnLi9SZWFjdElucHV0U2VsZWN0aW9uJyk7XG52YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0V2ZW50Jyk7XG5cbnZhciBnZXRBY3RpdmVFbGVtZW50ID0gcmVxdWlyZSgnZmJqcy9saWIvZ2V0QWN0aXZlRWxlbWVudCcpO1xudmFyIGlzVGV4dElucHV0RWxlbWVudCA9IHJlcXVpcmUoJy4vaXNUZXh0SW5wdXRFbGVtZW50Jyk7XG52YXIga2V5T2YgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlPZicpO1xudmFyIHNoYWxsb3dFcXVhbCA9IHJlcXVpcmUoJ2ZianMvbGliL3NoYWxsb3dFcXVhbCcpO1xuXG52YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG5cbnZhciBza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQgPSBFeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgJ2RvY3VtZW50TW9kZScgaW4gZG9jdW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDw9IDExO1xuXG52YXIgZXZlbnRUeXBlcyA9IHtcbiAgc2VsZWN0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25TZWxlY3Q6IG51bGwgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvblNlbGVjdENhcHR1cmU6IG51bGwgfSlcbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW3RvcExldmVsVHlwZXMudG9wQmx1ciwgdG9wTGV2ZWxUeXBlcy50b3BDb250ZXh0TWVudSwgdG9wTGV2ZWxUeXBlcy50b3BGb2N1cywgdG9wTGV2ZWxUeXBlcy50b3BLZXlEb3duLCB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93biwgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZVVwLCB0b3BMZXZlbFR5cGVzLnRvcFNlbGVjdGlvbkNoYW5nZV1cbiAgfVxufTtcblxudmFyIGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xudmFyIGFjdGl2ZUVsZW1lbnRJRCA9IG51bGw7XG52YXIgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG52YXIgbW91c2VEb3duID0gZmFsc2U7XG5cbi8vIFRyYWNrIHdoZXRoZXIgYSBsaXN0ZW5lciBleGlzdHMgZm9yIHRoaXMgcGx1Z2luLiBJZiBub25lIGV4aXN0LCB3ZSBkb1xuLy8gbm90IGV4dHJhY3QgZXZlbnRzLlxudmFyIGhhc0xpc3RlbmVyID0gZmFsc2U7XG52YXIgT05fU0VMRUNUX0tFWSA9IGtleU9mKHsgb25TZWxlY3Q6IG51bGwgfSk7XG5cbi8qKlxuICogR2V0IGFuIG9iamVjdCB3aGljaCBpcyBhIHVuaXF1ZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gKlxuICogVGhlIHJldHVybiB2YWx1ZSB3aWxsIG5vdCBiZSBjb25zaXN0ZW50IGFjcm9zcyBub2RlcyBvciBicm93c2VycywgYnV0XG4gKiB0d28gaWRlbnRpY2FsIHNlbGVjdGlvbnMgb24gdGhlIHNhbWUgbm9kZSB3aWxsIHJldHVybiBpZGVudGljYWwgb2JqZWN0cy5cbiAqXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKG5vZGUpIHtcbiAgaWYgKCdzZWxlY3Rpb25TdGFydCcgaW4gbm9kZSAmJiBSZWFjdElucHV0U2VsZWN0aW9uLmhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhub2RlKSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydDogbm9kZS5zZWxlY3Rpb25TdGFydCxcbiAgICAgIGVuZDogbm9kZS5zZWxlY3Rpb25FbmRcbiAgICB9O1xuICB9IGVsc2UgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICB2YXIgc2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgIHJldHVybiB7XG4gICAgICBhbmNob3JOb2RlOiBzZWxlY3Rpb24uYW5jaG9yTm9kZSxcbiAgICAgIGFuY2hvck9mZnNldDogc2VsZWN0aW9uLmFuY2hvck9mZnNldCxcbiAgICAgIGZvY3VzTm9kZTogc2VsZWN0aW9uLmZvY3VzTm9kZSxcbiAgICAgIGZvY3VzT2Zmc2V0OiBzZWxlY3Rpb24uZm9jdXNPZmZzZXRcbiAgICB9O1xuICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgIHZhciByYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO1xuICAgIHJldHVybiB7XG4gICAgICBwYXJlbnRFbGVtZW50OiByYW5nZS5wYXJlbnRFbGVtZW50KCksXG4gICAgICB0ZXh0OiByYW5nZS50ZXh0LFxuICAgICAgdG9wOiByYW5nZS5ib3VuZGluZ1RvcCxcbiAgICAgIGxlZnQ6IHJhbmdlLmJvdW5kaW5nTGVmdFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBQb2xsIHNlbGVjdGlvbiB0byBzZWUgd2hldGhlciBpdCdzIGNoYW5nZWQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50XG4gKiBAcmV0dXJuIHs/U3ludGhldGljRXZlbnR9XG4gKi9cbmZ1bmN0aW9uIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAvLyBFbnN1cmUgd2UgaGF2ZSB0aGUgcmlnaHQgZWxlbWVudCwgYW5kIHRoYXQgdGhlIHVzZXIgaXMgbm90IGRyYWdnaW5nIGFcbiAgLy8gc2VsZWN0aW9uICh0aGlzIG1hdGNoZXMgbmF0aXZlIGBzZWxlY3RgIGV2ZW50IGJlaGF2aW9yKS4gSW4gSFRNTDUsIHNlbGVjdFxuICAvLyBmaXJlcyBvbmx5IG9uIGlucHV0IGFuZCB0ZXh0YXJlYSB0aHVzIGlmIHRoZXJlJ3Mgbm8gZm9jdXNlZCBlbGVtZW50IHdlXG4gIC8vIHdvbid0IGRpc3BhdGNoLlxuICBpZiAobW91c2VEb3duIHx8IGFjdGl2ZUVsZW1lbnQgPT0gbnVsbCB8fCBhY3RpdmVFbGVtZW50ICE9PSBnZXRBY3RpdmVFbGVtZW50KCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIE9ubHkgZmlyZSB3aGVuIHNlbGVjdGlvbiBoYXMgYWN0dWFsbHkgY2hhbmdlZC5cbiAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSBnZXRTZWxlY3Rpb24oYWN0aXZlRWxlbWVudCk7XG4gIGlmICghbGFzdFNlbGVjdGlvbiB8fCAhc2hhbGxvd0VxdWFsKGxhc3RTZWxlY3Rpb24sIGN1cnJlbnRTZWxlY3Rpb24pKSB7XG4gICAgbGFzdFNlbGVjdGlvbiA9IGN1cnJlbnRTZWxlY3Rpb247XG5cbiAgICB2YXIgc3ludGhldGljRXZlbnQgPSBTeW50aGV0aWNFdmVudC5nZXRQb29sZWQoZXZlbnRUeXBlcy5zZWxlY3QsIGFjdGl2ZUVsZW1lbnRJRCwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICAgIHN5bnRoZXRpY0V2ZW50LnR5cGUgPSAnc2VsZWN0JztcbiAgICBzeW50aGV0aWNFdmVudC50YXJnZXQgPSBhY3RpdmVFbGVtZW50O1xuXG4gICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKHN5bnRoZXRpY0V2ZW50KTtcblxuICAgIHJldHVybiBzeW50aGV0aWNFdmVudDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFRoaXMgcGx1Z2luIGNyZWF0ZXMgYW4gYG9uU2VsZWN0YCBldmVudCB0aGF0IG5vcm1hbGl6ZXMgc2VsZWN0IGV2ZW50c1xuICogYWNyb3NzIGZvcm0gZWxlbWVudHMuXG4gKlxuICogU3VwcG9ydGVkIGVsZW1lbnRzIGFyZTpcbiAqIC0gaW5wdXQgKHNlZSBgaXNUZXh0SW5wdXRFbGVtZW50YClcbiAqIC0gdGV4dGFyZWFcbiAqIC0gY29udGVudEVkaXRhYmxlXG4gKlxuICogVGhpcyBkaWZmZXJzIGZyb20gbmF0aXZlIGJyb3dzZXIgaW1wbGVtZW50YXRpb25zIGluIHRoZSBmb2xsb3dpbmcgd2F5czpcbiAqIC0gRmlyZXMgb24gY29udGVudEVkaXRhYmxlIGZpZWxkcyBhcyB3ZWxsIGFzIGlucHV0cy5cbiAqIC0gRmlyZXMgZm9yIGNvbGxhcHNlZCBzZWxlY3Rpb24uXG4gKiAtIEZpcmVzIGFmdGVyIHVzZXIgaW5wdXQuXG4gKi9cbnZhciBTZWxlY3RFdmVudFBsdWdpbiA9IHtcblxuICBldmVudFR5cGVzOiBldmVudFR5cGVzLFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUeXBlIFJlY29yZCBmcm9tIGBFdmVudENvbnN0YW50c2AuXG4gICAqIEBwYXJhbSB7RE9NRXZlbnRUYXJnZXR9IHRvcExldmVsVGFyZ2V0IFRoZSBsaXN0ZW5pbmcgY29tcG9uZW50IHJvb3Qgbm9kZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvcExldmVsVGFyZ2V0SUQgSUQgb2YgYHRvcExldmVsVGFyZ2V0YC5cbiAgICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICAgKiBAcmV0dXJuIHsqfSBBbiBhY2N1bXVsYXRpb24gb2Ygc3ludGhldGljIGV2ZW50cy5cbiAgICogQHNlZSB7RXZlbnRQbHVnaW5IdWIuZXh0cmFjdEV2ZW50c31cbiAgICovXG4gIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uICh0b3BMZXZlbFR5cGUsIHRvcExldmVsVGFyZ2V0LCB0b3BMZXZlbFRhcmdldElELCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgICBpZiAoIWhhc0xpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgLy8gVHJhY2sgdGhlIGlucHV0IG5vZGUgdGhhdCBoYXMgZm9jdXMuXG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRm9jdXM6XG4gICAgICAgIGlmIChpc1RleHRJbnB1dEVsZW1lbnQodG9wTGV2ZWxUYXJnZXQpIHx8IHRvcExldmVsVGFyZ2V0LmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgYWN0aXZlRWxlbWVudCA9IHRvcExldmVsVGFyZ2V0O1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnRJRCA9IHRvcExldmVsVGFyZ2V0SUQ7XG4gICAgICAgICAgbGFzdFNlbGVjdGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQmx1cjpcbiAgICAgICAgYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnRJRCA9IG51bGw7XG4gICAgICAgIGxhc3RTZWxlY3Rpb24gPSBudWxsO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gRG9uJ3QgZmlyZSB0aGUgZXZlbnQgd2hpbGUgdGhlIHVzZXIgaXMgZHJhZ2dpbmcuIFRoaXMgbWF0Y2hlcyB0aGVcbiAgICAgIC8vIHNlbWFudGljcyBvZiB0aGUgbmF0aXZlIHNlbGVjdCBldmVudC5cbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZURvd246XG4gICAgICAgIG1vdXNlRG93biA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbnRleHRNZW51OlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlVXA6XG4gICAgICAgIG1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gY29uc3RydWN0U2VsZWN0RXZlbnQobmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcblxuICAgICAgLy8gQ2hyb21lIGFuZCBJRSBmaXJlIG5vbi1zdGFuZGFyZCBldmVudCB3aGVuIHNlbGVjdGlvbiBpcyBjaGFuZ2VkIChhbmRcbiAgICAgIC8vIHNvbWV0aW1lcyB3aGVuIGl0IGhhc24ndCkuIElFJ3MgZXZlbnQgZmlyZXMgb3V0IG9mIG9yZGVyIHdpdGggcmVzcGVjdFxuICAgICAgLy8gdG8ga2V5IGFuZCBpbnB1dCBldmVudHMgb24gZGVsZXRpb24sIHNvIHdlIGRpc2NhcmQgaXQuXG4gICAgICAvL1xuICAgICAgLy8gRmlyZWZveCBkb2Vzbid0IHN1cHBvcnQgc2VsZWN0aW9uY2hhbmdlLCBzbyBjaGVjayBzZWxlY3Rpb24gc3RhdHVzXG4gICAgICAvLyBhZnRlciBlYWNoIGtleSBlbnRyeS4gVGhlIHNlbGVjdGlvbiBjaGFuZ2VzIGFmdGVyIGtleWRvd24gYW5kIGJlZm9yZVxuICAgICAgLy8ga2V5dXAsIGJ1dCB3ZSBjaGVjayBvbiBrZXlkb3duIGFzIHdlbGwgaW4gdGhlIGNhc2Ugb2YgaG9sZGluZyBkb3duIGFcbiAgICAgIC8vIGtleSwgd2hlbiBtdWx0aXBsZSBrZXlkb3duIGV2ZW50cyBhcmUgZmlyZWQgYnV0IG9ubHkgb25lIGtleXVwIGlzLlxuICAgICAgLy8gVGhpcyBpcyBhbHNvIG91ciBhcHByb2FjaCBmb3IgSUUgaGFuZGxpbmcsIGZvciB0aGUgcmVhc29uIGFib3ZlLlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFNlbGVjdGlvbkNoYW5nZTpcbiAgICAgICAgaWYgKHNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5RG93bjpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BLZXlVcDpcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdFNlbGVjdEV2ZW50KG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG5cbiAgZGlkUHV0TGlzdGVuZXI6IGZ1bmN0aW9uIChpZCwgcmVnaXN0cmF0aW9uTmFtZSwgbGlzdGVuZXIpIHtcbiAgICBpZiAocmVnaXN0cmF0aW9uTmFtZSA9PT0gT05fU0VMRUNUX0tFWSkge1xuICAgICAgaGFzTGlzdGVuZXIgPSB0cnVlO1xuICAgIH1cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTZWxlY3RFdmVudFBsdWdpbjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgU2VydmVyUmVhY3RSb290SW5kZXhcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFNpemUgb2YgdGhlIHJlYWN0Um9vdCBJRCBzcGFjZS4gV2UgZ2VuZXJhdGUgcmFuZG9tIG51bWJlcnMgZm9yIFJlYWN0IHJvb3RcbiAqIElEcyBhbmQgaWYgdGhlcmUncyBhIGNvbGxpc2lvbiB0aGUgZXZlbnRzIGFuZCBET00gdXBkYXRlIHN5c3RlbSB3aWxsXG4gKiBnZXQgY29uZnVzZWQuIEluIHRoZSBmdXR1cmUgd2UgbmVlZCBhIHdheSB0byBnZW5lcmF0ZSBHVUlEcyBidXQgZm9yXG4gKiBub3cgdGhpcyB3aWxsIHdvcmsgb24gYSBzbWFsbGVyIHNjYWxlLlxuICovXG52YXIgR0xPQkFMX01PVU5UX1BPSU5UX01BWCA9IE1hdGgucG93KDIsIDUzKTtcblxudmFyIFNlcnZlclJlYWN0Um9vdEluZGV4ID0ge1xuICBjcmVhdGVSZWFjdFJvb3RJbmRleDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIEdMT0JBTF9NT1VOVF9QT0lOVF9NQVgpO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNlcnZlclJlYWN0Um9vdEluZGV4OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTaW1wbGVFdmVudFBsdWdpblxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50Q29uc3RhbnRzID0gcmVxdWlyZSgnLi9FdmVudENvbnN0YW50cycpO1xudmFyIEV2ZW50TGlzdGVuZXIgPSByZXF1aXJlKCdmYmpzL2xpYi9FdmVudExpc3RlbmVyJyk7XG52YXIgRXZlbnRQcm9wYWdhdG9ycyA9IHJlcXVpcmUoJy4vRXZlbnRQcm9wYWdhdG9ycycpO1xudmFyIFJlYWN0TW91bnQgPSByZXF1aXJlKCcuL1JlYWN0TW91bnQnKTtcbnZhciBTeW50aGV0aWNDbGlwYm9hcmRFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljQ2xpcGJvYXJkRXZlbnQnKTtcbnZhciBTeW50aGV0aWNFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljRXZlbnQnKTtcbnZhciBTeW50aGV0aWNGb2N1c0V2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNGb2N1c0V2ZW50Jyk7XG52YXIgU3ludGhldGljS2V5Ym9hcmRFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljS2V5Ym9hcmRFdmVudCcpO1xudmFyIFN5bnRoZXRpY01vdXNlRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY01vdXNlRXZlbnQnKTtcbnZhciBTeW50aGV0aWNEcmFnRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0RyYWdFdmVudCcpO1xudmFyIFN5bnRoZXRpY1RvdWNoRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY1RvdWNoRXZlbnQnKTtcbnZhciBTeW50aGV0aWNVSUV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNVSUV2ZW50Jyk7XG52YXIgU3ludGhldGljV2hlZWxFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljV2hlZWxFdmVudCcpO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcbnZhciBnZXRFdmVudENoYXJDb2RlID0gcmVxdWlyZSgnLi9nZXRFdmVudENoYXJDb2RlJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG52YXIga2V5T2YgPSByZXF1aXJlKCdmYmpzL2xpYi9rZXlPZicpO1xuXG52YXIgdG9wTGV2ZWxUeXBlcyA9IEV2ZW50Q29uc3RhbnRzLnRvcExldmVsVHlwZXM7XG5cbnZhciBldmVudFR5cGVzID0ge1xuICBhYm9ydDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uQWJvcnQ6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkFib3J0Q2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgYmx1cjoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uQmx1cjogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uQmx1ckNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIGNhblBsYXk6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvbkNhblBsYXk6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkNhblBsYXlDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBjYW5QbGF5VGhyb3VnaDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uQ2FuUGxheVRocm91Z2g6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkNhblBsYXlUaHJvdWdoQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgY2xpY2s6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvbkNsaWNrOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25DbGlja0NhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIGNvbnRleHRNZW51OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25Db250ZXh0TWVudTogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uQ29udGV4dE1lbnVDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBjb3B5OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25Db3B5OiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25Db3B5Q2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgY3V0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25DdXQ6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkN1dENhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIGRvdWJsZUNsaWNrOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25Eb3VibGVDbGljazogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uRG91YmxlQ2xpY2tDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBkcmFnOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25EcmFnOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25EcmFnQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgZHJhZ0VuZDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uRHJhZ0VuZDogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uRHJhZ0VuZENhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIGRyYWdFbnRlcjoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uRHJhZ0VudGVyOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25EcmFnRW50ZXJDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBkcmFnRXhpdDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uRHJhZ0V4aXQ6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkRyYWdFeGl0Q2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgZHJhZ0xlYXZlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25EcmFnTGVhdmU6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkRyYWdMZWF2ZUNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIGRyYWdPdmVyOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25EcmFnT3ZlcjogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uRHJhZ092ZXJDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBkcmFnU3RhcnQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvbkRyYWdTdGFydDogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uRHJhZ1N0YXJ0Q2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgZHJvcDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uRHJvcDogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uRHJvcENhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIGR1cmF0aW9uQ2hhbmdlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25EdXJhdGlvbkNoYW5nZTogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uRHVyYXRpb25DaGFuZ2VDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBlbXB0aWVkOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25FbXB0aWVkOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25FbXB0aWVkQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgZW5jcnlwdGVkOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25FbmNyeXB0ZWQ6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkVuY3J5cHRlZENhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIGVuZGVkOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25FbmRlZDogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uRW5kZWRDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBlcnJvcjoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uRXJyb3I6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbkVycm9yQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgZm9jdXM6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvbkZvY3VzOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25Gb2N1c0NhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIGlucHV0OiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25JbnB1dDogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uSW5wdXRDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBrZXlEb3duOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25LZXlEb3duOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25LZXlEb3duQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAga2V5UHJlc3M6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvbktleVByZXNzOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25LZXlQcmVzc0NhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIGtleVVwOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25LZXlVcDogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uS2V5VXBDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBsb2FkOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25Mb2FkOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25Mb2FkQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgbG9hZGVkRGF0YToge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uTG9hZGVkRGF0YTogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uTG9hZGVkRGF0YUNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIGxvYWRlZE1ldGFkYXRhOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25Mb2FkZWRNZXRhZGF0YTogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uTG9hZGVkTWV0YWRhdGFDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBsb2FkU3RhcnQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvbkxvYWRTdGFydDogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uTG9hZFN0YXJ0Q2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgLy8gTm90ZTogV2UgZG8gbm90IGFsbG93IGxpc3RlbmluZyB0byBtb3VzZU92ZXIgZXZlbnRzLiBJbnN0ZWFkLCB1c2UgdGhlXG4gIC8vIG9uTW91c2VFbnRlci9vbk1vdXNlTGVhdmUgY3JlYXRlZCBieSBgRW50ZXJMZWF2ZUV2ZW50UGx1Z2luYC5cbiAgbW91c2VEb3duOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25Nb3VzZURvd246IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbk1vdXNlRG93bkNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIG1vdXNlTW92ZToge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uTW91c2VNb3ZlOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25Nb3VzZU1vdmVDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBtb3VzZU91dDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uTW91c2VPdXQ6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbk1vdXNlT3V0Q2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgbW91c2VPdmVyOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25Nb3VzZU92ZXI6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbk1vdXNlT3ZlckNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIG1vdXNlVXA6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvbk1vdXNlVXA6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvbk1vdXNlVXBDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBwYXN0ZToge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uUGFzdGU6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvblBhc3RlQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgcGF1c2U6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvblBhdXNlOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25QYXVzZUNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIHBsYXk6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvblBsYXk6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvblBsYXlDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBwbGF5aW5nOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25QbGF5aW5nOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25QbGF5aW5nQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgcHJvZ3Jlc3M6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvblByb2dyZXNzOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25Qcm9ncmVzc0NhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIHJhdGVDaGFuZ2U6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvblJhdGVDaGFuZ2U6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvblJhdGVDaGFuZ2VDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICByZXNldDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uUmVzZXQ6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvblJlc2V0Q2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgc2Nyb2xsOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25TY3JvbGw6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvblNjcm9sbENhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIHNlZWtlZDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uU2Vla2VkOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25TZWVrZWRDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBzZWVraW5nOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25TZWVraW5nOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25TZWVraW5nQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgc3RhbGxlZDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uU3RhbGxlZDogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uU3RhbGxlZENhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIHN1Ym1pdDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uU3VibWl0OiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25TdWJtaXRDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICBzdXNwZW5kOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25TdXNwZW5kOiB0cnVlIH0pLFxuICAgICAgY2FwdHVyZWQ6IGtleU9mKHsgb25TdXNwZW5kQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgdGltZVVwZGF0ZToge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uVGltZVVwZGF0ZTogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uVGltZVVwZGF0ZUNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIHRvdWNoQ2FuY2VsOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25Ub3VjaENhbmNlbDogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uVG91Y2hDYW5jZWxDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICB0b3VjaEVuZDoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uVG91Y2hFbmQ6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvblRvdWNoRW5kQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgdG91Y2hNb3ZlOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25Ub3VjaE1vdmU6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvblRvdWNoTW92ZUNhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIHRvdWNoU3RhcnQ6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvblRvdWNoU3RhcnQ6IHRydWUgfSksXG4gICAgICBjYXB0dXJlZDoga2V5T2YoeyBvblRvdWNoU3RhcnRDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9LFxuICB2b2x1bWVDaGFuZ2U6IHtcbiAgICBwaGFzZWRSZWdpc3RyYXRpb25OYW1lczoge1xuICAgICAgYnViYmxlZDoga2V5T2YoeyBvblZvbHVtZUNoYW5nZTogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uVm9sdW1lQ2hhbmdlQ2FwdHVyZTogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcbiAgd2FpdGluZzoge1xuICAgIHBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOiB7XG4gICAgICBidWJibGVkOiBrZXlPZih7IG9uV2FpdGluZzogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uV2FpdGluZ0NhcHR1cmU6IHRydWUgfSlcbiAgICB9XG4gIH0sXG4gIHdoZWVsOiB7XG4gICAgcGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6IHtcbiAgICAgIGJ1YmJsZWQ6IGtleU9mKHsgb25XaGVlbDogdHJ1ZSB9KSxcbiAgICAgIGNhcHR1cmVkOiBrZXlPZih7IG9uV2hlZWxDYXB0dXJlOiB0cnVlIH0pXG4gICAgfVxuICB9XG59O1xuXG52YXIgdG9wTGV2ZWxFdmVudHNUb0Rpc3BhdGNoQ29uZmlnID0ge1xuICB0b3BBYm9ydDogZXZlbnRUeXBlcy5hYm9ydCxcbiAgdG9wQmx1cjogZXZlbnRUeXBlcy5ibHVyLFxuICB0b3BDYW5QbGF5OiBldmVudFR5cGVzLmNhblBsYXksXG4gIHRvcENhblBsYXlUaHJvdWdoOiBldmVudFR5cGVzLmNhblBsYXlUaHJvdWdoLFxuICB0b3BDbGljazogZXZlbnRUeXBlcy5jbGljayxcbiAgdG9wQ29udGV4dE1lbnU6IGV2ZW50VHlwZXMuY29udGV4dE1lbnUsXG4gIHRvcENvcHk6IGV2ZW50VHlwZXMuY29weSxcbiAgdG9wQ3V0OiBldmVudFR5cGVzLmN1dCxcbiAgdG9wRG91YmxlQ2xpY2s6IGV2ZW50VHlwZXMuZG91YmxlQ2xpY2ssXG4gIHRvcERyYWc6IGV2ZW50VHlwZXMuZHJhZyxcbiAgdG9wRHJhZ0VuZDogZXZlbnRUeXBlcy5kcmFnRW5kLFxuICB0b3BEcmFnRW50ZXI6IGV2ZW50VHlwZXMuZHJhZ0VudGVyLFxuICB0b3BEcmFnRXhpdDogZXZlbnRUeXBlcy5kcmFnRXhpdCxcbiAgdG9wRHJhZ0xlYXZlOiBldmVudFR5cGVzLmRyYWdMZWF2ZSxcbiAgdG9wRHJhZ092ZXI6IGV2ZW50VHlwZXMuZHJhZ092ZXIsXG4gIHRvcERyYWdTdGFydDogZXZlbnRUeXBlcy5kcmFnU3RhcnQsXG4gIHRvcERyb3A6IGV2ZW50VHlwZXMuZHJvcCxcbiAgdG9wRHVyYXRpb25DaGFuZ2U6IGV2ZW50VHlwZXMuZHVyYXRpb25DaGFuZ2UsXG4gIHRvcEVtcHRpZWQ6IGV2ZW50VHlwZXMuZW1wdGllZCxcbiAgdG9wRW5jcnlwdGVkOiBldmVudFR5cGVzLmVuY3J5cHRlZCxcbiAgdG9wRW5kZWQ6IGV2ZW50VHlwZXMuZW5kZWQsXG4gIHRvcEVycm9yOiBldmVudFR5cGVzLmVycm9yLFxuICB0b3BGb2N1czogZXZlbnRUeXBlcy5mb2N1cyxcbiAgdG9wSW5wdXQ6IGV2ZW50VHlwZXMuaW5wdXQsXG4gIHRvcEtleURvd246IGV2ZW50VHlwZXMua2V5RG93bixcbiAgdG9wS2V5UHJlc3M6IGV2ZW50VHlwZXMua2V5UHJlc3MsXG4gIHRvcEtleVVwOiBldmVudFR5cGVzLmtleVVwLFxuICB0b3BMb2FkOiBldmVudFR5cGVzLmxvYWQsXG4gIHRvcExvYWRlZERhdGE6IGV2ZW50VHlwZXMubG9hZGVkRGF0YSxcbiAgdG9wTG9hZGVkTWV0YWRhdGE6IGV2ZW50VHlwZXMubG9hZGVkTWV0YWRhdGEsXG4gIHRvcExvYWRTdGFydDogZXZlbnRUeXBlcy5sb2FkU3RhcnQsXG4gIHRvcE1vdXNlRG93bjogZXZlbnRUeXBlcy5tb3VzZURvd24sXG4gIHRvcE1vdXNlTW92ZTogZXZlbnRUeXBlcy5tb3VzZU1vdmUsXG4gIHRvcE1vdXNlT3V0OiBldmVudFR5cGVzLm1vdXNlT3V0LFxuICB0b3BNb3VzZU92ZXI6IGV2ZW50VHlwZXMubW91c2VPdmVyLFxuICB0b3BNb3VzZVVwOiBldmVudFR5cGVzLm1vdXNlVXAsXG4gIHRvcFBhc3RlOiBldmVudFR5cGVzLnBhc3RlLFxuICB0b3BQYXVzZTogZXZlbnRUeXBlcy5wYXVzZSxcbiAgdG9wUGxheTogZXZlbnRUeXBlcy5wbGF5LFxuICB0b3BQbGF5aW5nOiBldmVudFR5cGVzLnBsYXlpbmcsXG4gIHRvcFByb2dyZXNzOiBldmVudFR5cGVzLnByb2dyZXNzLFxuICB0b3BSYXRlQ2hhbmdlOiBldmVudFR5cGVzLnJhdGVDaGFuZ2UsXG4gIHRvcFJlc2V0OiBldmVudFR5cGVzLnJlc2V0LFxuICB0b3BTY3JvbGw6IGV2ZW50VHlwZXMuc2Nyb2xsLFxuICB0b3BTZWVrZWQ6IGV2ZW50VHlwZXMuc2Vla2VkLFxuICB0b3BTZWVraW5nOiBldmVudFR5cGVzLnNlZWtpbmcsXG4gIHRvcFN0YWxsZWQ6IGV2ZW50VHlwZXMuc3RhbGxlZCxcbiAgdG9wU3VibWl0OiBldmVudFR5cGVzLnN1Ym1pdCxcbiAgdG9wU3VzcGVuZDogZXZlbnRUeXBlcy5zdXNwZW5kLFxuICB0b3BUaW1lVXBkYXRlOiBldmVudFR5cGVzLnRpbWVVcGRhdGUsXG4gIHRvcFRvdWNoQ2FuY2VsOiBldmVudFR5cGVzLnRvdWNoQ2FuY2VsLFxuICB0b3BUb3VjaEVuZDogZXZlbnRUeXBlcy50b3VjaEVuZCxcbiAgdG9wVG91Y2hNb3ZlOiBldmVudFR5cGVzLnRvdWNoTW92ZSxcbiAgdG9wVG91Y2hTdGFydDogZXZlbnRUeXBlcy50b3VjaFN0YXJ0LFxuICB0b3BWb2x1bWVDaGFuZ2U6IGV2ZW50VHlwZXMudm9sdW1lQ2hhbmdlLFxuICB0b3BXYWl0aW5nOiBldmVudFR5cGVzLndhaXRpbmcsXG4gIHRvcFdoZWVsOiBldmVudFR5cGVzLndoZWVsXG59O1xuXG5mb3IgKHZhciB0eXBlIGluIHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZykge1xuICB0b3BMZXZlbEV2ZW50c1RvRGlzcGF0Y2hDb25maWdbdHlwZV0uZGVwZW5kZW5jaWVzID0gW3R5cGVdO1xufVxuXG52YXIgT05fQ0xJQ0tfS0VZID0ga2V5T2YoeyBvbkNsaWNrOiBudWxsIH0pO1xudmFyIG9uQ2xpY2tMaXN0ZW5lcnMgPSB7fTtcblxudmFyIFNpbXBsZUV2ZW50UGx1Z2luID0ge1xuXG4gIGV2ZW50VHlwZXM6IGV2ZW50VHlwZXMsXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b3BMZXZlbFR5cGUgUmVjb3JkIGZyb20gYEV2ZW50Q29uc3RhbnRzYC5cbiAgICogQHBhcmFtIHtET01FdmVudFRhcmdldH0gdG9wTGV2ZWxUYXJnZXQgVGhlIGxpc3RlbmluZyBjb21wb25lbnQgcm9vdCBub2RlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdG9wTGV2ZWxUYXJnZXRJRCBJRCBvZiBgdG9wTGV2ZWxUYXJnZXRgLlxuICAgKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gICAqIEByZXR1cm4geyp9IEFuIGFjY3VtdWxhdGlvbiBvZiBzeW50aGV0aWMgZXZlbnRzLlxuICAgKiBAc2VlIHtFdmVudFBsdWdpbkh1Yi5leHRyYWN0RXZlbnRzfVxuICAgKi9cbiAgZXh0cmFjdEV2ZW50czogZnVuY3Rpb24gKHRvcExldmVsVHlwZSwgdG9wTGV2ZWxUYXJnZXQsIHRvcExldmVsVGFyZ2V0SUQsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICAgIHZhciBkaXNwYXRjaENvbmZpZyA9IHRvcExldmVsRXZlbnRzVG9EaXNwYXRjaENvbmZpZ1t0b3BMZXZlbFR5cGVdO1xuICAgIGlmICghZGlzcGF0Y2hDb25maWcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgRXZlbnRDb25zdHJ1Y3RvcjtcbiAgICBzd2l0Y2ggKHRvcExldmVsVHlwZSkge1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEFib3J0OlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENhblBsYXk6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ2FuUGxheVRocm91Z2g6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHVyYXRpb25DaGFuZ2U6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRW1wdGllZDpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BFbmNyeXB0ZWQ6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRW5kZWQ6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRXJyb3I6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wSW5wdXQ6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTG9hZDpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BMb2FkZWREYXRhOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcExvYWRlZE1ldGFkYXRhOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcExvYWRTdGFydDpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQYXVzZTpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BQbGF5OlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBsYXlpbmc6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wUHJvZ3Jlc3M6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wUmF0ZUNoYW5nZTpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BSZXNldDpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTZWVrZWQ6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wU2Vla2luZzpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTdGFsbGVkOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFN1Ym1pdDpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTdXNwZW5kOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRpbWVVcGRhdGU6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVm9sdW1lQ2hhbmdlOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFdhaXRpbmc6XG4gICAgICAgIC8vIEhUTUwgRXZlbnRzXG4gICAgICAgIC8vIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5kZXguaHRtbCNldmVudHMtMFxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleVByZXNzOlxuICAgICAgICAvLyBGaXJlRm94IGNyZWF0ZXMgYSBrZXlwcmVzcyBldmVudCBmb3IgZnVuY3Rpb24ga2V5cyB0b28uIFRoaXMgcmVtb3Zlc1xuICAgICAgICAvLyB0aGUgdW53YW50ZWQga2V5cHJlc3MgZXZlbnRzLiBFbnRlciBpcyBob3dldmVyIGJvdGggcHJpbnRhYmxlIGFuZFxuICAgICAgICAvLyBub24tcHJpbnRhYmxlLiBPbmUgd291bGQgZXhwZWN0IFRhYiB0byBiZSBhcyB3ZWxsIChidXQgaXQgaXNuJ3QpLlxuICAgICAgICBpZiAoZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEtleURvd246XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wS2V5VXA6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNLZXlib2FyZEV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BCbHVyOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcEZvY3VzOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljRm9jdXNFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ2xpY2s6XG4gICAgICAgIC8vIEZpcmVmb3ggY3JlYXRlcyBhIGNsaWNrIGV2ZW50IG9uIHJpZ2h0IG1vdXNlIGNsaWNrcy4gVGhpcyByZW1vdmVzIHRoZVxuICAgICAgICAvLyB1bndhbnRlZCBjbGljayBldmVudHMuXG4gICAgICAgIGlmIChuYXRpdmVFdmVudC5idXR0b24gPT09IDIpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvbnRleHRNZW51OlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERvdWJsZUNsaWNrOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlRG93bjpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BNb3VzZU1vdmU6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VPdXQ6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wTW91c2VPdmVyOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcE1vdXNlVXA6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNNb3VzZUV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdFbmQ6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJhZ0VudGVyOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdFeGl0OlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcERyYWdMZWF2ZTpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnT3ZlcjpcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BEcmFnU3RhcnQ6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wRHJvcDpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY0RyYWdFdmVudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVG91Y2hDYW5jZWw6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVG91Y2hFbmQ6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wVG91Y2hNb3ZlOlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFRvdWNoU3RhcnQ6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNUb3VjaEV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BTY3JvbGw6XG4gICAgICAgIEV2ZW50Q29uc3RydWN0b3IgPSBTeW50aGV0aWNVSUV2ZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgdG9wTGV2ZWxUeXBlcy50b3BXaGVlbDpcbiAgICAgICAgRXZlbnRDb25zdHJ1Y3RvciA9IFN5bnRoZXRpY1doZWVsRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcENvcHk6XG4gICAgICBjYXNlIHRvcExldmVsVHlwZXMudG9wQ3V0OlxuICAgICAgY2FzZSB0b3BMZXZlbFR5cGVzLnRvcFBhc3RlOlxuICAgICAgICBFdmVudENvbnN0cnVjdG9yID0gU3ludGhldGljQ2xpcGJvYXJkRXZlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAhRXZlbnRDb25zdHJ1Y3RvciA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdTaW1wbGVFdmVudFBsdWdpbjogVW5oYW5kbGVkIGV2ZW50IHR5cGUsIGAlc2AuJywgdG9wTGV2ZWxUeXBlKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGV2ZW50ID0gRXZlbnRDb25zdHJ1Y3Rvci5nZXRQb29sZWQoZGlzcGF0Y2hDb25maWcsIHRvcExldmVsVGFyZ2V0SUQsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG4gICAgRXZlbnRQcm9wYWdhdG9ycy5hY2N1bXVsYXRlVHdvUGhhc2VEaXNwYXRjaGVzKGV2ZW50KTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH0sXG5cbiAgZGlkUHV0TGlzdGVuZXI6IGZ1bmN0aW9uIChpZCwgcmVnaXN0cmF0aW9uTmFtZSwgbGlzdGVuZXIpIHtcbiAgICAvLyBNb2JpbGUgU2FmYXJpIGRvZXMgbm90IGZpcmUgcHJvcGVybHkgYnViYmxlIGNsaWNrIGV2ZW50cyBvblxuICAgIC8vIG5vbi1pbnRlcmFjdGl2ZSBlbGVtZW50cywgd2hpY2ggbWVhbnMgZGVsZWdhdGVkIGNsaWNrIGxpc3RlbmVycyBkbyBub3RcbiAgICAvLyBmaXJlLiBUaGUgd29ya2Fyb3VuZCBmb3IgdGhpcyBidWcgaW52b2x2ZXMgYXR0YWNoaW5nIGFuIGVtcHR5IGNsaWNrXG4gICAgLy8gbGlzdGVuZXIgb24gdGhlIHRhcmdldCBub2RlLlxuICAgIGlmIChyZWdpc3RyYXRpb25OYW1lID09PSBPTl9DTElDS19LRVkpIHtcbiAgICAgIHZhciBub2RlID0gUmVhY3RNb3VudC5nZXROb2RlKGlkKTtcbiAgICAgIGlmICghb25DbGlja0xpc3RlbmVyc1tpZF0pIHtcbiAgICAgICAgb25DbGlja0xpc3RlbmVyc1tpZF0gPSBFdmVudExpc3RlbmVyLmxpc3Rlbihub2RlLCAnY2xpY2snLCBlbXB0eUZ1bmN0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgd2lsbERlbGV0ZUxpc3RlbmVyOiBmdW5jdGlvbiAoaWQsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICBpZiAocmVnaXN0cmF0aW9uTmFtZSA9PT0gT05fQ0xJQ0tfS0VZKSB7XG4gICAgICBvbkNsaWNrTGlzdGVuZXJzW2lkXS5yZW1vdmUoKTtcbiAgICAgIGRlbGV0ZSBvbkNsaWNrTGlzdGVuZXJzW2lkXTtcbiAgICB9XG4gIH1cblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTaW1wbGVFdmVudFBsdWdpbjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgU3ludGhldGljQ2xpcGJvYXJkRXZlbnRcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgU3ludGhldGljRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY0V2ZW50Jyk7XG5cbi8qKlxuICogQGludGVyZmFjZSBFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jbGlwYm9hcmQtYXBpcy9cbiAqL1xudmFyIENsaXBib2FyZEV2ZW50SW50ZXJmYWNlID0ge1xuICBjbGlwYm9hcmREYXRhOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gJ2NsaXBib2FyZERhdGEnIGluIGV2ZW50ID8gZXZlbnQuY2xpcGJvYXJkRGF0YSA6IHdpbmRvdy5jbGlwYm9hcmREYXRhO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwYXRjaE1hcmtlciBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEBleHRlbmRzIHtTeW50aGV0aWNVSUV2ZW50fVxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNDbGlwYm9hcmRFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICBTeW50aGV0aWNFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbn1cblxuU3ludGhldGljRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50LCBDbGlwYm9hcmRFdmVudEludGVyZmFjZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljQ2xpcGJvYXJkRXZlbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFN5bnRoZXRpY0ZvY3VzRXZlbnRcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgU3ludGhldGljVUlFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljVUlFdmVudCcpO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgRm9jdXNFdmVudFxuICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvXG4gKi9cbnZhciBGb2N1c0V2ZW50SW50ZXJmYWNlID0ge1xuICByZWxhdGVkVGFyZ2V0OiBudWxsXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBkaXNwYXRjaENvbmZpZyBDb25maWd1cmF0aW9uIHVzZWQgdG8gZGlzcGF0Y2ggdGhpcyBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwYXRjaE1hcmtlciBNYXJrZXIgaWRlbnRpZnlpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEBleHRlbmRzIHtTeW50aGV0aWNVSUV2ZW50fVxuICovXG5mdW5jdGlvbiBTeW50aGV0aWNGb2N1c0V2ZW50KGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KSB7XG4gIFN5bnRoZXRpY1VJRXZlbnQuY2FsbCh0aGlzLCBkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCk7XG59XG5cblN5bnRoZXRpY1VJRXZlbnQuYXVnbWVudENsYXNzKFN5bnRoZXRpY0ZvY3VzRXZlbnQsIEZvY3VzRXZlbnRJbnRlcmZhY2UpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bnRoZXRpY0ZvY3VzRXZlbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFN5bnRoZXRpY0tleWJvYXJkRXZlbnRcbiAqIEB0eXBlY2hlY2tzIHN0YXRpYy1vbmx5XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgU3ludGhldGljVUlFdmVudCA9IHJlcXVpcmUoJy4vU3ludGhldGljVUlFdmVudCcpO1xuXG52YXIgZ2V0RXZlbnRDaGFyQ29kZSA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRDaGFyQ29kZScpO1xudmFyIGdldEV2ZW50S2V5ID0gcmVxdWlyZSgnLi9nZXRFdmVudEtleScpO1xudmFyIGdldEV2ZW50TW9kaWZpZXJTdGF0ZSA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRNb2RpZmllclN0YXRlJyk7XG5cbi8qKlxuICogQGludGVyZmFjZSBLZXlib2FyZEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIEtleWJvYXJkRXZlbnRJbnRlcmZhY2UgPSB7XG4gIGtleTogZ2V0RXZlbnRLZXksXG4gIGxvY2F0aW9uOiBudWxsLFxuICBjdHJsS2V5OiBudWxsLFxuICBzaGlmdEtleTogbnVsbCxcbiAgYWx0S2V5OiBudWxsLFxuICBtZXRhS2V5OiBudWxsLFxuICByZXBlYXQ6IG51bGwsXG4gIGxvY2FsZTogbnVsbCxcbiAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICAvLyBMZWdhY3kgSW50ZXJmYWNlXG4gIGNoYXJDb2RlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBgY2hhckNvZGVgIGlzIHRoZSByZXN1bHQgb2YgYSBLZXlQcmVzcyBldmVudCBhbmQgcmVwcmVzZW50cyB0aGUgdmFsdWUgb2ZcbiAgICAvLyB0aGUgYWN0dWFsIHByaW50YWJsZSBjaGFyYWN0ZXIuXG5cbiAgICAvLyBLZXlQcmVzcyBpcyBkZXByZWNhdGVkLCBidXQgaXRzIHJlcGxhY2VtZW50IGlzIG5vdCB5ZXQgZmluYWwgYW5kIG5vdFxuICAgIC8vIGltcGxlbWVudGVkIGluIGFueSBtYWpvciBicm93c2VyLiBPbmx5IEtleVByZXNzIGhhcyBjaGFyQ29kZS5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgICAgcmV0dXJuIGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAga2V5Q29kZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gYGtleUNvZGVgIGlzIHRoZSByZXN1bHQgb2YgYSBLZXlEb3duL1VwIGV2ZW50IGFuZCByZXByZXNlbnRzIHRoZSB2YWx1ZSBvZlxuICAgIC8vIHBoeXNpY2FsIGtleWJvYXJkIGtleS5cblxuICAgIC8vIFRoZSBhY3R1YWwgbWVhbmluZyBvZiB0aGUgdmFsdWUgZGVwZW5kcyBvbiB0aGUgdXNlcnMnIGtleWJvYXJkIGxheW91dFxuICAgIC8vIHdoaWNoIGNhbm5vdCBiZSBkZXRlY3RlZC4gQXNzdW1pbmcgdGhhdCBpdCBpcyBhIFVTIGtleWJvYXJkIGxheW91dFxuICAgIC8vIHByb3ZpZGVzIGEgc3VycHJpc2luZ2x5IGFjY3VyYXRlIG1hcHBpbmcgZm9yIFVTIGFuZCBFdXJvcGVhbiB1c2Vycy5cbiAgICAvLyBEdWUgdG8gdGhpcywgaXQgaXMgbGVmdCB0byB0aGUgdXNlciB0byBpbXBsZW1lbnQgYXQgdGhpcyB0aW1lLlxuICAgIGlmIChldmVudC50eXBlID09PSAna2V5ZG93bicgfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xuICAgICAgcmV0dXJuIGV2ZW50LmtleUNvZGU7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9LFxuICB3aGljaDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLy8gYHdoaWNoYCBpcyBhbiBhbGlhcyBmb3IgZWl0aGVyIGBrZXlDb2RlYCBvciBgY2hhckNvZGVgIGRlcGVuZGluZyBvbiB0aGVcbiAgICAvLyB0eXBlIG9mIHRoZSBldmVudC5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleXByZXNzJykge1xuICAgICAgcmV0dXJuIGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpO1xuICAgIH1cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2tleWRvd24nIHx8IGV2ZW50LnR5cGUgPT09ICdrZXl1cCcpIHtcbiAgICAgIHJldHVybiBldmVudC5rZXlDb2RlO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgQ29uZmlndXJhdGlvbiB1c2VkIHRvIGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlzcGF0Y2hNYXJrZXIgTWFya2VyIGlkZW50aWZ5aW5nIHRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAZXh0ZW5kcyB7U3ludGhldGljVUlFdmVudH1cbiAqL1xuZnVuY3Rpb24gU3ludGhldGljS2V5Ym9hcmRFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICBTeW50aGV0aWNVSUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuXG5TeW50aGV0aWNVSUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNLZXlib2FyZEV2ZW50LCBLZXlib2FyZEV2ZW50SW50ZXJmYWNlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNLZXlib2FyZEV2ZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBnZXRFdmVudEtleVxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBnZXRFdmVudENoYXJDb2RlID0gcmVxdWlyZSgnLi9nZXRFdmVudENoYXJDb2RlJyk7XG5cbi8qKlxuICogTm9ybWFsaXphdGlvbiBvZiBkZXByZWNhdGVkIEhUTUw1IGBrZXlgIHZhbHVlc1xuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudCNLZXlfbmFtZXNcbiAqL1xudmFyIG5vcm1hbGl6ZUtleSA9IHtcbiAgJ0VzYyc6ICdFc2NhcGUnLFxuICAnU3BhY2ViYXInOiAnICcsXG4gICdMZWZ0JzogJ0Fycm93TGVmdCcsXG4gICdVcCc6ICdBcnJvd1VwJyxcbiAgJ1JpZ2h0JzogJ0Fycm93UmlnaHQnLFxuICAnRG93bic6ICdBcnJvd0Rvd24nLFxuICAnRGVsJzogJ0RlbGV0ZScsXG4gICdXaW4nOiAnT1MnLFxuICAnTWVudSc6ICdDb250ZXh0TWVudScsXG4gICdBcHBzJzogJ0NvbnRleHRNZW51JyxcbiAgJ1Njcm9sbCc6ICdTY3JvbGxMb2NrJyxcbiAgJ01velByaW50YWJsZUtleSc6ICdVbmlkZW50aWZpZWQnXG59O1xuXG4vKipcbiAqIFRyYW5zbGF0aW9uIGZyb20gbGVnYWN5IGBrZXlDb2RlYCB0byBIVE1MNSBga2V5YFxuICogT25seSBzcGVjaWFsIGtleXMgc3VwcG9ydGVkLCBhbGwgb3RoZXJzIGRlcGVuZCBvbiBrZXlib2FyZCBsYXlvdXQgb3IgYnJvd3NlclxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvS2V5Ym9hcmRFdmVudCNLZXlfbmFtZXNcbiAqL1xudmFyIHRyYW5zbGF0ZVRvS2V5ID0ge1xuICA4OiAnQmFja3NwYWNlJyxcbiAgOTogJ1RhYicsXG4gIDEyOiAnQ2xlYXInLFxuICAxMzogJ0VudGVyJyxcbiAgMTY6ICdTaGlmdCcsXG4gIDE3OiAnQ29udHJvbCcsXG4gIDE4OiAnQWx0JyxcbiAgMTk6ICdQYXVzZScsXG4gIDIwOiAnQ2Fwc0xvY2snLFxuICAyNzogJ0VzY2FwZScsXG4gIDMyOiAnICcsXG4gIDMzOiAnUGFnZVVwJyxcbiAgMzQ6ICdQYWdlRG93bicsXG4gIDM1OiAnRW5kJyxcbiAgMzY6ICdIb21lJyxcbiAgMzc6ICdBcnJvd0xlZnQnLFxuICAzODogJ0Fycm93VXAnLFxuICAzOTogJ0Fycm93UmlnaHQnLFxuICA0MDogJ0Fycm93RG93bicsXG4gIDQ1OiAnSW5zZXJ0JyxcbiAgNDY6ICdEZWxldGUnLFxuICAxMTI6ICdGMScsIDExMzogJ0YyJywgMTE0OiAnRjMnLCAxMTU6ICdGNCcsIDExNjogJ0Y1JywgMTE3OiAnRjYnLFxuICAxMTg6ICdGNycsIDExOTogJ0Y4JywgMTIwOiAnRjknLCAxMjE6ICdGMTAnLCAxMjI6ICdGMTEnLCAxMjM6ICdGMTInLFxuICAxNDQ6ICdOdW1Mb2NrJyxcbiAgMTQ1OiAnU2Nyb2xsTG9jaycsXG4gIDIyNDogJ01ldGEnXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBuYXRpdmVFdmVudCBOYXRpdmUgYnJvd3NlciBldmVudC5cbiAqIEByZXR1cm4ge3N0cmluZ30gTm9ybWFsaXplZCBga2V5YCBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRLZXkobmF0aXZlRXZlbnQpIHtcbiAgaWYgKG5hdGl2ZUV2ZW50LmtleSkge1xuICAgIC8vIE5vcm1hbGl6ZSBpbmNvbnNpc3RlbnQgdmFsdWVzIHJlcG9ydGVkIGJ5IGJyb3dzZXJzIGR1ZSB0b1xuICAgIC8vIGltcGxlbWVudGF0aW9ucyBvZiBhIHdvcmtpbmcgZHJhZnQgc3BlY2lmaWNhdGlvbi5cblxuICAgIC8vIEZpcmVGb3ggaW1wbGVtZW50cyBga2V5YCBidXQgcmV0dXJucyBgTW96UHJpbnRhYmxlS2V5YCBmb3IgYWxsXG4gICAgLy8gcHJpbnRhYmxlIGNoYXJhY3RlcnMgKG5vcm1hbGl6ZWQgdG8gYFVuaWRlbnRpZmllZGApLCBpZ25vcmUgaXQuXG4gICAgdmFyIGtleSA9IG5vcm1hbGl6ZUtleVtuYXRpdmVFdmVudC5rZXldIHx8IG5hdGl2ZUV2ZW50LmtleTtcbiAgICBpZiAoa2V5ICE9PSAnVW5pZGVudGlmaWVkJykge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH1cblxuICAvLyBCcm93c2VyIGRvZXMgbm90IGltcGxlbWVudCBga2V5YCwgcG9seWZpbGwgYXMgbXVjaCBvZiBpdCBhcyB3ZSBjYW4uXG4gIGlmIChuYXRpdmVFdmVudC50eXBlID09PSAna2V5cHJlc3MnKSB7XG4gICAgdmFyIGNoYXJDb2RlID0gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCk7XG5cbiAgICAvLyBUaGUgZW50ZXIta2V5IGlzIHRlY2huaWNhbGx5IGJvdGggcHJpbnRhYmxlIGFuZCBub24tcHJpbnRhYmxlIGFuZCBjYW5cbiAgICAvLyB0aHVzIGJlIGNhcHR1cmVkIGJ5IGBrZXlwcmVzc2AsIG5vIG90aGVyIG5vbi1wcmludGFibGUga2V5IHNob3VsZC5cbiAgICByZXR1cm4gY2hhckNvZGUgPT09IDEzID8gJ0VudGVyJyA6IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xuICB9XG4gIGlmIChuYXRpdmVFdmVudC50eXBlID09PSAna2V5ZG93bicgfHwgbmF0aXZlRXZlbnQudHlwZSA9PT0gJ2tleXVwJykge1xuICAgIC8vIFdoaWxlIHVzZXIga2V5Ym9hcmQgbGF5b3V0IGRldGVybWluZXMgdGhlIGFjdHVhbCBtZWFuaW5nIG9mIGVhY2hcbiAgICAvLyBga2V5Q29kZWAgdmFsdWUsIGFsbW9zdCBhbGwgZnVuY3Rpb24ga2V5cyBoYXZlIGEgdW5pdmVyc2FsIHZhbHVlLlxuICAgIHJldHVybiB0cmFuc2xhdGVUb0tleVtuYXRpdmVFdmVudC5rZXlDb2RlXSB8fCAnVW5pZGVudGlmaWVkJztcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RXZlbnRLZXk7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFN5bnRoZXRpY0RyYWdFdmVudFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNNb3VzZUV2ZW50Jyk7XG5cbi8qKlxuICogQGludGVyZmFjZSBEcmFnRXZlbnRcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzL1xuICovXG52YXIgRHJhZ0V2ZW50SW50ZXJmYWNlID0ge1xuICBkYXRhVHJhbnNmZXI6IG51bGxcbn07XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIENvbmZpZ3VyYXRpb24gdXNlZCB0byBkaXNwYXRjaCB0aGlzIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGRpc3BhdGNoTWFya2VyIE1hcmtlciBpZGVudGlmeWluZyB0aGUgZXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQGV4dGVuZHMge1N5bnRoZXRpY1VJRXZlbnR9XG4gKi9cbmZ1bmN0aW9uIFN5bnRoZXRpY0RyYWdFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICBTeW50aGV0aWNNb3VzZUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuXG5TeW50aGV0aWNNb3VzZUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNEcmFnRXZlbnQsIERyYWdFdmVudEludGVyZmFjZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljRHJhZ0V2ZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTeW50aGV0aWNUb3VjaEV2ZW50XG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFN5bnRoZXRpY1VJRXZlbnQgPSByZXF1aXJlKCcuL1N5bnRoZXRpY1VJRXZlbnQnKTtcblxudmFyIGdldEV2ZW50TW9kaWZpZXJTdGF0ZSA9IHJlcXVpcmUoJy4vZ2V0RXZlbnRNb2RpZmllclN0YXRlJyk7XG5cbi8qKlxuICogQGludGVyZmFjZSBUb3VjaEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAqL1xudmFyIFRvdWNoRXZlbnRJbnRlcmZhY2UgPSB7XG4gIHRvdWNoZXM6IG51bGwsXG4gIHRhcmdldFRvdWNoZXM6IG51bGwsXG4gIGNoYW5nZWRUb3VjaGVzOiBudWxsLFxuICBhbHRLZXk6IG51bGwsXG4gIG1ldGFLZXk6IG51bGwsXG4gIGN0cmxLZXk6IG51bGwsXG4gIHNoaWZ0S2V5OiBudWxsLFxuICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGVcbn07XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGRpc3BhdGNoQ29uZmlnIENvbmZpZ3VyYXRpb24gdXNlZCB0byBkaXNwYXRjaCB0aGlzIGV2ZW50LlxuICogQHBhcmFtIHtzdHJpbmd9IGRpc3BhdGNoTWFya2VyIE1hcmtlciBpZGVudGlmeWluZyB0aGUgZXZlbnQgdGFyZ2V0LlxuICogQHBhcmFtIHtvYmplY3R9IG5hdGl2ZUV2ZW50IE5hdGl2ZSBicm93c2VyIGV2ZW50LlxuICogQGV4dGVuZHMge1N5bnRoZXRpY1VJRXZlbnR9XG4gKi9cbmZ1bmN0aW9uIFN5bnRoZXRpY1RvdWNoRXZlbnQoZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpIHtcbiAgU3ludGhldGljVUlFdmVudC5jYWxsKHRoaXMsIGRpc3BhdGNoQ29uZmlnLCBkaXNwYXRjaE1hcmtlciwgbmF0aXZlRXZlbnQsIG5hdGl2ZUV2ZW50VGFyZ2V0KTtcbn1cblxuU3ludGhldGljVUlFdmVudC5hdWdtZW50Q2xhc3MoU3ludGhldGljVG91Y2hFdmVudCwgVG91Y2hFdmVudEludGVyZmFjZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ludGhldGljVG91Y2hFdmVudDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgU3ludGhldGljV2hlZWxFdmVudFxuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBTeW50aGV0aWNNb3VzZUV2ZW50ID0gcmVxdWlyZSgnLi9TeW50aGV0aWNNb3VzZUV2ZW50Jyk7XG5cbi8qKlxuICogQGludGVyZmFjZSBXaGVlbEV2ZW50XG4gKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy9cbiAqL1xudmFyIFdoZWVsRXZlbnRJbnRlcmZhY2UgPSB7XG4gIGRlbHRhWDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcmV0dXJuICdkZWx0YVgnIGluIGV2ZW50ID8gZXZlbnQuZGVsdGFYIDpcbiAgICAvLyBGYWxsYmFjayB0byBgd2hlZWxEZWx0YVhgIGZvciBXZWJraXQgYW5kIG5vcm1hbGl6ZSAocmlnaHQgaXMgcG9zaXRpdmUpLlxuICAgICd3aGVlbERlbHRhWCcgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YVggOiAwO1xuICB9LFxuICBkZWx0YVk6IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiAnZGVsdGFZJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWSA6XG4gICAgLy8gRmFsbGJhY2sgdG8gYHdoZWVsRGVsdGFZYCBmb3IgV2Via2l0IGFuZCBub3JtYWxpemUgKGRvd24gaXMgcG9zaXRpdmUpLlxuICAgICd3aGVlbERlbHRhWScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YVkgOlxuICAgIC8vIEZhbGxiYWNrIHRvIGB3aGVlbERlbHRhYCBmb3IgSUU8OSBhbmQgbm9ybWFsaXplIChkb3duIGlzIHBvc2l0aXZlKS5cbiAgICAnd2hlZWxEZWx0YScgaW4gZXZlbnQgPyAtZXZlbnQud2hlZWxEZWx0YSA6IDA7XG4gIH0sXG4gIGRlbHRhWjogbnVsbCxcblxuICAvLyBCcm93c2VycyB3aXRob3V0IFwiZGVsdGFNb2RlXCIgaXMgcmVwb3J0aW5nIGluIHJhdyB3aGVlbCBkZWx0YSB3aGVyZSBvbmVcbiAgLy8gbm90Y2ggb24gdGhlIHNjcm9sbCBpcyBhbHdheXMgKy8tIDEyMCwgcm91Z2hseSBlcXVpdmFsZW50IHRvIHBpeGVscy5cbiAgLy8gQSBnb29kIGFwcHJveGltYXRpb24gb2YgRE9NX0RFTFRBX0xJTkUgKDEpIGlzIDUlIG9mIHZpZXdwb3J0IHNpemUgb3JcbiAgLy8gfjQwIHBpeGVscywgZm9yIERPTV9ERUxUQV9TQ1JFRU4gKDIpIGl0IGlzIDg3LjUlIG9mIHZpZXdwb3J0IHNpemUuXG4gIGRlbHRhTW9kZTogbnVsbFxufTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gZGlzcGF0Y2hDb25maWcgQ29uZmlndXJhdGlvbiB1c2VkIHRvIGRpc3BhdGNoIHRoaXMgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlzcGF0Y2hNYXJrZXIgTWFya2VyIGlkZW50aWZ5aW5nIHRoZSBldmVudCB0YXJnZXQuXG4gKiBAcGFyYW0ge29iamVjdH0gbmF0aXZlRXZlbnQgTmF0aXZlIGJyb3dzZXIgZXZlbnQuXG4gKiBAZXh0ZW5kcyB7U3ludGhldGljTW91c2VFdmVudH1cbiAqL1xuZnVuY3Rpb24gU3ludGhldGljV2hlZWxFdmVudChkaXNwYXRjaENvbmZpZywgZGlzcGF0Y2hNYXJrZXIsIG5hdGl2ZUV2ZW50LCBuYXRpdmVFdmVudFRhcmdldCkge1xuICBTeW50aGV0aWNNb3VzZUV2ZW50LmNhbGwodGhpcywgZGlzcGF0Y2hDb25maWcsIGRpc3BhdGNoTWFya2VyLCBuYXRpdmVFdmVudCwgbmF0aXZlRXZlbnRUYXJnZXQpO1xufVxuXG5TeW50aGV0aWNNb3VzZUV2ZW50LmF1Z21lbnRDbGFzcyhTeW50aGV0aWNXaGVlbEV2ZW50LCBXaGVlbEV2ZW50SW50ZXJmYWNlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW50aGV0aWNXaGVlbEV2ZW50OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBTVkdET01Qcm9wZXJ0eUNvbmZpZ1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIERPTVByb3BlcnR5ID0gcmVxdWlyZSgnLi9ET01Qcm9wZXJ0eScpO1xuXG52YXIgTVVTVF9VU0VfQVRUUklCVVRFID0gRE9NUHJvcGVydHkuaW5qZWN0aW9uLk1VU1RfVVNFX0FUVFJJQlVURTtcblxudmFyIE5TID0ge1xuICB4bGluazogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLFxuICB4bWw6ICdodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2UnXG59O1xuXG52YXIgU1ZHRE9NUHJvcGVydHlDb25maWcgPSB7XG4gIFByb3BlcnRpZXM6IHtcbiAgICBjbGlwUGF0aDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGN4OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgY3k6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBkOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZHg6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBkeTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGZpbGw6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBmaWxsT3BhY2l0eTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGZvbnRGYW1pbHk6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBmb250U2l6ZTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGZ4OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgZnk6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBncmFkaWVudFRyYW5zZm9ybTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIGdyYWRpZW50VW5pdHM6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBtYXJrZXJFbmQ6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBtYXJrZXJNaWQ6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBtYXJrZXJTdGFydDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIG9mZnNldDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIG9wYWNpdHk6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBwYXR0ZXJuQ29udGVudFVuaXRzOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgcGF0dGVyblVuaXRzOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgcG9pbnRzOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHI6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICByeDogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHJ5OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgc3ByZWFkTWV0aG9kOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgc3RvcENvbG9yOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgc3RvcE9wYWNpdHk6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBzdHJva2U6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBzdHJva2VEYXNoYXJyYXk6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICBzdHJva2VMaW5lY2FwOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgc3Ryb2tlT3BhY2l0eTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHN0cm9rZVdpZHRoOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgdGV4dEFuY2hvcjogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHRyYW5zZm9ybTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHZlcnNpb246IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB2aWV3Qm94OiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgeDE6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB4MjogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHg6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB4bGlua0FjdHVhdGU6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB4bGlua0FyY3JvbGU6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB4bGlua0hyZWY6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB4bGlua1JvbGU6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB4bGlua1Nob3c6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB4bGlua1RpdGxlOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgeGxpbmtUeXBlOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgeG1sQmFzZTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHhtbExhbmc6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB4bWxTcGFjZTogTVVTVF9VU0VfQVRUUklCVVRFLFxuICAgIHkxOiBNVVNUX1VTRV9BVFRSSUJVVEUsXG4gICAgeTI6IE1VU1RfVVNFX0FUVFJJQlVURSxcbiAgICB5OiBNVVNUX1VTRV9BVFRSSUJVVEVcbiAgfSxcbiAgRE9NQXR0cmlidXRlTmFtZXNwYWNlczoge1xuICAgIHhsaW5rQWN0dWF0ZTogTlMueGxpbmssXG4gICAgeGxpbmtBcmNyb2xlOiBOUy54bGluayxcbiAgICB4bGlua0hyZWY6IE5TLnhsaW5rLFxuICAgIHhsaW5rUm9sZTogTlMueGxpbmssXG4gICAgeGxpbmtTaG93OiBOUy54bGluayxcbiAgICB4bGlua1RpdGxlOiBOUy54bGluayxcbiAgICB4bGlua1R5cGU6IE5TLnhsaW5rLFxuICAgIHhtbEJhc2U6IE5TLnhtbCxcbiAgICB4bWxMYW5nOiBOUy54bWwsXG4gICAgeG1sU3BhY2U6IE5TLnhtbFxuICB9LFxuICBET01BdHRyaWJ1dGVOYW1lczoge1xuICAgIGNsaXBQYXRoOiAnY2xpcC1wYXRoJyxcbiAgICBmaWxsT3BhY2l0eTogJ2ZpbGwtb3BhY2l0eScsXG4gICAgZm9udEZhbWlseTogJ2ZvbnQtZmFtaWx5JyxcbiAgICBmb250U2l6ZTogJ2ZvbnQtc2l6ZScsXG4gICAgZ3JhZGllbnRUcmFuc2Zvcm06ICdncmFkaWVudFRyYW5zZm9ybScsXG4gICAgZ3JhZGllbnRVbml0czogJ2dyYWRpZW50VW5pdHMnLFxuICAgIG1hcmtlckVuZDogJ21hcmtlci1lbmQnLFxuICAgIG1hcmtlck1pZDogJ21hcmtlci1taWQnLFxuICAgIG1hcmtlclN0YXJ0OiAnbWFya2VyLXN0YXJ0JyxcbiAgICBwYXR0ZXJuQ29udGVudFVuaXRzOiAncGF0dGVybkNvbnRlbnRVbml0cycsXG4gICAgcGF0dGVyblVuaXRzOiAncGF0dGVyblVuaXRzJyxcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiAncHJlc2VydmVBc3BlY3RSYXRpbycsXG4gICAgc3ByZWFkTWV0aG9kOiAnc3ByZWFkTWV0aG9kJyxcbiAgICBzdG9wQ29sb3I6ICdzdG9wLWNvbG9yJyxcbiAgICBzdG9wT3BhY2l0eTogJ3N0b3Atb3BhY2l0eScsXG4gICAgc3Ryb2tlRGFzaGFycmF5OiAnc3Ryb2tlLWRhc2hhcnJheScsXG4gICAgc3Ryb2tlTGluZWNhcDogJ3N0cm9rZS1saW5lY2FwJyxcbiAgICBzdHJva2VPcGFjaXR5OiAnc3Ryb2tlLW9wYWNpdHknLFxuICAgIHN0cm9rZVdpZHRoOiAnc3Ryb2tlLXdpZHRoJyxcbiAgICB0ZXh0QW5jaG9yOiAndGV4dC1hbmNob3InLFxuICAgIHZpZXdCb3g6ICd2aWV3Qm94JyxcbiAgICB4bGlua0FjdHVhdGU6ICd4bGluazphY3R1YXRlJyxcbiAgICB4bGlua0FyY3JvbGU6ICd4bGluazphcmNyb2xlJyxcbiAgICB4bGlua0hyZWY6ICd4bGluazpocmVmJyxcbiAgICB4bGlua1JvbGU6ICd4bGluazpyb2xlJyxcbiAgICB4bGlua1Nob3c6ICd4bGluazpzaG93JyxcbiAgICB4bGlua1RpdGxlOiAneGxpbms6dGl0bGUnLFxuICAgIHhsaW5rVHlwZTogJ3hsaW5rOnR5cGUnLFxuICAgIHhtbEJhc2U6ICd4bWw6YmFzZScsXG4gICAgeG1sTGFuZzogJ3htbDpsYW5nJyxcbiAgICB4bWxTcGFjZTogJ3htbDpzcGFjZSdcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTVkdET01Qcm9wZXJ0eUNvbmZpZzsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4qIEBwcm92aWRlc01vZHVsZSByZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lclxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RNb3VudCA9IHJlcXVpcmUoJy4vUmVhY3RNb3VudCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0TW91bnQucmVuZGVyU3VidHJlZUludG9Db250YWluZXI7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0RE9NU2VydmVyXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3REZWZhdWx0SW5qZWN0aW9uID0gcmVxdWlyZSgnLi9SZWFjdERlZmF1bHRJbmplY3Rpb24nKTtcbnZhciBSZWFjdFNlcnZlclJlbmRlcmluZyA9IHJlcXVpcmUoJy4vUmVhY3RTZXJ2ZXJSZW5kZXJpbmcnKTtcbnZhciBSZWFjdFZlcnNpb24gPSByZXF1aXJlKCcuL1JlYWN0VmVyc2lvbicpO1xuXG5SZWFjdERlZmF1bHRJbmplY3Rpb24uaW5qZWN0KCk7XG5cbnZhciBSZWFjdERPTVNlcnZlciA9IHtcbiAgcmVuZGVyVG9TdHJpbmc6IFJlYWN0U2VydmVyUmVuZGVyaW5nLnJlbmRlclRvU3RyaW5nLFxuICByZW5kZXJUb1N0YXRpY01hcmt1cDogUmVhY3RTZXJ2ZXJSZW5kZXJpbmcucmVuZGVyVG9TdGF0aWNNYXJrdXAsXG4gIHZlcnNpb246IFJlYWN0VmVyc2lvblxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTVNlcnZlcjsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAdHlwZWNoZWNrcyBzdGF0aWMtb25seVxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0U2VydmVyUmVuZGVyaW5nXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3kgPSByZXF1aXJlKCcuL1JlYWN0RGVmYXVsdEJhdGNoaW5nU3RyYXRlZ3knKTtcbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xudmFyIFJlYWN0SW5zdGFuY2VIYW5kbGVzID0gcmVxdWlyZSgnLi9SZWFjdEluc3RhbmNlSGFuZGxlcycpO1xudmFyIFJlYWN0TWFya3VwQ2hlY2tzdW0gPSByZXF1aXJlKCcuL1JlYWN0TWFya3VwQ2hlY2tzdW0nKTtcbnZhciBSZWFjdFNlcnZlckJhdGNoaW5nU3RyYXRlZ3kgPSByZXF1aXJlKCcuL1JlYWN0U2VydmVyQmF0Y2hpbmdTdHJhdGVneScpO1xudmFyIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24gPSByZXF1aXJlKCcuL1JlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24nKTtcbnZhciBSZWFjdFVwZGF0ZXMgPSByZXF1aXJlKCcuL1JlYWN0VXBkYXRlcycpO1xuXG52YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xudmFyIGluc3RhbnRpYXRlUmVhY3RDb21wb25lbnQgPSByZXF1aXJlKCcuL2luc3RhbnRpYXRlUmVhY3RDb21wb25lbnQnKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxuLyoqXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7c3RyaW5nfSB0aGUgSFRNTCBtYXJrdXBcbiAqL1xuZnVuY3Rpb24gcmVuZGVyVG9TdHJpbmcoZWxlbWVudCkge1xuICAhUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IGludmFyaWFudChmYWxzZSwgJ3JlbmRlclRvU3RyaW5nKCk6IFlvdSBtdXN0IHBhc3MgYSB2YWxpZCBSZWFjdEVsZW1lbnQuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gIHZhciB0cmFuc2FjdGlvbjtcbiAgdHJ5IHtcbiAgICBSZWFjdFVwZGF0ZXMuaW5qZWN0aW9uLmluamVjdEJhdGNoaW5nU3RyYXRlZ3koUmVhY3RTZXJ2ZXJCYXRjaGluZ1N0cmF0ZWd5KTtcblxuICAgIHZhciBpZCA9IFJlYWN0SW5zdGFuY2VIYW5kbGVzLmNyZWF0ZVJlYWN0Um9vdElEKCk7XG4gICAgdHJhbnNhY3Rpb24gPSBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uLmdldFBvb2xlZChmYWxzZSk7XG5cbiAgICByZXR1cm4gdHJhbnNhY3Rpb24ucGVyZm9ybShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSBpbnN0YW50aWF0ZVJlYWN0Q29tcG9uZW50KGVsZW1lbnQsIG51bGwpO1xuICAgICAgdmFyIG1hcmt1cCA9IGNvbXBvbmVudEluc3RhbmNlLm1vdW50Q29tcG9uZW50KGlkLCB0cmFuc2FjdGlvbiwgZW1wdHlPYmplY3QpO1xuICAgICAgcmV0dXJuIFJlYWN0TWFya3VwQ2hlY2tzdW0uYWRkQ2hlY2tzdW1Ub01hcmt1cChtYXJrdXApO1xuICAgIH0sIG51bGwpO1xuICB9IGZpbmFsbHkge1xuICAgIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24ucmVsZWFzZSh0cmFuc2FjdGlvbik7XG4gICAgLy8gUmV2ZXJ0IHRvIHRoZSBET00gYmF0Y2hpbmcgc3RyYXRlZ3kgc2luY2UgdGhlc2UgdHdvIHJlbmRlcmVyc1xuICAgIC8vIGN1cnJlbnRseSBzaGFyZSB0aGVzZSBzdGF0ZWZ1bCBtb2R1bGVzLlxuICAgIFJlYWN0VXBkYXRlcy5pbmplY3Rpb24uaW5qZWN0QmF0Y2hpbmdTdHJhdGVneShSZWFjdERlZmF1bHRCYXRjaGluZ1N0cmF0ZWd5KTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBIVE1MIG1hcmt1cCwgd2l0aG91dCB0aGUgZXh0cmEgUmVhY3QgSUQgYW5kIGNoZWNrc3VtXG4gKiAoZm9yIGdlbmVyYXRpbmcgc3RhdGljIHBhZ2VzKVxuICovXG5mdW5jdGlvbiByZW5kZXJUb1N0YXRpY01hcmt1cChlbGVtZW50KSB7XG4gICFSZWFjdEVsZW1lbnQuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gaW52YXJpYW50KGZhbHNlLCAncmVuZGVyVG9TdGF0aWNNYXJrdXAoKTogWW91IG11c3QgcGFzcyBhIHZhbGlkIFJlYWN0RWxlbWVudC4nKSA6IGludmFyaWFudChmYWxzZSkgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIHRyYW5zYWN0aW9uO1xuICB0cnkge1xuICAgIFJlYWN0VXBkYXRlcy5pbmplY3Rpb24uaW5qZWN0QmF0Y2hpbmdTdHJhdGVneShSZWFjdFNlcnZlckJhdGNoaW5nU3RyYXRlZ3kpO1xuXG4gICAgdmFyIGlkID0gUmVhY3RJbnN0YW5jZUhhbmRsZXMuY3JlYXRlUmVhY3RSb290SUQoKTtcbiAgICB0cmFuc2FjdGlvbiA9IFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb24uZ2V0UG9vbGVkKHRydWUpO1xuXG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uLnBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNvbXBvbmVudEluc3RhbmNlID0gaW5zdGFudGlhdGVSZWFjdENvbXBvbmVudChlbGVtZW50LCBudWxsKTtcbiAgICAgIHJldHVybiBjb21wb25lbnRJbnN0YW5jZS5tb3VudENvbXBvbmVudChpZCwgdHJhbnNhY3Rpb24sIGVtcHR5T2JqZWN0KTtcbiAgICB9LCBudWxsKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uLnJlbGVhc2UodHJhbnNhY3Rpb24pO1xuICAgIC8vIFJldmVydCB0byB0aGUgRE9NIGJhdGNoaW5nIHN0cmF0ZWd5IHNpbmNlIHRoZXNlIHR3byByZW5kZXJlcnNcbiAgICAvLyBjdXJyZW50bHkgc2hhcmUgdGhlc2Ugc3RhdGVmdWwgbW9kdWxlcy5cbiAgICBSZWFjdFVwZGF0ZXMuaW5qZWN0aW9uLmluamVjdEJhdGNoaW5nU3RyYXRlZ3koUmVhY3REZWZhdWx0QmF0Y2hpbmdTdHJhdGVneSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHJlbmRlclRvU3RyaW5nOiByZW5kZXJUb1N0cmluZyxcbiAgcmVuZGVyVG9TdGF0aWNNYXJrdXA6IHJlbmRlclRvU3RhdGljTWFya3VwXG59OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdFNlcnZlckJhdGNoaW5nU3RyYXRlZ3lcbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RTZXJ2ZXJCYXRjaGluZ1N0cmF0ZWd5ID0ge1xuICBpc0JhdGNoaW5nVXBkYXRlczogZmFsc2UsXG4gIGJhdGNoZWRVcGRhdGVzOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBEb24ndCBkbyBhbnl0aGluZyBoZXJlLiBEdXJpbmcgdGhlIHNlcnZlciByZW5kZXJpbmcgd2UgZG9uJ3Qgd2FudCB0b1xuICAgIC8vIHNjaGVkdWxlIGFueSB1cGRhdGVzLiBXZSB3aWxsIHNpbXBseSBpZ25vcmUgdGhlbS5cbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFNlcnZlckJhdGNoaW5nU3RyYXRlZ3k7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIFJlYWN0U2VydmVyUmVuZGVyaW5nVHJhbnNhY3Rpb25cbiAqIEB0eXBlY2hlY2tzXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUG9vbGVkQ2xhc3MgPSByZXF1aXJlKCcuL1Bvb2xlZENsYXNzJyk7XG52YXIgQ2FsbGJhY2tRdWV1ZSA9IHJlcXVpcmUoJy4vQ2FsbGJhY2tRdWV1ZScpO1xudmFyIFRyYW5zYWN0aW9uID0gcmVxdWlyZSgnLi9UcmFuc2FjdGlvbicpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi9PYmplY3QuYXNzaWduJyk7XG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJ2ZianMvbGliL2VtcHR5RnVuY3Rpb24nKTtcblxuLyoqXG4gKiBQcm92aWRlcyBhIGBDYWxsYmFja1F1ZXVlYCBxdWV1ZSBmb3IgY29sbGVjdGluZyBgb25ET01SZWFkeWAgY2FsbGJhY2tzXG4gKiBkdXJpbmcgdGhlIHBlcmZvcm1pbmcgb2YgdGhlIHRyYW5zYWN0aW9uLlxuICovXG52YXIgT05fRE9NX1JFQURZX1FVRVVFSU5HID0ge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGludGVybmFsIGBvbkRPTVJlYWR5YCBxdWV1ZS5cbiAgICovXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnJlYWN0TW91bnRSZWFkeS5yZXNldCgpO1xuICB9LFxuXG4gIGNsb3NlOiBlbXB0eUZ1bmN0aW9uXG59O1xuXG4vKipcbiAqIEV4ZWN1dGVkIHdpdGhpbiB0aGUgc2NvcGUgb2YgdGhlIGBUcmFuc2FjdGlvbmAgaW5zdGFuY2UuIENvbnNpZGVyIHRoZXNlIGFzXG4gKiBiZWluZyBtZW1iZXIgbWV0aG9kcywgYnV0IHdpdGggYW4gaW1wbGllZCBvcmRlcmluZyB3aGlsZSBiZWluZyBpc29sYXRlZCBmcm9tXG4gKiBlYWNoIG90aGVyLlxuICovXG52YXIgVFJBTlNBQ1RJT05fV1JBUFBFUlMgPSBbT05fRE9NX1JFQURZX1FVRVVFSU5HXTtcblxuLyoqXG4gKiBAY2xhc3MgUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvblxuICogQHBhcmFtIHtib29sZWFufSByZW5kZXJUb1N0YXRpY01hcmt1cFxuICovXG5mdW5jdGlvbiBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uKHJlbmRlclRvU3RhdGljTWFya3VwKSB7XG4gIHRoaXMucmVpbml0aWFsaXplVHJhbnNhY3Rpb24oKTtcbiAgdGhpcy5yZW5kZXJUb1N0YXRpY01hcmt1cCA9IHJlbmRlclRvU3RhdGljTWFya3VwO1xuICB0aGlzLnJlYWN0TW91bnRSZWFkeSA9IENhbGxiYWNrUXVldWUuZ2V0UG9vbGVkKG51bGwpO1xuICB0aGlzLnVzZUNyZWF0ZUVsZW1lbnQgPSBmYWxzZTtcbn1cblxudmFyIE1peGluID0ge1xuICAvKipcbiAgICogQHNlZSBUcmFuc2FjdGlvblxuICAgKiBAYWJzdHJhY3RcbiAgICogQGZpbmFsXG4gICAqIEByZXR1cm4ge2FycmF5fSBFbXB0eSBsaXN0IG9mIG9wZXJhdGlvbiB3cmFwIHByb2NlZHVyZXMuXG4gICAqL1xuICBnZXRUcmFuc2FjdGlvbldyYXBwZXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFRSQU5TQUNUSU9OX1dSQVBQRVJTO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSBxdWV1ZSB0byBjb2xsZWN0IGBvbkRPTVJlYWR5YCBjYWxsYmFja3Mgd2l0aC5cbiAgICovXG4gIGdldFJlYWN0TW91bnRSZWFkeTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnJlYWN0TW91bnRSZWFkeTtcbiAgfSxcblxuICAvKipcbiAgICogYFBvb2xlZENsYXNzYCBsb29rcyBmb3IgdGhpcywgYW5kIHdpbGwgaW52b2tlIHRoaXMgYmVmb3JlIGFsbG93aW5nIHRoaXNcbiAgICogaW5zdGFuY2UgdG8gYmUgcmV1c2VkLlxuICAgKi9cbiAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24gKCkge1xuICAgIENhbGxiYWNrUXVldWUucmVsZWFzZSh0aGlzLnJlYWN0TW91bnRSZWFkeSk7XG4gICAgdGhpcy5yZWFjdE1vdW50UmVhZHkgPSBudWxsO1xuICB9XG59O1xuXG5hc3NpZ24oUmVhY3RTZXJ2ZXJSZW5kZXJpbmdUcmFuc2FjdGlvbi5wcm90b3R5cGUsIFRyYW5zYWN0aW9uLk1peGluLCBNaXhpbik7XG5cblBvb2xlZENsYXNzLmFkZFBvb2xpbmdUbyhSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFNlcnZlclJlbmRlcmluZ1RyYW5zYWN0aW9uOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdElzb21vcnBoaWNcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdENoaWxkcmVuID0gcmVxdWlyZSgnLi9SZWFjdENoaWxkcmVuJyk7XG52YXIgUmVhY3RDb21wb25lbnQgPSByZXF1aXJlKCcuL1JlYWN0Q29tcG9uZW50Jyk7XG52YXIgUmVhY3RDbGFzcyA9IHJlcXVpcmUoJy4vUmVhY3RDbGFzcycpO1xudmFyIFJlYWN0RE9NRmFjdG9yaWVzID0gcmVxdWlyZSgnLi9SZWFjdERPTUZhY3RvcmllcycpO1xudmFyIFJlYWN0RWxlbWVudCA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50Jyk7XG52YXIgUmVhY3RFbGVtZW50VmFsaWRhdG9yID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnRWYWxpZGF0b3InKTtcbnZhciBSZWFjdFByb3BUeXBlcyA9IHJlcXVpcmUoJy4vUmVhY3RQcm9wVHlwZXMnKTtcbnZhciBSZWFjdFZlcnNpb24gPSByZXF1aXJlKCcuL1JlYWN0VmVyc2lvbicpO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZSgnLi9PYmplY3QuYXNzaWduJyk7XG52YXIgb25seUNoaWxkID0gcmVxdWlyZSgnLi9vbmx5Q2hpbGQnKTtcblxudmFyIGNyZWF0ZUVsZW1lbnQgPSBSZWFjdEVsZW1lbnQuY3JlYXRlRWxlbWVudDtcbnZhciBjcmVhdGVGYWN0b3J5ID0gUmVhY3RFbGVtZW50LmNyZWF0ZUZhY3Rvcnk7XG52YXIgY2xvbmVFbGVtZW50ID0gUmVhY3RFbGVtZW50LmNsb25lRWxlbWVudDtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgY3JlYXRlRWxlbWVudCA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVFbGVtZW50O1xuICBjcmVhdGVGYWN0b3J5ID0gUmVhY3RFbGVtZW50VmFsaWRhdG9yLmNyZWF0ZUZhY3Rvcnk7XG4gIGNsb25lRWxlbWVudCA9IFJlYWN0RWxlbWVudFZhbGlkYXRvci5jbG9uZUVsZW1lbnQ7XG59XG5cbnZhciBSZWFjdCA9IHtcblxuICAvLyBNb2Rlcm5cblxuICBDaGlsZHJlbjoge1xuICAgIG1hcDogUmVhY3RDaGlsZHJlbi5tYXAsXG4gICAgZm9yRWFjaDogUmVhY3RDaGlsZHJlbi5mb3JFYWNoLFxuICAgIGNvdW50OiBSZWFjdENoaWxkcmVuLmNvdW50LFxuICAgIHRvQXJyYXk6IFJlYWN0Q2hpbGRyZW4udG9BcnJheSxcbiAgICBvbmx5OiBvbmx5Q2hpbGRcbiAgfSxcblxuICBDb21wb25lbnQ6IFJlYWN0Q29tcG9uZW50LFxuXG4gIGNyZWF0ZUVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnQsXG4gIGNsb25lRWxlbWVudDogY2xvbmVFbGVtZW50LFxuICBpc1ZhbGlkRWxlbWVudDogUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50LFxuXG4gIC8vIENsYXNzaWNcblxuICBQcm9wVHlwZXM6IFJlYWN0UHJvcFR5cGVzLFxuICBjcmVhdGVDbGFzczogUmVhY3RDbGFzcy5jcmVhdGVDbGFzcyxcbiAgY3JlYXRlRmFjdG9yeTogY3JlYXRlRmFjdG9yeSxcbiAgY3JlYXRlTWl4aW46IGZ1bmN0aW9uIChtaXhpbikge1xuICAgIC8vIEN1cnJlbnRseSBhIG5vb3AuIFdpbGwgYmUgdXNlZCB0byB2YWxpZGF0ZSBhbmQgdHJhY2UgbWl4aW5zLlxuICAgIHJldHVybiBtaXhpbjtcbiAgfSxcblxuICAvLyBUaGlzIGxvb2tzIERPTSBzcGVjaWZpYyBidXQgdGhlc2UgYXJlIGFjdHVhbGx5IGlzb21vcnBoaWMgaGVscGVyc1xuICAvLyBzaW5jZSB0aGV5IGFyZSBqdXN0IGdlbmVyYXRpbmcgRE9NIHN0cmluZ3MuXG4gIERPTTogUmVhY3RET01GYWN0b3JpZXMsXG5cbiAgdmVyc2lvbjogUmVhY3RWZXJzaW9uLFxuXG4gIC8vIEhvb2sgZm9yIEpTWCBzcHJlYWQsIGRvbid0IHVzZSB0aGlzIGZvciBhbnl0aGluZyBlbHNlLlxuICBfX3NwcmVhZDogYXNzaWduXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBSZWFjdERPTUZhY3Rvcmllc1xuICogQHR5cGVjaGVja3Mgc3RhdGljLW9ubHlcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdEVsZW1lbnQgPSByZXF1aXJlKCcuL1JlYWN0RWxlbWVudCcpO1xudmFyIFJlYWN0RWxlbWVudFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vUmVhY3RFbGVtZW50VmFsaWRhdG9yJyk7XG5cbnZhciBtYXBPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9tYXBPYmplY3QnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBmYWN0b3J5IHRoYXQgY3JlYXRlcyBIVE1MIHRhZyBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRhZyBuYW1lIChlLmcuIGBkaXZgKS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURPTUZhY3RvcnkodGFnKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIFJlYWN0RWxlbWVudFZhbGlkYXRvci5jcmVhdGVGYWN0b3J5KHRhZyk7XG4gIH1cbiAgcmV0dXJuIFJlYWN0RWxlbWVudC5jcmVhdGVGYWN0b3J5KHRhZyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1hcHBpbmcgZnJvbSBzdXBwb3J0ZWQgSFRNTCB0YWdzIHRvIGBSZWFjdERPTUNvbXBvbmVudGAgY2xhc3Nlcy5cbiAqIFRoaXMgaXMgYWxzbyBhY2Nlc3NpYmxlIHZpYSBgUmVhY3QuRE9NYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbnZhciBSZWFjdERPTUZhY3RvcmllcyA9IG1hcE9iamVjdCh7XG4gIGE6ICdhJyxcbiAgYWJicjogJ2FiYnInLFxuICBhZGRyZXNzOiAnYWRkcmVzcycsXG4gIGFyZWE6ICdhcmVhJyxcbiAgYXJ0aWNsZTogJ2FydGljbGUnLFxuICBhc2lkZTogJ2FzaWRlJyxcbiAgYXVkaW86ICdhdWRpbycsXG4gIGI6ICdiJyxcbiAgYmFzZTogJ2Jhc2UnLFxuICBiZGk6ICdiZGknLFxuICBiZG86ICdiZG8nLFxuICBiaWc6ICdiaWcnLFxuICBibG9ja3F1b3RlOiAnYmxvY2txdW90ZScsXG4gIGJvZHk6ICdib2R5JyxcbiAgYnI6ICdicicsXG4gIGJ1dHRvbjogJ2J1dHRvbicsXG4gIGNhbnZhczogJ2NhbnZhcycsXG4gIGNhcHRpb246ICdjYXB0aW9uJyxcbiAgY2l0ZTogJ2NpdGUnLFxuICBjb2RlOiAnY29kZScsXG4gIGNvbDogJ2NvbCcsXG4gIGNvbGdyb3VwOiAnY29sZ3JvdXAnLFxuICBkYXRhOiAnZGF0YScsXG4gIGRhdGFsaXN0OiAnZGF0YWxpc3QnLFxuICBkZDogJ2RkJyxcbiAgZGVsOiAnZGVsJyxcbiAgZGV0YWlsczogJ2RldGFpbHMnLFxuICBkZm46ICdkZm4nLFxuICBkaWFsb2c6ICdkaWFsb2cnLFxuICBkaXY6ICdkaXYnLFxuICBkbDogJ2RsJyxcbiAgZHQ6ICdkdCcsXG4gIGVtOiAnZW0nLFxuICBlbWJlZDogJ2VtYmVkJyxcbiAgZmllbGRzZXQ6ICdmaWVsZHNldCcsXG4gIGZpZ2NhcHRpb246ICdmaWdjYXB0aW9uJyxcbiAgZmlndXJlOiAnZmlndXJlJyxcbiAgZm9vdGVyOiAnZm9vdGVyJyxcbiAgZm9ybTogJ2Zvcm0nLFxuICBoMTogJ2gxJyxcbiAgaDI6ICdoMicsXG4gIGgzOiAnaDMnLFxuICBoNDogJ2g0JyxcbiAgaDU6ICdoNScsXG4gIGg2OiAnaDYnLFxuICBoZWFkOiAnaGVhZCcsXG4gIGhlYWRlcjogJ2hlYWRlcicsXG4gIGhncm91cDogJ2hncm91cCcsXG4gIGhyOiAnaHInLFxuICBodG1sOiAnaHRtbCcsXG4gIGk6ICdpJyxcbiAgaWZyYW1lOiAnaWZyYW1lJyxcbiAgaW1nOiAnaW1nJyxcbiAgaW5wdXQ6ICdpbnB1dCcsXG4gIGluczogJ2lucycsXG4gIGtiZDogJ2tiZCcsXG4gIGtleWdlbjogJ2tleWdlbicsXG4gIGxhYmVsOiAnbGFiZWwnLFxuICBsZWdlbmQ6ICdsZWdlbmQnLFxuICBsaTogJ2xpJyxcbiAgbGluazogJ2xpbmsnLFxuICBtYWluOiAnbWFpbicsXG4gIG1hcDogJ21hcCcsXG4gIG1hcms6ICdtYXJrJyxcbiAgbWVudTogJ21lbnUnLFxuICBtZW51aXRlbTogJ21lbnVpdGVtJyxcbiAgbWV0YTogJ21ldGEnLFxuICBtZXRlcjogJ21ldGVyJyxcbiAgbmF2OiAnbmF2JyxcbiAgbm9zY3JpcHQ6ICdub3NjcmlwdCcsXG4gIG9iamVjdDogJ29iamVjdCcsXG4gIG9sOiAnb2wnLFxuICBvcHRncm91cDogJ29wdGdyb3VwJyxcbiAgb3B0aW9uOiAnb3B0aW9uJyxcbiAgb3V0cHV0OiAnb3V0cHV0JyxcbiAgcDogJ3AnLFxuICBwYXJhbTogJ3BhcmFtJyxcbiAgcGljdHVyZTogJ3BpY3R1cmUnLFxuICBwcmU6ICdwcmUnLFxuICBwcm9ncmVzczogJ3Byb2dyZXNzJyxcbiAgcTogJ3EnLFxuICBycDogJ3JwJyxcbiAgcnQ6ICdydCcsXG4gIHJ1Ynk6ICdydWJ5JyxcbiAgczogJ3MnLFxuICBzYW1wOiAnc2FtcCcsXG4gIHNjcmlwdDogJ3NjcmlwdCcsXG4gIHNlY3Rpb246ICdzZWN0aW9uJyxcbiAgc2VsZWN0OiAnc2VsZWN0JyxcbiAgc21hbGw6ICdzbWFsbCcsXG4gIHNvdXJjZTogJ3NvdXJjZScsXG4gIHNwYW46ICdzcGFuJyxcbiAgc3Ryb25nOiAnc3Ryb25nJyxcbiAgc3R5bGU6ICdzdHlsZScsXG4gIHN1YjogJ3N1YicsXG4gIHN1bW1hcnk6ICdzdW1tYXJ5JyxcbiAgc3VwOiAnc3VwJyxcbiAgdGFibGU6ICd0YWJsZScsXG4gIHRib2R5OiAndGJvZHknLFxuICB0ZDogJ3RkJyxcbiAgdGV4dGFyZWE6ICd0ZXh0YXJlYScsXG4gIHRmb290OiAndGZvb3QnLFxuICB0aDogJ3RoJyxcbiAgdGhlYWQ6ICd0aGVhZCcsXG4gIHRpbWU6ICd0aW1lJyxcbiAgdGl0bGU6ICd0aXRsZScsXG4gIHRyOiAndHInLFxuICB0cmFjazogJ3RyYWNrJyxcbiAgdTogJ3UnLFxuICB1bDogJ3VsJyxcbiAgJ3Zhcic6ICd2YXInLFxuICB2aWRlbzogJ3ZpZGVvJyxcbiAgd2JyOiAnd2JyJyxcblxuICAvLyBTVkdcbiAgY2lyY2xlOiAnY2lyY2xlJyxcbiAgY2xpcFBhdGg6ICdjbGlwUGF0aCcsXG4gIGRlZnM6ICdkZWZzJyxcbiAgZWxsaXBzZTogJ2VsbGlwc2UnLFxuICBnOiAnZycsXG4gIGltYWdlOiAnaW1hZ2UnLFxuICBsaW5lOiAnbGluZScsXG4gIGxpbmVhckdyYWRpZW50OiAnbGluZWFyR3JhZGllbnQnLFxuICBtYXNrOiAnbWFzaycsXG4gIHBhdGg6ICdwYXRoJyxcbiAgcGF0dGVybjogJ3BhdHRlcm4nLFxuICBwb2x5Z29uOiAncG9seWdvbicsXG4gIHBvbHlsaW5lOiAncG9seWxpbmUnLFxuICByYWRpYWxHcmFkaWVudDogJ3JhZGlhbEdyYWRpZW50JyxcbiAgcmVjdDogJ3JlY3QnLFxuICBzdG9wOiAnc3RvcCcsXG4gIHN2ZzogJ3N2ZycsXG4gIHRleHQ6ICd0ZXh0JyxcbiAgdHNwYW46ICd0c3BhbidcblxufSwgY3JlYXRlRE9NRmFjdG9yeSk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RET01GYWN0b3JpZXM7IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIG1hcE9iamVjdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBFeGVjdXRlcyB0aGUgcHJvdmlkZWQgYGNhbGxiYWNrYCBvbmNlIGZvciBlYWNoIGVudW1lcmFibGUgb3duIHByb3BlcnR5IGluIHRoZVxuICogb2JqZWN0IGFuZCBjb25zdHJ1Y3RzIGEgbmV3IG9iamVjdCBmcm9tIHRoZSByZXN1bHRzLiBUaGUgYGNhbGxiYWNrYCBpc1xuICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAqXG4gKiAgLSB0aGUgcHJvcGVydHkgdmFsdWVcbiAqICAtIHRoZSBwcm9wZXJ0eSBuYW1lXG4gKiAgLSB0aGUgb2JqZWN0IGJlaW5nIHRyYXZlcnNlZFxuICpcbiAqIFByb3BlcnRpZXMgdGhhdCBhcmUgYWRkZWQgYWZ0ZXIgdGhlIGNhbGwgdG8gYG1hcE9iamVjdGAgd2lsbCBub3QgYmUgdmlzaXRlZFxuICogYnkgYGNhbGxiYWNrYC4gSWYgdGhlIHZhbHVlcyBvZiBleGlzdGluZyBwcm9wZXJ0aWVzIGFyZSBjaGFuZ2VkLCB0aGUgdmFsdWVcbiAqIHBhc3NlZCB0byBgY2FsbGJhY2tgIHdpbGwgYmUgdGhlIHZhbHVlIGF0IHRoZSB0aW1lIGBtYXBPYmplY3RgIHZpc2l0cyB0aGVtLlxuICogUHJvcGVydGllcyB0aGF0IGFyZSBkZWxldGVkIGJlZm9yZSBiZWluZyB2aXNpdGVkIGFyZSBub3QgdmlzaXRlZC5cbiAqXG4gKiBAZ3JlcCBmdW5jdGlvbiBvYmplY3RNYXAoKVxuICogQGdyZXAgZnVuY3Rpb24gb2JqTWFwKClcbiAqXG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7Kn0gY29udGV4dFxuICogQHJldHVybiB7P29iamVjdH1cbiAqL1xuZnVuY3Rpb24gbWFwT2JqZWN0KG9iamVjdCwgY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgaWYgKCFvYmplY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcmVzdWx0ID0ge307XG4gIGZvciAodmFyIG5hbWUgaW4gb2JqZWN0KSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBuYW1lKSkge1xuICAgICAgcmVzdWx0W25hbWVdID0gY2FsbGJhY2suY2FsbChjb250ZXh0LCBvYmplY3RbbmFtZV0sIG5hbWUsIG9iamVjdCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwT2JqZWN0OyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBvbmx5Q2hpbGRcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RFbGVtZW50ID0gcmVxdWlyZSgnLi9SZWFjdEVsZW1lbnQnKTtcblxudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IGNoaWxkIGluIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiBhbmQgdmVyaWZpZXMgdGhhdCB0aGVyZVxuICogaXMgb25seSBvbmUgY2hpbGQgaW4gdGhlIGNvbGxlY3Rpb24uIFRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIHRoaXNcbiAqIGZ1bmN0aW9uIGFzc3VtZXMgdGhhdCBhIHNpbmdsZSBjaGlsZCBnZXRzIHBhc3NlZCB3aXRob3V0IGEgd3JhcHBlciwgYnV0IHRoZVxuICogcHVycG9zZSBvZiB0aGlzIGhlbHBlciBmdW5jdGlvbiBpcyB0byBhYnN0cmFjdCBhd2F5IHRoZSBwYXJ0aWN1bGFyIHN0cnVjdHVyZVxuICogb2YgY2hpbGRyZW4uXG4gKlxuICogQHBhcmFtIHs/b2JqZWN0fSBjaGlsZHJlbiBDaGlsZCBjb2xsZWN0aW9uIHN0cnVjdHVyZS5cbiAqIEByZXR1cm4ge1JlYWN0Q29tcG9uZW50fSBUaGUgZmlyc3QgYW5kIG9ubHkgYFJlYWN0Q29tcG9uZW50YCBjb250YWluZWQgaW4gdGhlXG4gKiBzdHJ1Y3R1cmUuXG4gKi9cbmZ1bmN0aW9uIG9ubHlDaGlsZChjaGlsZHJlbikge1xuICAhUmVhY3RFbGVtZW50LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBpbnZhcmlhbnQoZmFsc2UsICdvbmx5Q2hpbGQgbXVzdCBiZSBwYXNzZWQgYSBjaGlsZHJlbiB3aXRoIGV4YWN0bHkgb25lIGNoaWxkLicpIDogaW52YXJpYW50KGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9ubHlDaGlsZDsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgZGVwcmVjYXRlZFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGFzc2lnbiA9IHJlcXVpcmUoJy4vT2JqZWN0LmFzc2lnbicpO1xudmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5cbi8qKlxuICogVGhpcyB3aWxsIGxvZyBhIHNpbmdsZSBkZXByZWNhdGlvbiBub3RpY2UgcGVyIGZ1bmN0aW9uIGFuZCBmb3J3YXJkIHRoZSBjYWxsXG4gKiBvbiB0byB0aGUgbmV3IEFQSS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm5OYW1lIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG5ld01vZHVsZSBUaGUgbW9kdWxlIHRoYXQgZm4gd2lsbCBleGlzdCBpblxuICogQHBhcmFtIHtzdHJpbmd9IG5ld1BhY2thZ2UgVGhlIG1vZHVsZSB0aGF0IGZuIHdpbGwgZXhpc3QgaW5cbiAqIEBwYXJhbSB7Kn0gY3R4IFRoZSBjb250ZXh0IHRoaXMgZm9yd2FyZGVkIGNhbGwgc2hvdWxkIHJ1biBpblxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGZvcndhcmQgb24gdG9cbiAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIHdhcm4gb25jZSBhbmQgdGhlbiBjYWxsIGZuXG4gKi9cbmZ1bmN0aW9uIGRlcHJlY2F0ZWQoZm5OYW1lLCBuZXdNb2R1bGUsIG5ld1BhY2thZ2UsIGN0eCwgZm4pIHtcbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciBuZXdGbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyB3YXJuaW5nKHdhcm5lZCxcbiAgICAgIC8vIFJlcXVpcmUgZXhhbXBsZXMgaW4gdGhpcyBzdHJpbmcgbXVzdCBiZSBzcGxpdCB0byBwcmV2ZW50IFJlYWN0J3NcbiAgICAgIC8vIGJ1aWxkIHRvb2xzIGZyb20gbWlzdGFraW5nIHRoZW0gZm9yIHJlYWwgcmVxdWlyZXMuXG4gICAgICAvLyBPdGhlcndpc2UgdGhlIGJ1aWxkIHRvb2xzIHdpbGwgYXR0ZW1wdCB0byBidWlsZCBhICclcycgbW9kdWxlLlxuICAgICAgJ1JlYWN0LiVzIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJXMuJXMgZnJvbSByZXF1aXJlJyArICcoXFwnJXNcXCcpICcgKyAnaW5zdGVhZC4nLCBmbk5hbWUsIG5ld01vZHVsZSwgZm5OYW1lLCBuZXdQYWNrYWdlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgICByZXR1cm4gZm4uYXBwbHkoY3R4LCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgLy8gV2UgbmVlZCB0byBtYWtlIHN1cmUgYWxsIHByb3BlcnRpZXMgb2YgdGhlIG9yaWdpbmFsIGZuIGFyZSBjb3BpZWQgb3Zlci5cbiAgICAvLyBJbiBwYXJ0aWN1bGFyLCB0aGlzIGlzIG5lZWRlZCB0byBzdXBwb3J0IFByb3BUeXBlc1xuICAgIHJldHVybiBhc3NpZ24obmV3Rm4sIGZuKTtcbiAgfVxuXG4gIHJldHVybiBmbjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZXByZWNhdGVkOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5leHBvcnRzLnByaW50QnVmZmVyID0gcHJpbnRCdWZmZXI7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG52YXIgX2RpZmYgPSByZXF1aXJlKCcuL2RpZmYnKTtcblxudmFyIF9kaWZmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RpZmYpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuLyoqXG4gKiBHZXQgbG9nIGxldmVsIHN0cmluZyBiYXNlZCBvbiBzdXBwbGllZCBwYXJhbXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8IGZ1bmN0aW9uIHwgb2JqZWN0fSBsZXZlbCAtIGNvbnNvbGVbbGV2ZWxdXG4gKiBAcGFyYW0ge29iamVjdH0gYWN0aW9uIC0gc2VsZWN0ZWQgYWN0aW9uXG4gKiBAcGFyYW0ge2FycmF5fSBwYXlsb2FkIC0gc2VsZWN0ZWQgcGF5bG9hZFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBsb2cgZW50cnkgdHlwZVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGxldmVsXG4gKi9cbmZ1bmN0aW9uIGdldExvZ0xldmVsKGxldmVsLCBhY3Rpb24sIHBheWxvYWQsIHR5cGUpIHtcbiAgc3dpdGNoICh0eXBlb2YgbGV2ZWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGxldmVsKSkge1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICByZXR1cm4gdHlwZW9mIGxldmVsW3R5cGVdID09PSAnZnVuY3Rpb24nID8gbGV2ZWxbdHlwZV0uYXBwbHkobGV2ZWwsIF90b0NvbnN1bWFibGVBcnJheShwYXlsb2FkKSkgOiBsZXZlbFt0eXBlXTtcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICByZXR1cm4gbGV2ZWwoYWN0aW9uKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGxldmVsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRUaXRsZUZvcm1hdHRlcihvcHRpb25zKSB7XG4gIHZhciB0aW1lc3RhbXAgPSBvcHRpb25zLnRpbWVzdGFtcCxcbiAgICAgIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbjtcblxuXG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uLCB0aW1lLCB0b29rKSB7XG4gICAgdmFyIHBhcnRzID0gWydhY3Rpb24nXTtcblxuICAgIHBhcnRzLnB1c2goJyVjJyArIFN0cmluZyhhY3Rpb24udHlwZSkpO1xuICAgIGlmICh0aW1lc3RhbXApIHBhcnRzLnB1c2goJyVjQCAnICsgdGltZSk7XG4gICAgaWYgKGR1cmF0aW9uKSBwYXJ0cy5wdXNoKCclYyhpbiAnICsgdG9vay50b0ZpeGVkKDIpICsgJyBtcyknKTtcblxuICAgIHJldHVybiBwYXJ0cy5qb2luKCcgJyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByaW50QnVmZmVyKGJ1ZmZlciwgb3B0aW9ucykge1xuICB2YXIgbG9nZ2VyID0gb3B0aW9ucy5sb2dnZXIsXG4gICAgICBhY3Rpb25UcmFuc2Zvcm1lciA9IG9wdGlvbnMuYWN0aW9uVHJhbnNmb3JtZXIsXG4gICAgICBfb3B0aW9ucyR0aXRsZUZvcm1hdHQgPSBvcHRpb25zLnRpdGxlRm9ybWF0dGVyLFxuICAgICAgdGl0bGVGb3JtYXR0ZXIgPSBfb3B0aW9ucyR0aXRsZUZvcm1hdHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRUaXRsZUZvcm1hdHRlcihvcHRpb25zKSA6IF9vcHRpb25zJHRpdGxlRm9ybWF0dCxcbiAgICAgIGNvbGxhcHNlZCA9IG9wdGlvbnMuY29sbGFwc2VkLFxuICAgICAgY29sb3JzID0gb3B0aW9ucy5jb2xvcnMsXG4gICAgICBsZXZlbCA9IG9wdGlvbnMubGV2ZWwsXG4gICAgICBkaWZmID0gb3B0aW9ucy5kaWZmO1xuXG5cbiAgYnVmZmVyLmZvckVhY2goZnVuY3Rpb24gKGxvZ0VudHJ5LCBrZXkpIHtcbiAgICB2YXIgc3RhcnRlZCA9IGxvZ0VudHJ5LnN0YXJ0ZWQsXG4gICAgICAgIHN0YXJ0ZWRUaW1lID0gbG9nRW50cnkuc3RhcnRlZFRpbWUsXG4gICAgICAgIGFjdGlvbiA9IGxvZ0VudHJ5LmFjdGlvbixcbiAgICAgICAgcHJldlN0YXRlID0gbG9nRW50cnkucHJldlN0YXRlLFxuICAgICAgICBlcnJvciA9IGxvZ0VudHJ5LmVycm9yO1xuICAgIHZhciB0b29rID0gbG9nRW50cnkudG9vayxcbiAgICAgICAgbmV4dFN0YXRlID0gbG9nRW50cnkubmV4dFN0YXRlO1xuXG4gICAgdmFyIG5leHRFbnRyeSA9IGJ1ZmZlcltrZXkgKyAxXTtcblxuICAgIGlmIChuZXh0RW50cnkpIHtcbiAgICAgIG5leHRTdGF0ZSA9IG5leHRFbnRyeS5wcmV2U3RhdGU7XG4gICAgICB0b29rID0gbmV4dEVudHJ5LnN0YXJ0ZWQgLSBzdGFydGVkO1xuICAgIH1cblxuICAgIC8vIE1lc3NhZ2VcbiAgICB2YXIgZm9ybWF0dGVkQWN0aW9uID0gYWN0aW9uVHJhbnNmb3JtZXIoYWN0aW9uKTtcbiAgICB2YXIgaXNDb2xsYXBzZWQgPSB0eXBlb2YgY29sbGFwc2VkID09PSAnZnVuY3Rpb24nID8gY29sbGFwc2VkKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfSwgYWN0aW9uLCBsb2dFbnRyeSkgOiBjb2xsYXBzZWQ7XG5cbiAgICB2YXIgZm9ybWF0dGVkVGltZSA9ICgwLCBfaGVscGVycy5mb3JtYXRUaW1lKShzdGFydGVkVGltZSk7XG4gICAgdmFyIHRpdGxlQ1NTID0gY29sb3JzLnRpdGxlID8gJ2NvbG9yOiAnICsgY29sb3JzLnRpdGxlKGZvcm1hdHRlZEFjdGlvbikgKyAnOycgOiAnJztcbiAgICB2YXIgaGVhZGVyQ1NTID0gWydjb2xvcjogZ3JheTsgZm9udC13ZWlnaHQ6IGxpZ2h0ZXI7J107XG4gICAgaGVhZGVyQ1NTLnB1c2godGl0bGVDU1MpO1xuICAgIGlmIChvcHRpb25zLnRpbWVzdGFtcCkgaGVhZGVyQ1NTLnB1c2goJ2NvbG9yOiBncmF5OyBmb250LXdlaWdodDogbGlnaHRlcjsnKTtcbiAgICBpZiAob3B0aW9ucy5kdXJhdGlvbikgaGVhZGVyQ1NTLnB1c2goJ2NvbG9yOiBncmF5OyBmb250LXdlaWdodDogbGlnaHRlcjsnKTtcbiAgICB2YXIgdGl0bGUgPSB0aXRsZUZvcm1hdHRlcihmb3JtYXR0ZWRBY3Rpb24sIGZvcm1hdHRlZFRpbWUsIHRvb2spO1xuXG4gICAgLy8gUmVuZGVyXG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc0NvbGxhcHNlZCkge1xuICAgICAgICBpZiAoY29sb3JzLnRpdGxlKSBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQuYXBwbHkobG9nZ2VyLCBbJyVjICcgKyB0aXRsZV0uY29uY2F0KGhlYWRlckNTUykpO2Vsc2UgbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKHRpdGxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb2xvcnMudGl0bGUpIGxvZ2dlci5ncm91cC5hcHBseShsb2dnZXIsIFsnJWMgJyArIHRpdGxlXS5jb25jYXQoaGVhZGVyQ1NTKSk7ZWxzZSBsb2dnZXIuZ3JvdXAodGl0bGUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5sb2codGl0bGUpO1xuICAgIH1cblxuICAgIHZhciBwcmV2U3RhdGVMZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtwcmV2U3RhdGVdLCAncHJldlN0YXRlJyk7XG4gICAgdmFyIGFjdGlvbkxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW2Zvcm1hdHRlZEFjdGlvbl0sICdhY3Rpb24nKTtcbiAgICB2YXIgZXJyb3JMZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtlcnJvciwgcHJldlN0YXRlXSwgJ2Vycm9yJyk7XG4gICAgdmFyIG5leHRTdGF0ZUxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW25leHRTdGF0ZV0sICduZXh0U3RhdGUnKTtcblxuICAgIGlmIChwcmV2U3RhdGVMZXZlbCkge1xuICAgICAgaWYgKGNvbG9ycy5wcmV2U3RhdGUpIGxvZ2dlcltwcmV2U3RhdGVMZXZlbF0oJyVjIHByZXYgc3RhdGUnLCAnY29sb3I6ICcgKyBjb2xvcnMucHJldlN0YXRlKHByZXZTdGF0ZSkgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIHByZXZTdGF0ZSk7ZWxzZSBsb2dnZXJbcHJldlN0YXRlTGV2ZWxdKCdwcmV2IHN0YXRlJywgcHJldlN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMuYWN0aW9uKSBsb2dnZXJbYWN0aW9uTGV2ZWxdKCclYyBhY3Rpb24gICAgJywgJ2NvbG9yOiAnICsgY29sb3JzLmFjdGlvbihmb3JtYXR0ZWRBY3Rpb24pICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBmb3JtYXR0ZWRBY3Rpb24pO2Vsc2UgbG9nZ2VyW2FjdGlvbkxldmVsXSgnYWN0aW9uICAgICcsIGZvcm1hdHRlZEFjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGVycm9yICYmIGVycm9yTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMuZXJyb3IpIGxvZ2dlcltlcnJvckxldmVsXSgnJWMgZXJyb3IgICAgICcsICdjb2xvcjogJyArIGNvbG9ycy5lcnJvcihlcnJvciwgcHJldlN0YXRlKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkOycsIGVycm9yKTtlbHNlIGxvZ2dlcltlcnJvckxldmVsXSgnZXJyb3IgICAgICcsIGVycm9yKTtcbiAgICB9XG5cbiAgICBpZiAobmV4dFN0YXRlTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMubmV4dFN0YXRlKSBsb2dnZXJbbmV4dFN0YXRlTGV2ZWxdKCclYyBuZXh0IHN0YXRlJywgJ2NvbG9yOiAnICsgY29sb3JzLm5leHRTdGF0ZShuZXh0U3RhdGUpICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBuZXh0U3RhdGUpO2Vsc2UgbG9nZ2VyW25leHRTdGF0ZUxldmVsXSgnbmV4dCBzdGF0ZScsIG5leHRTdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGRpZmYpIHtcbiAgICAgICgwLCBfZGlmZjIuZGVmYXVsdCkocHJldlN0YXRlLCBuZXh0U3RhdGUsIGxvZ2dlciwgaXNDb2xsYXBzZWQpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBsb2dnZXIuZ3JvdXBFbmQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIubG9nKCdcXHUyMDE0XFx1MjAxNCBsb2cgZW5kIFxcdTIwMTRcXHUyMDE0Jyk7XG4gICAgfVxuICB9KTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBkaWZmTG9nZ2VyO1xuXG52YXIgX2RlZXBEaWZmID0gcmVxdWlyZSgnZGVlcC1kaWZmJyk7XG5cbnZhciBfZGVlcERpZmYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVlcERpZmYpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZsaXRiaXQvZGlmZiNkaWZmZXJlbmNlc1xudmFyIGRpY3Rpb25hcnkgPSB7XG4gICdFJzoge1xuICAgIGNvbG9yOiAnIzIxOTZGMycsXG4gICAgdGV4dDogJ0NIQU5HRUQ6J1xuICB9LFxuICAnTic6IHtcbiAgICBjb2xvcjogJyM0Q0FGNTAnLFxuICAgIHRleHQ6ICdBRERFRDonXG4gIH0sXG4gICdEJzoge1xuICAgIGNvbG9yOiAnI0Y0NDMzNicsXG4gICAgdGV4dDogJ0RFTEVURUQ6J1xuICB9LFxuICAnQSc6IHtcbiAgICBjb2xvcjogJyMyMTk2RjMnLFxuICAgIHRleHQ6ICdBUlJBWTonXG4gIH1cbn07XG5cbmZ1bmN0aW9uIHN0eWxlKGtpbmQpIHtcbiAgcmV0dXJuICdjb2xvcjogJyArIGRpY3Rpb25hcnlba2luZF0uY29sb3IgKyAnOyBmb250LXdlaWdodDogYm9sZCc7XG59XG5cbmZ1bmN0aW9uIHJlbmRlcihkaWZmKSB7XG4gIHZhciBraW5kID0gZGlmZi5raW5kLFxuICAgICAgcGF0aCA9IGRpZmYucGF0aCxcbiAgICAgIGxocyA9IGRpZmYubGhzLFxuICAgICAgcmhzID0gZGlmZi5yaHMsXG4gICAgICBpbmRleCA9IGRpZmYuaW5kZXgsXG4gICAgICBpdGVtID0gZGlmZi5pdGVtO1xuXG5cbiAgc3dpdGNoIChraW5kKSB7XG4gICAgY2FzZSAnRSc6XG4gICAgICByZXR1cm4gW3BhdGguam9pbignLicpLCBsaHMsICdcXHUyMTkyJywgcmhzXTtcbiAgICBjYXNlICdOJzpcbiAgICAgIHJldHVybiBbcGF0aC5qb2luKCcuJyksIHJoc107XG4gICAgY2FzZSAnRCc6XG4gICAgICByZXR1cm4gW3BhdGguam9pbignLicpXTtcbiAgICBjYXNlICdBJzpcbiAgICAgIHJldHVybiBbcGF0aC5qb2luKCcuJykgKyAnWycgKyBpbmRleCArICddJywgaXRlbV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkaWZmTG9nZ2VyKHByZXZTdGF0ZSwgbmV3U3RhdGUsIGxvZ2dlciwgaXNDb2xsYXBzZWQpIHtcbiAgdmFyIGRpZmYgPSAoMCwgX2RlZXBEaWZmMi5kZWZhdWx0KShwcmV2U3RhdGUsIG5ld1N0YXRlKTtcblxuICB0cnkge1xuICAgIGlmIChpc0NvbGxhcHNlZCkge1xuICAgICAgbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKCdkaWZmJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci5ncm91cCgnZGlmZicpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5sb2coJ2RpZmYnKTtcbiAgfVxuXG4gIGlmIChkaWZmKSB7XG4gICAgZGlmZi5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICB2YXIga2luZCA9IGVsZW0ua2luZDtcblxuICAgICAgdmFyIG91dHB1dCA9IHJlbmRlcihlbGVtKTtcblxuICAgICAgbG9nZ2VyLmxvZy5hcHBseShsb2dnZXIsIFsnJWMgJyArIGRpY3Rpb25hcnlba2luZF0udGV4dCwgc3R5bGUoa2luZCldLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkob3V0cHV0KSkpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGxvZ2dlci5sb2coJ1xcdTIwMTRcXHUyMDE0IG5vIGRpZmYgXFx1MjAxNFxcdTIwMTQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIubG9nKCdcXHUyMDE0XFx1MjAxNCBkaWZmIGVuZCBcXHUyMDE0XFx1MjAxNCAnKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiLyohXG4gKiBkZWVwLWRpZmYuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAndXNlIHN0cmljdCc7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgcm9vdC5EZWVwRGlmZiA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbih1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkc2NvcGUsIGNvbmZsaWN0LCBjb25mbGljdFJlc29sdXRpb24gPSBbXTtcbiAgaWYgKHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbCkge1xuICAgICRzY29wZSA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICRzY29wZSA9IHdpbmRvdztcbiAgfSBlbHNlIHtcbiAgICAkc2NvcGUgPSB7fTtcbiAgfVxuICBjb25mbGljdCA9ICRzY29wZS5EZWVwRGlmZjtcbiAgaWYgKGNvbmZsaWN0KSB7XG4gICAgY29uZmxpY3RSZXNvbHV0aW9uLnB1c2goXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgY29uZmxpY3QgJiYgJHNjb3BlLkRlZXBEaWZmID09PSBhY2N1bXVsYXRlRGlmZikge1xuICAgICAgICAgICRzY29wZS5EZWVwRGlmZiA9IGNvbmZsaWN0O1xuICAgICAgICAgIGNvbmZsaWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIG5vZGVqcyBjb21wYXRpYmxlIG9uIHNlcnZlciBzaWRlIGFuZCBpbiB0aGUgYnJvd3Nlci5cbiAgZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7XG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gRGlmZihraW5kLCBwYXRoKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdraW5kJywge1xuICAgICAgdmFsdWU6IGtpbmQsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGgpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncGF0aCcsIHtcbiAgICAgICAgdmFsdWU6IHBhdGgsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIERpZmZFZGl0KHBhdGgsIG9yaWdpbiwgdmFsdWUpIHtcbiAgICBEaWZmRWRpdC5zdXBlcl8uY2FsbCh0aGlzLCAnRScsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGhzJywge1xuICAgICAgdmFsdWU6IG9yaWdpbixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JocycsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICBpbmhlcml0cyhEaWZmRWRpdCwgRGlmZik7XG5cbiAgZnVuY3Rpb24gRGlmZk5ldyhwYXRoLCB2YWx1ZSkge1xuICAgIERpZmZOZXcuc3VwZXJfLmNhbGwodGhpcywgJ04nLCBwYXRoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JocycsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICBpbmhlcml0cyhEaWZmTmV3LCBEaWZmKTtcblxuICBmdW5jdGlvbiBEaWZmRGVsZXRlZChwYXRoLCB2YWx1ZSkge1xuICAgIERpZmZEZWxldGVkLnN1cGVyXy5jYWxsKHRoaXMsICdEJywgcGF0aCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdsaHMnLCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkRlbGV0ZWQsIERpZmYpO1xuXG4gIGZ1bmN0aW9uIERpZmZBcnJheShwYXRoLCBpbmRleCwgaXRlbSkge1xuICAgIERpZmZBcnJheS5zdXBlcl8uY2FsbCh0aGlzLCAnQScsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaW5kZXgnLCB7XG4gICAgICB2YWx1ZTogaW5kZXgsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpdGVtJywge1xuICAgICAgdmFsdWU6IGl0ZW0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkFycmF5LCBEaWZmKTtcblxuICBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIGZyb20sIHRvKSB7XG4gICAgdmFyIHJlc3QgPSBhcnIuc2xpY2UoKHRvIHx8IGZyb20pICsgMSB8fCBhcnIubGVuZ3RoKTtcbiAgICBhcnIubGVuZ3RoID0gZnJvbSA8IDAgPyBhcnIubGVuZ3RoICsgZnJvbSA6IGZyb207XG4gICAgYXJyLnB1c2guYXBwbHkoYXJyLCByZXN0KTtcbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhbFR5cGVPZihzdWJqZWN0KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygc3ViamVjdDtcbiAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cblxuICAgIGlmIChzdWJqZWN0ID09PSBNYXRoKSB7XG4gICAgICByZXR1cm4gJ21hdGgnO1xuICAgIH0gZWxzZSBpZiAoc3ViamVjdCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3ViamVjdCkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN1YmplY3QpID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ViamVjdC50b1N0cmluZyAhPT0gJ3VuZGVmaW5lZCcgJiYgL15cXC8uKlxcLy8udGVzdChzdWJqZWN0LnRvU3RyaW5nKCkpKSB7XG4gICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgfVxuICAgIHJldHVybiAnb2JqZWN0JztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBEaWZmKGxocywgcmhzLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIHBhdGgsIGtleSwgc3RhY2spIHtcbiAgICBwYXRoID0gcGF0aCB8fCBbXTtcbiAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoLnNsaWNlKDApO1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHByZWZpbHRlcikge1xuICAgICAgICBpZiAodHlwZW9mKHByZWZpbHRlcikgPT09ICdmdW5jdGlvbicgJiYgcHJlZmlsdGVyKGN1cnJlbnRQYXRoLCBrZXkpKSB7IHJldHVybjsgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YocHJlZmlsdGVyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBpZiAocHJlZmlsdGVyLnByZWZpbHRlciAmJiBwcmVmaWx0ZXIucHJlZmlsdGVyKGN1cnJlbnRQYXRoLCBrZXkpKSB7IHJldHVybjsgfVxuICAgICAgICAgIGlmIChwcmVmaWx0ZXIubm9ybWFsaXplKSB7XG4gICAgICAgICAgICB2YXIgYWx0ID0gcHJlZmlsdGVyLm5vcm1hbGl6ZShjdXJyZW50UGF0aCwga2V5LCBsaHMsIHJocyk7XG4gICAgICAgICAgICBpZiAoYWx0KSB7XG4gICAgICAgICAgICAgIGxocyA9IGFsdFswXTtcbiAgICAgICAgICAgICAgcmhzID0gYWx0WzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VycmVudFBhdGgucHVzaChrZXkpO1xuICAgIH1cblxuICAgIC8vIFVzZSBzdHJpbmcgY29tcGFyaXNvbiBmb3IgcmVnZXhlc1xuICAgIGlmIChyZWFsVHlwZU9mKGxocykgPT09ICdyZWdleHAnICYmIHJlYWxUeXBlT2YocmhzKSA9PT0gJ3JlZ2V4cCcpIHtcbiAgICAgIGxocyA9IGxocy50b1N0cmluZygpO1xuICAgICAgcmhzID0gcmhzLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgdmFyIGx0eXBlID0gdHlwZW9mIGxocztcbiAgICB2YXIgcnR5cGUgPSB0eXBlb2YgcmhzO1xuICAgIGlmIChsdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChydHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2hhbmdlcyhuZXcgRGlmZk5ldyhjdXJyZW50UGF0aCwgcmhzKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChydHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNoYW5nZXMobmV3IERpZmZEZWxldGVkKGN1cnJlbnRQYXRoLCBsaHMpKTtcbiAgICB9IGVsc2UgaWYgKHJlYWxUeXBlT2YobGhzKSAhPT0gcmVhbFR5cGVPZihyaHMpKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChsaHMpID09PSAnW29iamVjdCBEYXRlXScgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJocykgPT09ICdbb2JqZWN0IERhdGVdJyAmJiAoKGxocyAtIHJocykgIT09IDApKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICB9IGVsc2UgaWYgKGx0eXBlID09PSAnb2JqZWN0JyAmJiBsaHMgIT09IG51bGwgJiYgcmhzICE9PSBudWxsKSB7XG4gICAgICBzdGFjayA9IHN0YWNrIHx8IFtdO1xuICAgICAgaWYgKHN0YWNrLmluZGV4T2YobGhzKSA8IDApIHtcbiAgICAgICAgc3RhY2sucHVzaChsaHMpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaHMpKSB7XG4gICAgICAgICAgdmFyIGksIGxlbiA9IGxocy5sZW5ndGg7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPj0gcmhzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmQXJyYXkoY3VycmVudFBhdGgsIGksIG5ldyBEaWZmRGVsZXRlZCh1bmRlZmluZWQsIGxoc1tpXSkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1tpXSwgcmhzW2ldLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBpLCBzdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChpIDwgcmhzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkFycmF5KGN1cnJlbnRQYXRoLCBpLCBuZXcgRGlmZk5ldyh1bmRlZmluZWQsIHJoc1tpKytdKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYWtleXMgPSBPYmplY3Qua2V5cyhsaHMpO1xuICAgICAgICAgIHZhciBwa2V5cyA9IE9iamVjdC5rZXlzKHJocyk7XG4gICAgICAgICAgYWtleXMuZm9yRWFjaChmdW5jdGlvbihrLCBpKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBwa2V5cy5pbmRleE9mKGspO1xuICAgICAgICAgICAgaWYgKG90aGVyID49IDApIHtcbiAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCByaHNba10sIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcbiAgICAgICAgICAgICAgcGtleXMgPSBhcnJheVJlbW92ZShwa2V5cywgb3RoZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCB1bmRlZmluZWQsIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgIGRlZXBEaWZmKHVuZGVmaW5lZCwgcmhzW2tdLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBrLCBzdGFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2subGVuZ3RoID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxocyAhPT0gcmhzKSB7XG4gICAgICBpZiAoIShsdHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4obGhzKSAmJiBpc05hTihyaHMpKSkge1xuICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlmZihsaHMsIHJocywgcHJlZmlsdGVyLCBhY2N1bSkge1xuICAgIGFjY3VtID0gYWNjdW0gfHwgW107XG4gICAgZGVlcERpZmYobGhzLCByaHMsXG4gICAgICBmdW5jdGlvbihkaWZmKSB7XG4gICAgICAgIGlmIChkaWZmKSB7XG4gICAgICAgICAgYWNjdW0ucHVzaChkaWZmKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByZWZpbHRlcik7XG4gICAgcmV0dXJuIChhY2N1bS5sZW5ndGgpID8gYWNjdW0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUFycmF5Q2hhbmdlKGFyciwgaW5kZXgsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UucGF0aCAmJiBjaGFuZ2UucGF0aC5sZW5ndGgpIHtcbiAgICAgIHZhciBpdCA9IGFycltpbmRleF0sXG4gICAgICAgICAgaSwgdSA9IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdTsgaSsrKSB7XG4gICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICBhcHBseUFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UucmhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoYXJyW2luZGV4XSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGFyciA9IGFycmF5UmVtb3ZlKGFyciwgaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5yaHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUNoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UgJiYgY2hhbmdlICYmIGNoYW5nZS5raW5kKSB7XG4gICAgICB2YXIgaXQgPSB0YXJnZXQsXG4gICAgICAgICAgaSA9IC0xLFxuICAgICAgICAgIGxhc3QgPSBjaGFuZ2UucGF0aCA/IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDEgOiAwO1xuICAgICAgd2hpbGUgKCsraSA8IGxhc3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdFtjaGFuZ2UucGF0aFtpXV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gKHR5cGVvZiBjaGFuZ2UucGF0aFtpXSA9PT0gJ251bWJlcicpID8gW10gOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgYXBwbHlBcnJheUNoYW5nZShjaGFuZ2UucGF0aCA/IGl0W2NoYW5nZS5wYXRoW2ldXSA6IGl0LCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgZGVsZXRlIGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5yaHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyLCBpbmRleCwgY2hhbmdlKSB7XG4gICAgaWYgKGNoYW5nZS5wYXRoICYmIGNoYW5nZS5wYXRoLmxlbmd0aCkge1xuICAgICAgLy8gdGhlIHN0cnVjdHVyZSBvZiB0aGUgb2JqZWN0IGF0IHRoZSBpbmRleCBoYXMgY2hhbmdlZC4uLlxuICAgICAgdmFyIGl0ID0gYXJyW2luZGV4XSxcbiAgICAgICAgICBpLCB1ID0gY2hhbmdlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB1OyBpKyspIHtcbiAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBhcnJheSBpdGVtIGlzIGRpZmZlcmVudC4uLlxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICByZXZlcnRBcnJheUNoYW5nZShhcnJbaW5kZXhdLCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBhcnIgPSBhcnJheVJlbW92ZShhcnIsIGluZGV4KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydENoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UgJiYgY2hhbmdlICYmIGNoYW5nZS5raW5kKSB7XG4gICAgICB2YXIgaXQgPSB0YXJnZXQsXG4gICAgICAgICAgaSwgdTtcbiAgICAgIHUgPSBjaGFuZ2UucGF0aC5sZW5ndGggLSAxO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHU7IGkrKykge1xuICAgICAgICBpZiAodHlwZW9mIGl0W2NoYW5nZS5wYXRoW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgLy8gQXJyYXkgd2FzIG1vZGlmaWVkLi4uXG4gICAgICAgICAgLy8gaXQgd2lsbCBiZSBhbiBhcnJheS4uLlxuICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIC8vIEl0ZW0gd2FzIGRlbGV0ZWQuLi5cbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAvLyBJdGVtIHdhcyBlZGl0ZWQuLi5cbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAvLyBJdGVtIGlzIG5ldy4uLlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlEaWZmKHRhcmdldCwgc291cmNlLCBmaWx0ZXIpIHtcbiAgICBpZiAodGFyZ2V0ICYmIHNvdXJjZSkge1xuICAgICAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24oY2hhbmdlKSB7XG4gICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcih0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSkge1xuICAgICAgICAgIGFwcGx5Q2hhbmdlKHRhcmdldCwgc291cmNlLCBjaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGVlcERpZmYodGFyZ2V0LCBzb3VyY2UsIG9uQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhY2N1bXVsYXRlRGlmZiwge1xuXG4gICAgZGlmZjoge1xuICAgICAgdmFsdWU6IGFjY3VtdWxhdGVEaWZmLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgb2JzZXJ2YWJsZURpZmY6IHtcbiAgICAgIHZhbHVlOiBkZWVwRGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGFwcGx5RGlmZjoge1xuICAgICAgdmFsdWU6IGFwcGx5RGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGFwcGx5Q2hhbmdlOiB7XG4gICAgICB2YWx1ZTogYXBwbHlDaGFuZ2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICByZXZlcnRDaGFuZ2U6IHtcbiAgICAgIHZhbHVlOiByZXZlcnRDaGFuZ2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBpc0NvbmZsaWN0OiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGNvbmZsaWN0O1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIG5vQ29uZmxpY3Q6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbmZsaWN0UmVzb2x1dGlvbikge1xuICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5mb3JFYWNoKGZ1bmN0aW9uKGl0KSB7XG4gICAgICAgICAgICBpdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdGVEaWZmO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhY2N1bXVsYXRlRGlmZjtcbn0pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0ge1xuICBsZXZlbDogXCJsb2dcIixcbiAgbG9nZ2VyOiBjb25zb2xlLFxuICBsb2dFcnJvcnM6IHRydWUsXG4gIGNvbGxhcHNlZDogdW5kZWZpbmVkLFxuICBwcmVkaWNhdGU6IHVuZGVmaW5lZCxcbiAgZHVyYXRpb246IGZhbHNlLFxuICB0aW1lc3RhbXA6IHRydWUsXG4gIHN0YXRlVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIHN0YXRlVHJhbnNmb3JtZXIoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH0sXG4gIGFjdGlvblRyYW5zZm9ybWVyOiBmdW5jdGlvbiBhY3Rpb25UcmFuc2Zvcm1lcihhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9uO1xuICB9LFxuICBlcnJvclRyYW5zZm9ybWVyOiBmdW5jdGlvbiBlcnJvclRyYW5zZm9ybWVyKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9LFxuICBjb2xvcnM6IHtcbiAgICB0aXRsZTogZnVuY3Rpb24gdGl0bGUoKSB7XG4gICAgICByZXR1cm4gXCJpbmhlcml0XCI7XG4gICAgfSxcbiAgICBwcmV2U3RhdGU6IGZ1bmN0aW9uIHByZXZTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBcIiM5RTlFOUVcIjtcbiAgICB9LFxuICAgIGFjdGlvbjogZnVuY3Rpb24gYWN0aW9uKCkge1xuICAgICAgcmV0dXJuIFwiIzAzQTlGNFwiO1xuICAgIH0sXG4gICAgbmV4dFN0YXRlOiBmdW5jdGlvbiBuZXh0U3RhdGUoKSB7XG4gICAgICByZXR1cm4gXCIjNENBRjUwXCI7XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICByZXR1cm4gXCIjRjIwNDA0XCI7XG4gICAgfVxuICB9LFxuICBkaWZmOiBmYWxzZSxcbiAgZGlmZlByZWRpY2F0ZTogdW5kZWZpbmVkLFxuXG4gIC8vIERlcHJlY2F0ZWQgb3B0aW9uc1xuICB0cmFuc2Zvcm1lcjogdW5kZWZpbmVkXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lQnJvd3NlcigpIHtcbiAgICBsZXQgY3Jvc3Nicm93c2VyTmFtZTtcbiAgICBsZXQgY3Jvc3Nicm93c2VyO1xuICAgIGlmICh0eXBlb2YgY3Jvc3Nicm93c2VyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjcm9zc2Jyb3dzZXIgPSB7fTtcbiAgICB9XG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgIT09IC0xKSB7IC8vIENIUk9NRSwgRURHRSwgWUFOREVYLCBTQU1TVU5HIE9SIE9QRVJBXG4gICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0VkZycpICE9PSAtMSkge1xuICAgICAgICAgICAgY3Jvc3Nicm93c2VyTmFtZSA9ICdlZGdlJztcbiAgICAgICAgICAgIC8vIE5ldyB2ZXJzaW9ucyBvZiBlZGdlIGFyZSBiYXNlZCBvbiBDaHJvbWl1bS5cbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSwgdGhlIGFwaSB0b3AgbGV2ZWwgbmFtZSB3YXMgY2hhbmdlZCBmcm9tICdicm93c2VyJyB0byAnY2hyb21lJ1xuICAgICAgICAgICAgLy8gSXQgY2FuIGJlIGRpc3Rpbmd1aXNoZWQgYmV0d2VlbiB0aGUgb2xkIGVkZ2UgZW5naW5lXG4gICAgICAgICAgICAvLyBhbmQgdGhlIGNocm9taXVtIGJhc2VkIG9uZSBieSB0aGUgdXNlciBhZ2VudCAoJ0VkZ2UnIGZvciBvbGQsICdFZGcnIGluIG5ldylcbiAgICAgICAgICAgIGNyb3NzYnJvd3NlciA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRWRnZScpICE9PSAtMSA/IGJyb3dzZXIgOiBjaHJvbWU7XG4gICAgICAgIH0gZWxzZSBpZiAoKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignT3BlcmEnKSAhPT0gLTEpIHx8IChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ09QUicpICE9PSAtMSkpIHtcbiAgICAgICAgICAgIGNyb3NzYnJvd3Nlck5hbWUgPSAnb3BlcmEnO1xuICAgICAgICAgICAgY3Jvc3Nicm93c2VyID0gY2hyb21lO1xuICAgICAgICB9IGVsc2UgaWYgKChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1lhQnJvd3NlcicpICE9PSAtMSkgfHwgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignWW93c2VyJykgIT09IC0xKSkge1xuICAgICAgICAgICAgY3Jvc3Nicm93c2VyTmFtZSA9ICd5YW5kZXgnO1xuICAgICAgICAgICAgY3Jvc3Nicm93c2VyID0gY2hyb21lO1xuICAgICAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2Ftc3VuZ0Jyb3dzZXInKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNyb3NzYnJvd3Nlck5hbWUgPSAnc2Ftc3VuZyc7XG4gICAgICAgICAgICBjcm9zc2Jyb3dzZXIgPSBjaHJvbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjcm9zc2Jyb3dzZXJOYW1lID0gJ2Nocm9tZSc7XG4gICAgICAgICAgICBjcm9zc2Jyb3dzZXIgPSBjaHJvbWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpJykgIT09IC0xKSB7IC8vIFNBRkFSSVxuICAgICAgICBjcm9zc2Jyb3dzZXJOYW1lID0gJ3NhZmFyaSc7XG4gICAgICAgIGNyb3NzYnJvd3NlciA9IGJyb3dzZXI7XG4gICAgfSBlbHNlIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTEpIHsgLy8gRklSRUZPWFxuICAgICAgICBjcm9zc2Jyb3dzZXJOYW1lID0gJ2ZpcmVmb3gnO1xuICAgICAgICBjcm9zc2Jyb3dzZXIgPSBicm93c2VyO1xuICAgIH0gZWxzZSBpZiAoKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignTVNJRScpICE9PSAtMSkgfHwgKCEhZG9jdW1lbnQuZG9jdW1lbnRNb2RlID09PSB0cnVlKSkgeyAvLyBJRiBJRSA+IDEwXG4gICAgICAgIGNyb3NzYnJvd3Nlck5hbWUgPSAnaWUnO1xuICAgIH1cbiAgICByZXR1cm4geyBjcm9zc2Jyb3dzZXJOYW1lLCBjcm9zc2Jyb3dzZXIgfTtcbn1cbmNvbnN0IGluaXQgPSBkZXRlcm1pbmVCcm93c2VyKCk7XG5leHBvcnQgY29uc3QgY3Jvc3Nicm93c2VyTmFtZSA9IGluaXQuY3Jvc3Nicm93c2VyTmFtZTtcbmV4cG9ydCBjb25zdCBjcm9zc2Jyb3dzZXIgPSBpbml0LmNyb3NzYnJvd3NlcjtcbiIsImltcG9ydCB7IGNyb3NzYnJvd3Nlck5hbWUgfSBmcm9tICcuLi9jcm9zc2Jyb3dzZXInO1xuXG5leHBvcnQgY29uc3QgSVNfREVWID0gZmFsc2VcbmV4cG9ydCBjb25zdCBTQ09SRUNBUkRfU0VSVkVSX0FERFJFU1MgPSAnaHR0cHM6Ly9zY29yZWNhcmQuYXBpLm15d290LmNvbSc7XG5leHBvcnQgY29uc3QgQVBJX1VTRVJTX1NFUlZFUl9BRERSRVNTID0gJ2h0dHBzOi8vdXNlci5hcGkubXl3b3QuY29tJztcbmV4cG9ydCBjb25zdCBBUElfQU5BTFlUSUNTX1NFUlZFUl9BRERSRVNTID0gJ2h0dHBzOi8vYW5hbHl0aWNzLmFwaS5teXdvdC5jb20nO1xuZXhwb3J0IGNvbnN0IEFQSV9MRUFLX1NFUlZFUl9BRERSRVNTID0gJ2h0dHBzOi8vbGVhay5hcGkubXl3b3QuY29tJztcbmV4cG9ydCBjb25zdCBTVEFUSUNfRklMRVNfU0VSVkVSID0gJ2h0dHBzOi8vc3RhdGljLm15d290LmNvbS9zZXR0aW5ncy9leHRlbnNpb25zJztcbmV4cG9ydCBjb25zdCBBUElTX0RFVl9NT0RFID0gZmFsc2U7XG5leHBvcnQgY29uc3QgQVBJX0VSUk9SX0NPREVTID0ge1xuICAgIEUxMDE6ICdERVZfTU9ERV9PTi1SQVRJTkdTX1VOQVZBSUxBQkxFJyxcbn07XG5cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzUuMC4xJztcblxuLy8gU0xJREVSXG5leHBvcnQgY29uc3QgV09UX1BPUFVQX01BSU5fQ09OVEFJTkVSID0gJ3dvdC1wb3B1cC1tYWluLWNvbnRhaW5lcic7XG5leHBvcnQgY29uc3QgV09UX1BPUFVQX1NMSURFUl9JRlJBTUUgPSAnd290LXBvcHVwLXNsaWRlci1pZnJhbWUnO1xuZXhwb3J0IGNvbnN0IFdPVF9QT1BVUF9PTkJPQVJESU5HX0NPTlRBSU5FUiA9ICd3b3QtcG9wdXAtb25ib2FyZGluZy1jb250YWluZXInO1xuZXhwb3J0IGNvbnN0IFdPVF9QT1BVUF9PTkJPQVJESU5HX0JVQkJMRV9JRCA9ICd3b3QtUE9CJztcbmV4cG9ydCBjb25zdCBXT1RfUE9QVVBfU0xJREVSX0NPTlRBSU5FUiA9ICd3c2MnO1xuZXhwb3J0IGNvbnN0IFdPVF9QT1BVUF9WMl9DT05UQUlORVIgPSAnd290LXBvcHVwLXYyLWNvbnRhaW5lcic7XG5leHBvcnQgY29uc3QgV09UX1BSRUNIRUNLX0FTU0lTVEFOVF9DT05UQUlORVIgPSAnd290LXByZWNoZWNrLWFzc2lzdGFudC1jb250YWluZXInO1xuZXhwb3J0IGNvbnN0IFNMSURFUl9XSURUSCA9IDQwMDtcbmV4cG9ydCBjb25zdCBXT1RfU0xJREVSX01PREFMX0JBQ0tHUk9VTkRfSUQgPSAnd290LW1vZGFsLWJhY2tncm91bmQnO1xuZXhwb3J0IGNvbnN0IFdPVF9TTElERVJfSEVBREVSX0lEID0gJ3dvdC1zbGlkZXItaGVhZGVyJztcbi8vIEFTU0lTVEFOVFxuZXhwb3J0IGNvbnN0IFBSRU1JVU1fQ0hFQ0tfSU5URVJWQUwgPSAxMDAwICogNjAgKiA2MCAqIDI0O1xuZXhwb3J0IGNvbnN0IFBBWU1FTlRfU1VDQ0VTU19QQUdFX1VSTCA9ICdwYXltZW50U3VjY2Vzc1BhZ2UnO1xuZXhwb3J0IGNvbnN0IFBBWU1FTlRfU1VDQ0VTU19QQUdFX0VYVEVOU0lPTl9UWVBFID0gJ3BsYW5UeXBlPWV4dGVuc2lvblByZW1pdW0nO1xuZXhwb3J0IGNvbnN0IEFTU0lTVEFOVF9DT05UQUlORVJfSUQgPSAnd290LW5ldy1hc3Npc3RhbnQtY29udGFpbmVyJztcbi8vIFBJTiBXT1QgUE9QVVBcbmV4cG9ydCBjb25zdCBQSU5fV09UX1BPUFVQX0NPTlRBSU5FUl9JRCA9ICdwaW4td290LXBvcHVwLWRpdic7XG5leHBvcnQgY29uc3QgUElOX1dPVF9QT1BVUF9NQVhfVFJJRVMgPSAxO1xuXG4vLyBTVE9SRVxuZXhwb3J0IGNvbnN0IFJUX0FQSV9TVUJWRVJTSU9OID0gJzIwMTcwODAxLTMuMi4yJztcbmV4cG9ydCBjb25zdCBTVE9SQUdFX1RPS0VOID0gJ1NUT1JBR0VfVE9LRU4nO1xuZXhwb3J0IGNvbnN0IEZJUkVGT1hfU1RPUkFHRV9UT0tFTiA9ICdleHBvcnRlZFByZWZzJztcbmV4cG9ydCBjb25zdCBTRVJQU19SRVFVRVNUX0lOVEVSVkFMID0gMTAwMCAqIDYwICogNjAgKiAyNDtcbmV4cG9ydCBjb25zdCBBUElfQ09ORklHX1JFUVVFU1RfSU5URVJWQUwgPSAxMDAwICogNjAgKiA2MCAqIDI0O1xuZXhwb3J0IGNvbnN0IFJFUVVFU1RfSU5URVJWQUxfTUFYID0gMTAwMCAqIDYwICogNjAgKiAyNCAqIDc7XG5leHBvcnQgY29uc3QgUkVRVUVTVF9JTlRFUlZBTF9NSU4gPSAxMDAwICogNjAgKiA1O1xuZXhwb3J0IGNvbnN0IFNUT1JFX1JBVElOR19QRVJJT0QgPSAxMDAwICogNjAgKiA2MDtcbmV4cG9ydCBjb25zdCBTVE9SRV9DT01NRU5UU19QRVJJT0QgPSAxMDAwICogNjAgKiAxMDtcbmV4cG9ydCBjb25zdCBDT01NRU5UU19SRVFVRVNUX0lOVEVSVkFMID0gMTAwMCAqIDYwICogMTA7XG5leHBvcnQgY29uc3QgSU5fQ0FTRV9FUlJPUl9JTlRFUlZBTCA9IDEwMDA7XG5leHBvcnQgY29uc3QgV0FSTklOR19SRU5ERVJfSU5URVJWQUwgPSAxMDAwO1xuZXhwb3J0IGNvbnN0IE1BWF9DQUNIRV9TSVpFID0gMTAwO1xuZXhwb3J0IGNvbnN0IENBQ0hFX0ZJTExfVElNRU9VVF9NUyA9IDUwMDA7XG5leHBvcnQgY29uc3QgTUFYX0NPTlNFQ1VUSVZFX0NBQ0hFX01JU1NFUyA9IDE1O1xuZXhwb3J0IGNvbnN0IE1BWF9QQVJBTVNfTEVOR1RIID0gNDA5NjtcblxuLy8gUkVGRVhQU1xuZXhwb3J0IGNvbnN0IE5PVF9TVVBQT1JURURfUFJPVE9DT0xTID0gLyhjaHJvbWUtZXh0ZW5zaW9uOlxcL1xcLzpjaHJvbWU6XFwvXFwvfGFib3V0OikvaTtcbmV4cG9ydCBjb25zdCBTVVBQT1JURURfUFJPVE9DT0xTID0gLyhodHRwcz98ZnRwfG1tc3xydHNwKTpcXC9cXC8oLiopKFsuXSkoLiopL2k7XG5leHBvcnQgY29uc3QgVkFMSURfSE9TVE5BTUUgPSAvW2EtekEtWjAtOV1bYS16QS1aMC05LV17MSw2MX1bYS16QS1aMC05XSg/OlxcLlthLXpBLVpdezIsfSkrL2k7XG5leHBvcnQgY29uc3QgVkFMSURfVVJMX1dJVEhPVVRfUFJPVE9DT0wgPSAvWy1hLXpBLVowLTlAOiUuXyt+Iz1dezIsMjU2fVxcLlthLXpdezIsNn1cXGIoWy1hLXpBLVowLTlAOiVfKy5+Iz8mLz1dKikvaTtcbmV4cG9ydCBjb25zdCBVUkxTX1RPX0ZPUldBUkQgPSAvXihodHRwKHMpPzpcXC9cXC8oLitcXC4pP215d290XFwuY29tKVxcLyhbXi9dezJ9KC1bXi9dKyk/XFwvKT9zZXR0aW5ncyhcXC8oW14vXSspKT9cXC8/KFxcPy4rKT8kLztcbmV4cG9ydCBjb25zdCBFTUFJTF9UT19GT1JXQVJEID0gL14oKFtePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbmV4cG9ydCBjb25zdCBTT0NJQUxfQ0FMTEJBQ0tfVVJMID0gL2h0dHBzOlxcL1xcL2F1dGhcXC5hcGlcXC5teXdvdFxcLmNvbVxcLyhnb29nbGV8ZmFjZWJvb2t8dHdpdHRlcilcXC9jYWxsYmFjay87XG5cbi8vIFNISUVMRFNcbmV4cG9ydCBjb25zdCBTSElFTERfQVRUUklCVVRFID0gJ3dvdHNoaWVsZCc7XG5leHBvcnQgY29uc3QgU0hJRUxEX0NPTlRBSU5FUiA9ICdzaGllbGQtY29udGFpbmVyJztcbmV4cG9ydCBjb25zdCBQT1BVUF9DT05UQUlORVIgPSAnd290LXBvcHVwLWNvbnRhaW5lcic7XG5leHBvcnQgY29uc3QgUE9QVVBfT1ZFUkxBWSA9ICd3b3QtcG9wdXAtb3ZlcmxheSc7XG5cbmV4cG9ydCBjb25zdCBTRVJQX1RSQUNLX1BFUklPRCA9IDEwMDA7XG5cbi8vIFNFVFRJTkdTXG5leHBvcnQgY29uc3QgU0hJRUxEU19MRVZFTF9OT1JNQUwgPSAnU0hJRUxEU19MRVZFTF9OT1JNQUwnO1xuZXhwb3J0IGNvbnN0IFNISUVMRFNfTEVWRUxfSElHSCA9ICdTSElFTERTX0xFVkVMX0hJR0gnO1xuZXhwb3J0IGNvbnN0IFNISUVMRFNfTEVWRUxfT0ZGID0gJ1NISUVMRFNfTEVWRUxfT0ZGJztcbmV4cG9ydCBjb25zdCBXQVJOSU5HU19MRVZFTF9OT1JNQUwgPSAnV0FSTklOR1NfTEVWRUxfTk9STUFMJztcbmV4cG9ydCBjb25zdCBXQVJOSU5HU19MRVZFTF9ISUdIID0gJ1dBUk5JTkdTX0xFVkVMX0hJR0gnO1xuZXhwb3J0IGNvbnN0IFdBUk5JTkdTX0xFVkVMX09GRiA9ICdXQVJOSU5HU19MRVZFTF9PRkYnO1xuZXhwb3J0IGNvbnN0IFNFUlBfUlVMRVNfV0lUSF9ERUZBVUxUX05PUk1BTF9MRVZFTCA9IFsxNCwgMTAsIDcsIDQsIDEyLCAxMV07XG5cbi8vIFJFUFVUQVRJT04gU1BMSVRcbmV4cG9ydCBjb25zdCBNSU5fQ0FURUdPUllfQ09ORklERU5DRSA9IDIwO1xuZXhwb3J0IGNvbnN0IE1JTl9SRVBVVEFUSU9OX0NPTkZJREVOQ0UgPSAxNTtcbmV4cG9ydCBjb25zdCBNQVhfUkVQVVRBVElPTl9SRUQgPSA0MDtcbmV4cG9ydCBjb25zdCBNQVhfUkVQVVRBVElPTl9ZRUxMT1cgPSA3NjtcbmV4cG9ydCBjb25zdCBNSU5fQ0hJTERfUkFUSU5HX0NPTkZJREVOQ0UgPSAxMjtcbmV4cG9ydCBjb25zdCBNSU5fQ0hJTERfUkFUSU5HID0gMzk7XG5leHBvcnQgY29uc3QgTUFYX1JFRF9TVFJJUF9SQVRJTkcgPSAyMDtcbmV4cG9ydCBjb25zdCBNQVhfWUVMTE9XX1NUUklQX1JBVElORyA9IDQxO1xuZXhwb3J0IGNvbnN0IExBU1RfU1RFUCA9IDY7XG5cbmV4cG9ydCBjb25zdCBOT1RfU0FGRSA9ICdOT1RfU0FGRSc7XG5leHBvcnQgY29uc3QgU0FGRSA9ICdTQUZFJztcbmV4cG9ydCBjb25zdCBTVVNQSUNJT1VTID0gJ1NVU1BJQ0lPVVMnO1xuZXhwb3J0IGNvbnN0IFVOS05PV04gPSAnVU5LTk9XTic7XG5cbmV4cG9ydCBjb25zdCBSQVRJTkdfQ09MT1JTID0ge1xuICAgIFNBRkU6ICdncmVlbicsXG4gICAgTk9UX1NBRkU6ICdyZWQnLFxuICAgIFVOS05PV046ICdncmF5JyxcbiAgICBTVVNQSUNJT1VTOiAneWVsbG93J1xufTtcblxuLy8gTUVTU0FHRVNcbmV4cG9ydCBjb25zdCBDTE9TRV9UQUJfTUVTU0FHRSA9ICdDTE9TRV9UQUJfTUVTU0FHRSc7XG5leHBvcnQgY29uc3QgQ09OU09MRV9MT0dfTUVTU0FHRSA9ICdDT05TT0xFX0xPRyc7XG5leHBvcnQgY29uc3QgT1BFTl9UQUJfTUVTU0FHRSA9ICdPUEVOX1RBQl9NRVNTQUdFJztcbmV4cG9ydCBjb25zdCBPUEVOX0lOX0NVUlJfVEFCX01FU1NBR0UgPSAnT1BFTl9JTl9DVVJSX1RBQl9NRVNTQUdFJztcbmV4cG9ydCBjb25zdCBTRU5EX01FU1NBR0UgPSAnU0VORF9NRVNTQUdFJztcbmV4cG9ydCBjb25zdCBTRVJQX1NFTkRfTElOS1NfTUVTU0FHRSA9ICdTRVJQX1NFTkRfTElOS1NfTUVTU0FHRSc7XG5leHBvcnQgY29uc3QgUkVUUllfUVVFUllfREFUQSA9ICdSRVRSWV9RVUVSWV9EQVRBJztcbmV4cG9ydCBjb25zdCBQUkVfQ0hFQ0sgPSAnUFJFX0NIRUNLJztcbmV4cG9ydCBjb25zdCBUVVJOX09GRl9QUk9URUNUSU9OID0gJ1RVUk5fT0ZGX1BST1RFQ1RJT04nO1xuZXhwb3J0IGNvbnN0IFRVUk5fT05fUFJPVEVDVElPTiA9ICdUVVJOX09OX1BST1RFQ1RJT04nO1xuZXhwb3J0IGNvbnN0IENIRUNLX05FWFRfUE9QVVBfU1RBVEUgPSAnQ0hFQ0tfTkVYVF9QT1BVUF9TVEFURSc7XG5leHBvcnQgY29uc3QgT1BFTl9QT1BVUCA9ICdPUEVOX1BPUFVQJztcbmV4cG9ydCBjb25zdCBQT1BfQkxPQ0tFRCA9ICdQT1BfQkxPQ0tFRCc7XG5leHBvcnQgY29uc3QgV09UX1BQX0NPTlRBSU5FUiA9ICdXT1RfUFBfQ09OVEFJTkVSJztcbmV4cG9ydCBjb25zdCBUT0dHTEVfV09UX1NMSURFUiA9ICdUT0dHTEVfV09UX1NMSURFUic7XG5leHBvcnQgY29uc3QgVE9HR0xFX1dPVF9TTElERVJfUkVRVUVTVCA9ICdUT0dHTEVfV09UX1NMSURFUl9SRVFVRVNUJztcbmV4cG9ydCBjb25zdCBTWVNURU1fUEFHRSA9ICdTWVNURU1fUEFHRSc7XG5leHBvcnQgY29uc3QgQ09OVEVOVF9DT05ORUNURUQgPSAnQ09OVEVOVF9DT05ORUNURUQnO1xuZXhwb3J0IGNvbnN0IENPTlRFTlRfRElTQ09OTkVDVEVEID0gJ0NPTlRFTlRfRElTQ09OTkVDVEVEJztcbmV4cG9ydCBjb25zdCBISVNUT1JZX1VQREFURUQgPSAnSElTVE9SWV9VUERBVEVEJztcbmV4cG9ydCBjb25zdCBJTkpFQ1RfRk9OVFMgPSAnSU5KRUNUX0ZPTlRTJztcbmV4cG9ydCBjb25zdCBTSE9XX1BJTl9XT1RfUE9QVVAgPSAnU0hPV19QSU5fV09UX1BPUFVQJztcbmV4cG9ydCBjb25zdCBSRVNUQVJUX1NDQU5USU1FX0FMQVJNID0gJ1JFU1RBUlRfU0NBTlRJTUVfQUxBUk0nO1xuXG5leHBvcnQgY29uc3Qgcm9vdCA9ICdteXdvdC5jb20nO1xuXG4vLyBQT1BVUFxuZXhwb3J0IGNvbnN0IFdBUk5JTkdfQ09OVEFJTkVSX1NFTEVDVE9SID0gJ3dhcm5pbmctY29udGFpbmVyJztcbmV4cG9ydCBjb25zdCBNQUlOX1BBR0VfVVJMID0gYGh0dHBzOi8vJHtyb290fS9gO1xuZXhwb3J0IGNvbnN0IFNJR05VUF9VUkwgPSBgaHR0cHM6Ly8ke3Jvb3R9L3NpZ251cGA7XG5leHBvcnQgY29uc3QgU0NPUkVDQVJEX1BBR0VfVVJMID0gYGh0dHBzOi8vJHtyb290fS9zY29yZWNhcmQvYDtcbmV4cG9ydCBjb25zdCBVU0VSX1VSTCA9IGBodHRwczovLyR7cm9vdH0vdXNlcmA7XG5leHBvcnQgY29uc3QgQVBQX01ZV09UID0gJ2h0dHBzOi8vYXBwLm15d290LmNvbSc7XG5leHBvcnQgY29uc3QgV09UX1BST0RVQ1QgPSAnd290X3Byb2R1Y3QnO1xuZXhwb3J0IGNvbnN0IEFOQUxZVElDX0lORk8gPSBgJHtBUFBfTVlXT1R9L2FwaS9hbmFseXRpY3Mvc3luY2A7XG5leHBvcnQgY29uc3QgVVBHUkFERSA9ICcvY2hvb3NlWW91clBsYW4/cGxhblR5cGU9ZXh0ZW5zaW9uUHJlbWl1bSc7XG5leHBvcnQgY29uc3QgVVBHUkFERV9MUCA9IGBodHRwczovLyR7cm9vdH0vZXh0ZW5zaW9uLXBsYW5zYDtcbmV4cG9ydCBjb25zdCBGT1JVTV9VUkwgPSBgaHR0cHM6Ly8ke3Jvb3R9L2ZvcnVtYDtcbmV4cG9ydCBjb25zdCBET1dOTE9BRF9VUkwgPSAnaHR0cHM6Ly9jaHJvbWUuZ29vZ2xlLmNvbS93ZWJzdG9yZS9kZXRhaWwvaWRmamdoZW1pY2ViYWRwa2loZG9vYWFla2Vjb2lvbGc/aGwnO1xuZXhwb3J0IGNvbnN0IE9XTl9VUkwgPSBgaHR0cHM6Ly8ke3Jvb3R9L2NsYWltLXNpdGU/dGFyZ2V0PWA7XG5leHBvcnQgY29uc3QgU0hBUkVfVVJMID0gYGh0dHBzOi8vJHtyb290fS9yZWZlcnJhbGA7XG5leHBvcnQgY29uc3QgU0VUVElOR1NfVVJMID0gYGh0dHBzOi8vJHtyb290fS9zZXR0aW5nc2A7XG5leHBvcnQgY29uc3QgUFJJVkFDWV9QT0xJQ1kgPSBjcm9zc2Jyb3dzZXJOYW1lID09PSAnZmlyZWZveCcgPyAnaHR0cHM6Ly9hZGRvbnMubW96aWxsYS5vcmcvZW4tVVMvZmlyZWZveC9hZGRvbi93b3Qtc2FmZS1icm93c2luZy10b29sL3ByaXZhY3kvJyA6IGBodHRwczovLyR7cm9vdH0vZXh0ZW5zaW9uLXByaXZhY3lgO1xuZXhwb3J0IGNvbnN0IFRFUk1TID0gYGh0dHBzOi8vJHtyb290fS90ZXJtc2A7XG5leHBvcnQgY29uc3QgREVGQVVMVF9BVkFUQVIgPSBgaHR0cHM6Ly9zdGF0aWMuJHtyb290fS9hdmF0YXJzL2RlZmF1bHRzL2dyZWVuX2F2YXRhci5wbmdgO1xuZXhwb3J0IGNvbnN0IEJFVEFfVVJMID0gJ2h0dHBzOi8vdGVzdC03OTg1Ni5maXJlYmFzZWlvLmNvbS9iZXRhLmpzb24nO1xuZXhwb3J0IGNvbnN0IFNVUlZFWV9VUkxfMjAxOCA9ICdodHRwczovL3dvdHN1cnZleXMudHlwZWZvcm0uY29tL3RvL1NwVXVZSic7XG5leHBvcnQgY29uc3QgU1VSVkVZX1VSTF8xMl8yMDIwID0gJ2h0dHBzOi8vd290c3VydmV5cy50eXBlZm9ybS5jb20vdG8vcEdZam5BJztcbmV4cG9ydCBjb25zdCBTVVJWRVlfU0hPV19ERUxBWSA9IDEwICogMjQgKiAzNjAwICogMTAwMDsgLy8gMTAgZGF5cyBpbiBtc1xuZXhwb3J0IGNvbnN0IE1JTl9OVU1CRVJfT0ZfUE9QVVBfT1BFTl9CRUZPUkVfU0hPV0lOR19FTkpPWV9XT1RfQlVUVE9OID0gNTtcbmV4cG9ydCBjb25zdCBJQ09OX05PVElGSUNBVElPTiA9ICdJQ09OX05PVElGSUNBVElPTic7XG5leHBvcnQgY29uc3QgR0VUX0ZBVklDT05fUFJFRklYID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20vczIvZmF2aWNvbnM/ZG9tYWluPSc7XG5leHBvcnQgY29uc3QgTEVBUk5fTU9SRV9VUkwgPSAnaHR0cHM6Ly9zdXBwb3J0Lm15d290LmNvbS9oYy9lbi11cy9hcnRpY2xlcy8zNjAwMjEzMjg5MjAnO1xuZXhwb3J0IGNvbnN0IE1ZX0RBU0hCT0FSRF9MSU5LID0gYGh0dHBzOi8vYXBwLiR7cm9vdH0vZGFzaGJvYXJkL215ZGFzaGJvYXJkYDtcblxuLy8gUk9VVEVTXG5leHBvcnQgY29uc3QgQVBQX01ZV09UX0hPU1RfVVJMID0gYGFwcC4ke3Jvb3R9YDtcbmV4cG9ydCBjb25zdCBNWVdPVF9IT1NUX1VSTCA9IGB3d3cuJHtyb290fWA7XG5leHBvcnQgY29uc3QgV09UX1dFQlNJVEVfRE9NQUlOU19XSVRIX0FVVEggPSBbTVlXT1RfSE9TVF9VUkwsIEFQUF9NWVdPVF9IT1NUX1VSTF07XG5leHBvcnQgY29uc3QgV0VMQ09NRV9VUkwgPSBgaHR0cHM6Ly8ke3Jvb3R9L3dlbGNvbWVgO1xuZXhwb3J0IGNvbnN0IFNVUFBPUlRfVVJMID0gJ2h0dHBzOi8vc3VwcG9ydC5teXdvdC5jb20vaGMvZW4tdXMnO1xuZXhwb3J0IGNvbnN0IENPTlRBQ1RfVVJMID0gJ2h0dHBzOi8vc3VwcG9ydC5teXdvdC5jb20vaGMvZW4tdXMvcmVxdWVzdHMvbmV3JztcbmV4cG9ydCBjb25zdCBXSEFUU19ORVdfTEVBUk5fTU9SRV9VUkwgPSAnaHR0cHM6Ly93d3cubXl3b3QuY29tL2Jsb2cvd2hhdHNfbmV3L3doYXRzLW5ldy1pbi13b3QtYnJvd3Nlci1leHRlbnNpb24nO1xuZXhwb3J0IGNvbnN0IE1ZV09UX1NDT1JFQ0FSRCA9ICdodHRwczovL3d3dy5teXdvdC5jb20vc2NvcmVjYXJkLyc7XG5cbi8vIEVYVEVSTkFMIFVSTFNcbmV4cG9ydCBjb25zdCBGQUNFQk9PS19VUkwgPSAnaHR0cHM6Ly9nb28uZ2wvUEtaVFFuJztcbmV4cG9ydCBjb25zdCBGQUNFQk9PS19ESUFMT0dfVVJMID0gJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9kaWFsb2cvZmVlZD9oYW5kbGVyPXdvdCZhcHBfaWQ9MjA2MjA1NDI4NDAzMDM3OCZkaXNwbGF5PXBhZ2UmJztcbmV4cG9ydCBjb25zdCBGQUNFQk9PS19TSEFSRV9VUkwgPSAnaHR0cHM6Ly9nb28uZ2wvZXg2MmNNJztcbmV4cG9ydCBjb25zdCBUV0lUVEVSX1VSTCA9ICdodHRwczovL2dvby5nbC9pWjRXazYnO1xuZXhwb3J0IGNvbnN0IFRXSVRURVJfRElBTE9HX1VSTCA9ICdodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD8nO1xuZXhwb3J0IGNvbnN0IFRXSVRURVJfU0hBUkVfVVJMID0gJ2h0dHBzOi8vZ29vLmdsL2NLSDRMWic7XG5leHBvcnQgY29uc3QgR09PR0xFX1VSTCA9ICdodHRwczovL2dvby5nbC9Fb1k3Nk4nO1xuZXhwb3J0IGNvbnN0IEdPT0dMRV9ESUFMT0dfVVJMID0gJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tL3NoYXJlP2hhbmRsZXI9d290Jic7XG5leHBvcnQgY29uc3QgR09PR0xFX1NIQVJFX1VSTCA9ICdodHRwczovL2dvby5nbC9jS0g0TFonO1xuZXhwb3J0IGNvbnN0IFlPVVRVQkVfVVJMID0gJ2h0dHBzOi8vYml0Lmx5L1dPVHlvdXR1YmUnO1xuZXhwb3J0IGNvbnN0IFdIQVRTQVBQX0RJQUxPR19VUkwgPSAnaHR0cHM6Ly93ZWIud2hhdHNhcHAuY29tL3NlbmQ/JztcbmV4cG9ydCBjb25zdCBXSEFUU0FQUF9TSEFSRV9VUkwgPSAnaHR0cHM6Ly9iaXQubHkvV09Ud2EnO1xuZXhwb3J0IGNvbnN0IEFORFJPSURfUE9QVVBfVVJMID0gYGh0dHBzOi8vcGxheS5nb29nbGUuY29tL3N0b3JlL2FwcHMvZGV0YWlscz9pZD1jb20ud290LnNlY3VyaXR5JnJlZmVycmVyPSR7V09UX1BST0RVQ1R9JTNEZXh0ZW5zaW9uYDtcbmV4cG9ydCBjb25zdCBTRU5EX01FX0xJTktfVVJMID0gYGh0dHBzOi8vJHtyb290fS93ZWxjb21lP29wZW5Nb2RhbD10cnVlJmV4dGVuc2lvbj10cnVlYDtcblxuLy8gR0VUIFBBUkFNRVRFUlNcbmV4cG9ydCBjb25zdCBMT0dJTl9QQVRIID0gJy9hdXRoL2xvZ2luJztcbmV4cG9ydCBjb25zdCBHT09HTEVfUkFUSU5HX1BBUkFNRVRFUlMgPSAnP3V0bV9zb3VyY2U9V09UJTIwQWRkb24lMjBTaGFyZSZ1dG1fbWVkaXVtPVNvY2lhbCZ1dG1fY2FtcGFpZ249QWRkb24lMjBSYXRpbmclMjBHb29nbGUnO1xuZXhwb3J0IGNvbnN0IEZBQ0VCT09LX1JBVElOR19QQVJBTUVURVJTID0gJz91dG1fc291cmNlPVdPVCUyMEFkZG9uJTIwU2hhcmUmdXRtX21lZGl1bT1Tb2NpYWwmdXRtX2NhbXBhaWduPUFkZG9uJTIwUmF0aW5nJTIwRmFjZWJvb2snO1xuZXhwb3J0IGNvbnN0IFRXSVRURVJfUkFUSU5HX1BBUkFNRVRFUlMgPSAnP3V0bV9zb3VyY2U9V09UJTIwQWRkb24lMjBTaGFyZSZ1dG1fbWVkaXVtPVNvY2lhbCZ1dG1fY2FtcGFpZ249QWRkb24lMjBSYXRpbmclMjBUd2l0dGVyJztcblxuLyogPG5vbi1maXJlZm94PiAqL1xuZXhwb3J0IGNvbnN0IE1ZX1VSTCA9ICdodHRwczovL3d3dy5nb29nbGUtYW5hbHl0aWNzLmNvbS9jb2xsZWN0Pyc7IC8qIDwvbm9uLWZpcmVmb3g+ICovXG5leHBvcnQgY29uc3QgVU5JTlNUQUxMX1VSTCA9IGBodHRwczovLyR7cm9vdH0vdW5pbnN0YWxsXyR7Y3Jvc3Nicm93c2VyTmFtZX1gO1xuXG5leHBvcnQgY29uc3QgRk9OVFNfVVJMID0gJ2h0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9TW9udHNlcnJhdDp3Z2h0QDUwMDs2MDA7NzAwJmZhbWlseT1Sb2JvdG86d2dodEA0MDA7NTAwOzcwMCZkaXNwbGF5PXN3YXAnO1xuZXhwb3J0IGNvbnN0IE9QRVJBX1dFQlNUT1JFX1VSTCA9ICdodHRwczovL2FkZG9ucy5vcGVyYS5jb20vZW4vZXh0ZW5zaW9ucy9kZXRhaWxzL3dvdC8nO1xuZXhwb3J0IGNvbnN0IEVER0VfV0VCU1RPUkVfVVJMID0gJ2h0dHBzOi8vbWljcm9zb2Z0ZWRnZS5taWNyb3NvZnQuY29tL2FkZG9ucy9kZXRhaWwvd290LXdlYi1vZi10cnVzdC13ZWJzaXRlL2lpY2xhcGhqY2xlY2FncGtrYWFjbGpucGNwcG5vaWJpJztcbmV4cG9ydCBjb25zdCBGSVJFRk9YX1dFQlNUT1JFX1VSTCA9ICdodHRwczovL2FkZG9ucy5tb3ppbGxhLm9yZy9lbi1VUy9maXJlZm94L2FkZG9uL3dvdC1zYWZlLWJyb3dzaW5nLXRvb2wvcmV2aWV3cy9hZGQnO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXRlbXBsYXRlLWN1cmx5LWluLXN0cmluZ1xuZXhwb3J0IGNvbnN0IEFORFJPSURfV0VCU1RPUkVfVVJMID0gYGh0dHBzOi8vcGxheS5nb29nbGUuY29tL3N0b3JlL2FwcHMvZGV0YWlscz9pZD1jb20ud290LnNlY3VyaXR5JnJlZmVycmVyPSR7V09UX1BST0RVQ1R9JTNEZXh0ZW5zaW9uYDtcbmV4cG9ydCBjb25zdCBJUEhPTkVfQVBQU1RPUkVfVVJMID0gJ2h0dHBzOi8vaXR1bmVzLmFwcGxlLmNvbS9hcHAvYXBwbGUtc3RvcmUvaWQxNDUxNDk4MTI1P3B0PTExOTY5MTE1MiZjdD0ke2N0fSZtdD04JztcbmV4cG9ydCBjb25zdCBGRUVEQkFDS19GT1JNX0FDVElPTiA9ICdodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9mb3Jtcy9kLzE3VmhYcEx3akFjcGZHYThObl8xTjZDRFdiWmFXSEViRWtTN1lCeUllbl9vL2Zvcm1SZXNwb25zZSc7XG5cbmV4cG9ydCBjb25zdCBwcm90ZWN0aW9uTGV2ZWxzID0ge1xuICAgIExJVEU6ICdMaXRlJyxcbiAgICBERUZBVUxUOiAnRGVmYXVsdCcsXG4gICAgSElHSDogJ0hpZ2gnLFxufTtcblxuZXhwb3J0IGNvbnN0IG9wdGluU3RhdGVzID0ge1xuICAgIE9OOiAnQWdyZWUnLFxuICAgIE9GRjogJ1R1cm5PZmYnLFxufTtcblxuZXhwb3J0IGNvbnN0IG9wdGluU3RlcHMgPSB7XG4gICAgRklSU1Q6ICdGaXJzdCcsXG4gICAgRElTQUdSRUU6ICdEaXNhZ3JlZScsXG59O1xuXG5leHBvcnQgY29uc3QgUExBVEZPUk1fVFlQRVMgPSB7XG4gICAgQ0hST01FOiAnY2hyb21lJyxcbiAgICBGSVJFRk9YOiAnZmlyZWZveCcsXG4gICAgT1BFUkE6ICdvcGVyYScsXG4gICAgRURHRTogJ2VkZ2UnLFxuICAgIFlBTkRFWDogJ3lhbmRleCcsXG4gICAgU0FGQVJJOiAnc2FmYXJpJyxcbiAgICBJRTogJ2llJyxcbiAgICBTQU1TVU5HOiAnc2Ftc3VuZycsXG59O1xuXG5leHBvcnQgY29uc3QgV0VCX1JFUVVFU1RfRklMVEVSID0ge1xuICAgIHR5cGVzOiBbJ21haW5fZnJhbWUnXSxcbiAgICB1cmxzOiBbJzxhbGxfdXJscz4nXSxcbn07XG5cbmV4cG9ydCBjb25zdCBJQ09OUyA9IHtcbiAgICBncmF5OiAnaW1hZ2VzL2kwLnBuZycsXG4gICAgcmVkOiAnaW1hZ2VzL2kxLnBuZycsXG4gICAgeWVsbG93OiAnaW1hZ2VzL2kyLnBuZycsXG4gICAgZ3JlZW46ICdpbWFnZXMvaTMucG5nJyxcbiAgICAncmVkLWN1c3RvbSc6ICdpbWFnZXMvaWMxLnBuZycsXG4gICAgJ3llbGxvdy1jdXN0b20nOiAnaW1hZ2VzL2ljMi5wbmcnLFxuICAgICdncmVlbi1jdXN0b20nOiAnaW1hZ2VzL2ljMy5wbmcnLFxufTtcblxuZXhwb3J0IGNvbnN0IE1PQklMRV9CUkVBS19QT0lOVCA9IDQ1MDtcbmV4cG9ydCBjb25zdCBNT0JJTEVfQlJFQUtfUE9JTlRfV0lEVEggPSAzOTk7XG5cbmV4cG9ydCBjb25zdCBDQVRFR09SSUVTX1JVTEVTID0ge1xuICAgIGJ1YmJsZXM6IHtcbiAgICAgICAgbm90U2FmZTogWzEwMSwgMTAzLCAxMDRdLFxuICAgICAgICBzdXNwaWNpb3VzOiBbMjAyLCAyMDYsIDEwNSwgMjAzLCAyMDddLFxuICAgICAgICBzYWZlOiBbNTAxLCA1MDIsIDUwMywgNTA0LCA1MDUsIDUwNiwgNTA3XSxcbiAgICB9LFxuICAgIHdhcm5pbmdzOiBbMTAxLCAxMDMsIDEwNCwgMjAyLCAyMDYsIDIwN10sXG4gICAgYmxvY2s6IHtcbiAgICAgICAgZ2FtYmxpbmc6IDQwNSxcbiAgICAgICAgbmV3czogMzA2LFxuICAgICAgICBzb2NpYWw6IDMwNyxcbiAgICB9LFxuICAgIHBvcHVwOiBbMTAxLCAxMDMsIDEwNCwgNDAxLCAyMDIsIDIwNiwgNDAyLCA0MDNdLFxuICAgIHJhdGluZ0Zsb3c6IHtcbiAgICAgICAgc2FmZXR5OiBbMTAxLCAxMDMsIDEwNCwgMjAyLCAyMDYsIDIwN10sXG4gICAgICAgIGNoaWxkU2FmZXR5OiBbNDAxLCA0MDIsIDQwMywgNDA1XSxcbiAgICAgICAgcmVwdXRhdGlvbjogWzEwMiwgMTA2LCAvKiAxMDQsICovIDEwNSwgMjA1LCAyMDMsIDIwNCwgMjAxXSxcbiAgICB9LFxuICAgIGljb25zOiB7XG4gICAgICAgIHJlZDogWzEwMSwgMTAzLCAxMDRdLFxuICAgICAgICB5ZWxsb3c6IFsyMDIsIDIwNl0sXG4gICAgICAgIGdyZWVuOiBbNTAxLCA1MDIsIDUwMywgNTA0LCA1MDUsIDUwNiwgNTA3XSxcbiAgICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IEFDVElWSVRZX1NDT1JFX1JVTEVTID0ge1xuICAgIFJvb2tpZTogMCxcbiAgICBCcm9uemU6IDE1MDAsXG4gICAgU2lsdmVyOiAzMDAwLFxuICAgIEdvbGQ6IDYwMDAsXG4gICAgUGxhdGludW06IDEwMDAwLFxufTtcblxuZXhwb3J0IGNvbnN0IFNIQVJFRF9IT1NUUyA9IHtcbiAgICAnNHNxLmNvbSc6IDEsXG4gICAgJ2FiY24ud3MnOiAxLFxuICAgICdhb2wuaXQnOiAxLFxuICAgICdhcG5lLndzJzogMSxcbiAgICAnYmJjLmluJzogMSxcbiAgICAnYnpmZC5pdCc6IDEsXG4gICAgJ2NsY2sucnUnOiAxLFxuICAgICdjcy5wbic6IDEsXG4gICAgJ2Qzdy5pbyc6IDEsXG4gICAgJ2RsdnIuaXQnOiAxLFxuICAgICdlY2Euc2gnOiAxLFxuICAgICdlbmd0LmNvJzogMSxcbiAgICAnZXMucG4nOiAxLFxuICAgICdleG0ubnInOiAxLFxuICAgICdmLmFzdC5seSc6IDEsXG4gICAgJ2ZhLmJ5JzogMSxcbiAgICAnZmxwYmQuaXQnOiAxLFxuICAgICdnZC5pcyc6IDEsXG4gICAgJ2h0Lmx5JzogMSxcbiAgICAnaHVmZi50byc6IDEsXG4gICAgJ2luZC5wbic6IDEsXG4gICAgJ2lzLmdkJzogMSxcbiAgICAnai5tcCc6IDEsXG4gICAgJ2xhdC5tcyc6IDEsXG4gICAgJ2xua2QuaW4nOiAxLFxuICAgICdtaWdyZS5tZSc6IDEsXG4gICAgJ24ucHInOiAxLFxuICAgICduYmxvLmdzJzogMSxcbiAgICAnbnlyLmtyJzogMSxcbiAgICAnbnl0aS5tcyc6IDEsXG4gICAgJ29uLmNubi5jb20nOiAxLFxuICAgICdvbi5tYXNoLnRvJzogMSxcbiAgICAnb24ubXNuYmMuY29tJzogMSxcbiAgICAnb3cubHknOiAxLFxuICAgICdwZXAuc2knOiAxLFxuICAgICdwaW5nLmZtJzogMSxcbiAgICAncG9saXRpLmNvJzogMSxcbiAgICAncG9zdC5seSc6IDEsXG4gICAgJ3J3dy50byc6IDEsXG4gICAgJ3N1LnByJzogMSxcbiAgICAndC5jbyc6IDEsXG4gICAgJ3Rjcm4uY2gnOiAxLFxuICAgICd0Z3IucGgnOiAxLFxuICAgICd0aGtwci5ncyc6IDEsXG4gICAgJ3RpbnkubHknOiAxLFxuICAgICd0aW55dXJsLmNvbSc6IDEsXG4gICAgJ3RsLmdkJzogMSxcbiAgICAndGxkci51cyc6IDEsXG4gICAgJ3RvLmx5JzogMSxcbiAgICAndHIuaW0nOiAxLFxuICAgICd0d2l0dGVyLmNvbSc6IDEsXG4gICAgJ3UudG8nOiAxLFxuICAgICd1c2F0Lm1lJzogMSxcbiAgICAndmsuY2MnOiAxLFxuICAgICd3YXBvLnN0JzogMSxcbiAgICAnd3AubWUnOiAxLFxuICAgICd4LmNvJzogMSxcbiAgICAneWhvby5pdCc6IDEsXG4gICAgJ2JpdC5seSc6IDIsXG4gICAgJ2JpdGx5LmNvbSc6IDIsXG4gICAgJ2dvby5nbCc6IDIsXG4gICAgJ2d1LmNvbSc6IDIsXG4gICAgJ3NpdGVzLmdvb2dsZS5jb20nOiAyLFxufTtcbmV4cG9ydCBjb25zdCBPTkVfTUlOVVRFID0gMTAwMCAqIDYwO1xuZXhwb3J0IGNvbnN0IE9ORV9IT1VSID0gT05FX01JTlVURSAqIDYwO1xuZXhwb3J0IGNvbnN0IE9ORV9EQVkgPSBPTkVfSE9VUiAqIDI0O1xuZXhwb3J0IGNvbnN0IE9ORV9XRUVLID0gT05FX0RBWSAqIDc7XG5leHBvcnQgY29uc3QgT05FX01PTlRIID0gT05FX0RBWSAqIDI4O1xuZXhwb3J0IGNvbnN0IFBJTkcgPSAnUElORyc7XG5leHBvcnQgY29uc3QgUE9ORyA9ICdQT05HJztcblxuZXhwb3J0IGNvbnN0IFRSQUNLRVJfQ0FURUdPUklFUyA9IFtcbiAgICAnc29jaWFsJyxcbiAgICAnbWFya2V0aW5nJyxcbiAgICAnYW5hbHl0aWNzJyxcbiAgICAnb3RoZXInLFxuXTtcblxuZXhwb3J0IGNvbnN0IE9QRU5fQUREX1JFVklFVyA9ICdXT1RfT1BFTl9BRERfUkVWSUVXJztcbmV4cG9ydCBjb25zdCBDTE9TRV9BRERfUkVWSUVXID0gJ1dPVF9DTE9TRV9BRERfUkVWSUVXJztcbmV4cG9ydCBjb25zdCBBRERfUkVWSUVXX0NPTlRBSU5FUl9JRCA9ICd3b3QtYWRkLXJldmlldy1jb250YWluZXInO1xuXG5leHBvcnQgY29uc3QgV09UX1RBR1MgPSB7XG4gICAgc2NhbTogJ1NjYW0nLFxuICAgIHBoaXNoaW5nOiAnUGhpc2hpbmcnLFxuICAgIHN1c3BpY2lvdXM6ICdTdXNwaWNpb3VzJyxcbiAgICBwb29yRXhwZXJpZW5jZTogJ1Bvb3JFeHBlcmllbmNlJyxcbiAgICBwb29yQ3VzdG9tZXJTZXJ2aWNlOiAncG9vckN1c3RvbWVyU2VydmljZScsXG4gICAgYWR1bHRDb250ZW50OiAnYWR1bHRDb250ZW50JyxcbiAgICBtYWx3YXJlVmlydXNlczogJ01hbHdhcmVWaXJ1c2VzJyxcbiAgICBpbGxlZ2FsOiAnSWxsZWdhbCcsXG4gICAgbWlzbGVhZGluZ1VuZXRoaWNhbDogJ01pc2xlYWRpbmdVbmV0aGljYWwnLFxuICAgIHNwYW06ICdTcGFtJyxcbiAgICB1bndhbnRlZFByb2dyYW1zOiAnVW53YW50ZWRQcm9ncmFtcycsXG4gICAgYWRzT3JQb3B1cHM6ICdhZHNPclBvcHVwcycsXG4gICAgaW5jaWRlbnRhbE51ZGl0eTogJ0luY2lkZW50YWxOdWRpdHknLFxuICAgIGdydWVzb21lU2hvY2tpbmc6ICdHcnVlc29tZVNob2NraW5nJyxcbiAgICBnb29kU2VydmljZTogJ2dvb2RTZXJ2aWNlJyxcbiAgICBzYWZlU2hvcHBpbmc6ICdzYWZlU2hvcHBpbmcnLFxuICAgIGdyZWF0U3VwcG9ydDogJ2dyZWF0U3VwcG9ydCcsXG4gICAgdHJ1c3RlZFNvdXJjZTogJ3RydXN0ZWRTb3VyY2UnLFxuICAgIGdvb2RTaXRlOiAnR29vZFNpdGUnLFxuICAgIGNsZWFyUG9saWN5OiAnY2xlYXJQb2xpY3knLFxuICAgIHByaXZhY3lSaXNrczogJ1ByaXZhY3lSaXNrcycsXG4gICAgaGF0ZURpc2NyaW1pbmF0aW9uOiAnSGF0ZURpc2NyaW1pbmF0aW9uJyxcbiAgICBnYW1ibGluZzogJ0dhbWJsaW5nJ1xufTtcblxuZXhwb3J0IGNvbnN0IFdPVF9UQUdTX0lEUyA9IHtcbiAgICBTY2FtOiAxMDQsXG4gICAgUGhpc2hpbmc6IDEwMyxcbiAgICBTdXNwaWNpb3VzOiAyMDMsXG4gICAgUG9vckV4cGVyaWVuY2U6IDEwMixcbiAgICBwb29yQ3VzdG9tZXJTZXJ2aWNlOiAxMDYsXG4gICAgYWR1bHRDb250ZW50OiA0MDEsXG4gICAgTWFsd2FyZVZpcnVzZXM6IDEwMSxcbiAgICBJbGxlZ2FsOiAxMDUsXG4gICAgTWlzbGVhZGluZ1VuZXRoaWNhbDogMjAxLFxuICAgIFNwYW06IDIwNSxcbiAgICBVbndhbnRlZFByb2dyYW1zOiAyMDYsXG4gICAgYWRzT3JQb3B1cHM6IDIwNyxcbiAgICBJbmNpZGVudGFsTnVkaXR5OiA0MDIsXG4gICAgR3J1ZXNvbWVTaG9ja2luZzogNDAzLFxuICAgIGdvb2RTZXJ2aWNlOiA1MDQsXG4gICAgc2FmZVNob3BwaW5nOiA1MDMsXG4gICAgZ3JlYXRTdXBwb3J0OiA1MDUsXG4gICAgdHJ1c3RlZFNvdXJjZTogNTA2LFxuICAgIEdvb2RTaXRlOiA1MDEsXG4gICAgY2xlYXJQb2xpY3k6IDUwNyxcbiAgICBQcml2YWN5Umlza3M6IDIwMixcbiAgICBIYXRlRGlzY3JpbWluYXRpb246IDIwNCxcbiAgICBHYW1ibGluZzogNDA1XG59O1xuXG5leHBvcnQgY29uc3QgSURTX1RPX1dPVF9UQUdTID0ge1xuICAgIDEwNDogJ1NjYW0nLFxuICAgIDEwMzogJ1BoaXNoaW5nJyxcbiAgICAyMDM6ICdTdXNwaWNpb3VzJyxcbiAgICAxMDI6ICdQb29yRXhwZXJpZW5jZScsXG4gICAgMTA2OiAncG9vckN1c3RvbWVyU2VydmljZScsXG4gICAgNDAxOiAnYWR1bHRDb250ZW50JyxcbiAgICAxMDE6ICdNYWx3YXJlVmlydXNlcycsXG4gICAgMTA1OiAnSWxsZWdhbCcsXG4gICAgMjAxOiAnTWlzbGVhZGluZ1VuZXRoaWNhbCcsXG4gICAgMjA1OiAnU3BhbScsXG4gICAgMjA2OiAnVW53YW50ZWRQcm9ncmFtcycsXG4gICAgMjA3OiAnYWRzT3JQb3B1cHMnLFxuICAgIDQwMjogJ0luY2lkZW50YWxOdWRpdHknLFxuICAgIDQwMzogJ0dydWVzb21lU2hvY2tpbmcnLFxuICAgIDUwNDogJ2dvb2RTZXJ2aWNlJyxcbiAgICA1MDM6ICdzYWZlU2hvcHBpbmcnLFxuICAgIDUwNTogJ2dyZWF0U3VwcG9ydCcsXG4gICAgNTA2OiAndHJ1c3RlZFNvdXJjZScsXG4gICAgNTAxOiAnR29vZFNpdGUnLFxuICAgIDUwNzogJ2NsZWFyUG9saWN5JyxcbiAgICAyMDI6ICdQcml2YWN5Umlza3MnLFxuICAgIDIwNDogJ0hhdGVEaXNjcmltaW5hdGlvbicsXG4gICAgNDA1OiAnR2FtYmxpbmcnXG59O1xuXG5leHBvcnQgY29uc3QgVEFHU19PUFRJT05TX0JZX1JBVElOR19UWVBFID0ge1xuICAgIHVucmF0ZWQ6IHtcbiAgICAgICAgdHlwZTogJ3VucmF0ZWQnLFxuICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgbW9yZVRhZ3M6IFtdXG4gICAgfSxcbiAgICBiYWQ6IHtcbiAgICAgICAgdHlwZTogJ2JhZCcsXG4gICAgICAgIHNob3dBbGxXaWR0aDogJzg5MHB4JyxcbiAgICAgICAgdGFnczogW1xuICAgICAgICAgICAgV09UX1RBR1Muc2NhbSxcbiAgICAgICAgICAgIFdPVF9UQUdTLnBoaXNoaW5nLFxuICAgICAgICAgICAgV09UX1RBR1Muc3VzcGljaW91cyxcbiAgICAgICAgICAgIFdPVF9UQUdTLnBvb3JFeHBlcmllbmNlLFxuICAgICAgICAgICAgV09UX1RBR1MuYWR1bHRDb250ZW50LFxuICAgICAgICBdLFxuICAgICAgICBtb3JlVGFnczogW1xuICAgICAgICAgICAgV09UX1RBR1MubWFsd2FyZVZpcnVzZXMsXG4gICAgICAgICAgICBXT1RfVEFHUy5pbGxlZ2FsLFxuICAgICAgICAgICAgV09UX1RBR1MubWlzbGVhZGluZ1VuZXRoaWNhbCxcbiAgICAgICAgICAgIFdPVF9UQUdTLnByaXZhY3lSaXNrcyxcbiAgICAgICAgICAgIFdPVF9UQUdTLmhhdGVEaXNjcmltaW5hdGlvbixcbiAgICAgICAgICAgIFdPVF9UQUdTLnNwYW0sXG4gICAgICAgICAgICBXT1RfVEFHUy51bndhbnRlZFByb2dyYW1zLFxuICAgICAgICAgICAgV09UX1RBR1MuYWRzT3JQb3B1cHMsXG4gICAgICAgICAgICBXT1RfVEFHUy5pbmNpZGVudGFsTnVkaXR5LFxuICAgICAgICAgICAgV09UX1RBR1MuZ3J1ZXNvbWVTaG9ja2luZ1xuICAgICAgICBdXG4gICAgfSxcbiAgICBtb2RlcmF0ZToge1xuICAgICAgICB0eXBlOiAnbW9kZXJhdGUnLFxuICAgICAgICBzaG93QWxsV2lkdGg6ICc2NzBweCcsXG4gICAgICAgIHRhZ3M6IFtcbiAgICAgICAgICAgIFdPVF9UQUdTLnN1c3BpY2lvdXMsXG4gICAgICAgICAgICBXT1RfVEFHUy5wb29yRXhwZXJpZW5jZSxcbiAgICAgICAgICAgIFdPVF9UQUdTLnByaXZhY3lSaXNrcyxcbiAgICAgICAgICAgIFdPVF9UQUdTLm1pc2xlYWRpbmdVbmV0aGljYWwsXG4gICAgICAgICAgICBXT1RfVEFHUy5hZHVsdENvbnRlbnRcbiAgICAgICAgXSxcbiAgICAgICAgbW9yZVRhZ3M6IFtcbiAgICAgICAgICAgIFdPVF9UQUdTLmhhdGVEaXNjcmltaW5hdGlvbixcbiAgICAgICAgICAgIFdPVF9UQUdTLnNwYW0sXG4gICAgICAgICAgICBXT1RfVEFHUy51bndhbnRlZFByb2dyYW1zLFxuICAgICAgICAgICAgV09UX1RBR1MuYWRzT3JQb3B1cHMsXG4gICAgICAgICAgICBXT1RfVEFHUy5pbmNpZGVudGFsTnVkaXR5LFxuICAgICAgICAgICAgV09UX1RBR1MuZ3J1ZXNvbWVTaG9ja2luZ1xuICAgICAgICBdXG4gICAgfSxcbiAgICBnb29kOiB7XG4gICAgICAgIHR5cGU6ICdnb29kJyxcbiAgICAgICAgc2hvd0FsbFdpZHRoOiAnaW5oZXJpdCcsXG4gICAgICAgIHRhZ3M6IFtcbiAgICAgICAgICAgIFdPVF9UQUdTLmdvb2RTZXJ2aWNlLFxuICAgICAgICAgICAgV09UX1RBR1Muc2FmZVNob3BwaW5nLFxuICAgICAgICAgICAgV09UX1RBR1MuZ3JlYXRTdXBwb3J0LFxuICAgICAgICAgICAgV09UX1RBR1MudHJ1c3RlZFNvdXJjZSxcbiAgICAgICAgICAgIFdPVF9UQUdTLmFkdWx0Q29udGVudFxuICAgICAgICBdLFxuICAgICAgICBtb3JlVGFnczogW1xuICAgICAgICAgICAgV09UX1RBR1MuZ29vZFNpdGUsXG4gICAgICAgICAgICBXT1RfVEFHUy5jbGVhclBvbGljeSxcbiAgICAgICAgICAgIFdPVF9UQUdTLmluY2lkZW50YWxOdWRpdHksXG4gICAgICAgICAgICBXT1RfVEFHUy5ncnVlc29tZVNob2NraW5nXG4gICAgICAgIF1cbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgU0hPV19UT0FTVF9OT1RJRklDQVRJT04gPSAnU0hPV19UT0FTVF9OT1RJRklDQVRJT04nO1xuXG5leHBvcnQgY29uc3QgQmxhbmtSZXZpZXcgPSB7XG4gICAgY29tbWVudDogJycsXG4gICAgc2FmZXR5OiAtMSxcbiAgICB0YWdzOiBbXSxcbiAgICB0YXJnZXQ6ICcnLFxuICAgIHVpZDogLTEsXG59O1xuXG5leHBvcnQgY29uc3QgU0VTX1RZUEVTID0ge1xuICAgIEdvb2dsZTogeyBpZDogMCwgbmFtZTogJ0dvb2dsZScgfSxcbiAgICBZYW5kZXg6IHsgaWQ6IDEsIG5hbWU6ICdZYW5kZXgnIH0sXG4gICAgJ01haWwucnUnOiB7IGlkOiAyLCBuYW1lOiAnTWFpbC5ydScgfSxcbiAgICBCaW5nOiB7IGlkOiAzLCBuYW1lOiAnQmluZycgfSxcbiAgICBXaWtpcGVkaWE6IHsgaWQ6IDQsIG5hbWU6ICdXaWtpcGVkaWEnIH0sXG4gICAgRmFjZWJvb2s6IHsgaWQ6IDUsIG5hbWU6ICdGYWNlYm9vaycgfSxcbiAgICBUd2l0dGVyOiB7IGlkOiA2LCBuYW1lOiAnVHdpdHRlcicgfSxcbiAgICBHbWFpbDogeyBpZDogNywgbmFtZTogJ0dtYWlsJyB9LFxuICAgIFlvdXR1YmU6IHsgaWQ6IDgsIG5hbWU6ICdZb3V0dWJlJyB9LFxuICAgIFlhaG9vOiB7IGlkOiA5LCBuYW1lOiAnWWFob28nIH0sXG4gICAgJ1lhaG9vIE1haWwnOiB7IGlkOiAxMCwgbmFtZTogJ1lhaG9vIE1haWwnIH0sXG4gICAgJ0xpdmUuY29tJzogeyBpZDogMTEsIG5hbWU6ICdMaXZlLmNvbScgfSxcbiAgICBJbnN0YWdyYW06IHsgaWQ6IDEyLCBuYW1lOiAnSW5zdGFncmFtJyB9LFxuICAgIFJlZGRpdDogeyBpZDogMTMsIG5hbWU6ICdSZWRkaXQnIH0sXG4gICAgVHVtYmxyOiB7IGlkOiAxNCwgbmFtZTogJ1R1bWJscicgfSxcbiAgICBEdWNrRHVja0dvOiB7IGlkOiAxNSwgbmFtZTogJ0R1Y2tEdWNrR28nIH0sXG59O1xuXG5leHBvcnQgY29uc3QgVEFHX1NDQU5ORURfRkxBRyA9ICd3b3Rfc2Nhbm5lZCc7XG5leHBvcnQgY29uc3QgU0VSUF9BUkVBX0ZMQUcgPSAnd290X3NoaWVsZF9hcmVhJztcbmV4cG9ydCBjb25zdCBTRVJQX0FSRUFfVFlQRVMgPSB7XG4gICAgTkVXU19GRUVEOiAnbmV3c19mZWVkJyxcbiAgICBTUE9OU09SRUQ6ICdzcG9uc29yZWQnLFxuICAgIE1BSUxfQk9EWTogJ21haWxfYm9keSdcbn07XG5leHBvcnQgY29uc3QgV09UX09CU0VSVkVfRE9NX0ZMQUcgPSAnd290X29ic2VydmVfZG9tJztcbmV4cG9ydCBjb25zdCBXT1RBdHRyaWJ1dGVzID0gW1RBR19TQ0FOTkVEX0ZMQUcsIFNISUVMRF9BVFRSSUJVVEUsICdzdHlsZSddO1xuZXhwb3J0IGNvbnN0IFdPVENsYXNzZXNSZWdFeHAgPSBuZXcgUmVnRXhwKFtQT1BVUF9PVkVSTEFZLCBTSElFTERfQ09OVEFJTkVSLCAnc2hpZWxkX2NvbnRhaW5lcicsICd3b3Rfc2hpZWxkJ10uam9pbignfCcpKTtcbmV4cG9ydCBjb25zdCBNQUlMX0JPRFlfU0VSUF9DT05UQUlORVIgPSAnd290X21haWxfYm9keV9zZXJwX2NvbnRhaW5lcic7XG5leHBvcnQgY29uc3QgTUFJTF9CT0RZX1NFUlBfTk9UX1BST1RFQ1RFRCA9ICd3b3RfbWFpbF9ib2R5X3NlcnBfbm90X3Byb3RlY3RlZCc7XG5leHBvcnQgY29uc3QgTEVBS19IT09LX0NPTlRBSU5FUl9TRUxFQ1RPUiA9ICd3b3RfbGVha19ob29rX2NvbnRhaW5lcic7XG5cbmV4cG9ydCBjb25zdCBXT1RfVFJBQ0VfSUQgPSB7XG4gICAgbmFtZTogJ1dPVF9UUkFDRV9JRCcsXG4gICAgdmFsdWU6ICcnXG59O1xuXG5leHBvcnQgY29uc3QgQU5BTFlUSUNTID0ge1xuICAgIEFOQUxZVElDU19JTkZPX0tFWTogJ0FOQUxZVElDU19JTkZPJyxcbiAgICBBTkFMWVRJQ1NfUExBVEZPUk06ICdFeHRlbnNpb24nLFxuICAgIEFOQUxZVElDU19QUk9EVUNUOiAnV09UJyxcbiAgICBBTkFMWVRJQ1NfUkVTT1VSQ0VfVFlQRVM6IHtcbiAgICAgICAgUEFJRDogJ1BBSUQnLFxuICAgICAgICBPUkdBTklDOiAnT1JHQU5JQydcbiAgICB9LFxuICAgIEFOQUxZVElDU19FVkVOVF9UWVBFUzoge1xuICAgICAgICBFWFRFTlNJT05fSU5TVEFMTDogJ0VYVEVOU0lPTl9JTlNUQUxMJyxcbiAgICAgICAgRVhURU5TSU9OX1VQR1JBREU6ICdFWFRFTlNJT05fVVBHUkFERScsXG4gICAgICAgIE9QVF9JTl9QQUdFX1ZJRVc6ICdPUFRfSU5fUEFHRV9WSUVXJyxcbiAgICAgICAgT1BUX0lOX1BBR0VfQ0xJQ0tFRDogJ09QVF9JTl9QQUdFX0NMSUNLRUQnLFxuICAgICAgICBPUFRfSU5fUEFHRV9BUkVfWU9VX1NVUkVfVklFVzogJ09QVF9JTl9QQUdFX0FSRV9ZT1VfU1VSRV9WSUVXJyxcbiAgICAgICAgT1BUX0lOX1BBR0VfQVJFX1lPVV9TVVJFX0NMSUNLRUQ6ICdPUFRfSU5fUEFHRV9BUkVfWU9VX1NVUkVfQ0xJQ0tFRCcsXG4gICAgICAgIFBPUFVQX1YyOiB7XG4gICAgICAgICAgICBFWFRFTlNJT05fUE9QVVBfVklFVzogJ0VYVEVOU0lPTl9QT1BVUF9WSUVXJyxcbiAgICAgICAgICAgIEVYVEVOU0lPTl9SRUFEX1JFVklFV1NfQ0xJQ0s6ICdFWFRFTlNJT05fUkVBRF9SRVZJRVdTX0NMSUNLJyxcbiAgICAgICAgICAgIEVYVEVOU0lPTl9CTE9DS19UUkFDS0VSX0NMSUNLOiAnRVhURU5TSU9OX0JMT0NLX1RSQUNLRVJfQ0xJQ0snLFxuICAgICAgICAgICAgRVhURU5TSU9OX01BTkFHRV9UUkFDS0VSX0NMSUNLOiAnRVhURU5TSU9OX01BTkFHRV9UUkFDS0VSX0NMSUNLJyxcbiAgICAgICAgICAgIEVYVEVOU0lPTl9BQ1RJVkFURV9QUk9URUNUSU9OX0NMSUNLOiAnRVhURU5TSU9OX0FDVElWQVRFX1BST1RFQ1RJT05fQ0xJQ0snLFxuICAgICAgICAgICAgRVhURU5TSU9OX01BTkFHRV9QUk9URUNUSU9OX0NMSUNLOiAnRVhURU5TSU9OX01BTkFHRV9QUk9URUNUSU9OX0NMSUNLJyxcbiAgICAgICAgICAgIEVYVEVOU0lPTl9DSEVDS19MRUFLU19DTElDSzogJ0VYVEVOU0lPTl9DSEVDS19MRUFLU19DTElDSycsXG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgU0FGRV9ET01BSU5TID0gW3Jvb3QsICdwYXlwYWwuY29tJywgJ2dvb2dsZS5jb20nXTtcblxuZXhwb3J0IGNvbnN0IFNDSEVEVUxFUl9UWVBFUyA9IHtcbiAgICBFTUFJTF9QUk9URUNUSU9OOiAnRU1BSUxfUFJPVEVDVElPTicsXG4gICAgTEVBS19NT05JVE9SSU5HX0FEOiAnTEVBS19NT05JVE9SSU5HX0FEJyxcbiAgICBSQVRFX1VTX1NMSURFUjogJ1JBVEVfVVNfU0xJREVSJ1xufTtcblxuZXhwb3J0IGNvbnN0IFBST01PX1NFTEZfQ0xPU0VfVElNRU9VVCA9IDcwMDA7XG5cbmV4cG9ydCBjb25zdCBSRU1PVEVfQ09ORklHX0tFWVMgPSB7XG4gICAgTUVUQTogJ21ldGEnLFxuICAgIExFQUtfTU9OSVRPUklOR19IT09LOiAnbGVha01vbml0b3JpbmdIb29rJ1xufTtcblxuZXhwb3J0IGNvbnN0IFJFTU9URV9DT05GSUdfVFlQRVMgPSB7XG4gICAgU0NIRURVTEVSOiAnU0NIRURVTEVSJyxcbiAgICBBQl9URVNUOiAnQUJfVEVTVCdcbn07XG5leHBvcnQgY29uc3QgTkVWRVJfUkVNSU5EX0FHQUlOID0gLTI7XG5cbmV4cG9ydCBjb25zdCBSQVRJTkdfUEVORElORyA9ICdSQVRJTkdfUEVORElORyc7XG5cbmV4cG9ydCBjb25zdCBHQV9NQUlOX0NBVEVHT1JZID0gJ01haW4gV2luZG93JztcblxuZXhwb3J0IGNvbnN0IEdBX0NBVEVHT1JZX0tFWSA9ICdlYyc7XG5cbmV4cG9ydCBjb25zdCBHQV9BQ1RJT05fS0VZID0gJ2VhJztcblxuZXhwb3J0IGNvbnN0IEdBX0xBQkVMX0tFWSA9ICdlbCc7XG5cbmV4cG9ydCBjbGFzcyBGZWF0dXJlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gcGFyYW1zLm5hbWUgfHwgJyc7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBwYXJhbXMuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgIHRoaXMuZW5hYmxlID0gcGFyYW1zLmVuYWJsZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5mb3JjZVJlc2VsZWN0ID0gcGFyYW1zLmZvcmNlUmVzZWxlY3QgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHBhcmFtcy52ZXJzaW9uIHx8IDA7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHBhcmFtcy5vcHRpb25zIHx8IFtdO1xuICAgICAgICB0aGlzLnR5cGUgPSBwYXJhbXMudHlwZSB8fCBSRU1PVEVfQ09ORklHX1RZUEVTLkFCX1RFU1Q7XG4gICAgICAgIE9iamVjdC5rZXlzKHBhcmFtcy5leHRyYURhdGEgfHwge30pLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIHRoaXNba2V5XSA9IHBhcmFtcy5leHRyYURhdGFba2V5XTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgU0hJRUxEX0hPVkVSX0VWRU5UID0gJ3dvdC1zaGllbGQtaG92ZXInO1xuZXhwb3J0IGNvbnN0IFNISUVMRFNfUkVBRFkgPSAnd290LXNoaWVsZHMtcmVhZHknO1xuXG4vLyBTRU5EIFNFVFRJTkdTIEFOQUxZVElDUyAtIFJFTU9URSBDT05GSUcgSEFORExFUlxuZXhwb3J0IGNvbnN0IFVTRVJfREFUQV9BTkFMWVRJQ1MgPSAndXNlckRhdGFBbmFseXRpY3MnO1xuXG5leHBvcnQgY29uc3QgVVRNX1ZBUklBQkxFUyA9IFsndXRtX3NvdXJjZScsICd1dG1fbWVkaXVtJywgJ3V0bV9jYW1wYWlnbicsICd1dG1fY29udGVudCcsICd1dG1fdGVybSddO1xuZXhwb3J0IGNvbnN0IEdPT0dMRV9BTkFMWVRJQ1NfV0VCU0lURV9BQ0NPVU5UID0gJ1VBLTI0MTI0MTItMSc7XG5leHBvcnQgY29uc3QgR0FfQUNDT1VOVCA9IChjcm9zc2Jyb3dzZXJOYW1lID09PSAnb3BlcmEnKSA/ICdVQS0yNDEyNDEyLTE5JyA6ICdVQS0yNDEyNDEyLTI1JztcblxuZXhwb3J0IGNvbnN0IE1BSUxDSElNUF9OT05fUFJFTUlVTV9UUkFDS0VSX1RBRyA9ICdFWFRfTm9uX3ByZW1pdW1fdXNlZF8zX3RyYWNrZXJzJztcblxuLy8gQWxhcm1zXG5jb25zdCBBTEFSTV9JTlRFUlZBTF9NSU5VVEUgPSAxO1xuY29uc3QgQUxBUk1fSU5URVJWQUxfSE9VUiA9IDYwICogQUxBUk1fSU5URVJWQUxfTUlOVVRFO1xuY29uc3QgQUxBUk1fSU5URVJWQUxfREFZID0gQUxBUk1fSU5URVJWQUxfSE9VUiAqIDI0O1xuZXhwb3J0IGNvbnN0IFNIT1dfUElOX1dPVF9QT1BVUF9BTEFSTSA9ICdTSE9XX1BJTl9XT1RfUE9QVVBfQUxBUk0nO1xuZXhwb3J0IGNvbnN0IFNIT1dfUElOX1dPVF9QT1BVUF9BTEFSTV9ERUxBWSA9IEFMQVJNX0lOVEVSVkFMX01JTlVURTtcbmV4cG9ydCBjb25zdCBHRVRfVVNFUl9QTEFOX0FMQVJNID0gJ0dFVF9VU0VSX1BMQU5fQUxBUk0nO1xuZXhwb3J0IGNvbnN0IEdFVF9VU0VSX1BMQU5fQUxBUk1fSU5URVJWQUwgPSA2KkFMQVJNX0lOVEVSVkFMX0hPVVI7XG5leHBvcnQgY29uc3QgR0VUX0xFQUtfREFUQV9BTEFSTSA9ICdHRVRfTEVBS19EQVRBX0FMQVJNJztcbmV4cG9ydCBjb25zdCBHRVRfTEVBS19EQVRBX0FMQVJNX0lOVEVSVkFMID0gQUxBUk1fSU5URVJWQUxfREFZO1xuZXhwb3J0IGNvbnN0IE9QVE9VVF9BTEFSTSA9ICdPUFRPVVRfQUxBUk0nO1xuZXhwb3J0IGNvbnN0IE9QVE9VVF9BTEFSTV9JTlRFUlZBTCA9IDMqQUxBUk1fSU5URVJWQUxfSE9VUjtcbmV4cG9ydCBjb25zdCBTRVJQU19SRVFVRVNUX0FMQVJNID0gJ1NFUlBTX1JFUVVFU1RfQUxBUk0nO1xuZXhwb3J0IGNvbnN0IFNFUlBTX1JFUVVFU1RfQUxBUk1fREVMQVkgPSBBTEFSTV9JTlRFUlZBTF9EQVk7XG5leHBvcnQgY29uc3QgVVBEQVRFX0JMT0NLRURfU0lURVNfU1RBVElTVElDU19BTEFSTSA9ICdVUERBVEVfQkxPQ0tFRF9TSVRFU19TVEFUSVNUSUNTX0FMQVJNJztcbmV4cG9ydCBjb25zdCBVUERBVEVfQkxPQ0tFRF9TSVRFU19TVEFUSVNUSUNTX0FMQVJNX0lOVEVSVkFMID0gQUxBUk1fSU5URVJWQUxfREFZO1xuZXhwb3J0IGNvbnN0IFBPUFVQX1VQREFURV9TQ0FOX1RJTUVfQUxBUk0gPSAnUE9QVVBfVVBEQVRFX1NDQU5fVElNRV9BTEFSTSc7XG5leHBvcnQgY29uc3QgUE9QVVBfVVBEQVRFX1NDQU5fVElNRV9BTEFSTV9JTlRFUlZBTCA9IEFMQVJNX0lOVEVSVkFMX0RBWTtcblxuXG5leHBvcnQgY29uc3QgVVNFUl9TVEFUSVNUSUNTX1NUT1JBR0VfS0VZID0gJ1VTRVJfU1RBVElTVElDUyc7XG5leHBvcnQgY29uc3QgVVNFUl9TVEFUSVNUSUNTX0JMT0NLRURfU0lURVNfS0VZID0gJ1VTRVJfU1RBVElTVElDU19CTE9DS0VEX1NJVEVTJztcbmV4cG9ydCBjb25zdCBVU0VSX1NUQVRTX0hBUk1GVUxfU0lURVNfQkxPQ0tFRCA9ICdIQVJNRlVMX1NJVEVTX0JMT0NLRUQnO1xuZXhwb3J0IGNvbnN0IFVTRVJfU1RBVFNfU1VTUElDSU9VU19TSVRFX1ZJU0lURUQgPSAnU1VTUElDSU9VU19TSVRFX1ZJU0lURUQnO1xuZXhwb3J0IGNvbnN0IFVTRVJfU1RBVFNfRElHSVRBTF9UUkFDS0VSX0JMT0NLRUQgPSAnRElHSVRBTF9UUkFDS0VSX0JMT0NLRUQnO1xuZXhwb3J0IGNvbnN0IFVTRVJfU1RBVFNfU1VTUElDSU9VU19FTUFJTF9ERVRFQ1RFRCA9ICdTVVNQSUNJT1VTX0VNQUlMX0RFVEVDVEVEJztcbmV4cG9ydCBjb25zdCBNQVhfQkxPQ0tFRF9XRUJTSVRFU19MRU5HVEggPSAzMDA7XG5cblxuLy8gICoqKioqKiBEYXNoYm9hcmQgRXh0ZW5zaW9uIFN5bmMgTWVjaGFuaXNtICoqKioqKlxuZXhwb3J0IGNvbnN0IERBU0hCT0FSRF9SRVFVRVNUX0VYVEVOU0lPTl9EQVRBX01FU1NBR0UgPSAnd290LWRiLWV4dC1nZXQtZGF0YSc7XG5leHBvcnQgY29uc3QgREFTSEJPQVJEX1JFQ0VJVkVfRVhURU5TSU9OX0RBVEFfTUVTU0FHRSA9ICd3b3QtZXh0LWRiLXNlbmQtZGF0YSc7XG5leHBvcnQgY29uc3QgREFTSEJPQVJEX1VQREFURV9TQ0FOX1RJTUVfTUVTU0FHRSA9ICd3b3QtZGFzaGJvYXJkLXVwZGF0ZS1zY2FuVGltZSc7XG5leHBvcnQgY29uc3QgV09UX1RPR0dMRV9QT1BVUCA9ICdXT1RfVE9HR0xFX1BPUFVQJztcblxuZXhwb3J0IGNvbnN0IE5VTV9XRUJTSVRFX0JMT0NLU19GUkVFX1VTRVIgPSAxO1xuXG5leHBvcnQgY29uc3QgU0VUVElOR1NfU0VDVElPTlMgPSB7XG4gICAgc2FmZVNlYXJjaDogJycsXG4gICAgc2FmZUJyb3dzaW5nOiAnc2VjdGlvbl8yJyxcbiAgICBpZGVudGl0eVByb3RlY3Rpb246ICdzZWN0aW9uXzMnLFxuICAgIGRpZ2l0YWxUcmFja2luZ1Byb3RlY3Rpb246ICdzZWN0aW9uXzQnLFxuICAgIGVtYWlsUHJvdGVjdGlvbjogJ3NlY3Rpb25fNScsXG4gICAgcmVhbHRpbWVQcm90ZWN0aW9uOiAnc2VjdGlvbl82J1xufTtcblxuZXhwb3J0IGNvbnN0IFVTRVJfU09VUkNFX1VQREFURSA9ICdVU0VSX1NPVVJDRV9VUERBVEUnO1xuXG5leHBvcnQgY29uc3QgUE9QVVBfRlJFRV9UUkFJTF9FTkRfQUxFUlRfREFZU19CRUZPUkUgPSAyO1xuXG5leHBvcnQgY29uc3QgUE9QVVBfVjJfT05CT0FSRElOR19OVU1fU1RFUFMgPSAzO1xuXG5cclxuIiwiLy8gYnVuY2ggb2YgdXRpbGl0aWVzXG4vLyBqdXN0IHRvIG1ha2Ugc3VyZSwgdGhhdCBldmVyeXRoaW5nIGlzIHNlY3VyZVxuLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmZ1bmN0aW9uIHN0cnRvYmluKHN0cikge1xuICAgIGNvbnN0IGJpbiA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgYmluW2ldID0gc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGO1xuICAgIH1cblxuICAgIHJldHVybiBiaW47XG59XG5cbmZ1bmN0aW9uIGJpbnRvc3RyKGJpbikge1xuICAgIGxldCBzdHIgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJpbltpXSAmIDB4RkYpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIGhleHRvYmluKHN0cikge1xuICAgIGNvbnN0IGFzY2lpdG9uaWJibGUgPSBmdW5jdGlvbiAoYykge1xuICAgICAgICBjb25zdCBjb2RlX2EgPSAnYScuY2hhckNvZGVBdCgwKTtcblxuICAgICAgICBpZiAoYyA+PSBjb2RlX2EpIHtcbiAgICAgICAgICAgIHJldHVybiAoYyAtIGNvZGVfYSArIDEwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGMgLSAnMCcuY2hhckNvZGVBdCgwKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGJpbiA9IFtdO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoIC8gMjsgKytpKSB7XG4gICAgICAgIGJpbltpXSA9IGFzY2lpdG9uaWJibGUoc3RyLmNoYXJDb2RlQXQoMiAqIGkpKSA8PCA0XG5cdFx0XHR8IGFzY2lpdG9uaWJibGUoc3RyLmNoYXJDb2RlQXQoMiAqIGkgKyAxKSkgJiAweEY7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJpbjtcbn1cblxuZnVuY3Rpb24gYmludG9oZXgoYmluKSB7XG4gICAgY29uc3QgSEVYID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuICAgIGxldCBzdHIgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHN0ciArPSBIRVguY2hhckF0KChiaW5baV0gPj4gNCkgJiAweEYpO1xuICAgICAgICBzdHIgKz0gSEVYLmNoYXJBdChiaW5baV0gJiAweEYpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG59XG5cbmNvbnN0IHNoYTEgPSB7XG4gICAgaG1hY3NoYTFoZXgoaGV4a2V5LCBzdHIpIHtcbiAgICAgICAgbGV0IGtleSA9IGhleHRvYmluKGhleGtleSk7XG5cbiAgICAgICAgaWYgKGtleS5sZW5ndGggPiAyMCkge1xuICAgICAgICAgICAga2V5ID0gdGhpcy5zaGExYmluKGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpcGFkID0gQXJyYXkoNjQpOyBjb25zdFxuICAgICAgICAgICAgb3BhZCA9IEFycmF5KDY0KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyArK2kpIHtcbiAgICAgICAgICAgIGlwYWRbaV0gPSBrZXlbaV0gXiAweDM2O1xuICAgICAgICAgICAgb3BhZFtpXSA9IGtleVtpXSBeIDB4NUM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IDIwOyBqIDwgNjQ7ICsraikge1xuICAgICAgICAgICAgaXBhZFtqXSA9IDB4MzY7XG4gICAgICAgICAgICBvcGFkW2pdID0gMHg1QztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5zaGExYmluKGlwYWQuY29uY2F0KHN0cnRvYmluKHN0cikpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhMWJpbihvcGFkLmNvbmNhdChpbm5lcikpO1xuICAgIH0sXG5cbiAgICBzaGExYmluKGJpbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGExc3RyKGJpbnRvc3RyKGJpbikpO1xuICAgIH0sXG5cbiAgICBzaGExaGV4KGhleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGExc3RyKGhleHRvc3RyKGhleCkpO1xuICAgIH0sXG5cbiAgICAvKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFNlY3VyZSBIYXNoIEFsZ29yaXRobSwgU0hBLTEsXG5cdCBhcyBkZWZpbmVkIGluIEZJUFMgUFVCIDE4MC0xXG5cdCBWZXJzaW9uIDIuMWEgQ29weXJpZ2h0IFBhdWwgSm9obnN0b24gMjAwMCAtIDIwMDIuXG5cdCBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG5cdCBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2Vcblx0IFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBkZXRhaWxzLiAqL1xuXG4gICAgc2hhMXN0cihzdHIpIHtcbiAgICAgICAgY29uc3QgZnQgPSBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xuICAgICAgICAgICAgaWYgKHQgPCAyMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoYiAmIGMpIHwgKCh+YikgJiBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0ID49IDQwICYmIHQgPCA2MCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoYiAmIGMpIHwgKGIgJiBkKSB8IChjICYgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYiBeIGMgXiBkO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGt0ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgIGlmICh0IDwgMjApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTUxODUwMDI0OTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0IDwgNDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTg1OTc3NTM5MztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0IDwgNjApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE4OTQwMDc1ODg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gLTg5OTQ5NzUxNDtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBhZGQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgY29uc3QgbHN3ID0gKHggJiAweEZGRkYpICsgKHkgJiAweEZGRkYpO1xuICAgICAgICAgICAgY29uc3QgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gICAgICAgICAgICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByb2wgPSBmdW5jdGlvbiAobnVtLCBjbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAobnVtIDw8IGNudCkgfCAobnVtID4+PiAoMzIgLSBjbnQpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBsZW4gPSBzdHIubGVuZ3RoICogODtcbiAgICAgICAgbGV0IGJpbiA9IFtdO1xuICAgICAgICBjb25zdCBtYXNrID0gKDEgPDwgOCkgLSAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICAgICAgICAgIGJpbltpID4+IDVdIHw9IChzdHIuY2hhckNvZGVBdChpIC8gOCkgJiBtYXNrKSA8PCAoMjQgLSBpICUgMzIpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmluW2xlbiA+PiA1XSB8PSAweDgwIDw8ICgyNCAtIGxlbiAlIDMyKTtcbiAgICAgICAgYmluWygobGVuICsgNjQgPj4gOSkgPDwgNCkgKyAxNV0gPSBsZW47XG5cbiAgICAgICAgY29uc3QgdyA9IEFycmF5KDgwKTtcbiAgICAgICAgbGV0IGEgPSAxNzMyNTg0MTkzO1xuICAgICAgICBsZXQgYiA9IC0yNzE3MzM4Nzk7XG4gICAgICAgIGxldCBjID0gLTE3MzI1ODQxOTQ7XG4gICAgICAgIGxldCBkID0gMjcxNzMzODc4O1xuICAgICAgICBsZXQgZSA9IC0xMDA5NTg5Nzc2O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgaSArPSAxNikge1xuICAgICAgICAgICAgY29uc3Qgb2xkYSA9IGE7XG4gICAgICAgICAgICBjb25zdCBvbGRiID0gYjtcbiAgICAgICAgICAgIGNvbnN0IG9sZGMgPSBjO1xuICAgICAgICAgICAgY29uc3Qgb2xkZCA9IGQ7XG4gICAgICAgICAgICBjb25zdCBvbGRlID0gZTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4MDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGogPCAxNikge1xuICAgICAgICAgICAgICAgICAgICB3W2pdID0gYmluW2kgKyBqXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3W2pdID0gcm9sKHdbaiAtIDNdIF4gd1tqIC0gOF1cblx0XHRcdFx0XHRcdF4gd1tqIC0gMTRdIF4gd1tqIC0gMTZdLCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gYWRkKGFkZChyb2woYSwgNSksIGZ0KGosIGIsIGMsIGQpKSxcbiAgICAgICAgICAgICAgICAgICAgYWRkKGFkZChlLCB3W2pdKSwga3QoaikpKTtcblxuICAgICAgICAgICAgICAgIGUgPSBkO1xuICAgICAgICAgICAgICAgIGQgPSBjO1xuICAgICAgICAgICAgICAgIGMgPSByb2woYiwgMzApO1xuICAgICAgICAgICAgICAgIGIgPSBhO1xuICAgICAgICAgICAgICAgIGEgPSB0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhID0gYWRkKGEsIG9sZGEpO1xuICAgICAgICAgICAgYiA9IGFkZChiLCBvbGRiKTtcbiAgICAgICAgICAgIGMgPSBhZGQoYywgb2xkYyk7XG4gICAgICAgICAgICBkID0gYWRkKGQsIG9sZGQpO1xuICAgICAgICAgICAgZSA9IGFkZChlLCBvbGRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpbiA9IFthLCBiLCBjLCBkLCBlXTtcbiAgICAgICAgc3RyID0gJyc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoICogMzI7IGkgKz0gOCkge1xuICAgICAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGJpbltpID4+IDVdID4+PiAoMjQgLSBpICUgMzIpKSAmIG1hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cnRvYmluKHN0cik7XG4gICAgfVxufTtcblxuY29uc3QgYXJjNCA9IHtcbiAgICBjcmVhdGUoa2V5KSB7XG4gICAgICAgIGxldCBpOyBsZXQgaiA9IDA7IGxldCBrID0gMDsgbGV0XG4gICAgICAgICAgICBsO1xuICAgICAgICBjb25zdCBjdHggPSB7fTtcblxuICAgICAgICBjdHgucyA9IFtdO1xuICAgICAgICBjdHgueCA9IDE7XG4gICAgICAgIGN0eC55ID0gMDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICAgICAgICAgIGN0eC5zW2ldID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICAgICAgbCA9IGN0eC5zW2ldO1xuICAgICAgICAgICAgaiA9IChqICsga2V5W2tdICsgbCkgJiAweEZGO1xuICAgICAgICAgICAgY3R4LnNbaV0gPSBjdHguc1tqXTtcbiAgICAgICAgICAgIGN0eC5zW2pdID0gbDtcblxuICAgICAgICAgICAgaWYgKCsrayA+PSBrZXkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgayA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3R4O1xuICAgIH0sXG5cbiAgICBjcnlwdChjdHgsIGlucHV0KSB7XG4gICAgICAgIGxldCBpOyBsZXQgajsgbGV0XG4gICAgICAgICAgICBrO1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGogPSBjdHguc1tjdHgueF07XG4gICAgICAgICAgICBjdHgueSA9IChjdHgueSArIGopICYgMHhGRjtcbiAgICAgICAgICAgIGsgPSBjdHguc1tjdHgueV07XG4gICAgICAgICAgICBjdHguc1tjdHgueF0gPSBrO1xuICAgICAgICAgICAgY3R4LnNbY3R4LnldID0gajtcbiAgICAgICAgICAgIGN0eC54ID0gKGN0eC54ICsgMSkgJiAweEZGO1xuICAgICAgICAgICAgb3V0cHV0W2ldID0gKGlucHV0W2ldIF4gY3R4LnNbKGogKyBrKSAmIDB4RkZdKSAmIDB4RkY7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbn07XG5cbmNvbnN0IGJhc2UzMiA9IHtcbiAgICBzZXQ6ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2NycsXG5cbiAgICBlbmNvZGUocykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLyogVW5pY29kZSB0byBVVEYtOCAqL1xuICAgICAgICAgICAgcyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChkZWNvZGVVUklDb21wb25lbnQocykpKTtcblxuICAgICAgICAgICAgbGV0IHIgPSAnJztcbiAgICAgICAgICAgIGxldCBiID0gMDtcbiAgICAgICAgICAgIGxldCBsID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IHMuY2hhckNvZGVBdChpKTtcblxuICAgICAgICAgICAgICAgIGlmIChuID4gMjU1KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAvKiBJbnZhbGlkIGlucHV0ICovXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYiA9IChiIDw8IDgpICsgbjtcbiAgICAgICAgICAgICAgICBsICs9IDg7XG5cbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGwgLT0gNTtcbiAgICAgICAgICAgICAgICAgICAgciArPSB0aGlzLnNldFsoYiA+PiBsKSAmIDB4MUZdO1xuICAgICAgICAgICAgICAgIH0gd2hpbGUgKGwgPj0gNSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsID4gMCkge1xuICAgICAgICAgICAgICAgIHIgKz0gdGhpcy5zZXRbKGIgPDwgKDUgLSBsKSkgJiAweDFGXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBiYXNlMzIuZW5jb2RlOiBmYWlsZWQgd2l0aCAke2V9XFxuYCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgZGVjb2RlKHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8qIEJ1aWxkIGEgcmV2ZXJzZSBsb29rdXAgdGFibGUgKi9cbiAgICAgICAgICAgIGlmICghdGhpcy5yZXYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJldiA9IHt9O1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNldC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJldlt0aGlzLnNldC5jaGFyQXQoaSldID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCByID0gJyc7XG4gICAgICAgICAgICBsZXQgYiA9IDA7XG4gICAgICAgICAgICBsZXQgbCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLnJldltzLmNoYXJBdChpKV07XG5cbiAgICAgICAgICAgICAgICBpZiAobiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAvKiBJbnZhbGlkIGlucHV0ICovXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYiA9IChiIDw8IDUpICsgbjtcbiAgICAgICAgICAgICAgICBsICs9IDU7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAobCA+PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgIGwgLT0gODtcbiAgICAgICAgICAgICAgICAgICAgciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChiID4+IGwpICYgMHhGRik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobCA+PSA1KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgLyogSW52YWxpZCBpbnB1dCAqL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiBVVEYtOCB0byBVbmljb2RlICovXG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShyKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBiYXNlMzIuZGVjb2RlOiBmYWlsZWQgd2l0aCAke2V9XFxuYCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuXG5jbGFzcyBXb3RDcnlwdG9DbGFzcyB7XG4gICAgY29uc3RydWN0b3IoY291bnRlcikge1xuICAgICAgICB0aGlzLmNvdW50ZXIgPSBjb3VudGVyIHx8IDA7XG4gICAgICAgIHRoaXMuc2hhMSA9IHNoYTE7XG4gICAgICAgIHRoaXMuYXJjNCA9IGFyYzQ7XG4gICAgICAgIHRoaXMuYmludG9oZXggPSBiaW50b2hleDtcbiAgICAgICAgdGhpcy5iYXNlMzIgPSBiYXNlMzI7XG4gICAgfVxuXG4gICAgZ2V0bm9uY2Uoc2VlZCwgd2l0bmVzcykge1xuICAgICAgICAvKiBtdXN0IGJlIHVuaXF1ZSwgbm90IG5lY2Vzc2FyaWx5IHVucHJlZGljdGFibGUgKi9cbiAgICAgICAgY29uc3QgZGF0YSA9IGBub25jZToke1ZFUlNJT05cblx0XHRcdCB9OiR7dGhpcy5jb3VudGVyKytcblx0XHRcdCB9OiR7RGF0ZS5ub3coKVxuXHRcdFx0IH06JHtNYXRoLnJhbmRvbSgpXG5cdFx0XHQgfTokeyh3aXRuZXNzIHx8IHsgaWQ6ICcnLCBrZXk6ICcnIH0pLmlkIHx8ICcnXG5cdFx0XHQgfToke3NlZWQgfHwgJyd9YDtcblxuICAgICAgICByZXR1cm4gYmludG9oZXgodGhpcy5zaGExLnNoYTFzdHIoZGF0YSkpO1xuICAgIH1cblxuICAgIGRlY3J5cHQoZGF0YSwgbm9uY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChkYXRhICYmIG5vbmNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gb3B0aW9ucyAmJiBvcHRpb25zLndpdG5lc3Nfa2V5XG4gICAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy53aXRuZXNzX2tleSA6IHRoaXMud2l0bmVzcy5rZXk7XG4gICAgICAgICAgICAgICAgbGV0IHsgaW5kZXggfSA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgICAgICAgY29uc3QgeyByZXNwb25zZV9zdHIgfSA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT0gdW5kZWZpbmVkIHx8IGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9ICcnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gYC0ke2luZGV4fWA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGhhc2hfc3RyaW5nID0gbm9uY2UgKyBpbmRleDtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Vfc3RyKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc2hfc3RyaW5nID0gYHJlc3BvbnNlLSR7aGFzaF9zdHJpbmd9YDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiaW50b3N0cihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXJjNC5jcnlwdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFyYzQuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYTEuaG1hY3NoYTFoZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoX3N0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ0b2JpbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXRvYihkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBjcnlwdG8uZGVjcnlwdDogZmFpbGVkIHdpdGggJHtlfVxcbmApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZW5jcnlwdChkYXRhLCBub25jZSwga2V5LCB3aXRuZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoZGF0YSAmJiBub25jZSkge1xuICAgICAgICAgICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB7IGtleSB9ID0gd2l0bmVzcyB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlYnVnIC1cbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHNoYTEgPSB0aGlzLnNoYTEuaG1hY3NoYTFoZXgoa2V5LCBub25jZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBzdHJ0b2JpbiA9IHRoaXMuc3RydG9iaW4oZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBhcmM0Y3JlYXRlID0gdGhpcy5hcmM0LmNyZWF0ZShzaGExKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGFyYzRjcnlwdCA9IHRoaXMuYXJjNC5jcnlwdChhcmM0Y3JlYXRlLCBzdHJ0b2Jpbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciBiaW50b3N0ciA9IHRoaXMuYmludG9zdHIoYXJjNGNyeXB0KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHJlc3VsdCA9IGJ0b2EoYmludG9zdHIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBidG9hKFxuICAgICAgICAgICAgICAgICAgICAgICAgYmludG9zdHIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcmM0LmNyeXB0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFyYzQuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaGExLmhtYWNzaGExaGV4KGtleSwgbm9uY2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnRvYmluKGRhdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYGNyeXB0by5lbmNyeXB0OiBmYWlsZWQgd2l0aCAke2V9XFxuYCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBhdXRoZW50aWNhdGUoZGF0YSwgd2l0bmVzcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBrZXkgfSA9IHdpdG5lc3MgfHwgdGhpcy53aXRuZXNzIHx8IHt9O1xuXG4gICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpbnRvaGV4KHRoaXMuc2hhMS5obWFjc2hhMWhleChrZXksIGRhdGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYGNyeXB0by5hdXRoZW50aWNhdGU6IGZhaWxlZCB3aXRoICR7ZX1cXG5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHNoYTFzdHIoc3RyKSB7XG4gICAgICAgIGNvbnN0IGZ0ID0gZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgICAgIGlmICh0IDwgMjApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGIgJiBjKSB8ICgofmIpICYgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodCA+PSA0MCAmJiB0IDwgNjApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGIgJiBjKSB8IChiICYgZCkgfCAoYyAmIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGIgXiBjIF4gZDtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBrdCA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICBpZiAodCA8IDIwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE1MTg1MDAyNDk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodCA8IDQwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE4NTk3NzUzOTM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodCA8IDYwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xODk0MDA3NTg4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC04OTk0OTc1MTQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYWRkID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxzdyA9ICh4ICYgMHhGRkZGKSArICh5ICYgMHhGRkZGKTtcbiAgICAgICAgICAgIGNvbnN0IG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpO1xuICAgICAgICAgICAgcmV0dXJuIChtc3cgPDwgMTYpIHwgKGxzdyAmIDB4RkZGRik7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3Qgcm9sID0gZnVuY3Rpb24gKG51bSwgY250KSB7XG4gICAgICAgICAgICByZXR1cm4gKG51bSA8PCBjbnQpIHwgKG51bSA+Pj4gKDMyIC0gY250KSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgbGVuID0gc3RyLmxlbmd0aCAqIDg7XG4gICAgICAgIGxldCBiaW4gPSBbXTtcbiAgICAgICAgY29uc3QgbWFzayA9ICgxIDw8IDgpIC0gMTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSA4KSB7XG4gICAgICAgICAgICBiaW5baSA+PiA1XSB8PSAoc3RyLmNoYXJDb2RlQXQoaSAvIDgpICYgbWFzaykgPDwgKDI0IC0gaSAlIDMyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpbltsZW4gPj4gNV0gfD0gMHg4MCA8PCAoMjQgLSBsZW4gJSAzMik7XG4gICAgICAgIGJpblsoKGxlbiArIDY0ID4+IDkpIDw8IDQpICsgMTVdID0gbGVuO1xuXG4gICAgICAgIGNvbnN0IHcgPSBBcnJheSg4MCk7XG4gICAgICAgIGxldCBhID0gMTczMjU4NDE5MztcbiAgICAgICAgbGV0IGIgPSAtMjcxNzMzODc5O1xuICAgICAgICBsZXQgYyA9IC0xNzMyNTg0MTk0O1xuICAgICAgICBsZXQgZCA9IDI3MTczMzg3ODtcbiAgICAgICAgbGV0IGUgPSAtMTAwOTU4OTc3NjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJpbi5sZW5ndGg7IGkgKz0gMTYpIHtcbiAgICAgICAgICAgIGNvbnN0IG9sZGEgPSBhO1xuICAgICAgICAgICAgY29uc3Qgb2xkYiA9IGI7XG4gICAgICAgICAgICBjb25zdCBvbGRjID0gYztcbiAgICAgICAgICAgIGNvbnN0IG9sZGQgPSBkO1xuICAgICAgICAgICAgY29uc3Qgb2xkZSA9IGU7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgODA7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChqIDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgd1tqXSA9IGJpbltpICsgal07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd1tqXSA9IHJvbCh3W2ogLSAzXSBeIHdbaiAtIDhdXG5cdFx0XHRcdFx0XHReIHdbaiAtIDE0XSBeIHdbaiAtIDE2XSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGFkZChhZGQocm9sKGEsIDUpLCBmdChqLCBiLCBjLCBkKSksXG4gICAgICAgICAgICAgICAgICAgIGFkZChhZGQoZSwgd1tqXSksIGt0KGopKSk7XG5cbiAgICAgICAgICAgICAgICBlID0gZDtcbiAgICAgICAgICAgICAgICBkID0gYztcbiAgICAgICAgICAgICAgICBjID0gcm9sKGIsIDMwKTtcbiAgICAgICAgICAgICAgICBiID0gYTtcbiAgICAgICAgICAgICAgICBhID0gdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYSA9IGFkZChhLCBvbGRhKTtcbiAgICAgICAgICAgIGIgPSBhZGQoYiwgb2xkYik7XG4gICAgICAgICAgICBjID0gYWRkKGMsIG9sZGMpO1xuICAgICAgICAgICAgZCA9IGFkZChkLCBvbGRkKTtcbiAgICAgICAgICAgIGUgPSBhZGQoZSwgb2xkZSk7XG4gICAgICAgIH1cblxuICAgICAgICBiaW4gPSBbYSwgYiwgYywgZCwgZV07XG4gICAgICAgIHN0ciA9ICcnO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluLmxlbmd0aCAqIDMyOyBpICs9IDgpIHtcbiAgICAgICAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChiaW5baSA+PiA1XSA+Pj4gKDI0IC0gaSAlIDMyKSkgJiBtYXNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHJ0b2JpbihzdHIpO1xuICAgIH1cbn1cbmNvbnN0IFdvdENyeXB0byA9IG5ldyBXb3RDcnlwdG9DbGFzcygpO1xuZXhwb3J0IGRlZmF1bHQgV290Q3J5cHRvO1xuIiwiaW1wb3J0IHtcbiAgICBGQUNFQk9PS19ESUFMT0dfVVJMLFxuICAgIEZBQ0VCT09LX1NIQVJFX1VSTCxcbiAgICBUV0lUVEVSX0RJQUxPR19VUkwsXG4gICAgRk9OVFNfVVJMLFxuICAgIFRXSVRURVJfU0hBUkVfVVJMLFxuICAgIEdPT0dMRV9TSEFSRV9VUkwsXG4gICAgR09PR0xFX0RJQUxPR19VUkwsXG4gICAgR09PR0xFX1JBVElOR19QQVJBTUVURVJTLFxuICAgIEZBQ0VCT09LX1JBVElOR19QQVJBTUVURVJTLFxuICAgIFRXSVRURVJfUkFUSU5HX1BBUkFNRVRFUlMsXG4gICAgQ0FURUdPUklFU19SVUxFUyxcbiAgICBNQVhfUkVEX1NUUklQX1JBVElORyxcbiAgICBOT1RfU0FGRSxcbiAgICBTQUZFLFxuICAgIFNVU1BJQ0lPVVMsXG4gICAgVU5LTk9XTixcbiAgICBBQ1RJVklUWV9TQ09SRV9SVUxFUyxcbiAgICBXSEFUU0FQUF9ESUFMT0dfVVJMLFxuICAgIFdIQVRTQVBQX1NIQVJFX1VSTCxcbiAgICBTVVBQT1JURURfUFJPVE9DT0xTLFxuICAgIHJvb3QsXG4gICAgU0hBUkVEX0hPU1RTLFxuICAgIEFOQUxZVElDUyxcbiAgICBXT1RfVFJBQ0VfSUQsXG4gICAgSU5KRUNUX0ZPTlRTLFxuICAgIFNBRkVfRE9NQUlOUyxcbiAgICBBUFBfTVlXT1RfSE9TVF9VUkwsXG4gICAgU1RPUkFHRV9UT0tFTixcbiAgICBVU0VSX1NUQVRJU1RJQ1NfU1RPUkFHRV9LRVksXG4gICAgVVNFUl9TVEFUSVNUSUNTX0JMT0NLRURfU0lURVNfS0VZLFxuICAgIE1BWF9CTE9DS0VEX1dFQlNJVEVTX0xFTkdUSCxcbiAgICBPTkVfTU9OVEgsXG4gICAgVkVSU0lPTlxufSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjcm9zc2Jyb3dzZXIsIGNyb3NzYnJvd3Nlck5hbWUgfSBmcm9tICcuLi9jcm9zc2Jyb3dzZXInO1xuaW1wb3J0IFdvdENyeXB0byBmcm9tICcuL3dvdENyeXB0byc7XG5cbmV4cG9ydCBjb25zdCBicm93c2VyTmFtZSA9IGNyb3NzYnJvd3Nlck5hbWU7XG5leHBvcnQgY29uc3Qgd2ViZXh0QXBpID0gY3Jvc3Nicm93c2VyO1xuZXhwb3J0IGNvbnN0IGlzQ29udGVudCA9ICEhKGNyb3NzYnJvd3Nlci53aW5kb3dzKTtcblxuZXhwb3J0IGNvbnN0IEZVTExfUkVQT1JUX1VSTCA9IGBodHRwczovLyR7cm9vdH0vJHt3ZWJleHRBcGkuaTE4bi5nZXRVSUxhbmd1YWdlKCkucmVwbGFjZSgnXycsICctJykuc3Vic3RyaW5nKDAsIDIpfS9zY29yZWNhcmQvYDtcbmV4cG9ydCBjb25zdCBXRUxDT01FX1VSTF9PTEQgPSBgaHR0cHM6Ly93d3cubXl3b3QuY29tLyR7d2ViZXh0QXBpLmkxOG4uZ2V0VUlMYW5ndWFnZSgpLnJlcGxhY2UoJ18nLCAnLScpLnN1YnN0cmluZygwLCAyKX0vc2V0dGluZ3Mvd2VsY29tZWA7XG5leHBvcnQgY29uc3QgT1BUSU9OU19VUkwgPSBjcm9zc2Jyb3dzZXJOYW1lID09PSAnZWRnZScgPyAnL29wdGlvbnMuaHRtbCcgOiB3ZWJleHRBcGkucnVudGltZS5nZXRVUkwoJy9vcHRpb25zLmh0bWwnKTtcbmV4cG9ydCBjb25zdCBFWFRfT1BUSU5fVVJMID0gYGh0dHBzOi8vJHtBUFBfTVlXT1RfSE9TVF9VUkx9L3dlbGNvbWVgO1xuZXhwb3J0IGNvbnN0IE1ZV09UX09QVElOX1JPT1QgPSBgaHR0cHM6Ly8ke3Jvb3R9L2V4dGVuc2lvbi13ZWxjb21lLXNjcmVlbj93b3Qtd2VsY29tZS11cmw9YDtcbmV4cG9ydCBjb25zdCBCUkVBQ0hFU19VUkwgPSBjcm9zc2Jyb3dzZXJOYW1lID09PSAnZWRnZScgPyAnL2JyZWFjaEluZm8uaHRtbCcgOiB3ZWJleHRBcGkucnVudGltZS5nZXRVUkwoJy9icmVhY2hJbmZvLmh0bWwnKTtcbmV4cG9ydCBjb25zdCBDSFJPTUVfV0VCU1RPUkVfVVJMID0gYGh0dHBzOi8vY2hyb21lLmdvb2dsZS5jb20vd2Vic3RvcmUvZGV0YWlsL3dvdC13ZWItb2YtdHJ1c3Qtd2Vic2l0ZS8ke3dlYmV4dEFwaS5ydW50aW1lLmlkfS9yZXZpZXdzL2A7XG5leHBvcnQgY29uc3QgTVlfREFTSEJPQVJEX1VSTCA9IGBodHRwczovLyR7QVBQX01ZV09UX0hPU1RfVVJMfS9kYXNoYm9hcmQvbXlkYXNoYm9hcmRgO1xuXG5leHBvcnQgZnVuY3Rpb24gdHJ1bmNhdGVTdHJpbmcoc3RyaW5nLCBsZW5ndGhJbnB1dCA9IDI1LCBsZW5ndGhSZXN1bHQgPSAxNSkge1xuICAgIGlmIChzdHJpbmcubGVuZ3RoID4gbGVuZ3RoSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGAke3N0cmluZy5zbGljZSgwLCBsZW5ndGhSZXN1bHQpfS4uLiR7c3RyaW5nLnNsaWNlKHN0cmluZy5sZW5ndGggLSA2KX1gO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFRhYkZyb21Qb3B1cFF1ZXJ5U3RyaW5nKCkge1xuICAgIGlmICgvc2l0ZT0oLiopLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1cmw6IFJlZ0V4cC4kMSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cHBlckZpcnN0Q2FzZShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZWlkKGxlbmd0aCA9IDEwKSB7XG4gICAgY29uc3QgcG9zc2libGUgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbiAgICBsZXQgdGV4dCA9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNikpOyAvLyBkdWUgdG8gRE9NIGlkIGxpbWl0YXRpb25zIC0gZmlyc3QgY2hhciBtdXN0IGJlIGEgbGV0dGVyXG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcblxuICAgIHJldHVybiB0ZXh0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXR0cihocmVmLCBuYW1lKSB7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChocmVmKTtcbiAgICByZXR1cm4gdXJsLnNlYXJjaFBhcmFtcy5nZXQobmFtZSkgfHwgZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaGllbGRDb2xvcihyYXRpbmcpIHtcbiAgICBsZXQgY2F0ZWdvcmllcyA9IFtdO1xuICAgIGxldCBjb2xvciA9IChyYXRpbmcgJiYgcmF0aW5nLmNvbG9yKSB8fCAnZ3JheSc7XG4gICAgY29uc3Qgc2FmZXR5ID0gKHJhdGluZyAmJiByYXRpbmcuc2FmZXR5KSB8fCBVTktOT1dOO1xuICAgIGxldCB3YXJuaW5nO1xuXG4gICAgaWYgKHR5cGVvZiByYXRpbmcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNhdGVnb3JpZXMgPSByYXRpbmcuY2F0ZWdvcmllcy5tYXAoKGEpID0+IGEuaWQpO1xuXG4gICAgICAgIGlmIChzYWZldHkgPT09IE5PVF9TQUZFKSB7XG4gICAgICAgICAgICB3YXJuaW5nID0gJ3NldmVyZSc7XG4gICAgICAgIH0gZWxzZSBpZiAoc2FmZXR5ID09PSBTVVNQSUNJT1VTKSB7XG4gICAgICAgICAgICBjb2xvciA9ICd5ZWxsb3cnO1xuICAgICAgICAgICAgd2FybmluZyA9IGAke3JhdGluZy5yYXRpbmcgPD0gTUFYX1JFRF9TVFJJUF9SQVRJTkcgPyAncmVkJyA6ICd5ZWxsb3cnfXN0cmlwYDtcbiAgICAgICAgfSBlbHNlIGlmIChzYWZldHkgPT09IFNBRkUpIHtcbiAgICAgICAgICAgIHdhcm5pbmcgPSAnJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChDQVRFR09SSUVTX1JVTEVTLnJhdGluZ0Zsb3cuY2hpbGRTYWZldHkuc29tZSgoY2F0KSA9PiBjYXRlZ29yaWVzLmluY2x1ZGVzKGNhdCkpKSB7XG4gICAgICAgIHdhcm5pbmcgKz0gJytwYXJlbnRhbCc7XG4gICAgfVxuICAgIGlmIChjYXRlZ29yaWVzLmluY2x1ZGVzKENBVEVHT1JJRVNfUlVMRVMuYmxvY2suZ2FtYmxpbmcpKSB7XG4gICAgICAgIHdhcm5pbmcgKz0gJytnYW1ibGluZyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgY29sb3IsIHdhcm5pbmcgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3RhdHVzKHNjb3JlKSB7XG4gICAgbGV0IF9zdGF0dXMgPSAnUm9va2llJztcbiAgICBmb3IgKGNvbnN0IHN0YXR1cyBpbiBBQ1RJVklUWV9TQ09SRV9SVUxFUykge1xuICAgICAgICBpZiAoc2NvcmUgPCBBQ1RJVklUWV9TQ09SRV9SVUxFU1tzdGF0dXNdKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9zdGF0dXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGYWNlYm9va1NoYXJpbmdVcmwoaG9zdCA9IGZhbHNlLCByYXRpbmcgPSAwKSB7XG4gICAgY29uc3QgdGV4dCA9IHdlYmV4dEFwaS5pMThuLmdldE1lc3NhZ2UoYHNoYXJlVGV4dEZhY2Vib29rJHtob3N0ID8gJ1JhdGUnIDogJyd9YClcbiAgICAgICAgLnJlcGxhY2UoJyVMSU5LJScsIGhvc3QgPyAoRlVMTF9SRVBPUlRfVVJMICsgaG9zdCkgOiBGQUNFQk9PS19TSEFSRV9VUkwpXG4gICAgICAgIC5yZXBsYWNlKCclV0VCU0lURSUnLCBnZXREZWNvZGVkRG9tYWluKGhvc3QpKVxuICAgICAgICAucmVwbGFjZSgnJVNUQVJTJScsIChyYXRpbmcgLyAyMCkudG9GaXhlZCgwKSk7XG4gICAgcmV0dXJuIGAke0ZBQ0VCT09LX0RJQUxPR19VUkx9bGluaz0ke2hvc3QgPyAoRlVMTF9SRVBPUlRfVVJMICsgaG9zdCArIGVuY29kZVVSSUNvbXBvbmVudChGQUNFQk9PS19SQVRJTkdfUEFSQU1FVEVSUykpIDogRkFDRUJPT0tfU0hBUkVfVVJMfSZkZXNjcmlwdGlvbj0ke3RleHR9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR3aXR0ZXJTaGFyaW5nVXJsKGhvc3QgPSBmYWxzZSwgcmF0aW5nID0gMCkge1xuICAgIGNvbnN0IHRleHQgPSB3ZWJleHRBcGkuaTE4bi5nZXRNZXNzYWdlKGBzaGFyZVRleHRUd2l0dGVyJHtob3N0ID8gJ1JhdGUnIDogJyd9YClcbiAgICAgICAgLnJlcGxhY2UoJyVMSU5LJScsIGhvc3QgPyAoRlVMTF9SRVBPUlRfVVJMICsgaG9zdCArIGVuY29kZVVSSUNvbXBvbmVudChUV0lUVEVSX1JBVElOR19QQVJBTUVURVJTKSkgOiBUV0lUVEVSX1NIQVJFX1VSTClcbiAgICAgICAgLnJlcGxhY2UoJyVXRUJTSVRFJScsIGdldERlY29kZWREb21haW4oaG9zdCkpXG4gICAgICAgIC5yZXBsYWNlKCclU1RBUlMlJywgKHJhdGluZyAvIDIwKS50b0ZpeGVkKDApKTtcbiAgICByZXR1cm4gYCR7VFdJVFRFUl9ESUFMT0dfVVJMfSZ0ZXh0PSR7dGV4dH0gdmlhIEB3ZWJfb2ZfdHJ1c3RgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0R29vZ2xlU2hhcmluZ1VybChob3N0ID0gZmFsc2UsIHJhdGluZyA9IDApIHtcbiAgICBjb25zdCB0ZXh0ID0gd2ViZXh0QXBpLmkxOG4uZ2V0TWVzc2FnZShgc2hhcmVUZXh0R29vZ2xlJHtob3N0ID8gJ1JhdGUnIDogJyd9YClcbiAgICAgICAgLnJlcGxhY2UoJyVMSU5LJScsIGhvc3QgPyAoRlVMTF9SRVBPUlRfVVJMICsgaG9zdCkgOiBHT09HTEVfU0hBUkVfVVJMKVxuICAgICAgICAucmVwbGFjZSgnJVdFQlNJVEUlJywgZ2V0RGVjb2RlZERvbWFpbihob3N0KSlcbiAgICAgICAgLnJlcGxhY2UoJyVTVEFSUyUnLCAocmF0aW5nIC8gMjApLnRvRml4ZWQoMCkpO1xuICAgIHJldHVybiBgJHtHT09HTEVfRElBTE9HX1VSTH0mdXJsPSR7aG9zdCA/IChGVUxMX1JFUE9SVF9VUkwgKyBob3N0ICsgZW5jb2RlVVJJQ29tcG9uZW50KEdPT0dMRV9SQVRJTkdfUEFSQU1FVEVSUykpIDogR09PR0xFX1NIQVJFX1VSTH0mdGV4dD0ke3RleHR9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdoYXRzQXBwU2hhcmluZ1VybChob3N0ID0gZmFsc2UsIHJhdGluZyA9IDApIHtcbiAgICBjb25zdCB0ZXh0ID0gd2ViZXh0QXBpLmkxOG4uZ2V0TWVzc2FnZShgc2hhcmVUZXh0V2hhdHNBcHAke2hvc3QgPyAnUmF0ZScgOiAnJ31gKVxuICAgICAgICAucmVwbGFjZSgnJUxJTkslJywgaG9zdCA/IChGVUxMX1JFUE9SVF9VUkwgKyBob3N0KSA6IFdIQVRTQVBQX1NIQVJFX1VSTClcbiAgICAgICAgLnJlcGxhY2UoJyVXRUJTSVRFJScsIGdldERlY29kZWREb21haW4oaG9zdCkpXG4gICAgICAgIC5yZXBsYWNlKCclU1RBUlMlJywgKHJhdGluZyAvIDIwKS50b0ZpeGVkKDApKTtcbiAgICByZXR1cm4gYCR7V0hBVFNBUFBfRElBTE9HX1VSTH0mdGV4dD0ke3RleHR9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluamVjdEZvbnRzKCkge1xuICAgIGNvbnN0IGZvbnRzID0gLyogPG5vbi1maXJlZm94PiAqLyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgZm9udHMuaHJlZiA9IEZPTlRTX1VSTDtcbiAgICBmb250cy5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpLmFwcGVuZENoaWxkKGZvbnRzKTtcbn1cblxuLyoqXG4gKiBJbmplY3RzIGZvbnRzIGluIHRoZSBDb250ZW50IGNvbXBvbmVudHMuIFdlIHVzZSB0aGlzIGJlY2F1c2Ugc29tZSB3ZWJzaXRlcyBoYXZlIGEgY29udGVudCBzZWN1cml0eSBwb2xpY3kgdGhhdFxuICogcHJldmVudHMgdXMgZnJvbSBsb2FkaW5nIGZvbnRzIHVzaW5nIHRoZSAnbGluaycgaHRtbCB0YWcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RGb250c0NvbnRlbnQoKSB7XG4gICAgY29uc3QgaW5qZWN0ID0gKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGZvbnRzVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgaWYocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGZvbnRzVGFnLmlubmVySFRNTCA9IHJlc3BvbnNlLmZvbnRzO1xuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpLmFwcGVuZENoaWxkKGZvbnRzVGFnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgd2ViZXh0QXBpLnJ1bnRpbWUuc2VuZE1lc3NhZ2UoXG4gICAgICAgIHsgbmFtZTogSU5KRUNUX0ZPTlRTLCBjdXJyRG9jdW1lbnQ6IEpTT04uc3RyaW5naWZ5KGRvY3VtZW50KSB9LCBpbmplY3QuYmluZCh0aGlzKVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBwdW55Y29kZSA9IHtcbiAgICBpbml0aWFsX246IDB4ODAsXG4gICAgaW5pdGlhbF9iaWFzOiA3MixcbiAgICBkZWxpbWl0ZXI6ICdcXHgyRCcsXG4gICAgYmFzZTogMzYsXG4gICAgZGFtcDogNzAwLFxuICAgIHRtaW46IDEsXG4gICAgdG1heDogMjYsXG4gICAgc2tldzogMzgsXG4gICAgbWF4aW50OiAweDdGRkZGRkZGLFxuXG4gICAgLyogZGVjb2RlX2RpZ2l0KGNwKSByZXR1cm5zIHRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludFxuICAgICAoZm9yIHVzZSBpbiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSAwIHRvIGJhc2UtMSwgb3JcbiAgICAgYmFzZSBpZiBjcCBpcyBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS4gKi9cblxuICAgIGRlY29kZV9kaWdpdChjcCkge1xuICAgICAgICByZXR1cm4gY3AgLSA0OCA8IDEwXG4gICAgICAgICAgICA/IGNwIC0gMjIgOiBjcCAtIDY1IDwgMjZcbiAgICAgICAgICAgICAgICA/IGNwIC0gNjUgOiBjcCAtIDk3IDwgMjZcbiAgICAgICAgICAgICAgICAgICAgPyBjcCAtIDk3IDogYmFzZTtcbiAgICB9LFxuXG4gICAgLyogZW5jb2RlX2RpZ2l0KGQsZmxhZykgcmV0dXJucyB0aGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZVxuICAgICAod2hlbiB1c2VkIGZvciByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGQsIHdoaWNoIG5lZWRzIHRvIGJlIGluXG4gICAgIHRoZSByYW5nZSAwIHRvIGJhc2UtMS4gIFRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkIHVubGVzcyBmbGFnIGlzXG4gICAgIG5vbnplcm8sIGluIHdoaWNoIGNhc2UgdGhlIHVwcGVyY2FzZSBmb3JtIGlzIHVzZWQuICBUaGUgYmVoYXZpb3JcbiAgICAgaXMgdW5kZWZpbmVkIGlmIGZsYWcgaXMgbm9uemVybyBhbmQgZGlnaXQgZCBoYXMgbm8gdXBwZXJjYXNlXG4gICAgIGZvcm0uICovXG5cbiAgICBlbmNvZGVfZGlnaXQoZCwgZmxhZykge1xuICAgICAgICAvKiAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG4gICAgICAgICAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjkgKi9cbiAgICAgICAgcmV0dXJuIGQgKyAyMiArIDc1ICogKGQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG4gICAgfSxcblxuICAgIC8qIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiAqL1xuXG4gICAgYWRhcHQoZGVsdGEsIG51bXBvaW50cywgZmlyc3R0aW1lKSB7XG4gICAgICAgIGxldCBrO1xuXG4gICAgICAgIGRlbHRhID0gZmlyc3R0aW1lID8gTWF0aC5mbG9vcihkZWx0YSAvIHRoaXMuZGFtcCkgOiAoZGVsdGEgPj4gMSk7XG4gICAgICAgIGRlbHRhICs9IE1hdGguZmxvb3IoZGVsdGEgLyBudW1wb2ludHMpO1xuXG4gICAgICAgIGZvciAoayA9IDA7IGRlbHRhID4gKCgodGhpcy5iYXNlIC0gdGhpcy50bWluKSAqIHRoaXMudG1heCkgPj4gMSk7IGsgKz0gdGhpcy5iYXNlKSB7XG4gICAgICAgICAgICBkZWx0YSA9IE1hdGguZmxvb3IoZGVsdGEgLyAodGhpcy5iYXNlIC0gdGhpcy50bWluKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihrICsgKHRoaXMuYmFzZSAtIHRoaXMudG1pbiArIDEpICogZGVsdGFcbiAgICAgICAgICAgIC8gKGRlbHRhICsgdGhpcy5za2V3KSk7XG4gICAgfSxcblxuICAgIC8qIGVuY29kZV9iYXNpYyhiY3AsZmxhZykgZm9yY2VzIGEgYmFzaWMgY29kZSBwb2ludCB0byBsb3dlcmNhc2UgaWZcbiAgICAgZmxhZyBpcyB6ZXJvLCB1cHBlcmNhc2UgaWYgZmxhZyBpcyBub256ZXJvLCBhbmQgcmV0dXJucyB0aGVcbiAgICAgcmVzdWx0aW5nIGNvZGUgcG9pbnQuIFRoZSBjb2RlIHBvaW50IGlzIHVuY2hhbmdlZCBpZiBpdCAgaXNcbiAgICAgY2FzZWxlc3MuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQgaWYgYmNwIGlzIG5vdCBhIGJhc2ljIGNvZGVcbiAgICAgcG9pbnQuICovXG5cbiAgICBlbmNvZGVfYmFzaWMoYmNwLCBmbGFnKSB7XG4gICAgICAgIGJjcCAtPSAoYmNwIC0gOTcgPCAyNikgPDwgNTtcbiAgICAgICAgcmV0dXJuIGJjcCArICgoIWZsYWcgJiYgKGJjcCAtIDY1IDwgMjYpKSA8PCA1KTtcbiAgICB9LFxuXG4gICAgLyogTWFpbiBkZWNvZGUgKi9cblxuICAgIGRlY29kZShpbnB1dCwgcHJlc2VydmVDYXNlKSB7XG4gICAgICAgIC8qIERvbnQgdXNlIHVmdDE2ICovXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuICAgICAgICBjb25zdCBjYXNlX2ZsYWdzID0gW107XG4gICAgICAgIGNvbnN0IGlucHV0X2xlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIGxldCBvdXQ7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBsZXQgYmlhcztcbiAgICAgICAgbGV0IGJhc2ljO1xuICAgICAgICBsZXQgajtcbiAgICAgICAgbGV0IGljO1xuICAgICAgICBsZXQgb2xkaTtcbiAgICAgICAgbGV0IHc7XG4gICAgICAgIGxldCBrO1xuICAgICAgICBsZXQgZGlnaXQ7XG4gICAgICAgIGxldCB0O1xuICAgICAgICBsZXRcbiAgICAgICAgICAgIGxlbjtcblxuICAgICAgICAvKiBJbml0aWFsaXplIHRoZSBzdGF0ZTogKi9cbiAgICAgICAgbiA9IHRoaXMuaW5pdGlhbF9uO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgYmlhcyA9IHRoaXMuaW5pdGlhbF9iaWFzO1xuXG4gICAgICAgIC8qIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6ICBMZXQgYmFzaWMgYmUgdGhlIG51bWJlciBvZiBpbnB1dFxuICAgICAgICAgY29kZSBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgMCBpZiB0aGVyZSBpcyBub25lLFxuICAgICAgICAgdGhlbiBjb3B5IHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LiAqL1xuXG4gICAgICAgIGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YodGhpcy5kZWxpbWl0ZXIpO1xuXG4gICAgICAgIGlmIChiYXNpYyA8IDApIHtcbiAgICAgICAgICAgIGJhc2ljID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG4gICAgICAgICAgICBpZiAocHJlc2VydmVDYXNlKSB7XG4gICAgICAgICAgICAgICAgY2FzZV9mbGFnc1tvdXRwdXQubGVuZ3RoXSA9IChpbnB1dC5jaGFyQ29kZUF0KGopIC0gNjUgPCAyNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2RlY29kZTogaWxsZWdhbCBpbnB1dCA+PSAweDgwJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogTWFpbiBkZWNvZGluZyBsb29wOiAgU3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55XG4gICAgICAgICBiYXNpYyBjb2RlIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZ1xuICAgICAgICAgb3RoZXJ3aXNlLiAqL1xuXG4gICAgICAgIGZvciAoaWMgPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpYyA8IGlucHV0X2xlbmd0aDspIHtcbiAgICAgICAgICAgIC8qIGljIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQsICovXG5cbiAgICAgICAgICAgIC8qIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gZGVsdGEsXG4gICAgICAgICAgICAgd2hpY2ggZ2V0cyBhZGRlZCB0byBpLiAgVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuICAgICAgICAgICAgIGlmIHdlIGluY3JlYXNlIGkgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuICAgICAgICAgICAgIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGRlbHRhLiAqL1xuXG4gICAgICAgICAgICBmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IHRoaXMuYmFzZTsgOyBrICs9IHRoaXMuYmFzZSkge1xuICAgICAgICAgICAgICAgIGlmIChpYyA+PSBpbnB1dF9sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcignZGVjb2RlOiBiYWQgaW5wdXQgKDEpJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGlnaXQgPSB0aGlzLmRlY29kZV9kaWdpdChpbnB1dC5jaGFyQ29kZUF0KGljKyspKTtcblxuICAgICAgICAgICAgICAgIGlmIChkaWdpdCA+PSB0aGlzLmJhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcignZGVjb2RlOiBiYWQgaW5wdXQgKDIpJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRpZ2l0ID4gTWF0aC5mbG9vcigodGhpcy5tYXhpbnQgLSBpKSAvIHcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFJhbmdlRXJyb3IoJ2RlY29kZTogb3ZlcmZsb3cgKDEpJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaSArPSBkaWdpdCAqIHc7XG5cbiAgICAgICAgICAgICAgICB0ID0gayA8PSBiaWFzID8gdGhpcy50bWluIDogayA+PSBiaWFzICsgdGhpcy50bWF4XG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy50bWF4IDogayAtIGJpYXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGlnaXQgPCB0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh3ID4gTWF0aC5mbG9vcih0aGlzLm1heGludCAvICh0aGlzLmJhc2UgLSB0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcignZGVjb2RlOiBvdmVyZmxvdyAoMiknKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3ICo9ICh0aGlzLmJhc2UgLSB0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG4gICAgICAgICAgICBiaWFzID0gdGhpcy5hZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09PSAwKTtcblxuICAgICAgICAgICAgLyogaSB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBvdXQgdG8gMCwgaW5jcmVtZW50aW5nIG5cbiAgICAgICAgICAgICBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzogKi9cblxuICAgICAgICAgICAgaWYgKE1hdGguZmxvb3IoaSAvIG91dCkgPiB0aGlzLm1heGludCAtIG4pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCdkZWNvZGU6IG92ZXJmbG93ICgzKScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuICs9IE1hdGguZmxvb3IoaSAvIG91dCk7XG4gICAgICAgICAgICBpICU9IG91dDtcblxuICAgICAgICAgICAgLyogSW5zZXJ0IG4gYXQgcG9zaXRpb24gaSBvZiB0aGUgb3V0cHV0OiBDYXNlIG9mIGxhc3QgY2hhcmFjdGVyXG4gICAgICAgICAgICAgZGV0ZXJtaW5lcyB1cHBlcmNhc2UgZmxhZzogKi9cblxuICAgICAgICAgICAgaWYgKHByZXNlcnZlQ2FzZSkge1xuICAgICAgICAgICAgICAgIGNhc2VfZmxhZ3Muc3BsaWNlKGksIDAsIGlucHV0LmNoYXJDb2RlQXQoaWMgLSAxKSAtIDY1IDwgMjYpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdXRwdXQuc3BsaWNlKGksIDAsIG4pO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByZXNlcnZlQ2FzZSkge1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gb3V0cHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhc2VfZmxhZ3NbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W2ldID0gKFN0cmluZy5mcm9tQ2hhckNvZGUob3V0cHV0W2ldKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvVXBwZXJDYXNlKCkpLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvdXRmMTYuZW5jb2RlKG91dHB1dCk7XG4gICAgfSxcblxuICAgIC8qIE1haW4gZW5jb2RlIGZ1bmN0aW9uICovXG5cbiAgICBlbmNvZGUoaW5wdXQsIHByZXNlcnZlQ2FzZSkge1xuICAgICAgICAvKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gKi9cblxuICAgICAgICBsZXQgbjtcbiAgICAgICAgbGV0IGRlbHRhO1xuICAgICAgICBsZXQgaDtcbiAgICAgICAgbGV0IGI7XG4gICAgICAgIGxldCBiaWFzO1xuICAgICAgICBsZXQgajtcbiAgICAgICAgbGV0IG07XG4gICAgICAgIGxldCBxO1xuICAgICAgICBsZXQgaztcbiAgICAgICAgbGV0IHQ7XG4gICAgICAgIGxldCBpanY7XG4gICAgICAgIGxldFxuICAgICAgICAgICAgY2FzZV9mbGFncztcblxuICAgICAgICBpZiAocHJlc2VydmVDYXNlKSB7XG4gICAgICAgICAgICAvKiBQcmVzZXJ2ZSBjYXNlLCBzdGVwMSBvZiAyOiBHZXQgYSBsaXN0IG9mIHRoZSB1bmFsdGVyZWRcbiAgICAgICAgICAgICBzdHJpbmcgKi9cbiAgICAgICAgICAgIGNhc2VfZmxhZ3MgPSB3b3QuaWRuLnV0ZjE2LmRlY29kZShpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBDb252ZXJ0cyB0aGUgaW5wdXQgaW4gVVRGLTE2IHRvIFVuaWNvZGUgKi9cbiAgICAgICAgaW5wdXQgPSB3b3QuaWRuLnV0ZjE2LmRlY29kZShpbnB1dC50b0xvd2VyQ2FzZSgpKTtcblxuICAgICAgICBjb25zdCBpbnB1dF9sZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICAgIC8qIENhY2hlIHRoZSBsZW5ndGggKi9cblxuICAgICAgICBpZiAocHJlc2VydmVDYXNlKSB7XG4gICAgICAgICAgICAvKiBQcmVzZXJ2ZSBjYXNlLCBzdGVwMiBvZiAyOiBNb2RpZnkgdGhlIGxpc3QgdG8gdHJ1ZS9mYWxzZSAqL1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGlucHV0X2xlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY2FzZV9mbGFnc1tqXSA9IGlucHV0W2pdICE9IGNhc2VfZmxhZ3Nbal07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcblxuICAgICAgICAvKiBJbml0aWFsaXplIHRoZSBzdGF0ZTogKi9cbiAgICAgICAgbiA9IHRoaXMuaW5pdGlhbF9uO1xuICAgICAgICBkZWx0YSA9IDA7XG4gICAgICAgIGJpYXMgPSB0aGlzLmluaXRpYWxfYmlhcztcblxuICAgICAgICAvKiBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiAqL1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgaW5wdXRfbGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGlmIChpbnB1dFtqXSA8IDB4ODApIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGNhc2VfZmxhZ3NcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmVuY29kZV9iYXNpYyhpbnB1dFtqXSwgY2FzZV9mbGFnc1tqXSkgOiBpbnB1dFtqXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaCA9IGIgPSBvdXRwdXQubGVuZ3RoO1xuXG4gICAgICAgIC8qIGggaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkLCBiIGlzIHRoZVxuICAgICAgICAgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzICovXG5cbiAgICAgICAgaWYgKGIgPiAwKSB7XG4gICAgICAgICAgICBvdXRwdXQucHVzaCh0aGlzLmRlbGltaXRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBNYWluIGVuY29kaW5nIGxvb3A6ICovXG4gICAgICAgIHdoaWxlIChoIDwgaW5wdXRfbGVuZ3RoKSB7XG4gICAgICAgICAgICAvKiBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LlxuICAgICAgICAgICAgIEZpbmQgdGhlIG5leHQgbGFyZ2VyIG9uZTogKi9cblxuICAgICAgICAgICAgZm9yIChtID0gdGhpcy5tYXhpbnQsIGogPSAwOyBqIDwgaW5wdXRfbGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpanYgPSBpbnB1dFtqXTtcblxuICAgICAgICAgICAgICAgIGlmIChpanYgPj0gbiAmJiBpanYgPCBtKSB7XG4gICAgICAgICAgICAgICAgICAgIG0gPSBpanY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiBJbmNyZWFzZSBkZWx0YSBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlXG4gICAgICAgICAgICAgdG8gPG0sMD4sIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93OiAqL1xuXG4gICAgICAgICAgICBpZiAobSAtIG4gPiBNYXRoLmZsb29yKCh0aGlzLm1heGludCAtIGRlbHRhKSAvIChoICsgMSkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcignZW5jb2RlOiBvdmVyZmxvdyAoMSknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVsdGEgKz0gKG0gLSBuKSAqIChoICsgMSk7XG4gICAgICAgICAgICBuID0gbTtcblxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGlucHV0X2xlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgaWp2ID0gaW5wdXRbal07XG5cbiAgICAgICAgICAgICAgICBpZiAoaWp2IDwgbiAmJiArK2RlbHRhID4gdGhpcy5tYXhpbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcignZW5jb2RlOiBvdmVyZmxvdyAoMiknKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaWp2ID09IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgLyogUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICBpbnRlZ2VyOiAqL1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAocSA9IGRlbHRhLCBrID0gdGhpcy5iYXNlOyA7IGsgKz0gdGhpcy5iYXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ID0gayA8PSBiaWFzID8gdGhpcy50bWluIDogayA+PSBiaWFzICsgdGhpcy50bWF4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnRtYXggOiBrIC0gYmlhcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHEgPCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmNvZGVfZGlnaXQodCArIChxIC0gdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJSAodGhpcy5iYXNlIC0gdCksIDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHEgPSBNYXRoLmZsb29yKChxIC0gdCkgLyAodGhpcy5iYXNlIC0gdCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmVuY29kZV9kaWdpdChxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VydmVDYXNlICYmIGNhc2VfZmxhZ3Nbal0gPyAxIDogMCkpKTtcblxuICAgICAgICAgICAgICAgICAgICBiaWFzID0gdGhpcy5hZGFwdChkZWx0YSwgaCArIDEsIGggPT0gYik7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhID0gMDtcbiAgICAgICAgICAgICAgICAgICAgKytoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgKytkZWx0YTtcbiAgICAgICAgICAgICsrbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXRwdXQuam9pbignJyk7XG4gICAgfSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2FzY2lpKHRhcmdldCkge1xuICAgIGlmICgvW1s6XS8udGVzdCh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIC8qIGRvZXNuJ3QgbG9vayBsaWtlIGEgcHJvcGVyIG5hbWUgKi9cbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIHRhcmdldC50b0xvd2VyQ2FzZSgpLnNwbGl0KCcuJykuZm9yRWFjaCgocGFydCkgPT4ge1xuICAgICAgICBpZiAoL15bXFx3LV0qJC8udGVzdChwYXJ0KSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChgeG4tLSR7cHVueWNvZGUuZW5jb2RlKHBhcnQpfWApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJy4nKTtcbn1cblxuZXhwb3J0IGNvbnN0IHRvdXRmMTYgPSB7XG4gICAgZGVjb2RlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGNvbnN0IGxlbiA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBsZXRcbiAgICAgICAgICAgIGV4dHJhO1xuXG4gICAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcblxuICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4RjgwMCkgPT09IDB4RDgwMCkge1xuICAgICAgICAgICAgICAgIGV4dHJhID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuXG4gICAgICAgICAgICAgICAgaWYgKCgodmFsdWUgJiAweEZDMDApICE9PSAweEQ4MDApXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoZXh0cmEgJiAweEZDMDApICE9PSAweERDMDApKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCd1dGYxNi5kZWNvZGU6IGlsbGVnYWwgc2VxdWVuY2UnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3V0cHV0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9LFxuXG4gICAgZW5jb2RlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGNvbnN0IGxlbiA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgbGV0IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGlucHV0W2krK107XG5cbiAgICAgICAgICAgIGlmICgodmFsdWUgJiAweEY4MDApID09PSAweEQ4MDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndXRmMTYuZW5jb2RlOiBpbGxlZ2FsIHZhbHVlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IDB4RkZGRikge1xuICAgICAgICAgICAgICAgIHZhbHVlIC09IDB4MTAwMDA7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgoKHZhbHVlID4+PiAxMCkgJiAweDNGRilcbiAgICAgICAgICAgICAgICAgICAgfCAweEQ4MDApKTtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IDB4REMwMCB8ICh2YWx1ZSAmIDB4M0ZGKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3V0cHV0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh2YWx1ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcbiAgICB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvdW5pY29kZSh0YXJnZXQpIHtcbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgIHRhcmdldC50b0xvd2VyQ2FzZSgpLnNwbGl0KCcuJykuZm9yRWFjaCgocGFydCkgPT4ge1xuICAgICAgICBpZiAocGFydC5pbmRleE9mKCd4bi0tJykgPT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocHVueWNvZGUuZGVjb2RlKFxuICAgICAgICAgICAgICAgIHBhcnQucmVwbGFjZSgneG4tLScsICcnKSxcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocGFydCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXN1bHQuam9pbignLicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxlKCkge1xuICAgIGNvbnN0IGxvY2FsZSA9IHdlYmV4dEFwaS5pMThuLmdldFVJTGFuZ3VhZ2UoKS5yZXBsYWNlKCdfJywgJy0nKTtcbiAgICByZXR1cm4gbG9jYWxlLmxlbmd0aCA8IDcgPyBsb2NhbGUgOiAnZW4tVVMnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVEb21haW4oaG9zdCkge1xuICAgIHJldHVybiBWQUxJRF9IT1NUTkFNRS50ZXN0KGhvc3QpID8gaG9zdCA6ICcnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVZlcnNpb25zKGEsIGIpIHtcbiAgICAvLyBjb21wYXJlIHZlcnNpb25zXG4gICAgLy8gUmV0dXJuIDEgaWYgYSA+IGJcbiAgICAvLyBSZXR1cm4gLTEgaWYgYSA8IGJcbiAgICAvLyBSZXR1cm4gMCBpZiBhID09IGJcbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIDA7XG4gICAgY29uc3QgYUNvbXBvbmVudHMgPSBhLnNwbGl0KCcuJyk7XG4gICAgY29uc3QgYkNvbXBvbmVudHMgPSBiLnNwbGl0KCcuJyk7XG4gICAgY29uc3QgbGVuID0gTWF0aC5taW4oYUNvbXBvbmVudHMubGVuZ3RoLCBiQ29tcG9uZW50cy5sZW5ndGgpO1xuICAgIC8vIGxvb3Agd2hpbGUgdGhlIGNvbXBvbmVudHMgYXJlIGVxdWFsXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyBBIGJpZ2dlciB0aGFuIEJcbiAgICAgICAgaWYgKHBhcnNlSW50KGFDb21wb25lbnRzW2ldKSA+IHBhcnNlSW50KGJDb21wb25lbnRzW2ldKSkgcmV0dXJuIDE7XG4gICAgICAgIC8vIEIgYmlnZ2VyIHRoYW4gQVxuICAgICAgICBpZiAocGFyc2VJbnQoYUNvbXBvbmVudHNbaV0pIDwgcGFyc2VJbnQoYkNvbXBvbmVudHNbaV0pKSByZXR1cm4gLTE7XG4gICAgfVxuICAgIC8vIElmIG9uZSdzIGEgcHJlZml4IG9mIHRoZSBvdGhlciwgdGhlIGxvbmdlciBvbmUgaXMgZ3JlYXRlci5cbiAgICBpZiAoYUNvbXBvbmVudHMubGVuZ3RoID4gYkNvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoYUNvbXBvbmVudHMubGVuZ3RoIDwgYkNvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgLy8gT3RoZXJ3aXNlIHRoZXkgYXJlIHRoZSBzYW1lLlxuICAgIHJldHVybiAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T1MoKSB7XG4gICAgbGV0IG9zID0gbnVsbDtcbiAgICBjb25zdCBjbGllbnRTdHJpbmdzID0gW1xuICAgICAgICB7IHM6ICdXaW5kb3dzIDEwJywgcjogLyhXaW5kb3dzIDEwLjB8V2luZG93cyBOVCAxMC4wKS8gfSxcbiAgICAgICAgeyBzOiAnV2luZG93cyA4LjEnLCByOiAvKFdpbmRvd3MgOC4xfFdpbmRvd3MgTlQgNi4zKS8gfSxcbiAgICAgICAgeyBzOiAnV2luZG93cyA4JywgcjogLyhXaW5kb3dzIDh8V2luZG93cyBOVCA2LjIpLyB9LFxuICAgICAgICB7IHM6ICdXaW5kb3dzIDcnLCByOiAvKFdpbmRvd3MgN3xXaW5kb3dzIE5UIDYuMSkvIH0sXG4gICAgICAgIHsgczogJ1dpbmRvd3MgVmlzdGEnLCByOiAvV2luZG93cyBOVCA2LjAvIH0sXG4gICAgICAgIHsgczogJ1dpbmRvd3MgU2VydmVyIDIwMDMnLCByOiAvV2luZG93cyBOVCA1LjIvIH0sXG4gICAgICAgIHsgczogJ1dpbmRvd3MgWFAnLCByOiAvKFdpbmRvd3MgTlQgNS4xfFdpbmRvd3MgWFApLyB9LFxuICAgICAgICB7IHM6ICdXaW5kb3dzIDIwMDAnLCByOiAvKFdpbmRvd3MgTlQgNS4wfFdpbmRvd3MgMjAwMCkvIH0sXG4gICAgICAgIHsgczogJ1dpbmRvd3MgTUUnLCByOiAvKFdpbiA5eCA0LjkwfFdpbmRvd3MgTUUpLyB9LFxuICAgICAgICB7IHM6ICdXaW5kb3dzIDk4JywgcjogLyhXaW5kb3dzIDk4fFdpbjk4KS8gfSxcbiAgICAgICAgeyBzOiAnV2luZG93cyA5NScsIHI6IC8oV2luZG93cyA5NXxXaW45NXxXaW5kb3dzXzk1KS8gfSxcbiAgICAgICAgeyBzOiAnV2luZG93cyBOVCA0LjAnLCByOiAvKFdpbmRvd3MgTlQgNC4wfFdpbk5UNC4wfFdpbk5UfFdpbmRvd3MgTlQpLyB9LFxuICAgICAgICB7IHM6ICdXaW5kb3dzIENFJywgcjogL1dpbmRvd3MgQ0UvIH0sXG4gICAgICAgIHsgczogJ1dpbmRvd3MgMy4xMScsIHI6IC9XaW4xNi8gfSxcbiAgICAgICAgeyBzOiAnQW5kcm9pZCcsIHI6IC9BbmRyb2lkLyB9LFxuICAgICAgICB7IHM6ICdPcGVuIEJTRCcsIHI6IC9PcGVuQlNELyB9LFxuICAgICAgICB7IHM6ICdTdW4gT1MnLCByOiAvU3VuT1MvIH0sXG4gICAgICAgIHsgczogJ0xpbnV4JywgcjogLyhMaW51eHxYMTEpLyB9LFxuICAgICAgICB7IHM6ICdpT1MnLCByOiAvKGlQaG9uZXxpUGFkfGlQb2QpLyB9LFxuICAgICAgICB7IHM6ICdNYWMgT1MgWCcsIHI6IC9NYWMgT1MgWC8gfSxcbiAgICAgICAgeyBzOiAnTWFjIE9TJywgcjogLyhNYWNQUEN8TWFjSW50ZWx8TWFjX1Bvd2VyUEN8TWFjaW50b3NoKS8gfSxcbiAgICAgICAgeyBzOiAnUU5YJywgcjogL1FOWC8gfSxcbiAgICAgICAgeyBzOiAnVU5JWCcsIHI6IC9VTklYLyB9LFxuICAgICAgICB7IHM6ICdCZU9TJywgcjogL0JlT1MvIH0sXG4gICAgICAgIHsgczogJ09TLzInLCByOiAvT1NcXC8yLyB9LFxuICAgICAgICB7IHM6ICdTZWFyY2ggQm90JywgcjogLyhudWhrfEdvb2dsZWJvdHxZYW1teWJvdHxPcGVuYm90fFNsdXJwfE1TTkJvdHxBc2sgSmVldmVzXFwvVGVvbWF8aWFfYXJjaGl2ZXIpLyB9LFxuICAgIF07XG4gICAgZm9yIChjb25zdCBpZCBpbiBjbGllbnRTdHJpbmdzKSB7XG4gICAgICAgIGNvbnN0IGNzID0gY2xpZW50U3RyaW5nc1tpZF07XG4gICAgICAgIGlmIChjcy5yLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgIG9zID0gY3MucztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QnJvd3NlckluZm8oKSB7XG4gICAgY29uc3QgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIGxldCB0ZW07XG4gICAgbGV0IE0gPSB1YS5tYXRjaCgvKG9wZXJhfGNocm9tZXxzYWZhcml8ZmlyZWZveHxtc2llfHRyaWRlbnQoPz1cXC8pKVxcLz9cXHMqKFxcZCspL2kpIHx8IFtdO1xuICAgIGlmICgvdHJpZGVudC9pLnRlc3QoTVsxXSkpIHtcbiAgICAgICAgdGVtID0gL1xcYnJ2WyA6XSsoXFxkKykvZy5leGVjKHVhKSB8fCBbXTtcbiAgICAgICAgcmV0dXJuIHsgbmFtZTogJ0lFJywgdmVyc2lvbjogKHRlbVsxXSB8fCAnJykgfTtcbiAgICB9XG4gICAgaWYgKE1bMV0gPT09ICdDaHJvbWUnKSB7XG4gICAgICAgIHRlbSA9IHVhLm1hdGNoKC9cXGIoT1BSfEVkZ2V8RWRnfFNhbXN1bmdCcm93c2VyfFlhQnJvd3NlcilcXC8oXFxkKykvKTtcbiAgICAgICAgaWYgKHRlbSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRlbVsxXS5yZXBsYWNlKCdPUFInLCAnT3BlcmEnKS5yZXBsYWNlKCdZYUJyb3dzZXInLCAnWWFuZGV4JykucmVwbGFjZSgnU2Ftc3VuZ0Jyb3dzZXInLCAnU2Ftc3VuZycpLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IHRlbVsyXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBNID0gTVsyXSA/IFtNWzFdLCBNWzJdXSA6IFtuYXZpZ2F0b3IuYXBwTmFtZSwgbmF2aWdhdG9yLmFwcFZlcnNpb24sICctPyddO1xuICAgIGlmICgodGVtID0gdWEubWF0Y2goL3ZlcnNpb25cXC8oXFxkKykvaSkpICE9IG51bGwpIE0uc3BsaWNlKDEsIDEsIHRlbVsxXSk7XG4gICAgcmV0dXJuIHsgbmFtZTogTVswXSwgdmVyc2lvbjogTVsxXSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVVdWlkVjQoKSB7XG4gICAgbGV0IHRzID0gRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IHN0ciA9ICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnO1xuICAgIGNvbnN0IHV1aWQgPSBzdHIucmVwbGFjZSgvW3h5XS9nLCAoYykgPT4ge1xuICAgICAgICBjb25zdCByID0gKHRzICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDtcbiAgICAgICAgdHMgPSBNYXRoLmZsb29yKHRzIC8gMTYpO1xuXG4gICAgICAgIHJldHVybiAoYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KSkudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFVybChiYXNlVVJMLCBwYXJhbXMpIHtcbiAgICBjb25zdCBzdHJpbmcgPSBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcCgoa2V5KSA9PiBgJHtrZXl9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trZXldKX1gKS5qb2luKCcmJyk7XG5cbiAgICBpZiAoYmFzZVVSTCA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9XG4gICAgaWYgKGJhc2VVUkwuaW5kZXhPZignPycpID09PSAtMSkge1xuICAgICAgICByZXR1cm4gYCR7YmFzZVVSTH0/JHtzdHJpbmd9YDtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VVUkwgKyBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREb21haW4oaHJlZikge1xuICAgIGNvbnN0IGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgY29uc3QgcmVnZXhwID0gLyhbXi5dK1xcLik/KFteXFwuXStcXC4uKykvO1xuICAgIGwuaHJlZiA9IGhyZWYgJiYgaHJlZi5pbmRleE9mKCc6Ly8nKSAhPT0gLTEgPyBocmVmIDogYGh0dHA6Ly8ke2hyZWZ9YDtcbiAgICBjb25zdCBtYXRjaGVzID0gbC5ob3N0bmFtZS5tYXRjaChyZWdleHApO1xuXG4gICAgcmV0dXJuIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID4gMikgPyBtYXRjaGVzWzJdIDogbC5ob3N0bmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUJvb2woKSB7XG4gICAgY29uc3QgYSA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYSk7XG4gICAgcmV0dXJuIGFbMF0gPiAxMjc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0xvY2FsaG9zdCh1cmwpIHtcbiAgICBpZiAodXJsLmluZGV4T2YoJy8vbG9jYWxob3N0LycpICE9PSAtMSB8fCB1cmwuaW5kZXhPZignLy9sb2NhbGhvc3Q6JykgIT09IC0xKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRzaGFyZWRsZXZlbChob3N0KSB7XG4gICAgcmV0dXJuIFNIQVJFRF9IT1NUU1tob3N0XSB8fCAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlaG9zdG5hbWUoaG9zdCwgcGF0aCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICghaG9zdCB8fCAhcGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3Q7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBDbGVhbiB1cCB0aGUgcGF0aCwgZHJvcCBxdWVyeSBzdHJpbmcgYW5kIGhhc2ggKi9cbiAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlxccyovZywgJycpLnJlcGxhY2UoL1xccyokLywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvW1xcPyNdLiokLywgJycpLnJlcGxhY2UoL1xcLyQvLCAnJyk7XG5cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgMiB8fCBwYXRoWzBdICE9ICcvJykge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjID0gcGF0aC5zcGxpdCgnLycpO1xuXG4gICAgICAgIGlmICghYyB8fCAhYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0O1xuICAgICAgICB9XG5cbiAgICAgICAgLyogRHJvcCBhIHN1c3BlY3RlZCBmaWxlbmFtZSBmcm9tIHRoZSBlbmQgKi9cbiAgICAgICAgaWYgKHBhdGhbcGF0aC5sZW5ndGggLSAxXSAhPSAnLydcbiAgICAgICAgICAgICYmIC9cXC5bXlxcLl17MSw2fSQvLnRlc3QoY1tjLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICAgICAgYy5wb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsZXZlbCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGMubGVuZ3RoOyAhbGV2ZWwgJiYgaSA+IDA7IC0taSkge1xuICAgICAgICAgICAgbGV2ZWwgPSBnZXRzaGFyZWRsZXZlbChob3N0ICsgYy5zbGljZSgwLCBpKS5qb2luKCcvJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFsZXZlbCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3Q7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwID0gYy5zbGljZSgwLCBsZXZlbCArIDEpLmpvaW4oJy8nKS5yZXBsYWNlKC9eXFwvLywgJycpO1xuXG4gICAgICAgIGlmICghcCB8fCAhcC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IFdvdENyeXB0by5iYXNlMzIuZW5jb2RlKHApO1xuXG4gICAgICAgIGlmIChlbmNvZGVkID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBob3N0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGBfcF8ke2VuY29kZWR9LiR7aG9zdH1gO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgO1xuICAgIH1cblxuICAgIHJldHVybiBob3N0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xlYW5Eb21haW4oaHJlZikge1xuICAgIGlmICghaHJlZikgcmV0dXJuIGhyZWY7XG4gICAgaHJlZiA9IGhyZWYudHJpbSgpO1xuICAgIGlmICghL15odHRwcz86XFwvXFwvLy50ZXN0KGhyZWYpKSB7XG4gICAgICAgIGhyZWYgPSBgaHR0cDovLyR7aHJlZn1gO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IFVSTChocmVmKS5ob3N0bmFtZS5yZXBsYWNlKC9ed3d3XFxkKlxcLi8sICcnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBocmVmO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVuY29kZWREb21haW4oaHJlZikge1xuICAgIGlmICghaHJlZikgcmV0dXJuIGhyZWY7XG4gICAgaHJlZiA9IGhyZWYgJiYgaHJlZi5pbmRleE9mKCc6Ly8nKSAhPT0gLTEgPyBocmVmIDogYGh0dHA6Ly8ke2hyZWZ9YDtcbiAgICBocmVmID0gaHJlZi5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKS5yZXBsYWNlKCc6Ly93d3cuJywgJzovLycpO1xuICAgIGNvbnN0IHsgaG9zdG5hbWUgfSA9IG5ldyBVUkwoaHJlZik7XG4gICAgbGV0IGhvc3QgPSBob3N0bmFtZTtcblxuICAgIGlmIChTVVBQT1JURURfUFJPVE9DT0xTLnRlc3QoaHJlZikpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSAvXihcXHcrKTpcXC9cXC8oKFteOkBdKykoOihbXkBdKykpP0ApPyhbXjpcXC9cXD8mPSNcXFtcXF1dK3xcXFtbXlxcL1xcPyY9I1xcW1xcXV0rXFxdKVxcLj8oOihcXGQrKSk/KC4qKSQvLmV4ZWMoaHJlZik7XG5cbiAgICAgICAgaWYgKG1hdGNoICYmIGhvc3QpIHtcbiAgICAgICAgICAgIGhvc3QgPSB0b2FzY2lpKGhvc3QpO1xuICAgICAgICAgICAgcmV0dXJuIGVuY29kZWhvc3RuYW1lKGhvc3QsIG1hdGNoWzldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaG9zdDtcbiAgICB9XG59XG5cbi8vIGdldCBkZWNvZGVkIGRvbWFpblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlY29kZWREb21haW4oaG9zdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG0gPSAvXl9wXyhbYS16Mi03XSspXFwuKC4rKSQvLmV4ZWMoaG9zdCk7XG5cbiAgICAgICAgaWYgKCFtIHx8ICFtWzFdIHx8ICFtWzJdKSB7XG4gICAgICAgICAgICByZXR1cm4gdG91bmljb2RlKGhvc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IFdvdENyeXB0by5iYXNlMzIuZGVjb2RlKG1bMV0pO1xuXG4gICAgICAgIGlmIChkZWNvZGVkID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0b3VuaWNvZGUoaG9zdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYCR7dG91bmljb2RlKG1bMl0pfS8ke2RlY29kZWR9YDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIDtcbiAgICB9XG5cbiAgICByZXR1cm4gdG91bmljb2RlKGhvc3QpO1xufVxuXG5jb25zdCBnZXRVcmwgPSAoKSA9PiB3aW5kb3cubG9jYXRpb24uaHJlZjtcblxuZXhwb3J0IGNvbnN0IGZpbmRTZXJwID0gKHN0YXRlKSA9PiB7XG4gICAgY29uc3QgdXJsID0gZ2V0VXJsKCk7XG4gICAgY29uc3QgeyBzZXJwcyA9IFtdIH0gPSBzdGF0ZTtcbiAgICByZXR1cm4gc2VycHMuZmluZChzID0+IG5ldyBSZWdFeHAocy5wYXR0ZXJuKS50ZXN0KHVybCkpO1xufTtcbmNvbnN0IGlzRnJvbVdoaXRlbGlzdCA9IChzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHdoaXRlbGlzdCA9IChzdGF0ZS5yZW1vdGVDb25maWcuZmVhdHVyZXMubGVha01vbml0b3JpbmdIb29rXG4gICAgICAgICYmIHN0YXRlLnJlbW90ZUNvbmZpZy5mZWF0dXJlcy5sZWFrTW9uaXRvcmluZ0hvb2sud2hpdGVsaXN0KSB8fCBTQUZFX0RPTUFJTlM7XG4gICAgcmV0dXJuIHdoaXRlbGlzdC5zb21lKGQgPT4gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmVuZHNXaXRoKGQpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1RydXN0ZWRTaXRlID0gKHN0YXRlKSA9PiBmaW5kU2VycChzdGF0ZSkgfHwgaXNGcm9tV2hpdGVsaXN0KHN0YXRlKTtcblxuZXhwb3J0IGNsYXNzIEFuYWx5dGljc0V2ZW50IHtcbiAgICBjcmVhdGVQYXlsb2FkKCkge1xuICAgICAgICBjb25zdCBlbmNyeXB0ZWQgPSBidG9hKEFycmF5LmZyb20oSlNPTi5zdHJpbmdpZnkodGhpcykpLm1hcCgobCwgaSkgPT4gbC5jaGFyQ29kZUF0KDApIC0gKHRoaXMudXVpZC5sZW5ndGggKyAyICogaSkpLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4geyBldjogZW5jcnlwdGVkLCBzZTogdGhpcy51dWlkIH07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgV290QW5hbHl0aWNzRXZlbnQgZXh0ZW5kcyBBbmFseXRpY3NFdmVudCB7XG4gICAgY29uc3RydWN0b3IoYWN0aW9uLCB1dG1Tb3VyY2UsIHRlc3RHcm91cCwgZXZlbnRQYXlsb2FkLCB1dWlkKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucHJvZHVjdCA9IEFOQUxZVElDUy5BTkFMWVRJQ1NfUFJPRFVDVDtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9IEFOQUxZVElDUy5BTkFMWVRJQ1NfUExBVEZPUk07XG4gICAgICAgIHRoaXMudXVpZCA9IHV1aWQ7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IEFOQUxZVElDUy5BTkFMWVRJQ1NfUkVTT1VSQ0VfVFlQRVMuT1JHQU5JQztcbiAgICAgICAgdGhpcy5jb3VudHJ5ID0gZ2V0TG9jYWxlKCk7XG4gICAgICAgIHRoaXMudXNlcl9hZ2VudCA9IGJyb3dzZXJOYW1lO1xuICAgICAgICB0aGlzLmV2ZW50X3R5cGUgPSBhY3Rpb247XG4gICAgICAgIHRoaXMucHVyY2hhc2Vfc291cmNlID0gdXRtU291cmNlO1xuICAgICAgICB0aGlzLnRlc3RfZ3JvdXAgPSB0ZXN0R3JvdXA7XG4gICAgICAgIHRoaXMucGF5bG9hZCA9IGV2ZW50UGF5bG9hZDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVc2VyRGF0YUFuYWx5dGljc0V2ZW50IGV4dGVuZHMgQW5hbHl0aWNzRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKGV2ZW50TWVzc2FnZSwgdmVyc2lvbk51bWJlciwgaXNQcmVtaXVtLCBldmVudEJvZHkpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wcm9kdWN0ID0gJ1dPVCc7XG4gICAgICAgIHRoaXMucGxhdGZvcm0gPSAnZXh0ZW5zaW9uJztcbiAgICAgICAgdGhpcy51dWlkID0gV09UX1RSQUNFX0lELnZhbHVlLnNsaWNlKDMpO1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuY291bnRyeSA9IGdldExvY2FsZSgpO1xuICAgICAgICB0aGlzLmV2ZW50TWVzc2FnZSA9IGV2ZW50TWVzc2FnZTtcbiAgICAgICAgdGhpcy52ZXJzaW9uTnVtYmVyID0gdmVyc2lvbk51bWJlcjtcbiAgICAgICAgdGhpcy5pc1ByZW1pdW1Vc2VyID0gaXNQcmVtaXVtO1xuICAgICAgICB0aGlzLnVzZXJTdGF0ZSA9IGV2ZW50Qm9keTtcbiAgICB9XG59XG5cbi8vIFVzZXIgU3RhdGlzdGljc1xuZXhwb3J0IGZ1bmN0aW9uIGluY3JlbWVudFVzZXJTdGF0aXN0aWNzRGF0YShzdGF0aXN0aWNLZXkpIHtcbiAgICB3ZWJleHRBcGkuc3RvcmFnZS5sb2NhbC5nZXQoVVNFUl9TVEFUSVNUSUNTX1NUT1JBR0VfS0VZLCAodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRzID0gdmFsdWVbVVNFUl9TVEFUSVNUSUNTX1NUT1JBR0VfS0VZXSB8fCB7fTtcbiAgICAgICAgY29uc3Qgc3RhdGlzdGljID0gY3VycmVudFN0YXRzW3N0YXRpc3RpY0tleV07XG4gICAgICAgIGN1cnJlbnRTdGF0c1tzdGF0aXN0aWNLZXldID0gc3RhdGlzdGljID8gc3RhdGlzdGljICsgMSA6IDE7XG4gICAgICAgIHdlYmV4dEFwaS5zdG9yYWdlLmxvY2FsLnNldCh7IFtVU0VSX1NUQVRJU1RJQ1NfU1RPUkFHRV9LRVldOiBjdXJyZW50U3RhdHMgfSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlQmxvY2tlZFNpdGVVc2VyU3RhdGlzdGljcyhzaXRlTmFtZSwgcmVhc29uKSB7XG4gICAgd2ViZXh0QXBpLnN0b3JhZ2UubG9jYWwuZ2V0KFVTRVJfU1RBVElTVElDU19CTE9DS0VEX1NJVEVTX0tFWSwgKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhc3RCbG9ja2VkV2Vic2l0ZXMgPSB2YWx1ZVtVU0VSX1NUQVRJU1RJQ1NfQkxPQ0tFRF9TSVRFU19LRVldIHx8IFtdO1xuICAgICAgICBjb25zdCBibG9ja2VkV2Vic2l0ZUluZm9ybWF0aW9uID0geyBkYXRlOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgbmFtZTogc2l0ZU5hbWUsIGFjdGlvbjogJ2Jsb2NrZWQnLCByZWFzb24gfTtcbiAgICAgICAgaWYocGFzdEJsb2NrZWRXZWJzaXRlcy5sZW5ndGggPT09IE1BWF9CTE9DS0VEX1dFQlNJVEVTX0xFTkdUSCkge1xuICAgICAgICAgICAgcGFzdEJsb2NrZWRXZWJzaXRlcy5wb3AoKVxuICAgICAgICB9XG4gICAgICAgIHBhc3RCbG9ja2VkV2Vic2l0ZXMudW5zaGlmdChibG9ja2VkV2Vic2l0ZUluZm9ybWF0aW9uKTtcbiAgICAgICAgd2ViZXh0QXBpLnN0b3JhZ2UubG9jYWwuc2V0KHsgW1VTRVJfU1RBVElTVElDU19CTE9DS0VEX1NJVEVTX0tFWV06IHBhc3RCbG9ja2VkV2Vic2l0ZXMgfSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVCbG9ja2VkU2l0ZXNTdGF0aXN0aWNzRGF0YSgpIHtcbiAgICB3ZWJleHRBcGkuc3RvcmFnZS5sb2NhbC5nZXQoVVNFUl9TVEFUSVNUSUNTX0JMT0NLRURfU0lURVNfS0VZLCAodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgcGFzdEJsb2NrZWRXZWJzaXRlcyA9IHZhbHVlW1VTRVJfU1RBVElTVElDU19CTE9DS0VEX1NJVEVTX0tFWV0gfHwgW107XG4gICAgICAgIGNvbnN0IG9uZU1vbnRoQWdvID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBPTkVfTU9OVEg7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWREYXRhID0gcGFzdEJsb2NrZWRXZWJzaXRlcy5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmRhdGUgPiBvbmVNb250aEFnbztcbiAgICAgICAgfSk7XG4gICAgICAgIHdlYmV4dEFwaS5zdG9yYWdlLmxvY2FsLnNldCh7IFtVU0VSX1NUQVRJU1RJQ1NfQkxPQ0tFRF9TSVRFU19LRVldOiB1cGRhdGVkRGF0YSB9KTtcbiAgICB9KTtcbn1cblxuLy8gIyMjIyMgRGFzaGJvYXJkIGNvbW11bmljYXRpb24gIyMjIyNcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJTdGF0aXN0aWNzKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICB3ZWJleHRBcGkuc3RvcmFnZS5sb2NhbC5nZXQoVVNFUl9TVEFUSVNUSUNTX1NUT1JBR0VfS0VZLCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0aXN0aWNzID0gdmFsdWVbVVNFUl9TVEFUSVNUSUNTX1NUT1JBR0VfS0VZXSB8fCB7fTtcbiAgICAgICAgICAgIHJlc29sdmUoY3VycmVudFN0YXRpc3RpY3MpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVzZXJCbG9ja2VkV2Vic2l0ZXNTdGF0aXN0aWNzKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICB3ZWJleHRBcGkuc3RvcmFnZS5sb2NhbC5nZXQoVVNFUl9TVEFUSVNUSUNTX0JMT0NLRURfU0lURVNfS0VZLCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0aXN0aWNzID0gdmFsdWVbVVNFUl9TVEFUSVNUSUNTX0JMT0NLRURfU0lURVNfS0VZXSB8fCBbXTtcbiAgICAgICAgICAgIHJlc29sdmUoY3VycmVudFN0YXRpc3RpY3MpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldERhc2hib2FyZERhdGEgPSBhc3luYyAoc3RhdGUpID0+IHtcbiAgICBjb25zdCBzZXR0aW5ncyA9IHN0YXRlLnNldHRpbmdzO1xuICAgIGNvbnN0IHtcbiAgICAgICAgcHJvdGVjdGlvbiwgZ2FtYmxpbmcsIHBhcmVudGFsLCBwYXJlbnRhbEV4dHJhSWNvbiwgc2hpZWxkcywgd2FybmluZ3MsIHdoaXRlbGlzdCwgbGVha01vbml0b3JpbmcsIHBoaXNoaW5nLFxuICAgICAgICBvcHRvdXRQb3B1cCwgdXBncmFkZVBvcFVwXG4gICAgfSA9IHNldHRpbmdzO1xuICAgIGNvbnN0IHsgbGVha01vbml0b3Jpbmc6IHN0YXRlTGVha01vbml0b3JpbmcsIHRyYWNrZXJCbG9ja2VyRGF0YSwgcGhpc2hpbmdXaGl0ZWxpc3QgfSA9IHN0YXRlO1xuICAgIGNvbnN0IHVzZXJTdGF0aXN0aWNzID0gYXdhaXQgZ2V0VXNlclN0YXRpc3RpY3MoKTtcbiAgICBjb25zdCB1c2VyQmxvY2tlZFdlYnNpdGVzID0gYXdhaXQgZ2V0VXNlckJsb2NrZWRXZWJzaXRlc1N0YXRpc3RpY3MoKTtcbiAgICBjb25zdCBleHREYXRhID0ge1xuICAgICAgICB2ZXJzaW9uOiBWRVJTSU9OLFxuICAgICAgICBpc09wdGVkSW46IHByb3RlY3Rpb24sXG4gICAgICAgIHN1cHBvcnRlZEZlYXR1cmVzOiB7XG4gICAgICAgICAgICBteURhc2hib2FyZDoge1xuICAgICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgIHNhZmVCcm93c2luZzoge1xuICAgICAgICAgICAgICAgIGdhbWJsaW5nOiBnYW1ibGluZyxcbiAgICAgICAgICAgICAgICBwYXJlbnRhbDogcGFyZW50YWwsXG4gICAgICAgICAgICAgICAgcGFyZW50YWxFeHRyYUljb246IHBhcmVudGFsRXh0cmFJY29uLFxuICAgICAgICAgICAgICAgIHNoaWVsZHM6IHNoaWVsZHMsXG4gICAgICAgICAgICAgICAgd2FybmluZ3M6IHdhcm5pbmdzLFxuICAgICAgICAgICAgICAgIHdoaXRlbGlzdDogd2hpdGVsaXN0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGFQcml2YWN5OiB7XG4gICAgICAgICAgICAgICAgbGVha01vbml0b3Jpbmc6IGxlYWtNb25pdG9yaW5nLFxuICAgICAgICAgICAgICAgIGxlYWtNb25pdG9yaW5nRGF0YTogc3RhdGVMZWFrTW9uaXRvcmluZyxcbiAgICAgICAgICAgICAgICB0cmFja2VyQmxvY2tlckRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dMaXN0OiB0cmFja2VyQmxvY2tlckRhdGEuYWxsb3dMaXN0LFxuICAgICAgICAgICAgICAgICAgICBhbGxCbG9ja2VkOiB0cmFja2VyQmxvY2tlckRhdGEuYWxsQmxvY2tlZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVtYWlsUHJvdGVjdGlvbjoge1xuICAgICAgICAgICAgICAgIHBoaXNoaW5nOiBwaGlzaGluZyxcbiAgICAgICAgICAgICAgICBwaGlzaGluZ1doaXRlbGlzdDogcGhpc2hpbmdXaGl0ZWxpc3QsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0b3V0UG9wdXA6IG9wdG91dFBvcHVwLFxuICAgICAgICAgICAgdXBncmFkZVBvcFVwOiB1cGdyYWRlUG9wVXAsXG4gICAgICAgIH0sXG4gICAgICAgIHVzZXJTdGF0aXN0aWNzOiB7XG4gICAgICAgICAgICAuLi51c2VyU3RhdGlzdGljcyxcbiAgICAgICAgICAgIGJsb2NrZWRXZWJzaXRlczogdXNlckJsb2NrZWRXZWJzaXRlcyxcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZXh0RGF0YTtcbn07XG4iLCJpbXBvcnQgeyB3ZWJleHRBcGkgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvdXRpbHMnO1xuaW1wb3J0IHsgSURTX1RPX1dPVF9UQUdTLCBTQ0hFRFVMRVJfVFlQRVMgfSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvY29uc3RhbnRzJztcblxuZXhwb3J0IGNvbnN0IGlzVmFsaWRQYWdlRm9yQ29udGVudCA9ICh1cmwpID0+IHtcbiAgICBpZiAoIXVybCB8fCAhdXJsLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGFkZE9uc1N0b3JlcyA9IFtcbiAgICAgICAgJ2h0dHBzOi8vY2hyb21lLmdvb2dsZS5jb20vd2Vic3RvcmUvJyxcbiAgICAgICAgJ2h0dHBzOi8vbWljcm9zb2Z0ZWRnZS5taWNyb3NvZnQuY29tL2FkZG9ucycsXG4gICAgICAgICdodHRwczovL2FkZG9ucy5tb3ppbGxhLm9yZycsXG4gICAgICAgICdodHRwczovL2FkZG9ucy5vcGVyYS5jb20nXG4gICAgXTtcbiAgICBpZiAoYWRkT25zU3RvcmVzLnNvbWUoc3RvcmVVcmwgPT4gdXJsLnN0YXJ0c1dpdGgoc3RvcmVVcmwpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICgvXmh0dHBzPzpcXC9cXC9sb2NhbGhvc3QvLnRlc3QodXJsKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFRhYiA9ICgpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgd2ViZXh0QXBpLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSwgdGFicyA9PiB7XG4gICAgICAgICAgICBpZiAoIXRhYnMpIHJldHVybiByZXNvbHZlKHt9KTtcbiAgICAgICAgICAgIGNvbnN0IHRhYiA9IHRhYnNbMF07XG4gICAgICAgICAgICByZXNvbHZlKHRhYiB8fCB7fSk7XG4gICAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVzb2x2ZSh7fSk7XG4gICAgfVxufSk7XG5cbi8vIGF2b2lkIGxlZ2FjeSBjYXRlZ29yaWVzXG5leHBvcnQgY29uc3QgYWRkQ2F0ZWdvcnlEZXNjcmlwdGlvbiA9IChjYXRlZ29yeSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gSURTX1RPX1dPVF9UQUdTW2NhdGVnb3J5LmlkXTtcbiAgICAgICAgaWYgKCFkZXNjcmlwdGlvbikgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB7IC4uLmNhdGVnb3J5LCBkZXNjcmlwdGlvbiB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuXG4vLyBwZXJpb2RpY2FsbHkgIGNsZWFudXAgaXMgbmVlZGVkIHNpbmNlIG1pZ3JhdGlvbnMgZ2V0cyBkZXByZWNhdGVkXG5jb25zdCBtaWdyYXRpb25zID0gW1xuICAgIChzdGF0ZSkgPT4ge1xuICAgICAgICBpZiAoc3RhdGUucmVtaW5kZXJzKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUucmVtaW5kZXJzLkdNQUlMX1BST1RFQ1RJT04pIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5yZW1pbmRlcnNbU0NIRURVTEVSX1RZUEVTLkVNQUlMX1BST1RFQ1RJT05dID0gc3RhdGUucmVtaW5kZXJzLkdNQUlMX1BST1RFQ1RJT047XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYXhQcm9tb1BvcHVwcyA9IDM7IC8vIFRPRE8gdXBkYXRlIGFjY29yZGluZyB0byBjdXJyZW50IHJlbW90ZSBjb25maWdcbiAgICAgICAgICAgIGlmIChzdGF0ZS5yZW1pbmRlcnNbU0NIRURVTEVSX1RZUEVTLkVNQUlMX1BST1RFQ1RJT05dIDwgMCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmVtYWlsUHJvdGVjdGlvbiA9IHsgdGltZXNTaG93bjogbWF4UHJvbW9Qb3B1cHMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbl07XG5cbi8qKlxuICogaGVscGVyIGZvciBtZXJnZSBmdW5jdGlvblxuICogQHBhcmFtIG5ld1N0YXRlVmFsdWUgLSBmcm9tIGRlZmF1bHRTdGF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBjb25zdCBzaG91bGRPdmVycmlkZUNvbXBsZXRlbHkgPSAobmV3U3RhdGVWYWx1ZSkgPT4ge1xuICAgIGlmIChuZXdTdGF0ZVZhbHVlID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIG5ld1N0YXRlVmFsdWU7XG4gICAgaWYgKFsnbnVtYmVyJywgJ2Jvb2xlYW4nLCAnc3RyaW5nJywgJ3VuZGVmaW5lZCddLmluY2x1ZGVzKHR5cGUpKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gKHR5cGUgPT09ICdvYmplY3QnICYmICFPYmplY3Qua2V5cyhuZXdTdGF0ZVZhbHVlKS5sZW5ndGgpO1xufTtcblxuLyoqXG4gKiB1cGRhdGVzIHRoZSBzdGF0ZSBvZiB0aGUgZXh0ZW5zaW9uIGFjY29yZGluZyB0byB0aGlzIHZlcnNpb24ncyBzcGVjaWZpY3MsXG4gKiB3aGlsZSBrZWVwaW5nIHZhbHVlcyB0aGF0IHdlcmUgbW9kaWZpZWQgYnkgdGhlIGZvcm1lciBleHRlbnNpb24gaW5zdGFuY2UsIGxpa2UgdXNlciBwcmVmZXJlbmNlcyBhbmQgaGlzdG9yeVxuICogd2UgYXNzdW1lIHRoZSBmb3IgYW55IGV4aXN0aW5nIHN0YXRlIGZpZWxkTmFtZSAtIFRIRSBUWVBFIE9GIFRIRSBWQUxVRSBET0VTTidUIENIQU5HRSBBQ1JPU1MgVkVSU0lPTlNcbiAqIHRoaXMgd2F5IHdlIGFyZSBhYmxlIHRvIFwiY2xlYW4tdXBcIiB0aGUgc3RhdGUgcGFydHMgdGhhdCBhcmUgaW4gdXNlIG9ubHkgaW4gb2xkIHZlcnNpb25zLCBhbmQgYWRkIG5ldyBmdW5jdGlvbmFsaXR5LlxuICpcbiAqIEBwYXJhbSB1c2VyRXhpc3RpbmdTdGF0ZSAtIGluIGNhc2Ugb2YgYSB2ZXJzaW9uIHVwZGF0ZSwgdGhpcyBpcyB0aGUgc3RhdGUgc3RvcmVkIGluIHRoZSBleHRlbnNpb24gYmVmb3JlIHRoZSB1cGdyYWRlXG4gKiBAcGFyYW0gbmV3QXBwU3RhdGUgLSBuZXdseSBnZW5lcmF0ZWQgb24gZXZlcnkgc3RhcnR1cFxuICogQHJldHVybnMgYW5kIGVkaXRzIGluIHBsYWNlIHRoZSBuZXcgc3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IG1lcmdlU3RhdGUgPSAodXNlckV4aXN0aW5nU3RhdGUsIG5ld0FwcFN0YXRlKSA9PiB7XG4gICAgaWYgKCF1c2VyRXhpc3RpbmdTdGF0ZSkgcmV0dXJuIG5ld0FwcFN0YXRlO1xuICAgIG1pZ3JhdGlvbnMuZm9yRWFjaChydW5NaWdyYXRpb24gPT4ge1xuICAgICAgICBydW5NaWdyYXRpb24odXNlckV4aXN0aW5nU3RhdGUpO1xuICAgIH0pO1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhuZXdBcHBTdGF0ZSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICBjb25zdCBleGlzdGluZ1ZhbHVlID0gdXNlckV4aXN0aW5nU3RhdGVba2V5XTtcbiAgICAgICAgY29uc3QgaXNFeGlzdGluZ1ZhbGlkID0gZXhpc3RpbmdWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGV4aXN0aW5nVmFsdWUgIT09IG51bGw7XG4gICAgICAgIGlmICghaXNFeGlzdGluZ1ZhbGlkKSBjb250aW51ZTsgLy8gc3RheSB3aXRoIGRlZmF1bHRTdGF0ZVxuXG4gICAgICAgIGNvbnN0IG5ld0FwcFZhbHVlID0gbmV3QXBwU3RhdGVba2V5XTtcbiAgICAgICAgaWYgKHNob3VsZE92ZXJyaWRlQ29tcGxldGVseShuZXdBcHBWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld0FwcFN0YXRlW2tleV0gPSBleGlzdGluZ1ZhbHVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV3QXBwVmFsdWUpICYmIEFycmF5LmlzQXJyYXkoZXhpc3RpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld0FwcFN0YXRlW2tleV0gPSBleGlzdGluZ1ZhbHVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBuZXdBcHBWYWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGV4aXN0aW5nVmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBuZXdBcHBTdGF0ZVtrZXldID0gbWVyZ2VTdGF0ZSh1c2VyRXhpc3RpbmdTdGF0ZVtrZXldLCBuZXdBcHBTdGF0ZVtrZXldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3QXBwU3RhdGU7XG59O1xuXG5leHBvcnQgY29uc3Qgc3RvcmFnZUdldCA9IGFzeW5jIGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiB3ZWJleHRBcGkuc3RvcmFnZS5sb2NhbC5nZXQoa2V5KTtcbn07XG4iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5jbGFzcyBfV290TmV0d29yayB7XG4gICAgZm9ybVJlcXVlc3QodXJsLCBtZXRob2QsIGhlYWRlcnMgPSB7fSwgZGF0YSkge1xuICAgICAgICBjb25zdCBkZWZhdWx0SGVhZGVycyA9IHsgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH07XG4gICAgICAgIGNvbnN0IGZpbmFsSGVhZGVycyA9IF8ubWVyZ2Uoe30sIGRlZmF1bHRIZWFkZXJzLCBoZWFkZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1cmwsIG1ldGhvZCwgZmluYWxIZWFkZXJzLCBkYXRhKTtcbiAgICB9XG5cbiAgICBqc29uUmVxdWVzdCh1cmwsIG1ldGhvZCwgaGVhZGVycyA9IHt9LCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRIZWFkZXJzID0geyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH07XG4gICAgICAgIGNvbnN0IGZpbmFsSGVhZGVycyA9IF8ubWVyZ2Uoe30sIGRlZmF1bHRIZWFkZXJzLCBoZWFkZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1cmwsIG1ldGhvZCwgZmluYWxIZWFkZXJzLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgfVxuXG4gICAgcmVxdWVzdCh1cmwsIG1ldGhvZCwgaGVhZGVycyA9IHt9LCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdCh1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoaGVhZGVycyksXG4gICAgICAgICAgICBib2R5OiBkYXRhXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBvc3RGb3JtKHVybCwgZGF0YSwgaGVhZGVycyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHRoaXMuZm9ybVJlcXVlc3QodXJsLCAncG9zdCcsIGhlYWRlcnMsIGRhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVxdWVzdChyZXEpO1xuICAgIH1cblxuICAgIHBvc3RKc29uKHVybCwgZGF0YSwgaGVhZGVycyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHRoaXMuanNvblJlcXVlc3QodXJsLCAncG9zdCcsIGhlYWRlcnMsIGRhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUmVxdWVzdChyZXEpO1xuICAgIH1cblxuICAgIGdldCh1cmwsIGhlYWRlcnMgPSB7fSkge1xuICAgICAgICBjb25zdCByZXEgPSB0aGlzLnJlcXVlc3QodXJsLCAnZ2V0JywgaGVhZGVycyk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbmRSZXF1ZXN0KHJlcSk7XG4gICAgfVxuXG4gICAgc2VuZFJlcXVlc3QocmVxKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBmZXRjaChyZXEpXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS50ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKG1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVRleHQ6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobW9kaWZpZWRSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGV4Y2VwdGlvbiA9PiB7fSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXhjZXB0aW9uID0+IHt9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jb25zdCBXb3ROZXR3b3JrID0gbmV3IF9Xb3ROZXR3b3JrKCk7XG5cbmV4cG9ydCBkZWZhdWx0IFdvdE5ldHdvcms7IiwiaW1wb3J0IFdvdENyeXB0byBmcm9tICcuL3dvdENyeXB0byc7XG5pbXBvcnQge1xuICAgIGdldExvY2FsZSwgYnVpbGRVcmwsIFdvdEFuYWx5dGljc0V2ZW50LCBVc2VyRGF0YUFuYWx5dGljc0V2ZW50LCBicm93c2VyTmFtZSwgd2ViZXh0QXBpLCBnZW5lcmF0ZVV1aWRWNFxufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7XG4gICAgUExBVEZPUk1fVFlQRVMsXG4gICAgUlRfQVBJX1NVQlZFUlNJT04sXG4gICAgQVBJX1VTRVJTX1NFUlZFUl9BRERSRVNTLCBTQ09SRUNBUkRfU0VSVkVSX0FERFJFU1MsIEFQSV9MRUFLX1NFUlZFUl9BRERSRVNTLCBTVEFUSUNfRklMRVNfU0VSVkVSLFxuICAgIFZFUlNJT04sXG4gICAgV09UX1RSQUNFX0lELFxuICAgIFJBVElOR19DT0xPUlMsIEFOQUxZVElDX0lORk8sXG4gICAgR0FfQUNUSU9OX0tFWSwgR0FfTEFCRUxfS0VZLCBBUElfQU5BTFlUSUNTX1NFUlZFUl9BRERSRVNTLCBBTkFMWVRJQ1Ncbn0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY3Jvc3Nicm93c2VyTmFtZSB9IGZyb20gJy4uL2Nyb3NzYnJvd3Nlcic7XG5pbXBvcnQgeyBhZGRDYXRlZ29yeURlc2NyaXB0aW9uIH0gZnJvbSAnLi4vYmFja2dyb3VuZC9hcHAvY29tbW9uL2JhY2tncm91bmRVdGlscyc7XG5pbXBvcnQgV290TmV0d29yayBmcm9tICcuL25ldHdvcmsnO1xuXG5jb25zdCB4bWxUb0pzb24gPSAoeG1sKSA9PiB7XG4gICAgbGV0IG9iaiA9IHt9O1xuXG4gICAgaWYgKHhtbC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgaWYgKHhtbC5hdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9ialsnQGF0dHJpYnV0ZXMnXSA9IHt9O1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB4bWwuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHhtbC5hdHRyaWJ1dGVzLml0ZW0oaik7XG4gICAgICAgICAgICAgICAgb2JqWydAYXR0cmlidXRlcyddW2F0dHJpYnV0ZS5ub2RlTmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHhtbC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgb2JqID0geG1sLnZhbHVlO1xuICAgIH1cblxuICAgIGlmICh4bWwuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeG1sLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB4bWwuY2hpbGROb2Rlcy5pdGVtKGkpO1xuICAgICAgICAgICAgY29uc3QgeyBub2RlTmFtZSB9ID0gaXRlbTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKG9ialtub2RlTmFtZV0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIG9ialtub2RlTmFtZV0gPSB4bWxUb0pzb24oaXRlbSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKG9ialtub2RlTmFtZV0ucHVzaCkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZCA9IG9ialtub2RlTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIG9ialtub2RlTmFtZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgb2JqW25vZGVOYW1lXS5wdXNoKG9sZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9ialtub2RlTmFtZV0ucHVzaCh4bWxUb0pzb24oaXRlbSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59O1xuY2xhc3MgX1dvdEFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucm9vdCA9ICdodHRwczovL2FwaS5teXdvdC5jb20vJztcbiAgICAgICAgdGhpcy5tZXRob2RzID0ge1xuICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAncXVlcnknLFxuICAgICAgICAgICAgICAgIHVybDogYCR7U0NPUkVDQVJEX1NFUlZFUl9BRERSRVNTfS92My9xdWVyeWBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWdpc3Rlcjoge1xuICAgICAgICAgICAgICAgIHVybDogYCR7QVBJX1VTRVJTX1NFUlZFUl9BRERSRVNTfS92My9yZWdpc3RlckNsaWVudGBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTZXJwczoge1xuICAgICAgICAgICAgICAgIHVybDogYCR7U1RBVElDX0ZJTEVTX1NFUlZFUn0vdjIvc2VycHMuanNvbmBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRUcmFja2Vyc1VybHM6IHtcbiAgICAgICAgICAgICAgICB1cmw6IGAke1NUQVRJQ19GSUxFU19TRVJWRVJ9L3YyL3RyYWNrZXJzVXJscy5qc29uYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldmlld3M6IHtcbiAgICAgICAgICAgICAgICB1cmw6IGAke1NDT1JFQ0FSRF9TRVJWRVJfQUREUkVTU30vdjMvcmV2aWV3c2BcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXZpZXdzQ291bnRlcjoge1xuICAgICAgICAgICAgICAgIHVybDogYCR7U0NPUkVDQVJEX1NFUlZFUl9BRERSRVNTfS92My9yZXZpZXdzL2NvdW50YFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG15UmV2aWV3OiB7XG4gICAgICAgICAgICAgICAgdXJsOiBgJHtTQ09SRUNBUkRfU0VSVkVSX0FERFJFU1N9L3YzL215UmV2aWV3YFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlbGV0ZVJldmlldzoge1xuICAgICAgICAgICAgICAgIHVybDogYCR7U0NPUkVDQVJEX1NFUlZFUl9BRERSRVNTfS92My9yZXZpZXcvZGVsZXRlYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Ym1pdFJldmlldzoge1xuICAgICAgICAgICAgICAgIHVybDogYCR7U0NPUkVDQVJEX1NFUlZFUl9BRERSRVNTfS92My9yZXZpZXcvc3VibWl0YFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzUHJlbWl1bToge1xuICAgICAgICAgICAgICAgIHVybDogYCR7QVBJX1VTRVJTX1NFUlZFUl9BRERSRVNTfS92My91c2VyL2lzUHJlbWl1bWBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbmFseXRpY3M6IHtcbiAgICAgICAgICAgICAgICB1cmw6IGAke0FQSV9BTkFMWVRJQ1NfU0VSVkVSX0FERFJFU1N9L2V2ZW50YFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldExlYWtJbmZvOiB7XG4gICAgICAgICAgICAgICAgdXJsOiBgJHtBUElfTEVBS19TRVJWRVJfQUREUkVTU30vc2NhbkVtYWlsYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVzZXJEYXRhQW5hbHl0aWNzOiB7XG4gICAgICAgICAgICAgICAgdXJsOiBgJHtBUElfQU5BTFlUSUNTX1NFUlZFUl9BRERSRVNTfS9yZXBvcnRDbGllbnREYXRhYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZU1haWxDaGltcFRhZ3NFbmRwb2ludDoge1xuICAgICAgICAgICAgICAgIHVybDogYCR7QVBJX1VTRVJTX1NFUlZFUl9BRERSRVNTfS91cGRhdGVNYWlsTGlzdFRhZ3NgXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0SXNVc2VyVHJpYWxpbmc6IHtcbiAgICAgICAgICAgICAgICB1cmw6IGAke0FQSV9VU0VSU19TRVJWRVJfQUREUkVTU30vdjMvdXNlci9pc1RyaWFsaW5nYFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY3J5cHRvID0gV290Q3J5cHRvO1xuICAgICAgICB0aGlzLnJ0U3VibGFzdCA9ICcnO1xuICAgICAgICB0aGlzLndpdG5lc3MgPSBudWxsO1xuICAgICAgICB0aGlzLnJ0V2l0bmVzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuY291bnRlcnMgPSB7fTtcbiAgICB9XG5cbiAgICBvbkVycm9yKHhociwgcGFyYW1zID0ge30pIHtcbiAgICAgICAgLy8vICo8YmV0YT4qL3RoaXMucG9zdChCRVRBX1VSTCwgIEpTT04uc3RyaW5naWZ5KF8ubWVyZ2Uoe3ZlcnNpb246IGdldFZlcnNpb24oKSwgc3RhdHVzOiB4aHIuc3RhdHVzLCBkYXRlOiArbmV3IERhdGUoKSwgdXJsOiB4aHIucmVzcG9uc2VVUkwsIGR1cmF0aW9uOiB4aHIudGltZSwgaWQ6IHRoaXMud2l0bmVzcyAmJiB0aGlzLndpdG5lc3MuaWR9LCBwYXJhbXMpKSwgeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KTsvKjwvYmV0YT4qL1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgIC8vICAgd2luZG93LmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgIH0sIDEwMDApO1xuICAgIH1cblxuICAgIGdldFJ0U3VibGFzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnRTdWJsYXN0ID8gdGhpcy5ydFN1Ymxhc3QgOiAnJztcbiAgICB9XG5cbiAgICBzZXRSdFN1Ymxhc3QodXJsKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWRVcmwodXJsKSkgeyB0aGlzLnJ0U3VibGFzdCA9IHVybDsgfVxuICAgIH1cblxuICAgIGlzVmFsaWRVcmwodXJsKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdXJsID09PSAnc3RyaW5nJ1xuXHRcdFx0JiYgL15odHRwcz86XFwvXFwvKD8hbG9jYWxob3N0KS8udGVzdCh1cmwpXG5cdFx0XHQmJiB1cmwuaW5kZXhPZignY2hyb21lL25ld3RhYicpID09PSAtMTtcbiAgICB9XG5cbiAgICBpc0Nocm9tZUluc3RhbnRVcmwodXJsKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdXJsID09PSAnc3RyaW5nJyAmJiB1cmwuaW5kZXhPZignc291cmNlaWQ9Y2hyb21lLWluc3RhbnQnKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgcG9zdEpzb24odXJsLCBkYXRhLCBoZWFkZXJzID0ge30pIHtcbiAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMgfHwge307XG4gICAgICAgIGhlYWRlcnNbV09UX1RSQUNFX0lELm5hbWVdID0gV09UX1RSQUNFX0lELnZhbHVlO1xuICAgICAgICByZXR1cm4gV290TmV0d29yay5wb3N0SnNvbih1cmwsIGRhdGEsIGhlYWRlcnMpO1xuICAgICAgICB9XG5cbiAgICBwb3N0Rm9ybSh1cmwsIGRhdGEsIGhlYWRlcnMgPSB7fSkge1xuICAgICAgICBoZWFkZXJzID0gaGVhZGVycyB8fCB7fTtcbiAgICAgICAgaGVhZGVyc1tXT1RfVFJBQ0VfSUQubmFtZV0gPSBXT1RfVFJBQ0VfSUQudmFsdWU7XG4gICAgICAgIHJldHVybiBXb3ROZXR3b3JrLnBvc3RGb3JtKHVybCwgZGF0YSwgaGVhZGVycyk7XG4gICAgfVxuXG4gICAgLy8gcmVxdWVzdCBhbGwgY29tbWVudHMgZm9yIHRhcmdldFxuICAgIGdldENvbW1lbnRzRGF0YShwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHBhcmFtcy50YXJnZXQgPSBwYXJhbXMudXJsO1xuICAgICAgICAgICAgY29uc3QgZ2V0VXJsID0gYnVpbGRVcmwodGhpcy5tZXRob2RzLnJldmlld3MudXJsLCBwYXJhbXMpO1xuICAgICAgICAgICAgV290TmV0d29yay5nZXQoZ2V0VXJsKS50aGVuKHJlcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXBvbnNlLnN0YXR1cyA9PT0gMjAwIHx8IHJlcG9uc2Uuc3RhdHVzID09PSAzMDQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhUmVzdWx0ID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoeyBbdXJsXTogeyBkYXRhOiBkYXRhUmVzdWx0IH0gfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goKGNvbW1lbnRJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF0aW5nID0gY29tbWVudEl0ZW0ucmF0aW5nIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1YmJsZXMgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRTYWZldHkgPSAhY29tbWVudEl0ZW0uYWR1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGNvbW1lbnRJdGVtLnVzZXIgfHwge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudDogY29tbWVudEl0ZW0uY29tbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWN0dXJlOiB1c2VyLmF2YXRhcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBjb21tZW50SXRlbS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogY29tbWVudEl0ZW0udGltZXN0YW1wIC8gMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbW1lbnRJdGVtLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2NpZDogY29tbWVudEl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXI6IHJhdGluZy5zdGFyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbmc6IHJhdGluZy5zY29yZSAqIDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWJibGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFNhZmV0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgW3VybF06IHsgZGF0YTogZGF0YVJlc3VsdCB9IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7fSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldElzUHJlbWl1bSh1aWQsIHRva2VuKSB7XG4gICAgICAgIGlmICghdWlkIHx8ICF0b2tlbikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gcmVzb2x2ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWFkZXJzID0geyAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gIH07XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBidWlsZFVybCh0aGlzLm1ldGhvZHMuaXNQcmVtaXVtLnVybCwgeyB1aWQgfSk7XG4gICAgICAgICAgICBXb3ROZXR3b3JrLmdldCh1cmwsIGhlYWRlcnMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXNwb25zZVRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHJlcXVlc3QgY29tbWVudHMgYW5kIGNvdW50ZXIgZnJvIHRoZW1cbiAgICBjb21tZW50cyh1cmwsIHVpZCwgbGltaXQgPSAyMCwgb2Zmc2V0ID0gMCkge1xuICAgICAgICBjb25zdCBwYWdlID0gKG9mZnNldCAvIGxpbWl0KSArIDE7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIHVpZCxcbiAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgcGFnZVxuICAgICAgICB9O1xuICAgICAgICBwYXJhbXMuaW5jbHVkZVJhdGluZyA9ICd0cnVlJztcbiAgICAgICAgcGFyYW1zLnNhbHQgPSArbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgY29tbWVudHMgPSB0aGlzLmdldENvbW1lbnRzRGF0YShwYXJhbXMpO1xuICAgICAgICBjb25zdCBjb21tZW50c0NvdW50ID0gdGhpcy5jb21tZW50c0NvdW50KHVybCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbY29tbWVudHMsIGNvbW1lbnRzQ291bnRdKTtcbiAgICB9XG5cbiAgICBjb21tZW50c0NvdW50KHVybCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVxVXJsID0gYnVpbGRVcmwodGhpcy5tZXRob2RzLnJldmlld3NDb3VudGVyLnVybCwgeyB1cmwsIHNhbHQ6ICtuZXcgRGF0ZSgpIH0pO1xuICAgICAgICAgICAgV290TmV0d29yay5nZXQocmVxVXJsKS50aGVuKCh4aHIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoKHhoci5zdGF0dXMgPT09IDIwMCB8fCB4aHIuc3RhdHVzID09PSAzMDQpICYmIHhoci5yZXNwb25zZVRleHQgIT09ICd7fScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgW3VybF06IGNvdW50IH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh4aHIuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gcmVxdWVzdCB1c2VyIGNvbW1lbnRzIGFuZCByYXRpbmdcbiAgICBnZXRVc2VyUmV2aWV3KHVybCwgdG9rZW4pIHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHsgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCB9O1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVxVXJsID0gYnVpbGRVcmwodGhpcy5tZXRob2RzLm15UmV2aWV3LnVybCwgeyB1cmwgfSk7XG4gICAgICAgICAgICBXb3ROZXR3b3JrLmdldChyZXFVcmwsIGhlYWRlcnMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gMzA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwaURhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXBpRGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIG1ldGhvZCB0byBzZW5kIHVzZXIgY29tbWVudFxuICAgIHNlbmRDb21tZW50cyhjb250ZW50LCB0b2tlbikge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0geyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9O1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wb3N0SnNvbih0aGlzLm1ldGhvZHMuc3VibWl0UmV2aWV3LnVybCwgY29udGVudCwgaGVhZGVycykudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIG1ldGhvZCB0byBkZWxldGUgdXNlciBjb21tZW50XG4gICAgZGVsZXRlQ29tbWVudHModXJsLCB0b2tlbikge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0geyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9O1xuICAgICAgICB0aGlzLnBvc3RKc29uKHRoaXMubWV0aG9kcy5kZWxldGVSZXZpZXcudXJsLCB7IHRhcmdldDogdXJsIH0sIGhlYWRlcnMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBtZXRob2QgdG8gb2J0YWluIGJhc2ljIGF1dGgga2V5IGFuZCBpZFxuICAgIHJlZ2lzdGVyKHdpdG5lc3MsIG9wdGlvbnMgPSB7IGlzUnQ6IGZhbHNlIH0pIHtcbiAgICAgICAgaWYgKHdpdG5lc3MgJiYgd2l0bmVzcy5pZCAmJiB3aXRuZXNzLmtleSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNSdCkge1xuICAgICAgICAgICAgICAgIHRoaXMucnRXaXRuZXNzID0gd2l0bmVzcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aXRuZXNzID0gd2l0bmVzcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHdpdG5lc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXBpbmFtZSA9ICdyZWdpc3Rlcic7XG4gICAgICAgICAgICBjb25zdCB3aXRuZXNzID0geyBpZDogJycsIGtleTogJycgfTtcbiAgICAgICAgICAgIGNvbnN0IG5vbmNlID0gdGhpcy5jcnlwdG8uZ2V0bm9uY2UoYXBpbmFtZSwgd2l0bmVzcyk7XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgbGFuZzogZ2V0TG9jYWxlKCksXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogVkVSU0lPTlxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNSdCkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy53ZyA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlcVVybCA9IGJ1aWxkVXJsKHRoaXMubWV0aG9kcy5yZWdpc3Rlci51cmwsIHBhcmFtcyk7XG4gICAgICAgICAgICBXb3ROZXR3b3JrLmdldChyZXFVcmwpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhEZXRhaWxzID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0Lm1hdGNoKC9bMC05YS16XXs0MH0vZyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gYXV0aERldGFpbHNbMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF1dGhEZXRhaWxzWzFdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3aXRuZXNzID0geyBpZCwga2V5IH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaXNSdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ydFdpdG5lc3MgPSB3aXRuZXNzO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aXRuZXNzID0gd2l0bmVzcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHdpdG5lc3MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyQWxsKHdpdG5lc3MsIHJ0V2l0bmVzcykge1xuICAgICAgICBjb25zdCByZWdpc3RlciA9IHRoaXMucmVnaXN0ZXIod2l0bmVzcyk7XG4gICAgICAgIGNvbnN0IHJ0UmVnaXN0ZXIgPSB0aGlzLnJlZ2lzdGVyKHJ0V2l0bmVzcywgeyBpc1J0OiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3JlZ2lzdGVyLCBydFJlZ2lzdGVyXSk7XG4gICAgfVxuXG4gICAgLy8gdGhpcyBzaG91bGQgcmV0dXJuIGVtcHR5IHNvbWV0aW1lcyBkZXBlbmRpbmcgb24gZGF0YVxuICAgIHByZXBhcmVGb3JSdChydFBhcmFtcykge1xuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHJ0UGFyYW1zKS5sZW5ndGgpIHJldHVybiAnJztcbiAgICAgICAgY29uc3QgcnROb25jZSA9IHRoaXMuY3J5cHRvLmdldG5vbmNlKHRoaXMubWV0aG9kcy5xdWVyeS5uYW1lLCB0aGlzLnJ0V2l0bmVzcyk7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIGlkOiB0aGlzLnJ0V2l0bmVzcy5pZCxcbiAgICAgICAgICAgIG5vbmNlOiBydE5vbmNlLFxuICAgICAgICAgICAgbGFuZzogZ2V0TG9jYWxlKCksXG4gICAgICAgICAgICB2ZXJzaW9uOiBgJHtWRVJTSU9OfS0ke1JUX0FQSV9TVUJWRVJTSU9OfWBcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdGFyZ2V0UGFyYW1zUXVlcnlzdHJpbmcgPSB0aGlzLnRhcmdldFBhcmFtc1RvUXVlcnlzdHJpbmcoT2JqZWN0LmFzc2lnbihydFBhcmFtcywgdGhpcy5nZXRBZGRpdGlvbmFsVGFyZ2V0UGFyYW1zKCkpLCB7fSk7XG4gICAgICAgIHBhcmFtcy50YXJnZXQgPSB0aGlzLmNyeXB0by5lbmNyeXB0KHRhcmdldFBhcmFtc1F1ZXJ5c3RyaW5nLCBydE5vbmNlLCB0aGlzLnJ0V2l0bmVzcy5rZXkpO1xuICAgICAgICByZXR1cm4gYCZ3Zz0xJmI2ND0ke2J0b2EodGhpcy5wYXJhbXNUb1F1ZXJ5c3RyaW5nKHBhcmFtcywge30pKX1gO1xuICAgIH1cblxuICAgIC8vIG1ldGhvZCB0byByZXF1ZXN0IHJhdGluZyBmb3IgdmlzaXRlZCBzaXRlIGFuZC9vciBzZXJwIHJlc3VsdHNcbiAgICBxdWVyeSh0YXJnZXRQYXJhbXMsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgbGlua3MsIHdwMDogbm90UnQsIC4uLnJ0UGFyYW1zIH0gPSB0YXJnZXRQYXJhbXM7XG4gICAgICAgICAgICBjb25zdCBydEV4dHJhVG9wUGFyYW1zID0gbm90UnQgPyAnJyA6IHRoaXMucHJlcGFyZUZvclJ0KHJ0UGFyYW1zKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGxpbmtzLmxlbmd0aCA/IGxpbmtzLnRvU3RyaW5nKCkgOiBydFBhcmFtcy50YXJnZXQ7XG4gICAgICAgICAgICBjb25zdCB0b3BOb25jZSA9IHRoaXMuY3J5cHRvLmdldG5vbmNlKHRoaXMubWV0aG9kcy5xdWVyeS5uYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHRvcFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMuY3J5cHRvLmVuY3J5cHQodGFyZ2V0LCB0b3BOb25jZSwgdGhpcy53aXRuZXNzLmtleSksXG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMud2l0bmVzcy5pZCxcbiAgICAgICAgICAgICAgICBub25jZTogdG9wTm9uY2UsXG4gICAgICAgICAgICAgICAgbGFuZzogZ2V0TG9jYWxlKCksXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogVkVSU0lPTlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGxldCB0b3BRdWVyeVN0cmluZyA9IHRoaXMucGFyYW1zVG9RdWVyeXN0cmluZyh0b3BQYXJhbXMpO1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGAvdjMvJHt0aGlzLm1ldGhvZHMucXVlcnkubmFtZX0/JHt0b3BRdWVyeVN0cmluZ31gO1xuICAgICAgICAgICAgdG9wUXVlcnlTdHJpbmcgKz0gYCZhdXRoPSR7dGhpcy5jcnlwdG8uYXV0aGVudGljYXRlKHBhdGgsIHRoaXMud2l0bmVzcyl9YDtcbiAgICAgICAgICAgIHRvcFF1ZXJ5U3RyaW5nICs9IGAke3J0RXh0cmFUb3BQYXJhbXN9YDtcbiAgICAgICAgICAgIHRoaXMucG9zdEZvcm0odGhpcy5tZXRob2RzLnF1ZXJ5LnVybCwgdG9wUXVlcnlTdHJpbmcsIGhlYWRlcnMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtc2Vzc2lvbi1pZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ3NldHRpbmdzLWV2ZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihldmVudCwgeyBzZXR0aW5ncyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSB7IHRhcmdldHM6IFtdIH07XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRXJyb3IocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB0YXJnZXRzIH0gPSBqc29uO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0cy5yZWR1Y2UoKHJlcywgcmF0aW5nLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmNUYXJnZXQgPSByYXRpbmcudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVjT3B0aW9ucyA9IHsgcmVzcG9uc2Vfc3RyOiB0cnVlLCBpbmRleDogaSwgd2l0bmVzc19rZXk6IHRoaXMud2l0bmVzcy5rZXkgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZy50YXJnZXQgPSB0aGlzLmNyeXB0by5kZWNyeXB0KGVuY1RhcmdldCwgdG9wTm9uY2UsIGRlY09wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nLmNhdGVnb3JpZXMgPSByYXRpbmcuY2F0ZWdvcmllcy5tYXAoYWRkQ2F0ZWdvcnlEZXNjcmlwdGlvbikuZmlsdGVyKGMgPT4gISFjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZy5jb2xvciA9IFJBVElOR19DT0xPUlNbcmF0aW5nLnNhZmV0eV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNbcmF0aW5nLnRhcmdldF0gPSB7IC4uLnJhdGluZywgdXBkYXRlZCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgfSwge30pO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY2F0Y2goZXhjZXB0aW9uID0+IHt9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gbWV0aG9kIHRvIG9idGFpbiBzZXJwcyBjb25maWd1cmF0aW9uXG4gICAgZ2V0U2VycHMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXFVcmwgPSBidWlsZFVybCh0aGlzLm1ldGhvZHMuZ2V0U2VycHMudXJsLCB7IGlkOiB0aGlzLndpdG5lc3MuaWQgfSk7XG4gICAgICAgICAgICBXb3ROZXR3b3JrLmdldChyZXFVcmwpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm9uRXJyb3IoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldFRyYWNrZXJzVXJscygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcVVybCA9IGJ1aWxkVXJsKHRoaXMubWV0aG9kcy5nZXRUcmFja2Vyc1VybHMudXJsLCB7IGlkOiB0aGlzLndpdG5lc3MuaWQgfSk7XG4gICAgICAgICAgICBXb3ROZXR3b3JrLmdldChyZXFVcmwpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHRoYXRzIGFsd2F5cyBmYWxzZSBmb3Igbm93XG4gICAgZ2V0QWRkaXRpb25hbFRhcmdldFBhcmFtcygpIHtcbiAgICAgICAgY29uc3QgciA9IHtcbiAgICAgICAgICAgIGVwb2NodGltZTogbmV3IERhdGUoKSAvIDEsXG4gICAgICAgICAgICBpZDogdGhpcy5nZXRSdElkKClcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHR5cGVvZiBfd290UGxveWRlciAhPT0gJ3VuZGVmaW5lZCcgJiYgX3dvdFBsb3lkZXIuaGFzSXRlbXMoKSkgeyByLmxrID0gX3dvdFBsb3lkZXIudGFrZUFuZFBhY2soX3dvdFBsb3lkZXIubGltaXQpOyB9XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIHN1YnNmd3JkVG9RdWVyeVN0cmluZyhzdWJzZndyZEFycmF5LCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghc3Vic2Z3cmRBcnJheSB8fCBzdWJzZndyZEFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gc3Vic2Z3cmRBcnJheSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBzdWJzZndyZEFycmF5W2ldO1xuICAgICAgICAgICAgY29tcG9uZW50cy5wdXNoKHRoaXMucGFyYW1zVG9RdWVyeXN0cmluZyh7IHN1YnNmd3JkOiB2YWx1ZSB9LCBvcHRpb25zKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29tcG9uZW50cy5qb2luKCcmJyk7XG4gICAgfVxuXG4gICAgdGFyZ2V0UGFyYW1zVG9RdWVyeXN0cmluZyh0YXJnZXRQYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc3Vic2Z3cmRRdWVyeXN0cmluZyA9IHRoaXMuc3Vic2Z3cmRUb1F1ZXJ5U3RyaW5nKHRhcmdldFBhcmFtcy5zdWJzZndyZCwgb3B0aW9ucyk7XG4gICAgICAgIGlmICh0YXJnZXRQYXJhbXMuaGFzT3duUHJvcGVydHkoJ3N1YnNmd3JkJykpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRQYXJhbXMuc3Vic2Z3cmQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcXVlcnlTdHJpbmcgPSB0aGlzLnBhcmFtc1RvUXVlcnlzdHJpbmcodGFyZ2V0UGFyYW1zLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKHN1YnNmd3JkUXVlcnlzdHJpbmcpIHtcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nICs9IGAmJHtzdWJzZndyZFF1ZXJ5c3RyaW5nfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHF1ZXJ5U3RyaW5nO1xuICAgIH1cblxuICAgIHBhcmFtc1RvUXVlcnlzdHJpbmcocGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghcGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tcG9uZW50cyA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXNbaV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBwYXJhbU5hbWUgPSBpO1xuICAgICAgICAgICAgICAgIGxldCBwYXJhbVZhbHVlID0gcGFyYW1zW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gVXNlIGEgaGFzaCBpbnN0ZWFkIG9mIHRoZSByZWFsIHZhbHVlIGluIHRoZSBhdXRoZW50aWNhdGVkIHF1ZXJ5XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5oYXNoICYmIG9wdGlvbnMuaGFzaCA9PSBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtTmFtZSA9ICdTSEExJztcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1WYWx1ZSA9IHRoaXMuY3J5cHRvLmJpbnRvaGV4KHRoaXMuY3J5cHRvLnNoYTEuc2hhMXN0cih1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2ldKSkpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLnB1c2goYCR7cGFyYW1OYW1lfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbVZhbHVlKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb25lbnRzLmpvaW4oJyYnKTtcbiAgICB9XG5cbiAgICBnZXRSdElkKCkge1xuICAgICAgICBpZiAodGhpcy53aXRuZXNzICYmIHRoaXMud2l0bmVzcy5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2l0bmVzcy5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV290QXBpLmdldFJ0SWQ6IFJUIGlkIGlzIG5vdCBzZXQnKTtcbiAgICB9XG5cbiAgICBnZXREYXRhTGVhayh0b2tlbiwgdXBkYXRlZFRpbWUpIHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHsgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dG9rZW59YCB9O1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVxVXJsID0gYnVpbGRVcmwodGhpcy5tZXRob2RzLmdldExlYWtJbmZvLnVybCwgeyBmcm9tRGF0ZTogdXBkYXRlZFRpbWUgfSk7XG4gICAgICAgICAgICBXb3ROZXR3b3JrLmdldChyZXFVcmwsIGhlYWRlcnMpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gMzA0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFwaURhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXBpRGF0YSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFNIT1VMRCBCRSBERUxFVEVEXG4gICAgYWRkSGVhZGVyc1RvWGhyKHhociwgaGVhZGVycykge1xuICAgICAgICBpZiAoaGVhZGVycykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcbiAgICAgICAgfVxuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihXT1RfVFJBQ0VfSUQubmFtZSwgV09UX1RSQUNFX0lELnZhbHVlKTtcbiAgICB9XG5cbiAgICBnZXRBbmFseXRpY3NJbmZvRnJvbUxvY2FsU3RvcmFnZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KEFOQUxZVElDUy5BTkFMWVRJQ1NfSU5GT19LRVksICgge3V1aWR9ICkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodXVpZCl9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc3luY0FuYWx5dGljSW5mb1dpdGhXZWJhcHAoKSB7XG4gICAgICAgIGxldCB1dWlkRnJvbVdlYkFwcDtcbiAgICAgICAgbGV0IHV1aWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKEFOQUxZVElDX0lORk8pO1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgdXVpZEZyb21XZWJBcHAgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1dWlkID0gKHV1aWRGcm9tV2ViQXBwICYmIHV1aWRGcm9tV2ViQXBwLnV1aWQpIHx8IGdlbmVyYXRlVXVpZFY0KCk7XG4gICAgICAgICAgICBhd2FpdCBmZXRjaChBTkFMWVRJQ19JTkZPLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHV1aWQ6IHV1aWQgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHJldHVybiB1dWlkO1xuICAgIH1cblxuICAgIGFzeW5jIGdldE9ySW5pdEFuYWx5dGljc0luZm9Gcm9tTG9jYWxTdG9yYWdlKCkge1xuICAgICAgICBjb25zdCB1dWlkID0gYXdhaXQgdGhpcy5nZXRBbmFseXRpY3NJbmZvRnJvbUxvY2FsU3RvcmFnZSgpO1xuXG4gICAgICAgIGlmICghdXVpZCkge1xuICAgICAgICAgICAgY29uc3QgdXVpZCA9IGF3YWl0IHRoaXMuc3luY0FuYWx5dGljSW5mb1dpdGhXZWJhcHAoKTtcbiAgICAgICAgICAgIGF3YWl0IHdlYmV4dEFwaS5zdG9yYWdlLmxvY2FsLnNldCh7IFtBTkFMWVRJQ1MuQU5BTFlUSUNTX0lORk9fS0VZXSA6IHV1aWQgfSk7XG4gICAgICAgICAgICByZXR1cm4gdXVpZDtcblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1dWlkO1xuICAgIH1cblxuICAgIHNlbmRBbmFseXRpY3NGcm9tQmFja2dyb3VuZChhY3Rpb24sIGxhYmVsICwgdGVzdEdyb3VwLCBldmVudFBheWxvYWQpIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIFtHQV9BQ1RJT05fS0VZXTogYWN0aW9uIHx8ICcnLFxuICAgICAgICAgICAgW0dBX0xBQkVMX0tFWV06IGxhYmVsIHx8ICcnLFxuICAgICAgICAgICAgdGVzdEdyb3VwLFxuICAgICAgICAgICAgZXZlbnRQYXlsb2FkXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZW5kSW50ZXJuYWxBbmFseXRpY3MocGF5bG9hZCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2VuZEludGVybmFsQW5hbHl0aWNzKHBhcmFtcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gcGFyYW1zW0dBX0FDVElPTl9LRVldO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gcGFyYW1zW0dBX0xBQkVMX0tFWV07XG4gICAgICAgICAgICBjb25zdCB0ZXN0R3JvdXAgPSBwYXJhbXMudGVzdEdyb3VwO1xuICAgICAgICAgICAgY29uc3QgZXZlbnRQYXlsb2FkID0gcGFyYW1zLmV2ZW50UGF5bG9hZDtcbiAgICAgICAgICAgIGNvbnN0IHV1aWQgPSBhd2FpdCB0aGlzLmdldE9ySW5pdEFuYWx5dGljc0luZm9Gcm9tTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBXb3RBbmFseXRpY3NFdmVudChcbiAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgICAgIHRlc3RHcm91cCxcbiAgICAgICAgICAgICAgICBldmVudFBheWxvYWQsXG4gICAgICAgICAgICAgICAgdXVpZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IHRoaXMubWV0aG9kcy5hbmFseXRpY3MudXJsO1xuICAgICAgICAgICAgdGhpcy5wb3N0SnNvbih1cmwsIGV2ZW50LmNyZWF0ZVBheWxvYWQoKSkuY2F0Y2goZSA9PiB7fSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlbmRVc2VyRGF0YUFuYWx5dGljcyhldmVudE1lc3NhZ2UsIHZlcnNpb25OdW1iZXIsIGlzUHJlbWl1bSwgcGFyYW1zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBVc2VyRGF0YUFuYWx5dGljc0V2ZW50KGV2ZW50TWVzc2FnZSwgdmVyc2lvbk51bWJlciwgaXNQcmVtaXVtLCBwYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5wb3N0SnNvbihcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGhvZHMudXNlckRhdGFBbmFseXRpY3MudXJsLFxuICAgICAgICAgICAgICAgIGV2ZW50LmNyZWF0ZVBheWxvYWQoKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICApLmNhdGNoKGUgPT4ge30pO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIHJlcG9ydEVycm9yKGFyZ3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGAke0FQSV9BTkFMWVRJQ1NfU0VSVkVSX0FERFJFU1N9L3JlcG9ydENsaWVudEVycm9yYDtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH07XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICAgICAgYnJvd3Nlck5hbWUsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogVkVSU0lPTixcbiAgICAgICAgICAgICAgICBsb2NhbGU6IGdldExvY2FsZSgpLFxuICAgICAgICAgICAgICAgIHdpdG5lc3NfaWQ6IHRoaXMud2l0bmVzcyAmJiB0aGlzLndpdG5lc3MuaWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnBvc3RKc29uKHVybCwgZGF0YSwgaGVhZGVycykuY2F0Y2goZSA9PiB7fSk7XG4gICAgICAgIH0gY2F0Y2goZSkge31cbiAgICB9XG5cbiAgICB1cGRhdGVNYWlsQ2hpbXBUYWdzKHRhZ3MsIHRva2VuKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMubWV0aG9kcy51cGRhdGVNYWlsQ2hpbXBUYWdzRW5kcG9pbnQudXJsO1xuICAgICAgICBjb25zdCBkYXRhID0geyB0YWdzOiB0YWdzIH07XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gIH07XG4gICAgICAgIHRoaXMucG9zdEpzb24odXJsLCBkYXRhLCBoZWFkZXJzKS5jYXRjaChlID0+IHt9KTtcbiAgICB9XG5cbiAgICBnZXRJc1RyaWFsaW5nKHVpZCwgdG9rZW4pIHtcbiAgICAgICAgaWYgKCF1aWQgfHwgIXRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiByZXNvbHZlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7ICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IGJ1aWxkVXJsKHRoaXMubWV0aG9kcy5nZXRJc1VzZXJUcmlhbGluZy51cmwsIHsgdWlkLCB0eXBlOiAnZXh0ZW5zaW9uX3ByZW1pdW0nIH0pO1xuICAgICAgICAgICAgV290TmV0d29yay5nZXQodXJsLCBoZWFkZXJzKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXNwb25zZVRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7fSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuY29uc3QgV290QXBpID0gbmV3IF9Xb3RBcGkoKTtcblxuZXhwb3J0IGRlZmF1bHQgV290QXBpO1xuIiwiaW1wb3J0IHtcbiAgICBTQ0hFRFVMRVJfVFlQRVMsXG4gICAgU0hJRUxEU19MRVZFTF9ISUdILFxuICAgIFNISUVMRFNfTEVWRUxfTk9STUFMLFxuICAgIFNISUVMRFNfTEVWRUxfT0ZGLCBPTkVfTU9OVEgsXG4gICAgV0FSTklOR1NfTEVWRUxfSElHSCxcbiAgICBXQVJOSU5HU19MRVZFTF9OT1JNQUwsXG4gICAgV0FSTklOR1NfTEVWRUxfT0ZGLFxuICAgIEdBX0FDQ09VTlQsIFNUT1JBR0VfVE9LRU4sIFdPVF9UUkFDRV9JRCwgSVNfREVWXG59IGZyb20gJy4uLy4uL3NoYXJlZC9jb25zdGFudHMnO1xuaW1wb3J0IHtcbiAgICBtYWtlaWQsIGdlbmVyYXRlVXVpZFY0LCBicm93c2VyTmFtZSwgd2ViZXh0QXBpXG59IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscyc7XG5pbXBvcnQgV290QXBpIGZyb20gJy4uLy4uL3NoYXJlZC93b3RBcGknO1xuXG5jbGFzcyBfRGVmYXVsdFN0YXRlIHtcbiAgICBnZXREZWZhdWx0U3RhdGVPYmplY3QoZm9yY2UgPSBmYWxzZSkge1xuICAgICAgICBpZiAoIXRoaXMuc3RhdGUgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgcG9ydE5hbWU6ICc0ODczJyxcbiAgICAgICAgICAgICAgICBsYXN0QWN0aW9uOiB7IHR5cGU6ICdpbml0JyB9LFxuICAgICAgICAgICAgICAgIGFwaTogdGhpcy5nZXRBcGkoKSxcbiAgICAgICAgICAgICAgICBydEFwaTogdGhpcy5nZXRSdEFwaSgpLFxuICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICB2OiAxLFxuICAgICAgICAgICAgICAgICAgICB0aWQ6IEdBX0FDQ09VTlQsXG4gICAgICAgICAgICAgICAgICAgIGNpZDogdGhpcy5ZMmxrKCksXG4gICAgICAgICAgICAgICAgICAgIHQ6ICdldmVudCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJldGVudGlvbkV2ZW50OiB0aGlzLnJldGVudGlvbkV2ZW50KCksXG4gICAgICAgICAgICAgICAgaW5zdGFsbEV2ZW50RmlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGZpcnN0UnVuRGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICB3b3RUcmFjZUlkOiB0aGlzLm1ha2VXb3RUcmFjZUlkKCksXG4gICAgICAgICAgICAgICAgdGFiczoge30sXG4gICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsRmVhdHVyZToge30sXG4gICAgICAgICAgICAgICAgd2hpdGVsaXN0OiBbXSxcbiAgICAgICAgICAgICAgICBwaGlzaGluZ1doaXRlbGlzdDogW10sXG4gICAgICAgICAgICAgICAgdGVtcGxpc3Q6IFtdLFxuICAgICAgICAgICAgICAgIHJhdGluZ3M6IHt9LFxuICAgICAgICAgICAgICAgIGNvbW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJldmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgMToge31cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZXI6IHt9LFxuICAgICAgICAgICAgICAgIHNlcnBzOiBbXSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICBwcm90ZWN0aW9uOiB0aGlzLnNldHRpbmdzUHJvdGVjdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICBvcHRvdXRQb3B1cDogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2FtYmxpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRhbEV4dHJhSWNvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2hpZWxkczogeyBhbGw6IHRoaXMuc2V0dGluZ3NTaGllbGRzKCkgfSxcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZ3M6IHRoaXMuc2V0dGluZ3NXYXJuaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIGFzc2lzdGFudDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGFzc2lzdGFudEhhbmRsZVRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgYXNzaXN0YW50RXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlUG9wVXA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaG93OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RPZmZlcmluZ0RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrUG9wVXBOb3RpZmljYXRpb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrUG9wVXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHBoaXNoaW5nOiB0cnVlLCAvLyAgbWFpbCBwcm90ZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIGxlYWtNb25pdG9yaW5nOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmF0ZVVzV2lkZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHBvcHVwT3BlbmluZ0NvdW50ZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgIG9mZlJhdGVXaWRnZXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBvZmZSYXRlVGltZTogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vYmlsZU1vZGFsOiB7XG4gICAgICAgICAgICAgICAgICAgIG1vYmlsZU1vZGFsVHJpZ2dlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1vYmlsZU1vZGFsUmF0ZUNvdW50OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbmJvYXJkaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGN0YToge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICcnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlYXJhbmNlOiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdXJ2ZXk6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFsbERhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGlzU2hvd2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcHJldlZlcnNpb246ICcwLjAuMCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3RUaW1lVXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbk51bWJlcjogJycsXG4gICAgICAgICAgICAgICAgICAgIHNob3dXaGF0c05ldzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHdoYXRzTmV3U2hvd25MYXN0VmVyc2lvbjogJzQuMC4xNC4yJyxcbiAgICAgICAgICAgICAgICAgICAgbmV3RmVhdHVyZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYWtNb25pdG9yaW5nOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cmFja2VyQmxvY2tlckRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdDoge30sXG4gICAgICAgICAgICAgICAgICAgIGFsbG93TGlzdDoge30sXG4gICAgICAgICAgICAgICAgICAgIGFsbEJsb2NrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5OiBbXSxcbiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeU1heExlbmd0aDogMTAwLFxuICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJlbG9hZEFsbG93TGlzdDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZm9jdXNlZFJldmlldzoge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICBjb21tZW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgdWlkOiAwLFxuICAgICAgICAgICAgICAgICAgICBzYWZldHk6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRhZ3M6IFtdXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZW1pbmRlcnM6IHRoaXMuZ2V0SW5pdGlhbFJlbWluZGVycygpLFxuICAgICAgICAgICAgICAgIGNvdW50ZXJzOiB0aGlzLmdldEluaXRpYWxDb3VudGVycygpLFxuICAgICAgICAgICAgICAgIHJlbW90ZUNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoSW50ZXJ2YWxIb3VyczogMC41LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEZWZhdWx0Q29uZmlnOiB0cnVlIC8vIHRoaXMgcHJvcGVydHkgYSBmbGFnIGFuZCBpcyBhYnNlbnQgYXMgc29vbiBhcyByZWFsIGNvbmZpZyBpcyB1cGRhdGVkIG9uIHRoZSBmaXJzdCB0aW1lXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVzOiB7fSxcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VycFBvcHVwQ291bnRlcjogMCxcbiAgICAgICAgICAgICAgICBlbWFpbFByb3RlY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXNTaG93bjogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGVha01vbml0b3Jpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFRzOiAxLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICAgICAgICAgIGJyZWFjaGVzOiBbXSAvLyB0eXBlOiB7bG9nb1VybDogc3RyaW5nLCBpc0Rpc21pc3NlZEZyb21TbGlkZXI6Ym9vbGVhbiwgbmFtZTogc3RyaW5nLCBpc0Rpc21pc3NlZDogYm9vbGVhbiwgbGVha2VkSW5mbzogJyd9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwaW5Xb3RQb3B1cDoge1xuICAgICAgICAgICAgICAgICAgICBwb3B1cFdhc1Nob3duOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnJlZVVzZXJCbG9ja2VkV2Vic2l0ZUNvdW50ZXI6IDAsXG4gICAgICAgICAgICAgICAgcG9wdXBWMjoge1xuICAgICAgICAgICAgICAgICAgICB3YXNTaG93bjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNjYW5UaW1lOiAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfVxuXG5cbiAgICBnZXRBcGkoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6ICcnLFxuICAgICAgICAgICAgaWQ6ICcnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0UnRBcGkoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6ICcnLFxuICAgICAgICAgICAgaWQ6ICcnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0UHJvdGVjdGVkVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCk7XG4gICAgfVxuXG4gICAgZ2V0SW5pdGlhbFJlbWluZGVycygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtTQ0hFRFVMRVJfVFlQRVMuRU1BSUxfUFJPVEVDVElPTl06IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIFtTQ0hFRFVMRVJfVFlQRVMuUkFURV9VU19TTElERVJdOiB0aGlzLmdldFByb3RlY3RlZFRpbWUoKSArIE9ORV9NT05USCxcbiAgICAgICAgICAgIFtTQ0hFRFVMRVJfVFlQRVMuTEVBS19NT05JVE9SSU5HX0FEXTogRGF0ZS5ub3coKSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRJbml0aWFsQ291bnRlcnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbU0NIRURVTEVSX1RZUEVTLkxFQUtfTU9OSVRPUklOR19BRF06IDBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBZMmxrKCkge1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGVVdWlkVjQoKTtcbiAgICB9XG5cbiAgICByZXRlbnRpb25FdmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHsgc2VudERheXM6IHt9LCBjb21wbGV0ZWQ6IGZhbHNlIH07XG4gICAgfVxuXG4gICAgc2V0dGluZ3NQcm90ZWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBzZXR0aW5nc1NoaWVsZHMoKSB7XG4gICAgICAgIHJldHVybiBTSElFTERTX0xFVkVMX0hJR0g7XG4gICAgfVxuXG4gICAgc2V0dGluZ3NXYXJuaW5nKCkge1xuICAgICAgICByZXR1cm4gV0FSTklOR1NfTEVWRUxfSElHSDtcbiAgICB9XG5cbiAgICBtYWtlV290VHJhY2VJZCgpIHtcbiAgICAgICAgcmV0dXJuIGBleC0ke1ttYWtlaWQoOCksIG1ha2VpZCg0KSwgbWFrZWlkKDQpLCBtYWtlaWQoNCksIG1ha2VpZCgxMildLmpvaW4oJy0nKX1gO1xuICAgIH1cbn1cblxuY29uc3QgRGVmYXVsdFN0YXRlID0gbmV3IF9EZWZhdWx0U3RhdGUoKTtcblxuZXhwb3J0IGRlZmF1bHQgRGVmYXVsdFN0YXRlO1xuIiwiaW1wb3J0IHtcbiAgICBJTl9DQVNFX0VSUk9SX0lOVEVSVkFMLFxuICAgIFNFUlBTX1JFUVVFU1RfSU5URVJWQUwsXG4gICAgVFVSTl9PRkZfUFJPVEVDVElPTiwgVFVSTl9PTl9QUk9URUNUSU9OLFxuICAgIFNISUVMRFNfTEVWRUxfT0ZGLCBTSElFTERTX0xFVkVMX0hJR0gsIFdBUk5JTkdTX0xFVkVMX0hJR0gsIFdBUk5JTkdTX0xFVkVMX09GRlxufSBmcm9tICcuLi8uLi9zaGFyZWQvY29uc3RhbnRzJztcblxuaW1wb3J0IFdvdEFwaSBmcm9tICcuLi8uLi9zaGFyZWQvd290QXBpJztcbmltcG9ydCB7IHdlYmV4dEFwaSB9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscyc7XG5cbmV4cG9ydCBjb25zdCBSRU1PVkVfRlJPTV9XSElURUxJU1QgPSAnUkVNT1ZFX0ZST01fV0hJVEVMSVNUJztcbmV4cG9ydCBjb25zdCBBRERfVE9fV0hJVEVMSVNUID0gJ0FERF9UT19XSElURUxJU1QnO1xuZXhwb3J0IGNvbnN0IEFERF9UT19URU1QTElTVCA9ICdBRERfVE9fVEVNUExJU1QnO1xuZXhwb3J0IGNvbnN0IENMRUFSX1RFTVBMSVNUID0gJ0NMRUFSX1RFTVBMSVNUJztcblxuZXhwb3J0IGNvbnN0IEdFTkVSQVRFX0lEID0gJ0dFTkVSQVRFX0lEJztcbmV4cG9ydCBjb25zdCBTQVZFX1VTRVJfUkVWSUVXX0ZST01fQVBJID0gJ1NBVkVfVVNFUl9SRVZJRVdfRlJPTV9BUEknO1xuZXhwb3J0IGNvbnN0IFNBVkVfUkFUSU5HID0gJ1NBVkVfUkFUSU5HJztcbmV4cG9ydCBjb25zdCBTRVRfQ09NTUVOVFNfQ09VTlQgPSAnU0VUX0NPTU1FTlRTX0NPVU5UJztcbmV4cG9ydCBjb25zdCBTQVZFX0NPTU1FTlRTID0gJ1NBVkVfQ09NTUVOVFMnO1xuZXhwb3J0IGNvbnN0IExPQURJTkdfQ09NTUVOVFMgPSAnTE9BRElOR19DT01NRU5UUyc7XG5leHBvcnQgY29uc3QgU0VORF9RVUVSWV9BQ1RJT04gPSAnU0VORF9RVUVSWV9BQ1RJT04nO1xuZXhwb3J0IGNvbnN0IFNFUlBfU0VORF9MSU5LU19BQ1RJT04gPSAnU0VSUF9TRU5EX0xJTktTX0FDVElPTic7XG5leHBvcnQgY29uc3QgU0VSUF9NQVJLX0xJTktTX1BFTkRJTkcgPSAnU0VSUF9NQVJLX0xJTktTX1BFTkRJTkcnO1xuZXhwb3J0IGNvbnN0IENMRUFSX1JBVElORyA9ICdDTEVBUl9SQVRJTkcnO1xuZXhwb3J0IGNvbnN0IENMRUFSX0NPTU1FTlRTID0gJ0NMRUFSX0NPTU1FTlRTJztcbmV4cG9ydCBjb25zdCBDTEVBUl9VU0VSX1JFVklFV1MgPSAnQ0xFQVJfVVNFUl9SRVZJRVdTJztcbmV4cG9ydCBjb25zdCBTQVZFX1RBQlMgPSAnU0FWRV9UQUJTJztcbmV4cG9ydCBjb25zdCBTRVRfQUNUSVZFX1RBQiA9ICdTRVRfQUNUSVZFX1RBQic7XG5leHBvcnQgY29uc3QgU0FWRV9XSVRORVNTID0gJ1NBVkVfV0lUTkVTUyc7XG5leHBvcnQgY29uc3QgU0FWRV9SVF9XSVRORVNTID0gJ1NBVkVfUlRfV0lUTkVTUyc7XG5leHBvcnQgY29uc3QgU0FWRV9SRVRFTlRJT05fREFZUyA9ICdTQVZFX1JFVEVOVElPTl9EQVlTJztcbmV4cG9ydCBjb25zdCBTQVZFX0lOU1RBTEwgPSAnU0FWRV9JTlNUQUxMJztcbmV4cG9ydCBjb25zdCBTQVZFX0ZJUlNUX1JVTl9EQVRFID0gJ1NBVkVfRklSU1RfUlVOX0RBVEUnO1xuXG5leHBvcnQgY29uc3QgVE9fTkVYVF9TVEVQID0gJ1RPX05FWFRfU1RFUCc7XG5leHBvcnQgY29uc3QgVE9fUFJFVklPVVNfU1RFUCA9ICdUT19QUkVWSU9VU19TVEVQJztcbmV4cG9ydCBjb25zdCBPVkVSX05FWFRfU1RFUCA9ICdPVkVSX05FWFRfU1RFUCc7XG5leHBvcnQgY29uc3QgT1ZFUl9QUkVWSU9VU19TVEVQID0gJ09WRVJfUFJFVklPVVNfU1RFUCc7XG5leHBvcnQgY29uc3QgUkFURV9TQUZFVFkgPSAnUkFURV9TQUZFVFknO1xuZXhwb3J0IGNvbnN0IFJBVEVfQ0hJTERfU0FGRVRZID0gJ1JBVEVfQ0hJTERfU0FGRVRZJztcbmV4cG9ydCBjb25zdCBSQVRFX1NJVEUgPSAnUkFURV9TSVRFJztcbmV4cG9ydCBjb25zdCBFRElUX1JFVklFVyA9ICdFRElUX1JFVklFVyc7XG5leHBvcnQgY29uc3QgU0FWRV9SRVZJRVcgPSAnU0FWRV9SRVZJRVcnO1xuZXhwb3J0IGNvbnN0IERFTEVURV9SRVZJRVcgPSAnREVMRVRFX1JFVklFVyc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1JFVklFV19USU1FU1RBTVAgPSAnVVBEQVRFX1JFVklFV19USU1FU1RBTVAnO1xuZXhwb3J0IGNvbnN0IEFERF9DT01NRU5UX0FDVElPTiA9ICdBRERfQ09NTUVOVF9BQ1RJT04nO1xuZXhwb3J0IGNvbnN0IFRSSVBMRV9ORVhUX1NURVAgPSAnVFJJUExFX05FWFRfU1RFUCc7XG5leHBvcnQgY29uc3QgVFJJUExFX1BSRVZJT1VTX1NURVAgPSAnVFJJUExFX1BSRVZJT1VTX1NURVAnO1xuZXhwb3J0IGNvbnN0IFNFTkRfVVNFUl9SRVZJRVdfVE9fU0VSVkVSID0gJ1NFTkRfVVNFUl9SRVZJRVdfVE9fU0VSVkVSJztcblxuZXhwb3J0IGNvbnN0IFBST1RFQ1RJT05fT04gPSAnUFJPVEVDVElPTl9PTic7XG5leHBvcnQgY29uc3QgUFJPVEVDVElPTl9PRkYgPSAnUFJPVEVDVElPTl9PRkYnO1xuZXhwb3J0IGNvbnN0IEFMTF9TQUZFX0JST1dTSU5HX09OID0gJ0FMTF9TQUZFX0JST1dTSU5HX09OJztcbmV4cG9ydCBjb25zdCBBTExfU0FGRV9CUk9XU0lOR19PRkYgPSAnQUxMX1NBRkVfQlJPV1NJTkdfT0ZGJztcbmV4cG9ydCBjb25zdCBQQVJFTlRBTF9DT05UUk9MX09GRiA9ICdQQVJFTlRBTF9DT05UUk9MX09GRic7XG5leHBvcnQgY29uc3QgUEFSRU5UQUxfQ09OVFJPTF9PTiA9ICdQQVJFTlRBTF9DT05UUk9MX09OJztcbmV4cG9ydCBjb25zdCBHQU1CTElOR19DT05UUk9MX09GRiA9ICdHQU1CTElOR19DT05UUk9MX09GRic7XG5leHBvcnQgY29uc3QgR0FNQkxJTkdfQ09OVFJPTF9PTiA9ICdHQU1CTElOR19DT05UUk9MX09OJztcbmV4cG9ydCBjb25zdCBQQVJFTlRBTF9DT05UUk9MX0VYVFJBX0lDT05fT0ZGID0gJ1BBUkVOVEFMX0NPTlRST0xfRVhUUkFfSUNPTl9PRkYnO1xuZXhwb3J0IGNvbnN0IFBBUkVOVEFMX0NPTlRST0xfRVhUUkFfSUNPTl9PTiA9ICdQQVJFTlRBTF9DT05UUk9MX0VYVFJBX0lDT05fT04nO1xuZXhwb3J0IGNvbnN0IEFMTF9QT1BVUF9DT05UUk9MU19PTiA9ICdBTExfUE9QVVBfQ09OVFJPTFNfT04nO1xuZXhwb3J0IGNvbnN0IEFMTF9QT1BVUF9DT05UUk9MU19PRkYgPSAnQUxMX1BPUFVQX0NPTlRST0xTX09GRic7XG5leHBvcnQgY29uc3QgUE9QVVBfQkxPQ0tfTk9USUZJQ0FUSU9OX09OID0gJ1BPUFVQX0JMT0NLX05PVElGSUNBVElPTl9PTic7XG5leHBvcnQgY29uc3QgUE9QVVBfQkxPQ0tfTk9USUZJQ0FUSU9OX09GRiA9ICdQT1BVUF9CTE9DS19OT1RJRklDQVRJT05fT0ZGJztcbmV4cG9ydCBjb25zdCBQT1BVUF9CTE9DS19PTiA9ICdQT1BVUF9CTE9DS19PTic7XG5leHBvcnQgY29uc3QgUE9QVVBfQkxPQ0tfT0ZGID0gJ1BPUFVQX0JMT0NLX09GRic7XG5leHBvcnQgY29uc3QgU0VUX1NISUVMRFNfTEVWRUwgPSAnU0VUX1NISUVMRFNfTEVWRUwnO1xuZXhwb3J0IGNvbnN0IFNFVF9XQVJOSU5HU19MRVZFTCA9ICdTRVRfV0FSTklOR1NfTEVWRUwnO1xuZXhwb3J0IGNvbnN0IEFTU0lTVEFOVF9PTiA9ICdBU1NJU1RBTlRfT04nO1xuZXhwb3J0IGNvbnN0IEFTU0lTVEFOVF9PRkYgPSAnQVNTSVNUQU5UX09GRic7XG5leHBvcnQgY29uc3QgQVNTSVNUQU5UX1NFVF9QT1NJVElPTiA9ICdBU1NJU1RBTlRfU0VUX1BPU0lUSU9OJztcbmV4cG9ydCBjb25zdCBBU1NJU1RBTlRfU0VUX0VYUEFOREVEID0gJ0FTU0lTVEFOVF9TRVRfRVhQQU5ERUQnO1xuZXhwb3J0IGNvbnN0IExPQURfVFJBQ0tFUlNfTElTVCA9ICdMT0FEX1RSQUNLRVJTX0xJU1QnO1xuZXhwb3J0IGNvbnN0IExPQURfVFJBQ0tFUlNfTElTVF9DT01QTEVURUQgPSAnTE9BRF9UUkFDS0VSU19MSVNUX0NPTVBMRVRFRCc7XG5leHBvcnQgY29uc3QgUkVMT0FEX1RSQUNLRVJTX0RBVEFfT04gPSAnUkVMT0FEX1RSQUNLRVJTX0RBVEFfT04nO1xuZXhwb3J0IGNvbnN0IFJFTE9BRF9UUkFDS0VSU19EQVRBX09GRiA9ICdSRUxPQURfVFJBQ0tFUlNfREFUQV9PRkYnO1xuZXhwb3J0IGNvbnN0IFRSQUNLRVJfREVURUNURUQgPSAnVFJBQ0tFUl9ERVRFQ1RFRCc7XG5leHBvcnQgY29uc3QgVE9HR0xFX0JMT0NLX0FMTF9UUkFDS0VSUyA9ICdUT0dHTEVfQkxPQ0tfQUxMX1RSQUNLRVJTJztcbmV4cG9ydCBjb25zdCBVUERBVEVfVFJBQ0tFUl9BTExPV19MSVNUID0gJ1VQREFURV9UUkFDS0VSX0FMTE9XX0xJU1QnO1xuZXhwb3J0IGNvbnN0IERFTEVURV9UUkFDS0VSX0hJU1RPUlkgPSAnREVMRVRFX1RSQUNLRVJfSElTVE9SWSc7XG5leHBvcnQgY29uc3QgRlJFRV9VU0VSX0JMT0NLRURfV0VCU0lURSA9ICdGUkVFX1VTRVJfQkxPQ0tFRF9XRUJTSVRFJztcbmV4cG9ydCBjb25zdCBQSElTSElOR19PTiA9ICdQSElTSElOR19PTic7XG5leHBvcnQgY29uc3QgUEhJU0hJTkdfT0ZGID0gJ1BISVNISU5HX09GRic7XG5leHBvcnQgY29uc3QgTEVBS19NT05JVE9SSU5HX09OID0gJ0xFQUtfTU9OSVRPUklOR19PTic7XG5leHBvcnQgY29uc3QgTEVBS19NT05JVE9SSU5HX09GRiA9ICdMRUFLX01PTklUT1JJTkdfT0ZGJztcbmV4cG9ydCBjb25zdCBQSElTSElOR19XTF9BREQgPSAnUEhJU0hJTkdfV0xfQUREJztcbmV4cG9ydCBjb25zdCBQSElTSElOR19XTF9SRU1PVkUgPSAnUEhJU0hJTkdfV0xfUkVNT1ZFJztcbmV4cG9ydCBjb25zdCBTRVRfUkVNSU5ERVIgPSAnU0VUX1JFTUlOREVSJztcbmV4cG9ydCBjb25zdCBSRU1PVkVfUkVNSU5ERVIgPSAnUkVNT1ZFX1JFTUlOREVSJztcbmV4cG9ydCBjb25zdCBVUERBVEVfVUlfQ09ORklHX0ZFQVRVUkVTID0gJ1VQREFURV9VSV9DT05GSUdfRkVBVFVSRVMnO1xuZXhwb3J0IGNvbnN0IFVQREFURV9VSV9DT05GSUdfQllfS0VZID0gJ1VQREFURV9VSV9DT05GSUdfQllfS0VZJztcbmV4cG9ydCBjb25zdCBIQU5ETEVfVVNFUl9EQVRBX0FOQUxZVElDUyA9ICdIQU5ETEVfVVNFUl9EQVRBX0FOQUxZVElDUyc7XG5cbmV4cG9ydCBjb25zdCBTQVZFX1NFUlBTX0NPTkYgPSAnU0FWRV9TRVJQU19DT05GJztcbmV4cG9ydCBjb25zdCBTRU5EX1JFVklFV19BQ1RJT04gPSAnU0VORF9SRVZJRVdfQUNUSU9OJztcbmV4cG9ydCBjb25zdCBERUxFVEVfUkVWSUVXX0FDVElPTiA9ICdERUxFVEVfUkVWSUVXX0FDVElPTic7XG5cbmV4cG9ydCBjb25zdCBMT0dJTl9BQ1RJT04gPSAnTE9HSU5fQUNUSU9OJztcbmV4cG9ydCBjb25zdCBSRUdJU1RFUl9BQ1RJT04gPSAnUkVHSVNURVJfQUNUSU9OJztcbmV4cG9ydCBjb25zdCBGT1JHT1RfQUNUSU9OID0gJ0ZPUkdPVF9BQ1RJT04nO1xuZXhwb3J0IGNvbnN0IEdFVF9DT01NRU5UU19BQ1RJT04gPSAnR0VUX0NPTU1FTlRTX0FDVElPTic7XG5leHBvcnQgY29uc3QgR0VUX0NPTU1FTlRTX0NPVU5UID0gJ0dFVF9DT01NRU5UU19DT1VOVCc7XG5leHBvcnQgY29uc3QgR0VUX0NPTU1FTlRfQU5EX1JBVElORyA9ICdHRVRfQ09NTUVOVF9BTkRfUkFUSU5HJztcbmV4cG9ydCBjb25zdCBHRVRfVVNFUl9DT01NRU5UID0gJ0dFVF9VU0VSX0NPTU1FTlQnO1xuZXhwb3J0IGNvbnN0IExPR09VVF9BQ1RJT04gPSAnTE9HT1VUX0FDVElPTic7XG5leHBvcnQgY29uc3QgVVNFUl9MT0dPVVQgPSAnVVNFUl9MT0dPVVQnO1xuXG5leHBvcnQgY29uc3QgU0FWRV9VU0VSX1RPS0VOID0gJ1NBVkVfVVNFUl9UT0tFTic7XG5leHBvcnQgY29uc3QgU0FWRV9VU0VSX0RBVEEgPSAnU0FWRV9VU0VSX0RBVEEnO1xuZXhwb3J0IGNvbnN0IFNBVkVfVVNFUl9QTEFOID0gJ1NBVkVfVVNFUl9QTEFOJztcbmV4cG9ydCBjb25zdCBHRVRfVVNFUl9QTEFOID0gJ0dFVF9VU0VSX1BMQU4nO1xuZXhwb3J0IGNvbnN0IFNBVkVfVVNFUl9TT1VSQ0UgPSAnU0FWRV9VU0VSX1NPVVJDRSc7XG5leHBvcnQgY29uc3QgR0VUX0lTX1VTRVJfVFJJQUxJTkcgPSAnR0VUX0lTX1VTRVJfVFJJQUxJTkcnO1xuZXhwb3J0IGNvbnN0IFNBVkVfSVNfVVNFUl9UUklBTElORyA9ICdTQVZFX0lTX1VTRVJfVFJJQUxJTkcnO1xuXG5leHBvcnQgY29uc3QgQ0xFQU5fVVNFUl9EQVRBID0gJ0NMRUFOX1VTRVJfREFUQSc7XG5leHBvcnQgY29uc3QgRVJST1JfVVNFUl9BVVRIID0gJ0VSUk9SX1VTRVJfQVVUSCc7XG5leHBvcnQgY29uc3QgTUVTU0FHRV9VU0VSX0FVVEggPSAnTUVTU0FHRV9VU0VSX0FVVEgnO1xuXG5leHBvcnQgY29uc3QgRVhQRVJJTUVOVEFMX0ZFQVRVUkUgPSAnRVhQRVJJTUVOVEFMX0ZFQVRVUkUnO1xuXG5leHBvcnQgY29uc3QgQ09VTlRfUE9QVVBfT1BFTklORyA9ICdDT1VOVF9QT1BVUF9PUEVOSU5HJztcbmV4cG9ydCBjb25zdCBPRkZfUkFURV9XSURHRVQgPSAnT0ZGX1JBVEVfV0lER0VUJztcbmV4cG9ydCBjb25zdCBDSEVDS19SQVRFX1dJREdFVF9EQVRFID0gJ0NIRUNLX1JBVEVfV0lER0VUX0RBVEUnO1xuXG5leHBvcnQgY29uc3QgTU9CSUxFX1RSSUdHRVJfTU9EQUwgPSAnTU9CSUxFX1RSSUdHRVJfTU9EQUwnO1xuZXhwb3J0IGNvbnN0IE1PQklMRV9SQVRFX0NPVU5UID0gJ01PQklMRV9SQVRFX0NPVU5UJztcbmV4cG9ydCBjb25zdCBNT0JJTEVfVFJJR0dFUl9NT0RBTF9SRVNFVCA9ICdNT0JJTEVfVFJJR0dFUl9NT0RBTF9SRVNFVCc7XG5cbmV4cG9ydCBjb25zdCBUT19ORVhUX1NURVBfT05CT0FSRElORyA9ICdUT19ORVhUX1NURVBfT05CT0FSRElORyc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1NVUlZFWV9TVEFURSA9ICdVUERBVEVfU1VSVkVZX1NUQVRFJztcbmV4cG9ydCBjb25zdCBNQUtFX1NVUlZFWV9TSE9XRUQgPSAnTUFLRV9TVVJWRVlfU0hPV0VEJztcblxuZXhwb3J0IGNvbnN0IFVQREFURV9DVEFfU1RBVFVTID0gJ1VQREFURV9DVEFfU1RBVFVTJztcbmV4cG9ydCBjb25zdCBVUERBVEVfQ1RBX0FQUEVBUkFOQ0UgPSAnVVBEQVRFX0NUQV9BUFBFQVJBTkNFJztcbmV4cG9ydCBjb25zdCBTRVRfR0RQUl9OT1RJRklDQVRJT05TID0gJ1NFVF9HRFBSX05PVElGSUNBVElPTlMnO1xuZXhwb3J0IGNvbnN0IFNFVF9HRFBSX05PVElGSUNBVElPTlNfT0ZGID0gJ1NFVF9HRFBSX05PVElGSUNBVElPTlNfT0ZGJztcblxuZXhwb3J0IGNvbnN0IFVQREFURV9GQVNfQ09ORklHID0gJ3VwZGF0ZUZBU0NvbmZpZyc7XG5leHBvcnQgY29uc3QgVVBEQVRFX0dBU19DT05GSUcgPSAndXBkYXRlR0FTQ29uZmlnJztcbmV4cG9ydCBjb25zdCBQT1BVUF9UWVBFID0gJ3BvcHVwVHlwZSc7XG5leHBvcnQgY29uc3QgVVBHUkFERV9QT1BVUCA9ICd1cGdyYWRlUG9wdXAnO1xuZXhwb3J0IGNvbnN0IE1BUktfRklSU1RfT0ZGRVJJTkdfREFURSA9ICdNQVJLX0ZJUlNUX09GRkVSSU5HX0RBVEUnO1xuXG4vLyBXSEFUJ1MgTkVXIFBPUFVQIE1BTkFHRU1FTlRcbmV4cG9ydCBjb25zdCBTRVRfQ1VSUkVOVF9WRVJTSU9OID0gJ1NFVF9DVVJSRU5UX1ZFUlNJT04nO1xuZXhwb3J0IGNvbnN0IFNFVF9TSE9XX1dIQVRTX05FVyA9ICdTRVRfU0hPV19XSEFUU19ORVcnO1xuZXhwb3J0IGNvbnN0IFdPVF9VUEdSQURFX0VWRU5UID0gJ1VTRVJfVVBHUkFERV9FVkVOVCc7XG5cbmV4cG9ydCBjb25zdCBPUEVOX0FERF9SRVZJRVdfQUNUSU9OID0gJ09QRU5fQUREX1JFVklFV19BQ1RJT04nO1xuZXhwb3J0IGNvbnN0IFVQREFURV9SRVZJRVcgPSAnVVBEQVRFX1JFVklFVyc7XG5leHBvcnQgY29uc3QgU0VUX1JFVklFV19JTl9GT0NVUyA9ICdTRVRfUkVWSUVXX0lOX0ZPQ1VTJztcbmV4cG9ydCBjb25zdCBDTEVBTl9ORVdfRkVBVFVSRVMgPSAnQ0xFQU5fTkVXX0ZFQVRVUkVTJztcbmV4cG9ydCBjb25zdCBHRVRfTEVBS19EQVRBID0gJ0dFVF9MRUFLX0RBVEEnO1xuZXhwb3J0IGNvbnN0IExFQUtfSU5GT19DT01QTEVURUQgPSAnTEVBS19JTkZPX0NPTVBMRVRFRCc7XG5leHBvcnQgY29uc3QgTEVBS19NT05JVE9SSU5HX0RJU01JU1MgPSAnTEVBS19NT05JVE9SSU5HX0RJU01JU1MnO1xuZXhwb3J0IGNvbnN0IExFQUtfTU9OSVRPUklOR19ESVNNSVNTX0FMRVJUID0gJ0xFQUtfTU9OSVRPUklOR19ESVNNSVNTX0FMRVJUJztcbmV4cG9ydCBjb25zdCBJTkNSRU1FTlRfUE9QVVBfQ09VTlRFUiA9ICdJTkNSRU1FTlRfUE9QVVBfQ09VTlRFUic7XG5leHBvcnQgY29uc3QgSU5DUkVNRU5UX0VNQUlMX0FEX1ZJRVdTID0gJ0lOQ1JFTUVOVF9FTUFJTF9BRF9WSUVXUyc7XG5leHBvcnQgY29uc3QgSU5DUkVNRU5UX0NPVU5URVIgPSAnSU5DUkVNRU5UX0NPVU5URVInO1xuZXhwb3J0IGNvbnN0IFJFU0VUX0NPVU5URVIgPSAnUkVTRVRfQ09VTlRFUic7XG5leHBvcnQgY29uc3QgUkVTRVRfUkVNSU5ERVIgPSAnUkVTRVRfUkVNSU5ERVInO1xuZXhwb3J0IGNvbnN0IERJU01JU1NfUElOX1dPVF9QT1BVUCA9ICdESVNNSVNTX1BJTl9XT1RfUE9QVVAnO1xuZXhwb3J0IGNvbnN0IFVQREFURV9HQV9JRCA9ICdVUERBVEVfR0FfSUQnO1xuXG5leHBvcnQgY29uc3QgVVBEQVRFX01BSUxDSElNUF9UQUcgPSAnVVBEQVRFX01BSUxDSElNUF9UQUcnO1xuXG5leHBvcnQgY29uc3QgVFVSTl9PRkZfUE9QVVBfT05CT0FSRElORyA9ICdUVVJOX09GRl9QT1BVUF9PTkJPQVJESU5HJztcbmV4cG9ydCBjb25zdCBVUERBVEVfUE9QVVBfU0NBTl9USU1FID0gJ1VQREFURV9QT1BVUF9TQ0FOX1RJTUUnO1xuXG5sZXQgZGVsYXkgPSBJTl9DQVNFX0VSUk9SX0lOVEVSVkFMO1xuXG4vLyBUQUJTXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVRhYnModGFicywgYWN0aXZlV2luZG93KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0FWRV9UQUJTLCBkYXRhOiB7IHRhYnMsIGFjdGl2ZVdpbmRvdyB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBY3RpdmVUYWIodGFiSWQpIHtcbiAgICByZXR1cm4geyB0eXBlOiBTRVRfQUNUSVZFX1RBQiwgZGF0YTogeyB0YWJJZCB9IH07XG59XG5cbi8vIEEvQiBURVNUSU5HIEZFQVRVUkVcbmV4cG9ydCBmdW5jdGlvbiBzYXZlRXhwZXJpbWVudGFsRGF0YShleHBlcmltZW50YWxEYXRhKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogRVhQRVJJTUVOVEFMX0ZFQVRVUkUsIGRhdGE6IGV4cGVyaW1lbnRhbERhdGEgfTtcbn1cblxuLy8gQVVUSE9SSVpBVElPTlxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKG5hbWUsIG1haWwsIHBhc3MsIFBhc3MyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogUkVHSVNURVJfQUNUSU9OLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBuYW1lLCBtYWlsLCBwYXNzLCBQYXNzMlxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgIHJldHVybiB7IHR5cGU6IExPR0lOX0FDVElPTiwgZGF0YTogeyB1c2VybmFtZSwgcGFzc3dvcmQgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVRva2VuKHRva2VuKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0FWRV9VU0VSX1RPS0VOLCBkYXRhOiB7IHRva2VuIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBMT0dPVVRfQUNUSU9OIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyUGxhbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBHRVRfVVNFUl9QTEFOIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJc1RyaWFsaW5nKCkge1xuICAgIHJldHVybiB7IHR5cGU6IEdFVF9JU19VU0VSX1RSSUFMSU5HIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3Jnb3QoZW1haWwpIHtcbiAgICByZXR1cm4geyB0eXBlOiBGT1JHT1RfQUNUSU9OLCBlbWFpbCB9O1xufVxuXG4vLyBXSElURUxJU1RcbmV4cG9ydCBmdW5jdGlvbiBhZGRUb1doaXRlbGlzdChob3N0KSB7XG4gICAgaWYgKGhvc3QpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQUREX1RPX1dISVRFTElTVCwgZGF0YTogeyBob3N0IH0gfTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGcm9tV2hpdGVsaXN0KGhvc3QpIHtcbiAgICBpZiAoaG9zdCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBSRU1PVkVfRlJPTV9XSElURUxJU1QsIGRhdGE6IHsgaG9zdCB9IH07XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9UZW1wbGlzdChob3N0KSB7XG4gICAgaWYgKGhvc3QpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQUREX1RPX1RFTVBMSVNULCBkYXRhOiB7IGhvc3QgfSB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyVGVtcGxpc3QoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQ0xFQVJfVEVNUExJU1QgfTtcbn1cblxuLy8gUkVRVUVTVCBSQVRJTkdcbmV4cG9ydCBmdW5jdGlvbiBnZXRNdWx0aXBsZVJhdGluZ3ModXJscykge1xuICAgIHJldHVybiB7IHR5cGU6IFNFUlBfU0VORF9MSU5LU19BQ1RJT04sIGRhdGE6IHsgdXJscyB9IH07XG59XG5cbi8vICBSQVRJTkdcbmV4cG9ydCBmdW5jdGlvbiBtYXJrTGlua3NQZW5kaW5nKHVybHMpIHtcbiAgICByZXR1cm4geyB0eXBlOiBTRVJQX01BUktfTElOS1NfUEVORElORywgZGF0YTogeyB1cmxzIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhdGluZyh0YXJnZXRQYXJhbXMsIGhlYWRlcnMpIHtcbiAgICByZXR1cm4geyB0eXBlOiBTRU5EX1FVRVJZX0FDVElPTiwgZGF0YTogeyB0YXJnZXRQYXJhbXMsIGhlYWRlcnMgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVVzZXJSZXZpZXdGcm9tQXBpKGRhdGEpIHtcbiAgICByZXR1cm4geyB0eXBlOiBTQVZFX1VTRVJfUkVWSUVXX0ZST01fQVBJLCBkYXRhIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlUmF0aW5nKHJhdGluZykge1xuICAgIHJldHVybiB7IHR5cGU6IFNBVkVfUkFUSU5HLCBkYXRhOiByYXRpbmcgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUmF0aW5nKCkge1xuICAgIHJldHVybiB7IHR5cGU6IENMRUFSX1JBVElORyB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tbWVudEFuZFJhdGluZyhob3N0LCB1aWQgPSAxKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogR0VUX0NPTU1FTlRfQU5EX1JBVElORywgZGF0YTogeyBob3N0LCB1aWQgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tbWVudHMoaG9zdCwgdWlkID0gMSwgbGVuZ3RoID0gMjAsIG9mZnNldCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IEdFVF9DT01NRU5UU19BQ1RJT04sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGhvc3QsIGxlbmd0aCwgb2Zmc2V0LCB1aWRcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21tZW50c0NvdW50KGhvc3QpIHtcbiAgICByZXR1cm4geyB0eXBlOiBHRVRfQ09NTUVOVFNfQ09VTlQsIGRhdGE6IHsgaG9zdCB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb21tZW50c0NvdW50KGhvc3QsIGNvdW50KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0VUX0NPTU1FTlRTX0NPVU5ULCBkYXRhOiB7IGhvc3QsIGNvdW50IH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVDb21tZW50cyhjb21tZW50cykge1xuICAgIHJldHVybiB7IHR5cGU6IFNBVkVfQ09NTUVOVFMsIGRhdGE6IGNvbW1lbnRzIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkaW5nQ29tbWVudHMoaG9zdCkge1xuICAgIHJldHVybiB7IHR5cGU6IExPQURJTkdfQ09NTUVOVFMsIGRhdGE6IGhvc3QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ29tbWVudHMoaG9zdCA9ICcnKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQ0xFQVJfQ09NTUVOVFMsIGhvc3QgfTtcbn1cblxuLy8gUkFUSU5HIEZMT1dcbmV4cG9ydCBmdW5jdGlvbiB0b05leHRTdGVwKGhvc3QsIHVzZXJJZCA9IDEpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUT19ORVhUX1NURVAsIGRhdGE6IHsgaG9zdCwgdXNlcklkIH0gfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvdmVyTmV4dFN0ZXAoaG9zdCwgdXNlcklkID0gMSkge1xuICAgIHJldHVybiB7IHR5cGU6IE9WRVJfTkVYVF9TVEVQLCBkYXRhOiB7IGhvc3QsIHVzZXJJZCB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmlwbGVOZXh0U3RlcChob3N0LCB1c2VySWQgPSAxKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVFJJUExFX05FWFRfU1RFUCwgZGF0YTogeyBob3N0LCB1c2VySWQgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJpcGxlUHJldmlvdXNTdGVwKGhvc3QsIHVzZXJJZCA9IDEpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUUklQTEVfUFJFVklPVVNfU1RFUCwgZGF0YTogeyBob3N0LCB1c2VySWQgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9QcmV2aW91c1N0ZXAoaG9zdCwgdXNlcklkID0gMSkge1xuICAgIHJldHVybiB7IHR5cGU6IFRPX1BSRVZJT1VTX1NURVAsIGRhdGE6IHsgaG9zdCwgdXNlcklkIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJQcmV2aW91c1N0ZXAoaG9zdCwgdXNlcklkID0gMSkge1xuICAgIHJldHVybiB7IHR5cGU6IE9WRVJfUFJFVklPVVNfU1RFUCwgZGF0YTogeyBob3N0LCB1c2VySWQgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmF0ZVNhZmV0eShob3N0LCByYXRlLCB1c2VySWQgPSAxKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogUkFURV9TQUZFVFksIGRhdGE6IHsgaG9zdCwgcmF0ZSwgdXNlcklkIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhdGVDaGlsZFNhZmV0eShob3N0LCByYXRlLCB1c2VySWQgPSAxKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogUkFURV9DSElMRF9TQUZFVFksIGRhdGE6IHsgaG9zdCwgcmF0ZSwgdXNlcklkIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsaWNrT25TdGFyKGhvc3QsIHJhdGluZywgdXNlcklkID0gMSkge1xuICAgIHJldHVybiB7IHR5cGU6IFJBVEVfU0lURSwgZGF0YTogeyBob3N0LCByYXRpbmcsIHVzZXJJZCB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlUmV2aWV3KHJldmlldywgdXNlcklkID0gMSkge1xuICAgIHJldHVybiB7IHR5cGU6IFNBVkVfUkVWSUVXLCBkYXRhOiB7IHJldmlldywgdXNlcklkIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVkaXRSZXZpZXcoaG9zdCwgdXNlcklkID0gMSkge1xuICAgIHJldHVybiB7IHR5cGU6IEVESVRfUkVWSUVXLCBkYXRhOiB7IGhvc3QsIHVzZXJJZCB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVSZXZpZXdUaW1lc3RhbXAoaG9zdCwgdXNlcklkKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVVBEQVRFX1JFVklFV19USU1FU1RBTVAsIGRhdGE6IHsgaG9zdCwgdXNlcklkIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVJldmlldyhob3N0LCB1c2VySWQgPSAxKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogREVMRVRFX1JFVklFVywgZGF0YTogeyBob3N0LCB1c2VySWQgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlUmV2aWV3QWN0aW9uKHVpZCwgdGFyZ2V0KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogREVMRVRFX1JFVklFV19BQ1RJT04sIGRhdGE6IHsgdWlkLCB0YXJnZXQgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZUNvbW1lbnRBbmRSZXZpZXcoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQUREX0NPTU1FTlRfQUNUSU9OIH07XG59XG5cbi8vIEFQSSBSRVFVRVNUU1xuZXhwb3J0IGZ1bmN0aW9uIHNhdmVXaXRuZXNzKHdpdG5lc3MpIHtcbiAgICBjb25zdCB7IGlkLCBrZXkgfSA9IHdpdG5lc3M7XG4gICAgcmV0dXJuIHsgdHlwZTogU0FWRV9XSVRORVNTLCBkYXRhOiB7IGlkLCBrZXkgfSB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVSdFdpdG5lc3MocnRXaXRuZXNzKSB7XG4gICAgY29uc3QgeyBpZCwga2V5IH0gPSBydFdpdG5lc3M7XG4gICAgcmV0dXJuIHsgdHlwZTogU0FWRV9SVF9XSVRORVNTLCBkYXRhOiB7IGlkLCBrZXkgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVJldGVudGlvbnREYXlzKHNlbnREYXlzKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0FWRV9SRVRFTlRJT05fREFZUywgZGF0YTogeyBzZW50RGF5cyB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlSW5zdGFsbCgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBTQVZFX0lOU1RBTEwgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVGaXJzdFJ1bkRhdGUoZmlyc3RSdW5EYXRlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0FWRV9GSVJTVF9SVU5fREFURSwgZGF0YTogeyBmaXJzdFJ1bkRhdGUgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVNlcnBzQ29uZihjb25mKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0FWRV9TRVJQU19DT05GLCBkYXRhOiBjb25mIH07XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnRXaXRoRGF0YShuYW1lLCBkYXRhKSB7XG4gICAgaWYgKCFkYXRhIHx8ICFuYW1lKSByZXR1cm47XG5cbiAgICBjb25zdCBlID0gbmV3IEV2ZW50KG5hbWUpO1xuICAgIGUuY29uZmlnID0gZGF0YTtcbiAgICBzZWxmLmRpc3BhdGNoRXZlbnQoZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0U2VycHNDb25mKCkge1xuICAgIHJldHVybiAoZGlzcGF0Y2gpID0+IHtcbiAgICAgICAgV290QXBpLmdldFNlcnBzKCkudGhlbigoY29uZikgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goc2F2ZVNlcnBzQ29uZihjb25mLnNlcykpO1xuICAgICAgICAgICAgZGVsYXkgPSBJTl9DQVNFX0VSUk9SX0lOVEVSVkFMO1xuXG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50V2l0aERhdGEoVVBEQVRFX0ZBU19DT05GSUcsIGNvbmYuZmFzKTtcbiAgICAgICAgICAgIGRpc3BhdGNoRXZlbnRXaXRoRGF0YShVUERBVEVfR0FTX0NPTkZJRywgY29uZi5nYXMpO1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICBkZWxheSAqPSAyO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2gocmVxdWVzdFNlcnBzQ29uZigpKTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuLy8gQ0hBTkdFIFNFVFRJTkdTXG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJuT25Qcm90ZWN0aW9uKCkge1xuICAgIHdlYmV4dEFwaS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgbmFtZTogVFVSTl9PTl9QUk9URUNUSU9OIH0pO1xuICAgIHJldHVybiB7IHR5cGU6IFBST1RFQ1RJT05fT04gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE9wdE91dFBvcFVwKG9wdG91dFBvcHVwKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogUE9QVVBfVFlQRSwgZGF0YTogeyBvcHRvdXRQb3B1cCB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJuT2ZmUHJvdGVjdGlvbigpIHtcbiAgICB3ZWJleHRBcGkucnVudGltZS5zZW5kTWVzc2FnZSh7IG5hbWU6IFRVUk5fT0ZGX1BST1RFQ1RJT04gfSk7XG4gICAgcmV0dXJuIHsgdHlwZTogUFJPVEVDVElPTl9PRkYgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cm5PbldvdEFzc2lzdGFudCgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBU1NJU1RBTlRfT04gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cm5PZmZXb3RBc3Npc3RhbnQoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQVNTSVNUQU5UX09GRiB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXNzaXN0YW50UG9zaXRpb24obmV3UG9zKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQVNTSVNUQU5UX1NFVF9QT1NJVElPTiwgZGF0YTogbmV3UG9zIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBc3Npc3RhbnRFeHBhbmRlZChpc0V4cGFuZGVkKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQVNTSVNUQU5UX1NFVF9FWFBBTkRFRCwgZGF0YTogaXNFeHBhbmRlZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tlckRldGVjdGVkKGRhdGEpIHtcbiAgICByZXR1cm4geyB0eXBlOiBUUkFDS0VSX0RFVEVDVEVELCBkYXRhIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkVHJhY2tlcnNMaXN0KCkge1xuICAgIHJldHVybiB7IHR5cGU6IExPQURfVFJBQ0tFUlNfTElTVCB9O1xufVxuXG4vLyBmaWx0ZXIgaXMgYSBjYWxsYmFjayBmb3IgQXJyYXkuZmlsdGVyIG9uIHRyYWNrZXIgYmxvY2tlciBoaXN0b3J5XG4vLyBub3Qgc3VwcGx5aW5nIG9uZSBjbGVhcnMgdGhlIHdob2xlIGhpc3RvcnlcbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVUcmFja2Vyc0hpc3RvcnkoZmlsdGVyID0gbnVsbCkge1xuICAgIHJldHVybiB7IHR5cGU6IERFTEVURV9UUkFDS0VSX0hJU1RPUlksIGRhdGE6IGZpbHRlciB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVHJhY2tlckFsbG93TGlzdChkYXRhKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVVBEQVRFX1RSQUNLRVJfQUxMT1dfTElTVCwgZGF0YSB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUJsb2NrQWxsVHJhY2tlcnMoZGF0YSkge1xuICAgIHJldHVybiB7IHR5cGU6IFRPR0dMRV9CTE9DS19BTExfVFJBQ0tFUlMsIGRhdGEgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRUcmFja2Vyc0xpc3RDb21wbGV0ZWQoZGF0YSkge1xuICAgIHJldHVybiB7IHR5cGU6IExPQURfVFJBQ0tFUlNfTElTVF9DT01QTEVURUQsIGRhdGEgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZ3JhZGVQb3BVcERhdGEoZGF0YSkge1xuICAgIHJldHVybiB7IHR5cGU6IFVQR1JBREVfUE9QVVAsIGRhdGEgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cm5PblBhcmVudGFsQ29udHJvbCgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBQQVJFTlRBTF9DT05UUk9MX09OIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJuT2ZmUGFyZW50YWxDb250cm9sKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFBBUkVOVEFMX0NPTlRST0xfT0ZGIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJuT25HYW1ibGluZ0NvbnRyb2woKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogR0FNQkxJTkdfQ09OVFJPTF9PTiB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVybk9mZkdhbWJsaW5nQ29udHJvbCgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBHQU1CTElOR19DT05UUk9MX09GRiB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVybk9mZlBhcmVudGFsQ29udHJvbEV4dHJhSWNvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBQQVJFTlRBTF9DT05UUk9MX0VYVFJBX0lDT05fT0ZGIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJuT25QYXJlbnRhbENvbnRyb2xFeHRyYUljb24oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogUEFSRU5UQUxfQ09OVFJPTF9FWFRSQV9JQ09OX09OIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJuT25BbGxTYWZlQnJvd3NpbmdDb250cm9scygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBTExfU0FGRV9CUk9XU0lOR19PTiB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVybk9mZkFsbFNhZmVCcm93c2luZ0NvbnRyb2xzKCkge1xuICAgIHJldHVybiB7IHR5cGU6IEFMTF9TQUZFX0JST1dTSU5HX09GRiB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVybk9uQWxsUG9wdXBDb250cm9scygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBBTExfUE9QVVBfQ09OVFJPTFNfT04gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cm5PZmZBbGxQb3B1cENvbnRyb2xzKCkge1xuICAgIHJldHVybiB7IHR5cGU6IEFMTF9QT1BVUF9DT05UUk9MU19PRkYgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNoaWVsZHNMZXZlbChsZXZlbCwgaWQgPSAnYWxsJykge1xuICAgIHJldHVybiB7IHR5cGU6IFNFVF9TSElFTERTX0xFVkVMLCBkYXRhOiB7IGxldmVsLCBpZCB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRXYXJuaW5nc0xldmVsKGxldmVsKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0VUX1dBUk5JTkdTX0xFVkVMLCBkYXRhOiB7IGxldmVsIH0gfTtcbn1cblxuLy8gUkFURSBVUyBXSURHRVRcbmV4cG9ydCBmdW5jdGlvbiBjb3VudFBvcHVwT3BlbmluZygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBDT1VOVF9QT1BVUF9PUEVOSU5HIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvZmZSYXRlV2lkZ2V0KCkge1xuICAgIHJldHVybiB7IHR5cGU6IE9GRl9SQVRFX1dJREdFVCB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmF0ZVdpZGdldERhdGUoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQ0hFQ0tfUkFURV9XSURHRVRfREFURSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9iaWxlVHJpZ2VyTW9kYWwoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogTU9CSUxFX1RSSUdHRVJfTU9EQUwgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vYmlsZVJhdGVDb3VudCgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBNT0JJTEVfUkFURV9DT1VOVCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9iaWxlVHJpZ2VyTW9kYWxSZXNldCgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBNT0JJTEVfVFJJR0dFUl9NT0RBTF9SRVNFVCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9OZXh0U3RlcE9uYm9hcmRpbmcoc3RlcCA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVE9fTkVYVF9TVEVQX09OQk9BUkRJTkcsIGRhdGE6IHsgc3RlcCB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDdGFTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVVBEQVRFX0NUQV9TVEFUVVMsIGRhdGE6IHN0YXR1cyB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ3RhQXBwZWFyYW5jZSgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBVUERBVEVfQ1RBX0FQUEVBUkFOQ0UgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVN1cnZleVN0YXRlKG5ld1N1cnZleVN0YXRlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVVBEQVRFX1NVUlZFWV9TVEFURSwgZGF0YTogeyBuZXdTdXJ2ZXlTdGF0ZSB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlU3VydmV5U2hvd2VkKCkge1xuICAgIHJldHVybiB7IHR5cGU6IE1BS0VfU1VSVkVZX1NIT1dFRCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFya0ZpcnN0T2ZmZXJpbmdEYXRlKCkge1xuICAgIHJldHVybiB7IHR5cGU6IE1BUktfRklSU1RfT0ZGRVJJTkdfREFURSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3VycmVudFZlcnNpb24odmVyc2lvbk51bWJlcikge1xuICAgIHJldHVybiB7IHR5cGU6IFNFVF9DVVJSRU5UX1ZFUlNJT04sIGRhdGE6IHsgdmVyc2lvbk51bWJlciB9IH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2V0U2hvd1doYXRzTmV3KGRhdGEpIHtcbiAgICByZXR1cm4geyB0eXBlOiBTRVRfU0hPV19XSEFUU19ORVcsIGRhdGEgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3b3RVcGdyYWRlKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFdPVF9VUEdSQURFX0VWRU5UIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VSZXZpZXcodWlkLCBkb21haW4pIHtcbiAgICByZXR1cm4geyB0eXBlOiBVUERBVEVfUkVWSUVXLCBkYXRhOiB7IHVpZCwgZG9tYWluIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld1Jldmlldyh1aWQsIGRvbWFpbiwgc3RhcnMpIHtcbiAgICBpZiAoIXVpZCkgcmV0dXJuO1xuICAgIHJldHVybiB7IHR5cGU6IE9QRU5fQUREX1JFVklFV19BQ1RJT04sIGRhdGE6IHsgdWlkLCBkb21haW4sIHN0YXJzIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFJldmlld0luRm9jdXMocmV2aWV3KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0VUX1JFVklFV19JTl9GT0NVUywgZGF0YTogcmV2aWV3IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJuT25QaGlzaGluZygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBQSElTSElOR19PTiB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVybk9mZlBoaXNoaW5nKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFBISVNISU5HX09GRiB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVybk9uU2hpZWxkcygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBTRVRfU0hJRUxEU19MRVZFTCwgZGF0YTogeyBsZXZlbDogU0hJRUxEU19MRVZFTF9ISUdILCBpZDogJ2FsbCcgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVybk9mZlNoaWVsZHMoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0VUX1NISUVMRFNfTEVWRUwsIGRhdGE6IHsgbGV2ZWw6IFNISUVMRFNfTEVWRUxfT0ZGLCBpZDogJ2FsbCcgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHVybk9uV2FybmluZ3MoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0VUX1dBUk5JTkdTX0xFVkVMLCBkYXRhOiB7IGxldmVsOiBXQVJOSU5HU19MRVZFTF9ISUdIIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cm5PZmZXYXJuaW5ncygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBTRVRfV0FSTklOR1NfTEVWRUwsIGRhdGE6IHsgbGV2ZWw6IFdBUk5JTkdTX0xFVkVMX09GRiB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJuT25MZWFrTW9uaXRvcmluZygpIHtcbiAgICB3ZWJleHRBcGkucnVudGltZS5zZW5kTWVzc2FnZSh7IG5hbWU6IExFQUtfTU9OSVRPUklOR19PTiB9KTtcbiAgICByZXR1cm4geyB0eXBlOiBMRUFLX01PTklUT1JJTkdfT04gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1cm5PZmZMZWFrTW9uaXRvcmluZygpIHtcbiAgICB3ZWJleHRBcGkucnVudGltZS5zZW5kTWVzc2FnZSh7IG5hbWU6IExFQUtfTU9OSVRPUklOR19PRkYgfSk7XG4gICAgcmV0dXJuIHsgdHlwZTogTEVBS19NT05JVE9SSU5HX09GRiB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkVG9QaGlzaGluZ1doaXRlbGlzdChsaW5rcykge1xuICAgIHJldHVybiB7IHR5cGU6IFBISVNISU5HX1dMX0FERCwgZGF0YTogbGlua3MgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUZyb21QaGlzaGluZ1doaXRlbGlzdChsaW5rcykge1xuICAgIHJldHVybiB7IHR5cGU6IFBISVNISU5HX1dMX1JFTU9WRSwgZGF0YTogbGlua3MgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFJlbWluZGVyKG5hbWUsIHRpbWUpIHtcbiAgICByZXR1cm4geyB0eXBlOiBTRVRfUkVNSU5ERVIsIGRhdGE6IHsgbmFtZSwgdGltZSB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVSZW1pbmRlcihuYW1lKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogUkVNT1ZFX1JFTUlOREVSLCBkYXRhOiBuYW1lIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVSZW1vdGVVSUNvbmZpZ0ZlYXR1cmVzKGZvckRlbGV0aW9uID0gW10sIGZvclVwZGF0ZSA9IHt9KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVVBEQVRFX1VJX0NPTkZJR19GRUFUVVJFUywgZGF0YTogeyBmb3JEZWxldGlvbiwgZm9yVXBkYXRlIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVJlbW90ZVVJQ29uZmlnQnlLZXkoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiB7IHR5cGU6IFVQREFURV9VSV9DT05GSUdfQllfS0VZLCBkYXRhOiB7IGtleSwgdmFsdWUgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xlYW5OZXdGZWF0dXJlcygpIHtcbiAgICByZXR1cm4geyB0eXBlOiBDTEVBTl9ORVdfRkVBVFVSRVMgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc21pc3NMZWFrQWxlcnRzKCkge1xuICAgIHJldHVybiB7IHR5cGU6IExFQUtfTU9OSVRPUklOR19ESVNNSVNTIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNtaXNzTGVha0FsZXJ0KG5hbWUpIHtcbiAgICByZXR1cm4geyB0eXBlOiBMRUFLX01PTklUT1JJTkdfRElTTUlTU19BTEVSVCwgZGF0YTogeyBuYW1lIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExlYWtJbmZvQ29tcGxldGVkKHJlcywgaW5pdGlhdGVkKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogTEVBS19JTkZPX0NPTVBMRVRFRCwgZGF0YTogeyByZXMsIGluaXRpYXRlZCB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMZWFrRGF0YShpbml0aWF0ZWQpIHtcbiAgICByZXR1cm4geyB0eXBlOiBHRVRfTEVBS19EQVRBLCBpbml0aWF0ZWQ6IGluaXRpYXRlZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlckRhdGFBbmFseXRpY3NIYW5kbGVyKGZvclVwZGF0ZSA9IHt9KSB7XG4gICAgcmV0dXJuIHsgdHlwZTogSEFORExFX1VTRVJfREFUQV9BTkFMWVRJQ1MsIGRhdGE6IHsgZm9yVXBkYXRlIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluY3JlbWVudFBvcFVwQ291bnRlcigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBJTkNSRU1FTlRfUE9QVVBfQ09VTlRFUiB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5jcmVtZW50RW1haWxBZFZpZXdzKCkge1xuICAgIHJldHVybiB7IHR5cGU6IElOQ1JFTUVOVF9FTUFJTF9BRF9WSUVXUyB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5jcmVtZW50Q291bnRlcihuYW1lKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogSU5DUkVNRU5UX0NPVU5URVIsIGRhdGE6IHsgbmFtZSB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldENvdW50ZXIobmFtZSkge1xuICAgIHJldHVybiB7IHR5cGU6IFJFU0VUX0NPVU5URVIsIGRhdGE6IHsgbmFtZSB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldFJlbWluZGVyKG5hbWUpIHtcbiAgICByZXR1cm4geyB0eXBlOiBSRVNFVF9SRU1JTkRFUiwgZGF0YTogeyBuYW1lIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc21pc3NQaW5Xb3RQb3B1cCgpIHtcbiAgICByZXR1cm4geyB0eXBlOiBESVNNSVNTX1BJTl9XT1RfUE9QVVAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVVzZXJTb3VyY2Uoc291cmNlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogU0FWRV9VU0VSX1NPVVJDRSwgZGF0YTogeyBzb3VyY2UgfSB9O1xufVxuXG4vKiA8bm9uLWZpcmVmb3g+ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlR2FJRChpZCkge1xuICAgIHJldHVybiB7IHR5cGU6IFVQREFURV9HQV9JRCwgZGF0YTogeyBpZCB9IH07XG59XG4vKiA8L25vbi1maXJlZm94PiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTWFpbENoaW1wVGFncyh0YWdzKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogVVBEQVRFX01BSUxDSElNUF9UQUcsIGRhdGE6IHsgdGFncyB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0dXJuT2ZmUG9wdXBPbmJvYXJkaW5nKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFRVUk5fT0ZGX1BPUFVQX09OQk9BUkRJTkcgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVBvcHVwU2NhblRpbWUoc2NhblRpbWUpIHtcbiAgICByZXR1cm4geyB0eXBlOiBVUERBVEVfUE9QVVBfU0NBTl9USU1FLCBkYXRhOiB7IHNjYW5UaW1lIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluY3JlbWVudEJsb2NrZWRXZWJzaXRlRnJlZVVzZXIoKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogRlJFRV9VU0VSX0JMT0NLRURfV0VCU0lURSB9O1xufVxuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7XG4gICAgR0FfQUNUSU9OX0tFWSwgR0FfQ0FURUdPUllfS0VZLCBNWV9VUkwsIFZFUlNJT05cbn0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICAgIGJ1aWxkVXJsLCBicm93c2VyTmFtZSwgZ2V0TG9jYWxlXG59IGZyb20gJy4uLy4uLy4uL3NoYXJlZC91dGlscyc7XG5pbXBvcnQgV290TmV0d29yayBmcm9tICcuLi8uLi8uLi9zaGFyZWQvbmV0d29yayc7XG5cbmNsYXNzIE15Q2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKHN0b3JlKSB7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICB9XG5cbiAgICAvKiA8bm9uLWZpcmVmb3g+ICovXG4gICAgZmlyZShwYXJhbXMgPSB7fSkge1xuICAgICAgICBjb25zdCBzaG91bGRCbG9ja1NlbmRCeVNhbXBsZVJhdGUgPSBNYXRoLnJhbmRvbSgpID4gMC4xO1xuICAgICAgICBpZiAocGFyYW1zW0dBX0FDVElPTl9LRVldID09PSAnRXJyb3InIHx8IHNob3VsZEJsb2NrU2VuZEJ5U2FtcGxlUmF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhcmFtc1tHQV9DQVRFR09SWV9LRVldID0gYGV4LSR7cGFyYW1zW0dBX0NBVEVHT1JZX0tFWV19YDtcbiAgICAgICAgY29uc3QgcnRwID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNldHRpbmdzLnByb3RlY3Rpb24gPyAnT24nIDogJ09mZic7XG4gICAgICAgIGNvbnN0IHZlcnNpb24gPSBWRVJTSU9OO1xuICAgICAgICBjb25zdCBsb2dnZWQgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkudXNlci51aWQgPyAnWWVzJyA6ICdObyc7XG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IGRkID0gdG9kYXkuZ2V0RGF0ZSgpO1xuICAgICAgICBsZXQgbW0gPSB0b2RheS5nZXRNb250aCgpICsgMTtcbiAgICAgICAgY29uc3QgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgaWYgKGRkIDwgMTApIHtcbiAgICAgICAgICAgIGRkID0gYDAke2RkfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1tIDwgMTApIHtcbiAgICAgICAgICAgIG1tID0gYDAke21tfWA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1cmwgPSBidWlsZFVybChNWV9VUkwsIF8ubWVyZ2Uoe30sIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5jb21tb24sIHBhcmFtcywge1xuICAgICAgICAgICAgY2QxOiBydHAsXG4gICAgICAgICAgICBjZDI6IGAke2Jyb3dzZXJOYW1lfS0ke3ZlcnNpb259YCxcbiAgICAgICAgICAgIGNkMzogbG9nZ2VkLFxuICAgICAgICAgICAgY2Q0OiBgJHt5eXl5fS0ke21tfS0ke2RkfWAsXG4gICAgICAgICAgICBjZDU6IGdldExvY2FsZSgpXG4gICAgICAgIH0pKTtcblxuICAgICAgICBXb3ROZXR3b3JrLnBvc3RGb3JtKHVybClcbiAgICAgICAgICAgIC50aGVuKHIgPT4ge30pXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7fSlcbiAgICB9XG4gICAgLyogPC9ub24tZmlyZWZveD4gKi9cbn1cblxuZXhwb3J0IGRlZmF1bHQgTXlDbGFzcztcbiIsImltcG9ydCB7IHNhdmVSZXRlbnRpb250RGF5cywgc2F2ZUZpcnN0UnVuRGF0ZSB9IGZyb20gJy4uL2FjdGlvbnMnO1xuaW1wb3J0IE15Q2xhc3MgZnJvbSAnLi9teUNsYXNzJztcblxuaW1wb3J0IHtcbiAgICBHQV9BQ1RJT05fS0VZLCBHQV9DQVRFR09SWV9LRVksIEdBX0xBQkVMX0tFWSwgVkVSU0lPTlxufSBmcm9tICcuLi8uLi8uLi9zaGFyZWQvY29uc3RhbnRzJztcblxuY29uc3QgUmV0ZW50aW9uRXZlbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IERBWVMgPSAnUmV0YWluZWQge3tudW1PZkRheXN9fSc7XG4gICAgY29uc3QgVFlQRSA9ICdHZW5lcmFsJztcblxuICAgIGNsYXNzIFJldGVudGlvbkV2ZW50IGV4dGVuZHMgTXlDbGFzcyB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHN0b3JlKSB7XG4gICAgICAgICAgICBzdXBlcihzdG9yZSk7XG5cbiAgICAgICAgICAgIHRoaXMubGFzdFJldGVudGlvbkRheSA9IDI4O1xuICAgICAgICAgICAgdGhpcy5taW5Ib3Vyc0Zyb21JbnN0YWxsID0gODtcblxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5yZXRlbnRpb25FdmVudDtcbiAgICAgICAgICAgIHRoaXMuZmlyc3RSdW5EYXRlID0gdGhpcy5nZXRGaXJzdFJ1bkRhdGUoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5maXJzdFJ1bkRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEZpcnN0UnVuRGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlyc3RSdW5EYXRlID0gdGhpcy5nZXRGaXJzdFJ1bkRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VudERheXMgPSBkYXRhLnNlbnREYXlzO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWQgPSBkYXRhLmNvbXBsZXRlZDtcblxuICAgICAgICAgICAgLyogPG5vbi1maXJlZm94PiAqL1xuICAgICAgICAgICAgdGhpcy5yZXBvcnQoKTtcbiAgICAgICAgICAgIC8qIDwvbm9uLWZpcmVmb3g+ICovXG4gICAgICAgIH1cblxuICAgICAgICBmaXJlKG51bU9mRGF5cykge1xuICAgICAgICAgICAgY29uc3QgZGF5cyA9IERBWVMucmVwbGFjZSgne3tudW1PZkRheXN9fScsIG51bU9mRGF5cyk7XG4gICAgICAgICAgICBzdXBlci5maXJlKHtcbiAgICAgICAgICAgICAgICBbR0FfQ0FURUdPUllfS0VZXTogZGF5cyxcbiAgICAgICAgICAgICAgICBbR0FfQUNUSU9OX0tFWV06IFRZUEUsXG4gICAgICAgICAgICAgICAgW0dBX0xBQkVMX0tFWV06IFZFUlNJT05cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0Rmlyc3RSdW5EYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5maXJzdFJ1bkRhdGU7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRGaXJzdFJ1bkRhdGUoKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNhdmVGaXJzdFJ1bkRhdGUoRGF0ZS5ub3coKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVwb3J0KCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLnJlcG9ydC5iaW5kKHRoaXMpLCAxMDAwICogNjAgKiA2MCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFJ1bkRhdGUgPSBuZXcgRGF0ZSh0aGlzLmZpcnN0UnVuRGF0ZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGluc3RhbGxTdGFydCA9IHRoaXMuZ2V0RGF0ZVN0YXJ0KGZpcnN0UnVuRGF0ZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvZGF5U3RhcnQgPSB0aGlzLmdldERhdGVTdGFydChub3cpO1xuXG4gICAgICAgICAgICBjb25zdCBtc1N0YXJ0RGlmZiA9IE1hdGguYWJzKHRvZGF5U3RhcnQgLSBpbnN0YWxsU3RhcnQpO1xuXG4gICAgICAgICAgICBjb25zdCBob3Vyc0Zyb21UcnVlSW5zdGFsbCA9IE1hdGguZmxvb3IoKG5vdyAtIGZpcnN0UnVuRGF0ZSkgLyAoMTAwMCAqIDYwICogNjApKTtcbiAgICAgICAgICAgIGNvbnN0IGRheXNEaWZmID0gTWF0aC5mbG9vcihtc1N0YXJ0RGlmZiAvICgxMDAwICogNjAgKiA2MCAqIDI0KSk7XG5cbiAgICAgICAgICAgIGlmIChkYXlzRGlmZiA+IDAgJiYgZGF5c0RpZmYgPD0gdGhpcy5sYXN0UmV0ZW50aW9uRGF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNlbnREYXlzW2RheXNEaWZmXSAmJiBob3Vyc0Zyb21UcnVlSW5zdGFsbCA+IHRoaXMubWluSG91cnNGcm9tSW5zdGFsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUoZGF5c0RpZmYpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmxpdmVSZXBvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW50RGF5c1tkYXlzRGlmZl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNhdmVSZXRlbnRpb250RGF5cyh0aGlzLnNlbnREYXlzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXlzRGlmZiA+IHRoaXMubGFzdFJldGVudGlvbkRheSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZW50RGF5c1tkYXlzRGlmZl0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5saXZlUmVwb3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VudERheXNbZGF5c0RpZmZdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChzYXZlUmV0ZW50aW9udERheXModGhpcy5zZW50RGF5cykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdldERhdGVTdGFydChkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoXG4gICAgICAgICAgICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgIGRhdGUuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgICAgICAoZGF0ZS5nZXRIb3VycygpID49IDAgJiYgZGF0ZS5nZXRIb3VycygpIDwgNSkgPyBkYXRlLmdldERhdGUoKSAtIDEgOiBkYXRlLmdldERhdGUoKSxcbiAgICAgICAgICAgICAgICA1LCAwLCAxXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgbGl2ZVJlcG9ydCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBbR0FfQ0FURUdPUllfS0VZXTogVFlQRSxcbiAgICAgICAgICAgICAgICBbR0FfQUNUSU9OX0tFWV06ICdsaXZlJyxcbiAgICAgICAgICAgICAgICBbR0FfTEFCRUxfS0VZXTogVkVSU0lPTlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN1cGVyLmZpcmUocGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBSZXRlbnRpb25FdmVudDtcbn0oKSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJldGVudGlvbkV2ZW50O1xuIiwiY29uc3QgRU1BSUxfVEVNUExBVEUgPSBcIl9fZS1tLWEtaS1sX19cIjtcbmNvbnN0IExPR0lOX1RFTVBMQVRFID0gXCJfX24tYS1tLWVfX1wiO1xuY29uc3QgUEFTU1dPUkRfVEVNUExBVEUgPSBcIl9fcC1hLXMtc19fXCI7XG5jb25zdCBBRERSRVNTX1RFTVBMQVRFID0gXCJfX2EtZC1kLXItZS1zLXNfX1wiO1xuY29uc3QgQ0FSRF9OVU1fVEVNUExBVEUgPSBcIl9fYy1hLXItZF9fXCI7XG5jb25zdCBQSE9ORV9URU1QTEFURSA9IFwiX19wLWgtby1uLWVfX1wiO1xuY29uc3QgTE9DQVRJT05fVEVNUExBVEUgPSBcIl9fbC1vLWMtYS10LWktby1uX19cIjtcbmNvbnN0IFBPU1RDT0RFX1RFTVBMQVRFID0gXCJfX3Atby1zLXQtYy1vLWQtZV9fXCI7XG5jb25zdCBHRU5ERVJfVEVNUExBVEUgPSBcIl9fZy1lLW4tZC1lLXJfX1wiO1xuY29uc3QgRU1BSUxfUkVHRVggPSAvKChbXjw+KClcXFtcXF1cXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVxcW1xcXVxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFtePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl0rXFwuKStbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdezIsfSkvaTtcblxuLy93ZSBkb250IHdhbnQgdG8gd29yayB3aXRoIHVybHMsIHdoaWNoIGNhbiBjb250YWlucyB0aG9zZSBkYXRhXG5jbGFzcyBQaUZpbHRlciB7XG5cdGNvbnN0cnVjdG9yKCkge31cblxuXHRwYXJzZVVybFBhcmFtcyhwYXJhbXNTdHJpbmcpIHtcblx0XHRsZXQgcmVzdWx0ID0ge307XG5cdFx0aWYgKHBhcmFtc1N0cmluZy5zdWJzdHJpbmcoMCwgMSkgPT0gXCI/XCIpe1xuXHRcdFx0cGFyYW1zU3RyaW5nID0gcGFyYW1zU3RyaW5nLnN1YnN0cmluZygxKTtcblx0XHR9XG5cdFx0cGFyYW1zU3RyaW5nLnNwbGl0KFwiJlwiKS5mb3JFYWNoKGZ1bmN0aW9uKHBhcnQpIHtcblx0XHRcdGxldCBpdGVtID0gcGFydC5zcGxpdChcIj1cIik7XG5cdFx0XHRyZXN1bHRbaXRlbVswXV0gPSBkZWNvZGVVUklDb21wb25lbnQoaXRlbVsxXSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0cmVwbGFjZVBhcmFtKHBhcnNlZFBhcmFtcywgcGFyYW1OYW1lLCBuZXdWYWx1ZSl7XG5cdFx0aWYgKHBhcmFtTmFtZSBpbiBwYXJzZWRQYXJhbXMpIHtcblx0XHRcdHBhcnNlZFBhcmFtc1twYXJhbU5hbWVdID0gbmV3VmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBhcnNlZFBhcmFtcztcblx0fVxuXG5cdGZpbHRlckVtYWlsKHBhcnNlZFBhcmFtcyl7XG5cdFx0cGFyc2VkUGFyYW1zID0gdGhpcy5yZXBsYWNlUGFyYW0ocGFyc2VkUGFyYW1zLCBcImVtYWlsXCIsIEVNQUlMX1RFTVBMQVRFKTtcblx0XHRwYXJzZWRQYXJhbXMgPSB0aGlzLnJlcGxhY2VQYXJhbShwYXJzZWRQYXJhbXMsIFwiZS1tYWlsXCIsIEVNQUlMX1RFTVBMQVRFKTtcblxuXHRcdGZvciAobGV0IGtleSBpbiBwYXJzZWRQYXJhbXMpIHtcblx0XHRcdGlmIChFTUFJTF9SRUdFWC50ZXN0KHBhcnNlZFBhcmFtc1trZXldKSkge1xuXHRcdFx0XHRwYXJzZWRQYXJhbXNba2V5XSA9IEVNQUlMX1RFTVBMQVRFO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBwYXJzZWRQYXJhbXM7XG5cdH1cblxuXHRmaWx0ZXJOYW1lKHBhcnNlZFBhcmFtcyl7XG5cdFx0cGFyc2VkUGFyYW1zID0gdGhpcy5yZXBsYWNlUGFyYW0ocGFyc2VkUGFyYW1zLCBcIm5pY2tuYW1lXCIsIExPR0lOX1RFTVBMQVRFKTtcblx0XHRwYXJzZWRQYXJhbXMgPSB0aGlzLnJlcGxhY2VQYXJhbShwYXJzZWRQYXJhbXMsIFwiZmlyc3RuYW1lXCIsIExPR0lOX1RFTVBMQVRFKTtcblx0XHRwYXJzZWRQYXJhbXMgPSB0aGlzLnJlcGxhY2VQYXJhbShwYXJzZWRQYXJhbXMsIFwibGFzdG5hbWVcIiwgTE9HSU5fVEVNUExBVEUpO1xuXHRcdHBhcnNlZFBhcmFtcyA9IHRoaXMucmVwbGFjZVBhcmFtKHBhcnNlZFBhcmFtcywgXCJzdXJuYW1lXCIsIExPR0lOX1RFTVBMQVRFKTtcblx0XHRwYXJzZWRQYXJhbXMgPSB0aGlzLnJlcGxhY2VQYXJhbShwYXJzZWRQYXJhbXMsIFwidXNlcm5hbWVcIiwgTE9HSU5fVEVNUExBVEUpO1xuXG5cdFx0cmV0dXJuIHBhcnNlZFBhcmFtcztcblx0fVxuXG5cdGZpbHRlclBhc3N3b3JkKHBhcnNlZFBhcmFtcyl7XG5cdFx0cGFyc2VkUGFyYW1zID0gdGhpcy5yZXBsYWNlUGFyYW0ocGFyc2VkUGFyYW1zLCBcInBhc3N3b3JkXCIsIFBBU1NXT1JEX1RFTVBMQVRFKTtcblx0XHRwYXJzZWRQYXJhbXMgPSB0aGlzLnJlcGxhY2VQYXJhbShwYXJzZWRQYXJhbXMsIFwicGFzc1wiLCBQQVNTV09SRF9URU1QTEFURSk7XG5cblx0XHRyZXR1cm4gcGFyc2VkUGFyYW1zO1xuXHR9XG5cblx0ZmlsdGVyQ2FyZChwYXJzZWRQYXJhbXMpe1xuXHRcdHBhcnNlZFBhcmFtcyA9IHRoaXMucmVwbGFjZVBhcmFtKHBhcnNlZFBhcmFtcywgXCJjcmVkaXRcIiwgQ0FSRF9OVU1fVEVNUExBVEUpO1xuXHRcdHBhcnNlZFBhcmFtcyA9IHRoaXMucmVwbGFjZVBhcmFtKHBhcnNlZFBhcmFtcywgXCJjcmVkaXRjYXJkXCIsIENBUkRfTlVNX1RFTVBMQVRFKTtcblxuXHRcdHJldHVybiBwYXJzZWRQYXJhbXM7XG5cdH1cblxuXHRmaWx0ZXJQaG9uZShwYXJzZWRQYXJhbXMpe1xuXHRcdHBhcnNlZFBhcmFtcyA9IHRoaXMucmVwbGFjZVBhcmFtKHBhcnNlZFBhcmFtcywgXCJwaG9uZVwiLCBQSE9ORV9URU1QTEFURSk7XG5cdFx0cGFyc2VkUGFyYW1zID0gdGhpcy5yZXBsYWNlUGFyYW0ocGFyc2VkUGFyYW1zLCBcInRlbGVwaG9uZVwiLCBQSE9ORV9URU1QTEFURSk7XG5cblx0XHRyZXR1cm4gcGFyc2VkUGFyYW1zO1xuXHR9XG5cblx0ZmlsdGVyTG9jYXRpb24ocGFyc2VkUGFyYW1zKXtcblx0XHRwYXJzZWRQYXJhbXMgPSB0aGlzLnJlcGxhY2VQYXJhbShwYXJzZWRQYXJhbXMsIFwibG9jYXRpb25cIiwgTE9DQVRJT05fVEVNUExBVEUpO1xuXG5cdFx0cmV0dXJuIHBhcnNlZFBhcmFtcztcblx0fVxuXG5cdGZpbHRlckdlbmRlcihwYXJzZWRQYXJhbXMpe1xuXHRcdHBhcnNlZFBhcmFtcyA9IHRoaXMucmVwbGFjZVBhcmFtKHBhcnNlZFBhcmFtcywgXCJnZW5kZXJcIiwgR0VOREVSX1RFTVBMQVRFKTtcblx0XHRwYXJzZWRQYXJhbXMgPSB0aGlzLnJlcGxhY2VQYXJhbShwYXJzZWRQYXJhbXMsIFwic2V4XCIsIEdFTkRFUl9URU1QTEFURSk7XG5cdFx0cGFyc2VkUGFyYW1zID0gdGhpcy5yZXBsYWNlUGFyYW0ocGFyc2VkUGFyYW1zLCBcIm1hbGVcIiwgR0VOREVSX1RFTVBMQVRFKTtcblx0XHRwYXJzZWRQYXJhbXMgPSB0aGlzLnJlcGxhY2VQYXJhbShwYXJzZWRQYXJhbXMsIFwiZmVtYWxlXCIsIEdFTkRFUl9URU1QTEFURSk7XG5cblx0XHRyZXR1cm4gcGFyc2VkUGFyYW1zO1xuXHR9XG5cblx0ZmlsdGVyQWRkcmVzcyhwYXJzZWRQYXJhbXMpe1xuXHRcdHBhcnNlZFBhcmFtcyA9IHRoaXMucmVwbGFjZVBhcmFtKHBhcnNlZFBhcmFtcywgXCJhZGRyZXNzXCIsIEFERFJFU1NfVEVNUExBVEUpO1xuXG5cdFx0cmV0dXJuIHBhcnNlZFBhcmFtcztcblx0fVxuXG5cdGZpbHRlclBvc3Rjb2RlKHBhcnNlZFBhcmFtcyl7XG5cdFx0cGFyc2VkUGFyYW1zID0gdGhpcy5yZXBsYWNlUGFyYW0ocGFyc2VkUGFyYW1zLCBcInBvc3Rjb2RlXCIsIFBPU1RDT0RFX1RFTVBMQVRFKTtcblxuXHRcdHJldHVybiBwYXJzZWRQYXJhbXM7XG5cdH1cblxuXHRmaWx0ZXJDb21wb25lbnQoY29tcG9uZW50KXtcblx0XHRsZXQgZGVjb2RlZENvbXBvbmVudCA9IGRlY29kZVVSSUNvbXBvbmVudChjb21wb25lbnQpO1xuXHRcdGxldCBwYXJzZWRQYXJhbXMgPSB0aGlzLnBhcnNlVXJsUGFyYW1zKGRlY29kZWRDb21wb25lbnQpO1xuXG5cdFx0cGFyc2VkUGFyYW1zID0gdGhpcy5maWx0ZXJFbWFpbChwYXJzZWRQYXJhbXMpO1xuXHRcdHBhcnNlZFBhcmFtcyA9IHRoaXMuZmlsdGVyTmFtZShwYXJzZWRQYXJhbXMpO1xuXHRcdHBhcnNlZFBhcmFtcyA9IHRoaXMuZmlsdGVyUGFzc3dvcmQocGFyc2VkUGFyYW1zKTtcblx0XHRwYXJzZWRQYXJhbXMgPSB0aGlzLmZpbHRlckNhcmQocGFyc2VkUGFyYW1zKTtcblx0XHRwYXJzZWRQYXJhbXMgPSB0aGlzLmZpbHRlclBob25lKHBhcnNlZFBhcmFtcyk7XG5cdFx0cGFyc2VkUGFyYW1zID0gdGhpcy5maWx0ZXJMb2NhdGlvbihwYXJzZWRQYXJhbXMpO1xuXHRcdHBhcnNlZFBhcmFtcyA9IHRoaXMuZmlsdGVyR2VuZGVyKHBhcnNlZFBhcmFtcyk7XG5cdFx0cGFyc2VkUGFyYW1zID0gdGhpcy5maWx0ZXJBZGRyZXNzKHBhcnNlZFBhcmFtcyk7XG5cdFx0cGFyc2VkUGFyYW1zID0gdGhpcy5maWx0ZXJQb3N0Y29kZShwYXJzZWRQYXJhbXMpO1xuXG5cdFx0cmV0dXJuIHBhcnNlZFBhcmFtcztcblx0fVxuXG5cdHZlcmlmeUlzU3RyaW5nKHN0cikge1xuXHRcdHJldHVybiAhIShzdHIgJiYgKHR5cGVvZiBzdHIgPT09IFwic3RyaW5nXCIgfHwgc3RyIGluc3RhbmNlb2YgU3RyaW5nKSk7XG5cdH1cblxuXHRmaWx0ZXJBbGwodXJsKSB7XG5cdFx0aWYgKCF1cmwgfHwgIXRoaXMudmVyaWZ5SXNTdHJpbmcodXJsKSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG4gICAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBVUkwodXJsKTtcblxuICAgICAgICAvL3JlbW92ZSB1c2VyIGFuZCBwYXNzd29yZCBmcm9tIHVybFxuXHRcdGlmIChwYXJzZXIudXNlcm5hbWUgIT0gbnVsbCAmJiBwYXJzZXIudXNlcm5hbWUubGVuZ3RoKXtcblx0XHRcdHBhcnNlci51c2VybmFtZSA9IExPR0lOX1RFTVBMQVRFO1xuXHRcdH1cblxuXHRcdGlmIChwYXJzZXIucGFzc3dvcmQgIT0gbnVsbCAmJiBwYXJzZXIucGFzc3dvcmQubGVuZ3RoKXtcblx0XHRcdHBhcnNlci5wYXNzd29yZCA9IFBBU1NXT1JEX1RFTVBMQVRFO1xuXHRcdH1cblxuXHRcdC8vcmVtb3ZlIHBpIGZyb20gc2VhcmNoIHBhcmFtc1xuXHRcdGlmIChwYXJzZXIuc2VhcmNoLmxlbmd0aCA+IDApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGxldCBwYXJzZWRQYXJhbXMgPSB0aGlzLmZpbHRlckNvbXBvbmVudChwYXJzZXIuc2VhcmNoKTtcblxuXHRcdFx0XHQvL3JlLWNyZWF0ZSB0aGUgY2xlYW4gcGFyYW1ldGVycyBzZWFyY2ggcXVlcnlcblx0XHRcdFx0bGV0IGNsZWFuU2VhcmNoID0gXCI/XCI7XG5cdFx0XHRcdGZvciAobGV0IGtleSBpbiBwYXJzZWRQYXJhbXMpIHtcblx0XHRcdFx0XHRpZiAoY2xlYW5TZWFyY2gubGVuZ3RoID4gMSlcblx0XHRcdFx0XHRcdGNsZWFuU2VhcmNoICs9IFwiJlwiO1xuXHRcdFx0XHRcdGNsZWFuU2VhcmNoICs9IGtleSArIFwiPVwiICsgcGFyc2VkUGFyYW1zW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdFx0cGFyc2VyLnNlYXJjaCA9IGNsZWFuU2VhcmNoO1xuXHRcdFx0fVxuXHRcdFx0Y2F0Y2goZXgpIHt9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHBhcnNlci5ocmVmO1xuXHR9XG5cblx0ZmlsdGVyQWxsQXJyYXkodXJsQXJyYXkpIHtcblx0XHRsZXQgZmlsdGVyZWR1cmxBcnJheSA9IFtdO1xuXG5cdFx0aWYgKCEodXJsQXJyYXkgaW5zdGFuY2VvZiBBcnJheSkpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGZvciAobGV0IHVybCBvZiB1cmxBcnJheSkge1xuXHRcdFx0bGV0IGZpbHRlcmVkVXJsID0gdGhpcy5maWx0ZXJBbGwodXJsKTtcblx0XHRcdGZpbHRlcmVkdXJsQXJyYXkucHVzaChmaWx0ZXJlZFVybCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpbHRlcmVkdXJsQXJyYXk7XG5cdH1cblxuXHQvLyBmaWx0ZXJzIHRoZSBlbnRpcmUgb2JqZWN0cyBwcm9wZXJ0aWVzIC0gZG9lc24ndCBjcmVhdGUgYSBjb3B5IG9mIHRoZSBkZXN0aW5hdGlvbiBvYmplY3Rcblx0ZmlsdGVyQWxsT2JqZWN0KG9iaiwgaWdub3JlZEtleXMgPSBbXSkge1xuXHRcdGZvciAodmFyIGtleSBpbiBvYmopIHtcblx0XHRcdGlmIChpZ25vcmVkS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG9ialtrZXldIGluc3RhbmNlb2YgQXJyYXkpIHtcblx0XHRcdFx0b2JqW2tleV0gPSB0aGlzLmZpbHRlckFsbEFycmF5KG9ialtrZXldKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRvYmpba2V5XSA9IHRoaXMuZmlsdGVyQWxsKG9ialtrZXldKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBpRmlsdGVyO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGdldENsZWFuRG9tYWluLCBnZXRFbmNvZGVkRG9tYWluLCB3ZWJleHRBcGkgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBPTkVfREFZLCBUT0dHTEVfV09UX1NMSURFUiwgUElORywgUE9ORywgT05FX0hPVVIsIFNIT1dfUElOX1dPVF9QT1BVUCwgT05FX01JTlVURVxufSBmcm9tICcuLi8uLi9zaGFyZWQvY29uc3RhbnRzJztcbmltcG9ydCB7XG4gICAgT3B0T3V0UG9wVXAsIHVwZ3JhZGVQb3BVcERhdGEsIGdldFJhdGluZ1xufSBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IFBpRmlsdGVyIGZyb20gJy4uLy4uL3NoYXJlZC9waUZpbHRlcic7XG5pbXBvcnQgeyBnZXRDdXJyZW50VGFiLCBpc1ZhbGlkUGFnZUZvckNvbnRlbnQgfSBmcm9tICcuL2NvbW1vbi9iYWNrZ3JvdW5kVXRpbHMnO1xuaW1wb3J0IFdvdEFwaSBmcm9tICcuLi8uLi9zaGFyZWQvd290QXBpJztcblxuY29uc3QgVEFCX0ZPQ1VTX0VWRU5UUyA9IHtcbiAgICBUQUJfQUNUSVZBVEVEOiAndGFiQWN0aXZhdGVkJyxcbiAgICBUQUJfVVBEQVRFOiAndGFiVXBkYXRlZCcsXG4gICAgV0lORE9XX0NIQU5HRTogJ3dpbmRvd0ZvY3VzQ2hhbmdlJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGVudFN0YXRlSGFuZGxlciB7XG4gICAgY29uc3RydWN0b3Ioc3RvcmUpIHtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgICAgICB0aGlzLnF1ZXJ5UmVxdWVzdEJ1ZmZlciA9IHt9O1xuICAgICAgICB0aGlzLnNob3VsZEluamVjdCA9IHRoaXMuc2hvdWxkSW5qZWN0U2NyaXB0cygpO1xuICAgICAgICB0aGlzLnRvZ2dsZVNsaWRlciA9IF8udGhyb3R0bGUodGhpcy50b2dnbGVTbGlkZXIuYmluZCh0aGlzKSwgODAwKTtcbiAgICAgICAgd2ViZXh0QXBpLmFjdGlvbi5vbkNsaWNrZWQuYWRkTGlzdGVuZXIodGhpcy50b2dnbGVTbGlkZXIpO1xuICAgICAgICB3ZWJleHRBcGkudGFicy5vbkFjdGl2YXRlZC5hZGRMaXN0ZW5lcih0aGlzLm9uRm9jdXNDaGFuZ2VkLmJpbmQodGhpcywgVEFCX0ZPQ1VTX0VWRU5UUy5UQUJfQUNUSVZBVEVEKSk7XG4gICAgICAgIHdlYmV4dEFwaS53aW5kb3dzLm9uRm9jdXNDaGFuZ2VkLmFkZExpc3RlbmVyKHRoaXMub25Gb2N1c0NoYW5nZWQuYmluZCh0aGlzLCBUQUJfRk9DVVNfRVZFTlRTLldJTkRPV19DSEFOR0UpKTtcbiAgICAgICAgd2ViZXh0QXBpLnRhYnMub25VcGRhdGVkLmFkZExpc3RlbmVyKHRoaXMub25Gb2N1c0NoYW5nZWQuYmluZCh0aGlzLCBUQUJfRk9DVVNfRVZFTlRTLlRBQl9VUERBVEUpKTtcbiAgICB9XG5cbiAgICBzaG91bGRJbmplY3RTY3JpcHRzKCkge1xuICAgICAgICBjb25zdCB7IGZpcnN0UnVuRGF0ZSwgdmVyc2lvbiB9ID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICByZXR1cm4gdmVyc2lvbi5pc0ZpcnN0VGltZVVzZXIgJiYgKERhdGUubm93KCkgLSBmaXJzdFJ1bkRhdGUgPCBPTkVfSE9VUiAqIDIpO1xuICAgIH1cblxuICAgIGhhbmRsZU5leHRQb3B1cFN0YXRlKGlzQ2xvc2VkT2ZmZXJpbmcpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRvSGFuZGxlTmV4dFBvcHVwU3RhdGUoaXNDbG9zZWRPZmZlcmluZyk7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZG9IYW5kbGVOZXh0UG9wdXBTdGF0ZShpc0Nsb3NlZE9mZmVyaW5nKSB7XG4gICAgICAgIGNvbnN0IHsgdXJsLCBpZDogdGFiSWQgfSA9IGF3YWl0IGdldEN1cnJlbnRUYWIoKTtcbiAgICAgICAgaWYgKCFpc1ZhbGlkUGFnZUZvckNvbnRlbnQodXJsKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0U3lzdGVtUG9wVXBTdGF0ZSh0YWJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IGlzUHJvdGVjdGlvbiA9IHN0YXRlLnNldHRpbmdzLnByb3RlY3Rpb247XG4gICAgICAgIGNvbnN0IGlzUG90ZW50aWFsQnV5ZXIgPSBpc1Byb3RlY3Rpb24gJiYgIXN0YXRlLnVzZXIuaXNQcmVtaXVtVXNlcjtcblxuICAgICAgICBpZiAoIWlzQ2xvc2VkT2ZmZXJpbmcgJiYgaXNQb3RlbnRpYWxCdXllciAmJiB0aGlzLnNob3VsZFNob3dTcGVjaWFsT2ZmZXIoc3RhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRVcGdyYWRlUG9wdXBTdGF0ZSh0YWJJZCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldE5vcm1hbFBvcHVwU3RhdGUodGFiSWQsIGlzQ2xvc2VkT2ZmZXJpbmcsIGlzUHJvdGVjdGlvbik7XG4gICAgfVxuXG4gICAgc2hvdWxkU2hvd1NwZWNpYWxPZmZlcihzdGF0ZSkge1xuICAgICAgICBjb25zdCB7IHNwZWNpYWxPZmZlciB9ID0gc3RhdGUucmVtb3RlQ29uZmlnLmZlYXR1cmVzO1xuICAgICAgICBjb25zdCB7IGZpcnN0UnVuRGF0ZSB9ID0gc3RhdGU7XG4gICAgICAgIGNvbnN0IHsgbnVtYmVyT2ZTaG93LCBzaG93IH0gPSBzdGF0ZS5zZXR0aW5ncy51cGdyYWRlUG9wVXA7XG4gICAgICAgIGlmIChzaG93IHx8ICFzcGVjaWFsT2ZmZXIgfHwgIXNwZWNpYWxPZmZlci5lbmFibGUgfHwgIXNwZWNpYWxPZmZlci5vcHRpb25zIHx8IHNwZWNpYWxPZmZlci5vcHRpb25zLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgcHJvbXB0Q3ljbGVEYXlzIH0gPSBzcGVjaWFsT2ZmZXIub3B0aW9uc1swXTtcbiAgICAgICAgaWYgKG51bWJlck9mU2hvdyA+PSBwcm9tcHRDeWNsZURheXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIChub3cgLSBmaXJzdFJ1bkRhdGUpID4gKHByb21wdEN5Y2xlRGF5c1tudW1iZXJPZlNob3ddICogT05FX0RBWSk7XG4gICAgfVxuXG4gICAgc2V0VXBncmFkZVBvcHVwU3RhdGUodGFiSWQpIHtcbiAgICAgICAgd2ViZXh0QXBpLmFjdGlvbi5zZXRCYWRnZVRleHQoeyB0ZXh0OiAnMScgfSk7XG4gICAgICAgIHdlYmV4dEFwaS5hY3Rpb24uc2V0UG9wdXAoeyB0YWJJZCwgcG9wdXA6ICdvZmZlcmluZy5odG1sJyB9KTtcbiAgICB9XG5cbiAgICBzZXROb3JtYWxQb3B1cFN0YXRlKHRhYklkLCBpc0Nsb3NlZE9mZmVyaW5nLCBpc1Byb3RlY3Rpb24pIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IGlzUHJvdGVjdGlvbiA/ICcnIDogJ3BvcHVwLmh0bWwnO1xuICAgICAgICB3ZWJleHRBcGkuYWN0aW9uLnNldFBvcHVwKHsgdGFiSWQsIHBvcHVwOiBuZXh0IH0pO1xuICAgICAgICBpZiAoaXNDbG9zZWRPZmZlcmluZykge1xuICAgICAgICAgICAgY29uc3QgaXNPZmZlcmluZ0p1c3RDbG9zZWQgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkuc2V0dGluZ3MudXBncmFkZVBvcFVwLnNob3c7XG4gICAgICAgICAgICB3ZWJleHRBcGkuYWN0aW9uLnNldEJhZGdlVGV4dCh7IHRleHQ6ICcnIH0pO1xuICAgICAgICAgICAgaWYgKGlzT2ZmZXJpbmdKdXN0Q2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh1cGdyYWRlUG9wVXBEYXRhKHsgc2hvdzogZmFsc2UgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goT3B0T3V0UG9wVXAoJ2RlZmF1bHQnKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRTeXN0ZW1Qb3BVcFN0YXRlKHRhYklkKSB7XG4gICAgICAgIGlmICh0YWJJZCkge1xuICAgICAgICAgICAgd2ViZXh0QXBpLmFjdGlvbi5zZXRQb3B1cCh7IHRhYklkLCBwb3B1cDogJ3N5c3RlbXBhZ2UuaHRtbCcgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRFcnJvclN0YXRlKHRhYklkKSB7XG4gICAgICAgIHdlYmV4dEFwaS5hY3Rpb24uc2V0UG9wdXAoeyB0YWJJZCwgcG9wdXA6ICdlcnJvci5odG1sJyB9KTtcbiAgICB9XG5cbiAgICAvLyBieSBkZWZhdWx0LCBjaHJvbWUgZXZlbnRzIHdpbGwgdHJpZ2dlciB0aGlzIG1ldGhvZCB3aXRoIGEgdGFiIG9iamVjdCBhcyBhIHBhcmFtIChzZWUgcmVhZG1lKSAtXG4gICAgLy8gaW4gdGhpcyBjYXNlIHdlIGRvbid0IGNhcmUuIHdlIG9ubHkgbG9vayBmb3IgYSBzdHJpbmcgcGFyYW0gKGhpZ2hsaWdodFNlY3Rpb24pIHdoaWNoIG1heSBiZSBhZGRlZFxuICAgIHRvZ2dsZVNsaWRlcihoaWdobGlnaHRTZWN0aW9uID0gJycpIHtcbiAgICAgICAgLy8gVE9ETyBoYW5kbGUgd2hlbiBub3QgdG8gb3BlblxuICAgICAgICB3ZWJleHRBcGkudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZSB9LCAodGFicykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0YWJzKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB0YWIgPSB0YWJzWzBdO1xuICAgICAgICAgICAgaWYgKCF0YWIpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7IGFjdGlvbjogVE9HR0xFX1dPVF9TTElERVIgfTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaGlnaGxpZ2h0U2VjdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnNlY3Rpb24gPSBoaWdobGlnaHRTZWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2ViZXh0QXBpLnRhYnMuc2VuZE1lc3NhZ2UodGFiLmlkLCBwYXlsb2FkLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAod2ViZXh0QXBpLnJ1bnRpbWUubGFzdEVycm9yIHx8IHJlc3BvbnNlICE9PSBUT0dHTEVfV09UX1NMSURFUikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV290QXBpLnJlcG9ydEVycm9yKHsgcmVzcG9uc2U6IHJlc3BvbnNlIHx8ICdubyByZXNwb25zZSBmcm9tIHRhYicsIHRhYjogdGFiLnVybCwgc291cmNlOiAndG9nZ2xlIHNsaWRlcicgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdlYmV4dEFwaS5hY3Rpb24uc2V0QmFkZ2VUZXh0KHsgdGV4dDogJycgfSk7IC8vIHJlc2V0IGJhZGdlIG9uIG9wZW4gc2xpZGVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gZXZlcnkgdGltZSBhIHRhYi93aW5kb3cgaXMgcmVmcmVzaGVkLiBvcGVuZWQgb3IgYWN0aXZhdGVkXG4gICAgYXN5bmMgb25Gb2N1c0NoYW5nZWQoZm9jdXNFdmVudFR5cGUsIHRhYklkLCBjaGFuZ2VJbmZvKSB7XG4gICAgICAgIC8vIG5vcm1hbGl6ZSB0YWJJZCBpbnRvIGEgbnVtYmVyXG4gICAgICAgIHRhYklkID0gdHlwZW9mIHRhYklkID09PSAnb2JqZWN0JyA/IHRhYklkLnRhYklkIDogdGFiSWQ7XG4gICAgICAgIGlmICh0YWJJZCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyAndGFiVXBkYXRlZCcgaW52b2tlZCBtYW55IHRpbWVzIHBlciBsb2FkLiB3ZSBvbmx5IGNhcmUgZm9yIHRoZSBsYXN0IG9uZVxuICAgICAgICBpZiAoZm9jdXNFdmVudFR5cGUgPT09IFRBQl9GT0NVU19FVkVOVFMuVEFCX1VQREFURSAmJiBjaGFuZ2VJbmZvLnN0YXR1cyAhPT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdXJsLCBpZDogY3VycmVudFRhYklkIH0gPSBhd2FpdCBnZXRDdXJyZW50VGFiKCk7XG4gICAgICAgIC8vIGlmIHRoZSB0YWIgaW4gcXVlc3Rpb24gaXMgbm90IHRoZSBjdXJyZW50bHkgdmlld2VkIHRhYiwgd2UgZG9uJ3QgY2FyZVxuICAgICAgICBpZiAoIWN1cnJlbnRUYWJJZCB8fCB0YWJJZCAhPT0gY3VycmVudFRhYklkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgdGFiIHNob3VsZCBoYXZlIGNvbnRlbnQgc2NyaXB0IGF0IGFsbC4gaWYgbm90IGl0J3MgYSBzeXN0ZW0gcGFnZVxuICAgICAgICBpZiAoIWlzVmFsaWRQYWdlRm9yQ29udGVudCh1cmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTeXN0ZW1Qb3BVcFN0YXRlKGN1cnJlbnRUYWJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgY2FuJ3QgcGluZyB0byBhY3RpdmUgdGFiIGFuZCB1c2VyIGlzIG5vdCBuZXcsIHNldCBlcnJvciBwb3B1cCwgZWxzZSBpbmplY3QgYW5kIGNhcnJ5IG9uXG4gICAgICAgIGNvbnN0IGhhc0Nvbm5lY3Rpdml0eSA9IGF3YWl0IHRoaXMucGluZ1RvQWN0aXZlVGFiKGN1cnJlbnRUYWJJZCk7XG4gICAgICAgIGlmICghaGFzQ29ubmVjdGl2aXR5KSB7XG4gICAgICAgICAgICBjb25zdCBzaG91bGRJbmplY3QgPSB0aGlzLnNob3VsZEluamVjdCAmJiBmb2N1c0V2ZW50VHlwZSAhPT0gVEFCX0ZPQ1VTX0VWRU5UUy5UQUJfVVBEQVRFO1xuICAgICAgICAgICAgaWYgKCFzaG91bGRJbmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRFcnJvclN0YXRlKGN1cnJlbnRUYWJJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluamVjdENvbnRlbnRTY3JpcHRzKGN1cnJlbnRUYWJJZCwgdXJsKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLmRvSGFuZGxlTmV4dFBvcHVwU3RhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBmaWd1cmUgb3V0IHdoZXRoZXIgdGFiIGNvbnRlbnQgaXMgdGhlcmUgYW5kIGFsaXZlLiB3YWl0IGEgYml0IGZvciBhdXRvbWF0aWMgY29udGVudCBsb2FkIHRvIGZpbmlzaFxuICAgIGFzeW5jIHBpbmdUb0FjdGl2ZVRhYih0YWJJZCkge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiBzZXRUaW1lb3V0KHJlcywgMTAwMCkpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHdlYmV4dEFwaS50YWJzLnNlbmRNZXNzYWdlKHRhYklkLCB7IGFjdGlvbjogUElORyB9LCBhc3luYyBwb25nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdlYmV4dEFwaS5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwb25nID09PSBQT05HKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5qZWN0Q29udGVudFNjcmlwdHModGFiSWQsIHVybCkge1xuICAgICAgICBjb25zdCBpc0FscmVhZHlJbmplY3RlZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB3ZWJleHRBcGkudGFicy5zZW5kTWVzc2FnZSh0YWJJZCwgeyBhY3Rpb246IFBJTkcgfSwgYXN5bmMgcG9uZyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHdlYmV4dEFwaS5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgaW4gaW5qZWN0Jywgd2ViZXh0QXBpLnJ1bnRpbWUubGFzdEVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBvbmcgPT09IFBPTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYXdhaXQgaXNBbHJlYWR5SW5qZWN0ZWQpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgY29uc3QgbWFuaWZlc3QgPSB3ZWJleHRBcGkucnVudGltZS5nZXRNYW5pZmVzdCgpO1xuICAgICAgICBjb25zdCBpbmplY3Rpb25zID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgbWFuaWZlc3QuY29udGVudF9zY3JpcHRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ub3JtYWxpemVSZWdleHAoZ3JvdXAubWF0Y2hlcykudGVzdCh1cmwpKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBydW5BdFN0YXJ0ID0gZ3JvdXAucnVuX2F0PT09XCJkb2N1bWVudF9zdGFydFwiPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5qZWN0aW9ucy5wdXNoKHdlYmV4dEFwaS5zY3JpcHRpbmcuZXhlY3V0ZVNjcmlwdCh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDoge3RhYklkOiB0YWJJZCwgYWxsRnJhbWVzOiBncm91cC5hbGxfZnJhbWVzfSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZXM6IGdyb3VwLmpzXG4gICAgICAgICAgICAgICAgICAgIC8vIGluamVjdEltbWVkaWF0ZWx5OiBydW5BdFN0YXJ0XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGlmKCFncm91cC5jc3MpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpbmplY3Rpb25zLnB1c2god2ViZXh0QXBpLnNjcmlwdGluZy5pbnNlcnRDU1Moe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHt0YWJJZDogdGFiSWQsIGFsbEZyYW1lczogZ3JvdXAuYWxsX2ZyYW1lc30sXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzOiBncm91cC5jc3NcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGluamVjdGlvbnMpO1xuICAgIH1cblxuICAgIHJldHJ5UXVlcnlEYXRhKCkge1xuICAgICAgICB3ZWJleHRBcGkudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZSB9LCAodGFicykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0YWJzKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBjdXJUYWIgPSB0YWJzWzBdO1xuICAgICAgICAgICAgaWYgKCFjdXJUYWIpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHsgdXJsIH0gPSBjdXJUYWI7XG4gICAgICAgICAgICBjb25zdCBjbGVhblVybCA9IG5ldyBQaUZpbHRlcigpLmZpbHRlckFsbCh1cmwpO1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHN1YnRyZ3Q6IGNsZWFuVXJsLFxuICAgICAgICAgICAgICAgIHN1Ymxhc3Q6IGNsZWFuVXJsLFxuICAgICAgICAgICAgICAgIHN1YnJlZjogJycsXG4gICAgICAgICAgICAgICAgbnQ6ICdyZXRyeScsXG4gICAgICAgICAgICAgICAgYXRtOiBbJ2V4dGhlYWQnXSxcbiAgICAgICAgICAgICAgICBlcG9jaHRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgY2g6IDYsXG4gICAgICAgICAgICAgICAgc2c6ICfQsGM4YmI4MTlkJyxcbiAgICAgICAgICAgICAgICB2bXQ6IDYsXG4gICAgICAgICAgICAgICAgZG06IDIxLFxuICAgICAgICAgICAgICAgIHZ2OiAxLFxuICAgICAgICAgICAgICAgIHdwMDogMSxcbiAgICAgICAgICAgICAgICBkZWx0YTogJ0HQkEVB0JBBQdCQQdCQUVRDd0pRRdCQQdCQQdCQQdCQQdCQQdCQQdCQQdCQQdCQQdCQQdCQQdCQQdCQQT0nXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5mZXRjaFJhdGluZyhwYXJhbXMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBleHRyYWN0TGlua3ModGFyZ2V0UGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHsgbGsgfSA9IHRhcmdldFBhcmFtcztcbiAgICAgICAgaWYgKCFsaykgcmV0dXJuIFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChKU09OLnBhcnNlKGxrKVsxXS5kYXRhLm9yZy5tYXAob2JqID0+IGdldENsZWFuRG9tYWluKG9iai51cmwpKSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaFJhdGluZyh0YXJnZXRQYXJhbXMsIGhlYWRlcnMpIHtcbiAgICAgICAgaWYgKCF0YXJnZXRQYXJhbXMuc3VidHJndCkgcmV0dXJuO1xuICAgICAgICBPYmplY3Qua2V5cyh0YXJnZXRQYXJhbXMpLmZvckVhY2goayA9PiB7XG4gICAgICAgICAgICBjb25zdCB2ID0gdGFyZ2V0UGFyYW1zW2tdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2ID09PSAnc3RyaW5nJyAmJiB2LmluY2x1ZGVzKCclJykpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRQYXJhbXNba10gPSBkZWNvZGVVUklDb21wb25lbnQodik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsaW5rcyA9IFtnZXRFbmNvZGVkRG9tYWluKHRhcmdldFBhcmFtcy5zdWJ0cmd0KSwgLi4udGhpcy5leHRyYWN0TGlua3ModGFyZ2V0UGFyYW1zKV07XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGxpbmtzWzBdO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IC4uLnRhcmdldFBhcmFtcywgdGFyZ2V0LCBsaW5rcyB9O1xuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGdldFJhdGluZyhwYXJhbXMsIGhlYWRlcnMpKTtcbiAgICB9XG5cbiAgICBub3JtYWxpemVSZWdleHAobWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChtYXRjaGVzLmpvaW4oJ3wnKS5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJykucmVwbGFjZSgvXFwqL2csICcuKicpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyB0cmFja2VyRGV0ZWN0ZWQgfSBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0Q2xlYW5Eb21haW4sIGluY3JlbWVudFVzZXJTdGF0aXN0aWNzRGF0YSwgd2ViZXh0QXBpIH0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzJztcbmltcG9ydCB7IFVTRVJfU1RBVFNfRElHSVRBTF9UUkFDS0VSX0JMT0NLRUQsIElTX0RFViB9IGZyb20gJy4uLy4uL3NoYXJlZC9jb25zdGFudHMnO1xuXG4vLyBUaGlzIGNsYXNzIGlzIGNyZWF0ZWQgb25jZSAtIG9uIE1haW5BcHAncyBjb25zdHJ1Y3RvcihubyByZWxvYWRpbmcgb2YgYWxsb3dMaXN0IG1vcmUgdGhhbiB0aGUgZmlyc3QgdGltZSlcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYWNrZXJCbG9ja2VyIHtcbiAgICBjb25zdHJ1Y3RvcihzdG9yZSkge1xuICAgICAgICB0aGlzLldPVF9SVUxFX0lERU5USUZJRVIgPSA5Nzk0IC8vIE11c3QgYmUgNCBkaWdpdHNcbiAgICAgICAgdGhpcy5leHRlbnNpb25JZCA9IHdlYmV4dEFwaS5ydW50aW1lLmdldFVSTCgnJykuc3BsaXQoJzovLycpWzFdLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIHRoaXMuX3RyYWNrZXJzTGlzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdHJhY2tlcnNNYXBwaW5nID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9hbGxvd0xpc3QgPSBzdGF0ZS50cmFja2VyQmxvY2tlckRhdGEuYWxsb3dMaXN0O1xuICAgICAgICB0aGlzLl9ibG9ja0FsbCA9IHN0YXRlLnRyYWNrZXJCbG9ja2VyRGF0YS5hbGxCbG9ja2VkO1xuICAgICAgICB0aGlzLmlkVG9VcmxNYXBwaW5nID0ge307XG5cbiAgICAgICAgdGhpcy5HRVRNQVRDSEVEUlVMRVNfUVVPVEFfSU5URVJWQUwgPSAxMDsgLy8gZ2V0TWF0Y2hlZFJ1bGVzIGNhbGxzIGNhbiBiZSBtYWRlLCBzcGVjaWZpZWQgaW4gbWludXRlc1xuICAgICAgICB0aGlzLk1BWF9HRVRNQVRDSEVEUlVMRVNfQ0FMTFNfUEVSX0lOVEVSVkFMID0gMjA7IC8vIFRoZSBudW1iZXIgb2YgdGltZXMgZ2V0TWF0Y2hlZFJ1bGVzIGNhbiBiZSBjYWxsZWQgd2l0aGluIGEgcGVyaW9kIG9mIEdFVE1BVENIRURSVUxFU19RVU9UQV9JTlRFUlZBTFxuXG4gICAgICAgIHRoaXMucmVxdWVzdExpc3RlbmVyID0gKHJlcXVlc3REZXRhaWxzKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3REZXRhaWxzIHx8ICFyZXF1ZXN0RGV0YWlscy51cmwpIHJldHVybjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJsID0gZ2V0Q2xlYW5Eb21haW4ocmVxdWVzdERldGFpbHMudXJsKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFja2VyRGF0YSA9IHRoaXMudHJhY2tlcnNMaXN0W3VybF07XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFja2VyRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgb3JpZ2luVXJsIH0gPSByZXF1ZXN0RGV0YWlscztcbiAgICAgICAgICAgICAgICBsZXQgeyBpbml0aWF0b3IgfSA9IHJlcXVlc3REZXRhaWxzO1xuICAgICAgICAgICAgICAgIGluaXRpYXRvciA9IGluaXRpYXRvciB8fCBvcmlnaW5Vcmw7XG4gICAgICAgICAgICAgICAgaWYgKCFpbml0aWF0b3IgfHwgKGluaXRpYXRvcikuaW5jbHVkZXModGhpcy5leHRlbnNpb25JZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbml0aWF0b3IgPSBnZXRDbGVhbkRvbWFpbihpbml0aWF0b3IgfHwgb3JpZ2luVXJsKTsgLy8gY292ZXJzIGNocm9tZSBhbmQgZmlyZWZveFxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godHJhY2tlckRldGVjdGVkKHsgLi4udHJhY2tlckRhdGEsIGluaXRpYXRvciB9KSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hvdWxkQ2FuY2VsID0gIXRoaXMuYWxsb3dMaXN0W3RyYWNrZXJEYXRhLm5hbWVdO1xuICAgICAgICAgICAgICAgIHNob3VsZENhbmNlbCAmJiBpbmNyZW1lbnRVc2VyU3RhdGlzdGljc0RhdGEoVVNFUl9TVEFUU19ESUdJVEFMX1RSQUNLRVJfQkxPQ0tFRCk7XG4gICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgZ2V0IGFsbG93TGlzdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hbGxvd0xpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2FsbG93TGlzdCA9IHsgLi4udGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnRyYWNrZXJCbG9ja2VyRGF0YS5hbGxvd0xpc3QgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWxsb3dMaXN0O1xuICAgIH1cblxuICAgIGZsdXNoKCkge1xuICAgICAgICB0aGlzLl90cmFja2Vyc0xpc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3RyYWNrZXJzTWFwcGluZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fYmxvY2tBbGwgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZmx1c2hBbGxvd0xpc3QoKTtcbiAgICB9XG5cbiAgICBmbHVzaEFsbG93TGlzdCgpIHtcbiAgICAgICAgdGhpcy5fYWxsb3dMaXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgZ2V0IGJsb2NrQWxsKCkge1xuICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0aGlzLl9ibG9ja0FsbCkge1xuICAgICAgICAgICAgdGhpcy5fYmxvY2tBbGwgPSB7IC4uLnRoaXMuc3RvcmUuZ2V0U3RhdGUoKS50cmFja2VyQmxvY2tlckRhdGEuYWxsQmxvY2tlZCB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ibG9ja0FsbDtcbiAgICB9XG5cbiAgICBnZXQgdHJhY2tlcnNMaXN0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX3RyYWNrZXJzTGlzdCkge1xuICAgICAgICAgICAgdGhpcy5fdHJhY2tlcnNMaXN0ID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnRyYWNrZXJCbG9ja2VyRGF0YS5saXN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFja2Vyc0xpc3Q7XG4gICAgfVxuXG4gICAgZ2V0IHRyYWNrZXJzTWFwcGluZygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl90cmFja2Vyc01hcHBpbmcgJiYgdGhpcy50cmFja2Vyc0xpc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYWNrZXJzTWFwcGluZyA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy50cmFja2Vyc0xpc3QpLmZvckVhY2godHJhY2tlclVybCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tlciA9IHRoaXMudHJhY2tlcnNMaXN0W3RyYWNrZXJVcmxdO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYWNrZXJzTWFwcGluZ1t0cmFja2VyLm5hbWVdID0gdHJhY2tlci51cmw7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFja2Vyc01hcHBpbmc7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGlmIChJU19ERVYpIHtcbiAgICAgICAgICAgIGNocm9tZS5kZWNsYXJhdGl2ZU5ldFJlcXVlc3Qub25SdWxlTWF0Y2hlZERlYnVnLmFkZExpc3RlbmVyKChyZXEpID0+IHtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xlYXJSdWxlcygpXG4gICAgICAgICAgICAudGhlbigocmVtb3ZlZFJ1bGVzSWRzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKElTX0RFVikgY29uc29sZS5sb2coYFRFU1Q6IHJlbW92ZWRSdWxlc0lkcyA9PiAke0pTT04uc3RyaW5naWZ5KHJlbW92ZWRSdWxlc0lkcyl9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSdWxlcygpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChhZGRlZFJ1bGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSVNfREVWKSBjb25zb2xlLmxvZyhgVEVTVDogYWRkZWRSdWxlcyA9PiAke0pTT04uc3RyaW5naWZ5KGFkZGVkUnVsZXMpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZFRvVXJsTWFwcGluZyA9IGFkZGVkUnVsZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWJleHRBcGkud2ViUmVxdWVzdC5vbkJlZm9yZVJlcXVlc3QuYWRkTGlzdGVuZXIodGhpcy5yZXF1ZXN0TGlzdGVuZXIsIHsgdXJsczogWycqOi8vKi8qJ10gfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChleGNlcHRpb24pID0+IHsgaWYgKElTX0RFVikgY29uc29sZS5sb2coYFRFU1Q6ICR7ZXhjZXB0aW9ufWApOyB9KTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChleGNlcHRpb24pID0+IHsgaWYgKElTX0RFVikgY29uc29sZS5sb2coYFRFU1Q6ICR7ZXhjZXB0aW9ufWApOyB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVCbG9ja2luZ1J1bGUocnVsZUlkLCB1cmwpIHtcbiAgICAgICAgY29uc3QgY29uZGl0aW9uID0geyBcInVybEZpbHRlclwiOiBgKiR7dXJsfSpgLCBcInJlc291cmNlVHlwZXNcIjogW1wibWFpbl9mcmFtZVwiLCBcInN1Yl9mcmFtZVwiLCBcInNjcmlwdFwiXSB9XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IHsgXCJ0eXBlXCI6IFwiYmxvY2tcIiB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogcnVsZUlkLFxuICAgICAgICAgICAgcHJpb3JpdHk6IDEsXG4gICAgICAgICAgICBjb25kaXRpb246IGNvbmRpdGlvbixcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRSdWxlcygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrZWRUcmFja2Vyc05hbWVzID0gT2JqZWN0LmtleXModGhpcy5hbGxvd0xpc3QpLmZpbHRlcih0cmFja2VyTmFtZSA9PiAhdGhpcy5hbGxvd0xpc3RbdHJhY2tlck5hbWVdKTtcbiAgICAgICAgICAgIGlmICghYmxvY2tlZFRyYWNrZXJzTmFtZXMgfHwgYmxvY2tlZFRyYWNrZXJzTmFtZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHt9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBibG9ja2VkVHJhY2tlcnNVcmxzID0gYmxvY2tlZFRyYWNrZXJzTmFtZXNcbiAgICAgICAgICAgICAgICAubWFwKHRyYWNrZXJOYW1lID0+IHRoaXMudHJhY2tlcnNNYXBwaW5nW3RyYWNrZXJOYW1lXSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKHRyYWNrZXJVcmwgPT4gdHJhY2tlclVybCAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGxldCB0bXBJZFRvVXJsTWFwcGluZyA9IHt9O1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHJ1bGVzID0gYmxvY2tlZFRyYWNrZXJzVXJscy5tYXAodXJsID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBydWxlSWQgPSB0aGlzLnVybFRvUnVsZUlkKHVybCwgaW5kZXgrKyk7XG4gICAgICAgICAgICAgICAgdG1wSWRUb1VybE1hcHBpbmdbcnVsZUlkXSA9IHVybDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVCbG9ja2luZ1J1bGUocnVsZUlkLCB1cmwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB3ZWJleHRBcGkuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0LnVwZGF0ZUR5bmFtaWNSdWxlcyhcbiAgICAgICAgICAgICAgICB7IGFkZFJ1bGVzOiBydWxlcyB9LFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGNocm9tZS5ydW50aW1lLmxhc3RFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodG1wSWRUb1VybE1hcHBpbmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNsZWFyUnVsZXMoKSB7XG4gICAgICAgIHdlYmV4dEFwaS53ZWJSZXF1ZXN0Lm9uQmVmb3JlUmVxdWVzdC5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlcXVlc3RMaXN0ZW5lcik7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB3ZWJleHRBcGkuZGVjbGFyYXRpdmVOZXRSZXF1ZXN0LmdldER5bmFtaWNSdWxlcygoY3VycmVudFJ1bGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRSdWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRXb3RSdWxlcyA9IGN1cnJlbnRSdWxlcy5maWx0ZXIocnVsZSA9PiB0aGlzLmlzV290UnVsZUlEKHJ1bGUuaWQpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcnVsZXNUb1JlbW92ZUlkcyA9IGN1cnJlbnRXb3RSdWxlcy5tYXAocnVsZSA9PiBydWxlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgd2ViZXh0QXBpLmRlY2xhcmF0aXZlTmV0UmVxdWVzdC51cGRhdGVEeW5hbWljUnVsZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHJlbW92ZVJ1bGVJZHM6IHJ1bGVzVG9SZW1vdmVJZHMgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChjaHJvbWUucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZFRvVXJsTWFwcGluZyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJ1bGVzVG9SZW1vdmVJZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICB1cmxUb1J1bGVJZCh1cmwsIGluZGV4KSB7XG4gICAgICAgIGxldCBpZCA9IHVybC5sZW5ndGg7XG4gICAgICAgIEFycmF5LmZyb20odXJsKS5mb3JFYWNoKChjaCkgPT4ge1xuICAgICAgICAgICAgaWQgKz0gY2guY2hhckNvZGVBdCgpICsgaW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihpZCAqIDEwMDAwICsgdGhpcy5XT1RfUlVMRV9JREVOVElGSUVSKTtcbiAgICB9XG5cbiAgICBpc1dvdFJ1bGVJRChpZCkge1xuICAgICAgICBjb25zdCBpZEFzU3RyaW5nID0gaWQudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgaXNJZFZhbGlkID0gaWRBc1N0cmluZy5sZW5ndGggPiA0O1xuICAgICAgICBpZihpc0lkVmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkU3VmZml4ID0gaWRBc1N0cmluZy5zdWJzdHJpbmcoaWRBc1N0cmluZy5sZW5ndGgtNCwgaWRBc1N0cmluZy5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGlkU3VmZml4ID09PSB0aGlzLldPVF9SVUxFX0lERU5USUZJRVIudG9TdHJpbmcoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIFNIT1dfUElOX1dPVF9QT1BVUF9BTEFSTSxcbiAgICBTSE9XX1BJTl9XT1RfUE9QVVBfQUxBUk1fREVMQVksXG4gICAgU0hPV19QSU5fV09UX1BPUFVQLFxuICAgIEdFVF9VU0VSX1BMQU5fQUxBUk0sXG4gICAgR0VUX1VTRVJfUExBTl9BTEFSTV9JTlRFUlZBTCxcbiAgICBHRVRfTEVBS19EQVRBX0FMQVJNLFxuICAgIEdFVF9MRUFLX0RBVEFfQUxBUk1fSU5URVJWQUwsXG4gICAgT1BUT1VUX0FMQVJNLFxuICAgIE9QVE9VVF9BTEFSTV9JTlRFUlZBTCxcbiAgICBTRVJQU19SRVFVRVNUX0FMQVJNLFxuICAgIFNFUlBTX1JFUVVFU1RfQUxBUk1fREVMQVksXG4gICAgVVBEQVRFX0JMT0NLRURfU0lURVNfU1RBVElTVElDU19BTEFSTSxcbiAgICBVUERBVEVfQkxPQ0tFRF9TSVRFU19TVEFUSVNUSUNTX0FMQVJNX0lOVEVSVkFMLFxuICAgIFBPUFVQX1VQREFURV9TQ0FOX1RJTUVfQUxBUk0sXG4gICAgUE9QVVBfVVBEQVRFX1NDQU5fVElNRV9BTEFSTV9JTlRFUlZBTFxufSBmcm9tICcuLi8uLi9zaGFyZWQvY29uc3RhbnRzJztcbmltcG9ydCB7IHVwZGF0ZUJsb2NrZWRTaXRlc1N0YXRpc3RpY3NEYXRhLCB3ZWJleHRBcGkgfSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMnO1xuaW1wb3J0IHtcbiAgICBnZXRDdXJyZW50VGFiLFxuICAgIGlzVmFsaWRQYWdlRm9yQ29udGVudCxcbn0gZnJvbSAnLi9jb21tb24vYmFja2dyb3VuZFV0aWxzJztcbmltcG9ydCB7XG4gICAgR0VUX1VTRVJfUExBTixcbiAgICBnZXRMZWFrRGF0YSxcbiAgICBPcHRPdXRQb3BVcCxcbiAgICByZXF1ZXN0U2VycHNDb25mLCB1cGRhdGVQb3B1cFNjYW5UaW1lXG59IGZyb20gJy4vYWN0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBBbGFybXNNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihzdG9yZSkge1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgfVxuXG4gICAgYXN5bmMgZG9PbkJhY2tncm91bmRTdGFydCgpIHtcbiAgICAgICAgdGhpcy5pbml0TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlUGluV290UG9wdXBBbGFybSgpO1xuICAgICAgICB0aGlzLmNyZWF0ZUdldFVzZXJQbGFuQWxhcm0oKTtcbiAgICAgICAgdGhpcy5jcmVhdGVVcGRhdGVCbG9ja2VkU2l0ZXNTdGF0aXN0aWNzRGF0YUFsYXJtKCk7XG4gICAgICAgIHRoaXMuY3JlYXRlVXBkYXRlUG9wdXBTY2FuVGltZUFsYXJtKCk7XG4gICAgfTtcblxuICAgIGluaXRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHdlYmV4dEFwaS5hbGFybXMub25BbGFybS5hZGRMaXN0ZW5lcihhc3luYyAoYWxhcm0pID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoYWxhcm0ubmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgU0hPV19QSU5fV09UX1BPUFVQX0FMQVJNOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHVybCwgaWQ6IGN1cnJlbnRUYWJJZCB9ID0gYXdhaXQgZ2V0Q3VycmVudFRhYigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRQYWdlRm9yQ29udGVudCh1cmwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVBpbldvdFBvcHVwQWxhcm0oKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlYmV4dEFwaS50YWJzLnNlbmRNZXNzYWdlKGN1cnJlbnRUYWJJZCwgeyBhY3Rpb246IFNIT1dfUElOX1dPVF9QT1BVUCB9LCAoZGlkU2hvdykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGlkU2hvdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB1c2VyIHdhcyBvbiBwdXJjaGFzZSBwYWdlcyBkb24ndCBzaG93IHBvcHVwIGFuZCB0cnkgbGF0ZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUGluV290UG9wdXBBbGFybSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR0VUX1VTRVJfUExBTl9BTEFSTTpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBpc1ByZW1pdW1Vc2VyIH0gPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkudXNlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJlbWl1bVVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiBHRVRfVVNFUl9QTEFOIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR0VUX0xFQUtfREFUQV9BTEFSTTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChnZXRMZWFrRGF0YShmYWxzZSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE9QVE9VVF9BTEFSTTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChPcHRPdXRQb3BVcCgndGltZXInKSk7XG4gICAgICAgICAgICAgICAgICAgIHdlYmV4dEFwaS5hY3Rpb24uc2V0QmFkZ2VUZXh0KHsgdGV4dDogJzEnIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFNFUlBTX1JFUVVFU1RfQUxBUk06XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocmVxdWVzdFNlcnBzQ29uZigpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBVUERBVEVfQkxPQ0tFRF9TSVRFU19TVEFUSVNUSUNTX0FMQVJNOlxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVCbG9ja2VkU2l0ZXNTdGF0aXN0aWNzRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFBPUFVQX1VQREFURV9TQ0FOX1RJTUVfQUxBUk06XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godXBkYXRlUG9wdXBTY2FuVGltZShuZXcgRGF0ZSgpKSk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBhc3luYyBjcmVhdGVQaW5Xb3RQb3B1cEFsYXJtKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZUFsYXJtKFNIT1dfUElOX1dPVF9QT1BVUF9BTEFSTSwgU0hPV19QSU5fV09UX1BPUFVQX0FMQVJNX0RFTEFZLCBmYWxzZSk7XG4gICAgfTtcblxuICAgIGFzeW5jIGNyZWF0ZVVwZGF0ZVBvcHVwU2NhblRpbWVBbGFybSgpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVBbGFybShQT1BVUF9VUERBVEVfU0NBTl9USU1FX0FMQVJNLCBQT1BVUF9VUERBVEVfU0NBTl9USU1FX0FMQVJNX0lOVEVSVkFMLCB0cnVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVTZXJwUmVxdWVzdEFsYXJtKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZUFsYXJtKFNFUlBTX1JFUVVFU1RfQUxBUk0sIFNFUlBTX1JFUVVFU1RfQUxBUk1fREVMQVksIHRydWUpO1xuICAgIH07XG5cbiAgICBhc3luYyBjcmVhdGVHZXRVc2VyUGxhbkFsYXJtKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZUFsYXJtKEdFVF9VU0VSX1BMQU5fQUxBUk0sIEdFVF9VU0VSX1BMQU5fQUxBUk1fSU5URVJWQUwsIHRydWUpO1xuICAgIH07XG5cbiAgICBhc3luYyBjcmVhdGVVcGRhdGVCbG9ja2VkU2l0ZXNTdGF0aXN0aWNzRGF0YUFsYXJtKCkge1xuICAgICAgICB0aGlzLmNyZWF0ZUFsYXJtKFVQREFURV9CTE9DS0VEX1NJVEVTX1NUQVRJU1RJQ1NfQUxBUk0sIFVQREFURV9CTE9DS0VEX1NJVEVTX1NUQVRJU1RJQ1NfQUxBUk1fSU5URVJWQUwsIHRydWUpO1xuICAgIH07XG5cbiAgICBhc3luYyB0b2dnbGVPcHRPdXRBbGFybShlbmFibGVkKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlQWxhcm0oZW5hYmxlZCwgT1BUT1VUX0FMQVJNLCBPUFRPVVRfQUxBUk1fSU5URVJWQUwsIHRydWUpO1xuICAgIH07XG5cbiAgICBhc3luYyB0b2dnbGVHZXRMZWFrRGF0YUFsYXJtKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy50b2dnbGVBbGFybShlbmFibGVkLCBHRVRfTEVBS19EQVRBX0FMQVJNLCBHRVRfTEVBS19EQVRBX0FMQVJNX0lOVEVSVkFMLCB0cnVlKTtcbiAgICB9O1xuXG4gICAgYXN5bmMgdG9nZ2xlQWxhcm0oZW5hYmxlZCwgbmFtZSwgbWlucywgaXNSZXBlYXRpbmc9ZmFsc2UpIHtcbiAgICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUFsYXJtKG5hbWUsIG1pbnMsIGlzUmVwZWF0aW5nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsZWFyQWxhcm0obmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVBbGFybShuYW1lLCBtaW5zLCBpc1JlcGVhdGluZywgc2hvdWxkUmVzdGFydD1mYWxzZSkge1xuICAgICAgICBjb25zdCBhbGFybSA9IGF3YWl0IHdlYmV4dEFwaS5hbGFybXMuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAoYWxhcm0pIHtcbiAgICAgICAgICAgIGlmICghc2hvdWxkUmVzdGFydCkgcmV0dXJuO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGVhckFsYXJtKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFsYXJtSW5mbyA9IGlzUmVwZWF0aW5nID8geyBwZXJpb2RJbk1pbnV0ZXM6IG1pbnMgfSA6IHsgZGVsYXlJbk1pbnV0ZXM6IG1pbnMgfTtcbiAgICAgICAgcmV0dXJuIHdlYmV4dEFwaS5hbGFybXMuY3JlYXRlKG5hbWUsIGFsYXJtSW5mbyk7XG4gICAgfTtcblxuICAgIGFzeW5jIGNsZWFyQWxhcm0obmFtZSkge1xuICAgICAgICByZXR1cm4gd2ViZXh0QXBpLmFsYXJtcy5jbGVhcihuYW1lKTtcbiAgICB9XG5cbiAgICBhc3luYyBjbGVhckFsYXJtcygpIHtcbiAgICAgICAgcmV0dXJuIHdlYmV4dEFwaS5hbGFybXMuY2xlYXJBbGwoKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgJy4vbHAtaGFuZGxlcic7XG5pbXBvcnQgJy4vdGFic0NhY2hlJztcblxuaW1wb3J0IHtcbiAgICBTVE9SQUdFX1RPS0VOLFxuICAgIENMT1NFX1RBQl9NRVNTQUdFLFxuICAgIE9QRU5fVEFCX01FU1NBR0UsXG4gICAgQ09OU09MRV9MT0dfTUVTU0FHRSxcbiAgICBTRU5EX01FU1NBR0UsXG4gICAgV0VMQ09NRV9VUkwsXG4gICAgU1VQUE9SVEVEX1BST1RPQ09MUyxcbiAgICBJQ09OUyxcbiAgICBVTklOU1RBTExfVVJMLFxuICAgIFJFVFJZX1FVRVJZX0RBVEEsXG4gICAgVkVSU0lPTixcbiAgICBTWVNURU1fUEFHRSxcbiAgICBNQVhfQ09OU0VDVVRJVkVfQ0FDSEVfTUlTU0VTLFxuICAgIENIRUNLX05FWFRfUE9QVVBfU1RBVEUsXG4gICAgSUNPTl9OT1RJRklDQVRJT04sXG4gICAgT1BFTl9QT1BVUCxcbiAgICBUVVJOX09GRl9QUk9URUNUSU9OLFxuICAgIFRVUk5fT05fUFJPVEVDVElPTixcbiAgICBUT0dHTEVfV09UX1NMSURFUl9SRVFVRVNULFxuICAgIFBSRV9DSEVDSyxcbiAgICBQT1BfQkxPQ0tFRCxcbiAgICBDT05URU5UX0RJU0NPTk5FQ1RFRCxcbiAgICBDT05URU5UX0NPTk5FQ1RFRCxcbiAgICBISVNUT1JZX1VQREFURUQsXG4gICAgR0FfQ0FURUdPUllfS0VZLFxuICAgIEdBX0FDVElPTl9LRVksXG4gICAgR0FfTEFCRUxfS0VZLFxuICAgIE9ORV9EQVksXG4gICAgU0hJRUxEU19MRVZFTF9ISUdILFxuICAgIElOSkVDVF9GT05UUyxcbiAgICBGT05UU19VUkwsXG4gICAgR0FfQUNDT1VOVCxcbiAgICBPUEVOX0lOX0NVUlJfVEFCX01FU1NBR0UsXG4gICAgVVNFUl9TT1VSQ0VfVVBEQVRFLFxuICAgIFJFU1RBUlRfU0NBTlRJTUVfQUxBUk1cbn0gZnJvbSAnLi4vLi4vc2hhcmVkL2NvbnN0YW50cyc7XG5pbXBvcnQge1xuICAgIGNsZWFyQ29tbWVudHMsXG4gICAgY2xlYXJSYXRpbmcsXG4gICAgc2F2ZVdpdG5lc3MsXG4gICAgc2F2ZVJ0V2l0bmVzcyxcbiAgICBzYXZlVGFicyxcbiAgICBjbGVhclRlbXBsaXN0LFxuICAgIHJlcXVlc3RTZXJwc0NvbmYsXG4gICAgdHVybk9uUHJvdGVjdGlvbixcbiAgICB0dXJuT2ZmUHJvdGVjdGlvbixcbiAgICB0dXJuT2ZmUGFyZW50YWxDb250cm9sRXh0cmFJY29uLFxuICAgIHNhdmVJbnN0YWxsLFxuICAgIHNhdmVGaXJzdFJ1bkRhdGUsXG4gICAgc2F2ZUV4cGVyaW1lbnRhbERhdGEsXG4gICAgdXBkYXRlU3VydmV5U3RhdGUsXG4gICAgT3B0T3V0UG9wVXAsXG4gICAgc2F2ZVJhdGluZyxcbiAgICBHRVRfVVNFUl9QTEFOLFxuICAgIGxvYWRUcmFja2Vyc0xpc3QsXG4gICAgZGVsZXRlVHJhY2tlcnNIaXN0b3J5LFxuICAgIFJFTE9BRF9UUkFDS0VSU19EQVRBX09GRixcbiAgICB0b05leHRTdGVwT25ib2FyZGluZyxcbiAgICBrZWVwQ29tbWVudHMsXG4gICAgTEVBS19NT05JVE9SSU5HX09OLFxuICAgIExFQUtfTU9OSVRPUklOR19PRkYsXG4gICAgZ2V0TGVha0RhdGEsXG4gICAgdXBkYXRlVXNlclNvdXJjZSxcbiAgICB1cGRhdGVHYUlELFxuICAgIHNldFNoaWVsZHNMZXZlbCxcbiAgICB1cGRhdGVQb3B1cFNjYW5UaW1lXG59IGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQge1xuICAgIHdlYmV4dEFwaSxcbiAgICBicm93c2VyTmFtZSxcbiAgICBnZXREb21haW4sXG4gICAgZ2V0UmFuZG9tQm9vbCxcbiAgICBnZXRTaGllbGRDb2xvcixcbiAgICBjaGVja0xvY2FsaG9zdCxcbiAgICBnZXRPUyxcbiAgICBjb21wYXJlVmVyc2lvbnMsXG4gICAgZ2V0RW5jb2RlZERvbWFpbixcbiAgICBnZXRDbGVhbkRvbWFpbixcbiAgICBNWVdPVF9PUFRJTl9SRURJUkVDVF9GTE9XX0EsXG4gICAgTVlXT1RfT1BUSU5fUkVESVJFQ1RfRkxPV19CLFxuICAgIEVYVF9PUFRJTl9VUkwsIE1ZV09UX09QVElOX1JPT1Rcbn0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzJztcbmltcG9ydCBXb3RBcGkgZnJvbSAnLi4vLi4vc2hhcmVkL3dvdEFwaSc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VGFiIH0gZnJvbSAnLi9jb21tb24vYmFja2dyb3VuZFV0aWxzJztcbmltcG9ydCBSZXRlbnRpb25FdmVudCBmcm9tICcuL2NvbW1vbi9jb21tb24nO1xuaW1wb3J0IE15Q2xhc3MgZnJvbSAnLi9jb21tb24vbXlDbGFzcyc7XG5cbmltcG9ydCBQaUZpbHRlciBmcm9tICcuLi8uLi9zaGFyZWQvcGlGaWx0ZXInO1xuaW1wb3J0IENvbnRlbnRTdGF0ZUhhbmRsZXIgZnJvbSAnLi9jb250ZW50LXN0YXRlLWhhbmRsZXInO1xuaW1wb3J0IFRyYWNrZXJCbG9ja2VyIGZyb20gJy4vdHJhY2tlcnMtYmxvY2tlcic7XG5pbXBvcnQgeyBjcm9zc2Jyb3dzZXJOYW1lIH0gZnJvbSAnLi4vLi4vY3Jvc3Nicm93c2VyJztcblxuaW1wb3J0IFdvdE5ldHdvcmsgZnJvbSAnLi4vLi4vc2hhcmVkL25ldHdvcmsnO1xuaW1wb3J0IHsgQWxhcm1zTWFuYWdlciB9IGZyb20gJy4vYWxhcm1zJztcblxuY29uc3QgTk9UX09OQk9BUkRJTkcgPSA0O1xuXG5cbnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gXCJkZWJ1ZyBpcyBvZmZcIjt9LCAzMDAzMTIyMCk7XG5cbihmdW5jdGlvbigpIHtcbiAgICBzZWxmLnlvZHVsZXMgPSBzZWxmLnlvZHVsZXMgfHwge307XG5cbiAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICBjb25zdCBtb2R1bGUgPSB5b2R1bGVzLkluaXRpYXRvcjtcbiAgICAgICAgbW9kdWxlLmNsYXNzID0gY2xhc3MgSW5pdGlhdG9yIHtcbiAgICAgICAgICAgIHN0YXRpYyBoYXNBbGxBcmdzUmVhZHkoZnVuYywgeW9kdWxlTmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlcHMgPSB5b2R1bGVzW3lvZHVsZU5hbWVdLmRlcHMgfHwgW107XG4gICAgICAgICAgICAgICAgY29uc3Qgbm90UmVhZHkgPSBkZXBzLmZpbmQoZGVwID0+ICF5b2R1bGVzW2RlcF0gfHwgIXlvZHVsZXNbZGVwXS5yZWFkeSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFub3RSZWFkeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRpYyBpbml0V2l0aEFyZ3MoZnVuYywgeW9kdWxlTmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSB5b2R1bGVzW3lvZHVsZU5hbWVdLmRlcHMgfHwgW107XG4gICAgICAgICAgICAgICAgY29uc3QgYXJnVmFscyA9IGFyZ3MubWFwKGFyZyA9PiB5b2R1bGVzW2FyZ10pO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluaXRSZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ1ZhbHMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGluaXRSZXN1bHQgIT09IFwidW5kZWZpbmVkXCIgJiYgaW5pdFJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0UmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0Tm90SW5pdGVkTW9kdWxlcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoeW9kdWxlcykuZmlsdGVyKG5hbWUgPT5cbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgeW9kdWxlc1tuYW1lXS5pbml0ICYmXG4gICAgICAgICAgICAgICAgICAgICF5b2R1bGVzW25hbWVdLnJlYWR5ICYmXG4gICAgICAgICAgICAgICAgICAgIHlvZHVsZXNbbmFtZV0uaW5pdCAhPT0gaW5pdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBpbml0QXZhaWxhYmxlKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLmdldE5vdEluaXRlZE1vZHVsZXMoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeW9kdWxlTmFtZSA9IGxpc3RbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB5b2R1bGVzW3lvZHVsZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5pbml0SW5Qcm9ncmVzcykgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChJbml0aWF0b3IuaGFzQWxsQXJnc1JlYWR5KGN1cnJlbnQuaW5pdCwgeW9kdWxlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuaW5pdEluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBJbml0aWF0b3IuaW5pdFdpdGhBcmdzKGN1cnJlbnQuaW5pdCwgeW9kdWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5yZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnQuaW5pdEluUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5pbml0SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuZXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQucmVhZHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHt9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyTGlzdCA9IHRoaXMuZ2V0Tm90SW5pdGVkTW9kdWxlcygpO1xuICAgICAgICAgICAgICAgIGlmIChhZnRlckxpc3QubGVuZ3RoIDwgbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0QXZhaWxhYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgY2hlY2sodG0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB5b2R1bGVzTGlzdCA9IHRoaXMuZ2V0Tm90SW5pdGVkTW9kdWxlcygpO1xuICAgICAgICAgICAgICAgIGlmICh5b2R1bGVzTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5pbml0QXZhaWxhYmxlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0bSA+IDJlMykge31cbiAgICAgICAgICAgICAgICBpZiAodG0gPCAxZTUpIHsgc2V0VGltZW91dCgoKSA9PiB0aGlzLmNoZWNrKHRtICogMiksIHRtICogMik7IH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtb2R1bGUuaW5zdGFuY2UgPSBuZXcgbW9kdWxlLmNsYXNzKCk7XG4gICAgICAgIG1vZHVsZS5pbnN0YW5jZS5jaGVjaygxKTtcbiAgICB9XG4gICAgeW9kdWxlcy5Jbml0aWF0b3IgPSB7IGluaXQgfTtcbiAgICBpbml0KCk7XG59KSgpO1xuXG5cbmNsYXNzIE1haW5BcHAge1xuICAgIGNvbnN0cnVjdG9yKHN0b3JlLCBpc1VwZGF0ZWQpIHtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgICAgICB0aGlzLmFsYXJtc01hbmFnZXIgPSBuZXcgQWxhcm1zTWFuYWdlcihzdG9yZSk7XG4gICAgICAgIGlmIChpc1VwZGF0ZWQpIHRoaXMuYWxhcm1zTWFuYWdlci5jbGVhckFsYXJtcygpO1xuICAgICAgICB0aGlzLm15RWxlbWVudCA9IG5ldyBNeUNsYXNzKHN0b3JlKTtcbiAgICAgICAgdGhpcy5zZXRFeHBlcmltZW50YWxEYXRhKCk7XG4gICAgICAgIHRoaXMuZmlyZUluc3RhbGxFdmVudCgpO1xuICAgICAgICB0aGlzLnNldEZpcnN0UnVuRGF0ZSgpO1xuICAgICAgICB0aGlzLnJldGVudGlvbiA9IG5ldyBSZXRlbnRpb25FdmVudChzdG9yZSk7XG4gICAgICAgIHRoaXMucGlGaWx0ZXIgPSBuZXcgUGlGaWx0ZXIoKTtcbiAgICAgICAgdGhpcy5nZXRBbGxUYWJzID0gXy50aHJvdHRsZSh0aGlzLmdldEFsbFRhYnMuYmluZCh0aGlzKSwgMTUwMCk7XG4gICAgICAgIHRoaXMuY29uc2VjdXRpdmVDYWNoZU1pc3NlcyA9IDA7XG4gICAgICAgIHRoaXMubGFzdEhvc3RMb29rZWR1cEluQ2FjaGUgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRlbnRTdGF0ZUhhbmRsZXIgPSBuZXcgQ29udGVudFN0YXRlSGFuZGxlcih0aGlzLnN0b3JlKTtcbiAgICAgICAgdGhpcy5jb250ZW50U3RhdGVIYW5kbGVyLmhhbmRsZU5leHRQb3B1cFN0YXRlKCk7XG4gICAgICAgIHRoaXMudHJhY2tlckJsb2NrZXIgPSBuZXcgVHJhY2tlckJsb2NrZXIodGhpcy5zdG9yZSk7XG4gICAgICAgIHRoaXMuZm9udHNTdHlsZVNoZWV0ID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZUNhY2hlID0gdGhpcy5zdG9yZS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCB7IHJlbG9hZCwgcmVsb2FkQWxsb3dMaXN0IH0gPSBzdGF0ZS50cmFja2VyQmxvY2tlckRhdGE7XG4gICAgICAgICAgICBpZiAocmVsb2FkQWxsb3dMaXN0IHx8IHJlbG9hZCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFja2VyQmxvY2tlci5mbHVzaCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2tlckJsb2NrZXIuZmx1c2hBbGxvd0xpc3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh7IHR5cGU6IFJFTE9BRF9UUkFDS0VSU19EQVRBX09GRiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICByZXR1cm4gd2ViZXh0QXBpLnN0b3JhZ2UubG9jYWwuc2V0KHsgW1NUT1JBR0VfVE9LRU5dOiBzdGF0ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGFwaVdpdG5lc3MgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkuYXBpO1xuICAgICAgICBjb25zdCBydEFwaVdpdG5lc3MgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkucnRBcGk7XG4gICAgICAgIGNvbnN0IHsgaXNQcmVtaXVtVXNlciB9ID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnVzZXI7XG4gICAgICAgIGlmIChpc1ByZW1pdW1Vc2VyKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHsgdHlwZTogR0VUX1VTRVJfUExBTiB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWxhcm1zTWFuYWdlci5kb09uQmFja2dyb3VuZFN0YXJ0KCk7XG5cbiAgICAgICAgV290QXBpLnJlZ2lzdGVyQWxsKGFwaVdpdG5lc3MsIHJ0QXBpV2l0bmVzcykudGhlbih2YWx1ZXMgPT4ge1xuICAgICAgICAgICAgY29uc3QgW2RldGFpbHMsIHJ0RGV0YWlsc10gPSB2YWx1ZXM7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNhdmVXaXRuZXNzKGRldGFpbHMpKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2F2ZVJ0V2l0bmVzcyhydERldGFpbHMpKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goY2xlYXJUZW1wbGlzdCgpKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goY2xlYXJDb21tZW50cygpKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFNlcnBDb25maWcoKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goY2xlYXJSYXRpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGxvYWRUcmFja2Vyc0xpc3QoKSk7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGRlbGV0ZVRyYWNrZXJzSGlzdG9yeSgpKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0QWxsVGFicygpO1xuICAgICAgICB9KTtcbiAgICAgICAgd2ViZXh0QXBpLnRhYnMub25VcGRhdGVkLmFkZExpc3RlbmVyKHRoaXMudGFiVXBkYXRlTGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIHdlYmV4dEFwaS50YWJzLm9uQWN0aXZhdGVkLmFkZExpc3RlbmVyKHRoaXMudGFiTGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIHdlYmV4dEFwaS53aW5kb3dzLm9uRm9jdXNDaGFuZ2VkLmFkZExpc3RlbmVyKHRoaXMud2luZG93TGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vIGhhbmRsZXIgZm9yIGJyb3dzZXIgbWVzc2FnZXNcbiAgICAgICAgd2ViZXh0QXBpLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKChyZXF1ZXN0LCBzZW5kZXIsIHNlbmRSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChyZXF1ZXN0Lm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgT1BFTl9UQUJfTUVTU0FHRTpcbiAgICAgICAgICAgICAgICB0eXBlb2YgcmVxdWVzdC51cmwgIT09ICd1bmRlZmluZWQnICYmIHdlYmV4dEFwaS50YWJzLmNyZWF0ZSh7IHVybDogcmVxdWVzdC51cmwgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE9QRU5fSU5fQ1VSUl9UQUJfTUVTU0FHRTpcbiAgICAgICAgICAgICAgICB0eXBlb2YgcmVxdWVzdC51cmwgIT09ICd1bmRlZmluZWQnICYmIHdlYmV4dEFwaS50YWJzLnVwZGF0ZSh7IHVybDogcmVxdWVzdC51cmwgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENMT1NFX1RBQl9NRVNTQUdFOlxuICAgICAgICAgICAgICAgIHdlYmV4dEFwaS50YWJzLnJlbW92ZShzZW5kZXIudGFiLmlkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ09OU09MRV9MT0dfTUVTU0FHRTpcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ09OVEVOVF9ESVNDT05ORUNURUQ6XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50U3RhdGVIYW5kbGVyLnNldEVycm9yU3RhdGUoc2VuZGVyLnRhYi5pZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENPTlRFTlRfQ09OTkVDVEVEOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFN0YXRlSGFuZGxlci5oYW5kbGVOZXh0UG9wdXBTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTRU5EX01FU1NBR0U6XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZW5kTWVzc2FnZShyZXF1ZXN0LnBhcmFtcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFJFVFJZX1FVRVJZX0RBVEE6XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50U3RhdGVIYW5kbGVyLnJldHJ5UXVlcnlEYXRhKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRVUk5fT05fUFJPVEVDVElPTjpcbiAgICAgICAgICAgICAgICAvLyBjbGVhckludGVydmFsKHRoaXMub3B0b3V0SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWxhcm1zTWFuYWdlci50b2dnbGVPcHRPdXRBbGFybShmYWxzZSk7IC8vIFN0b3AgYWxhcm1cbiAgICAgICAgICAgICAgICB3ZWJleHRBcGkuYWN0aW9uLnNldEJhZGdlVGV4dCh7IHRleHQ6ICcnIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFN0YXRlSGFuZGxlci5oYW5kbGVOZXh0UG9wdXBTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUVVJOX09GRl9QUk9URUNUSU9OOlxuICAgICAgICAgICAgICAgIC8vIHRoaXMuc3RhcnRPcHRvdXRJbnRlcnZhbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWxhcm1zTWFuYWdlci50b2dnbGVPcHRPdXRBbGFybSh0cnVlKTsgLy8gU3RhcnQgYWxhcm1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRTdGF0ZUhhbmRsZXIuaGFuZGxlTmV4dFBvcHVwU3RhdGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ0hFQ0tfTkVYVF9QT1BVUF9TVEFURTpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRTdGF0ZUhhbmRsZXIuaGFuZGxlTmV4dFBvcHVwU3RhdGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIE9QRU5fUE9QVVA6XG4gICAgICAgICAgICAgICAgd2ViZXh0QXBpLmFjdGlvbi5zZXRCYWRnZVRleHQoeyB0ZXh0OiAnJyB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSUNPTl9OT1RJRklDQVRJT046XG4gICAgICAgICAgICAgICAgd2ViZXh0QXBpLmFjdGlvbi5zZXRCYWRnZVRleHQoeyB0ZXh0OiAnMScgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBPUF9CTE9DS0VEOiB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFRPR0dMRV9XT1RfU0xJREVSX1JFUVVFU1Q6XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50U3RhdGVIYW5kbGVyLnRvZ2dsZVNsaWRlcihyZXF1ZXN0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTWVNURU1fUEFHRTpcbiAgICAgICAgICAgICAgICBnZXRDdXJyZW50VGFiKCkudGhlbih0YWIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm15RWxlbWVudCAmJiB0eXBlb2YgdGhpcy5teUVsZW1lbnQuZmlyZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLm15RWxlbWVudC5maXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtHQV9DQVRFR09SWV9LRVldOiAnU3lzdGVtIFBhZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgW0dBX0FDVElPTl9LRVldOiByZXF1ZXN0LmlzRXJyb3IgPyAnRXJyb3JfT3BlbmVkJyA6ICdPcGVuZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgW0dBX0xBQkVMX0tFWV06IHRhYi51cmwgfHwgJ04vQSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIElOSkVDVF9GT05UUzpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZm9udHNTdHlsZVNoZWV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Rm9udHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgZm9udHM6IHRoaXMuZm9udHNTdHlsZVNoZWV0IH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMRUFLX01PTklUT1JJTkdfT046XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydExlYWtNb25pdG9yaW5nSW50ZXJ2YWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIExFQUtfTU9OSVRPUklOR19PRkY6XG4gICAgICAgICAgICAgICAgLy8gY2xlYXJJbnRlcnZhbCh0aGlzLmxlYWtNb25pdG9yaW5nSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWxhcm1zTWFuYWdlci50b2dnbGVHZXRMZWFrRGF0YUFsYXJtKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUkVTVEFSVF9TQ0FOVElNRV9BTEFSTTpcbiAgICAgICAgICAgICAgICB0aGlzLmFsYXJtc01hbmFnZXIuY3JlYXRlVXBkYXRlUG9wdXBTY2FuVGltZUFsYXJtKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzdXJ2ZXlEYXRhID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnN1cnZleTtcbiAgICAgICAgaWYgKCFzdXJ2ZXlEYXRhLmluc3RhbGxEYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHVwZGF0ZVN1cnZleVN0YXRlKHsgLi4uc3VydmV5RGF0YSwgaW5zdGFsbERhdGU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgcHJvdGVjdGlvbiwgbGVha01vbml0b3JpbmcgfSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zZXR0aW5ncztcbiAgICAgICAgaWYgKCFwcm90ZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHR1cm5PZmZQcm90ZWN0aW9uKCkpO1xuICAgICAgICAgICAgdGhpcy5zdGFydE9wdG91dEludGVydmFsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHR1cm5PblByb3RlY3Rpb24oKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYW5nZVNoaWVsZExldmVscygpO1xuICAgICAgICB0aGlzLmdldEZvbnRzKCk7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godXBkYXRlUG9wdXBTY2FuVGltZShuZXcgRGF0ZSgpKSk7XG5cbiAgICAgICAgaWYgKGxlYWtNb25pdG9yaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0TGVha01vbml0b3JpbmdJbnRlcnZhbChmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1bmluc3RhbGwgZXZlbnRcbiAgICAgICAgd2ViZXh0QXBpLnJ1bnRpbWUuc2V0VW5pbnN0YWxsVVJMKFVOSU5TVEFMTF9VUkwsICgpID0+IHtcblx0ICAgICAgICBpZiAod2ViZXh0QXBpLnJ1bnRpbWUubGFzdEVycm9yKSB7fVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyB3ZWJleHRBcGkucnVudGltZS5vbk1lc3NhZ2VFeHRlcm5hbC5hZGRMaXN0ZW5lcih0aGlzLndlYnNpdGVFeHRlcm5hbE1lc3NhZ2VMaXN0ZW5lcik7XG5cbiAgICAgICAgLy8gaWYgVkVSU0lPTiA+IHByZXZWZXJzaW9uXG4gICAgICAgIGlmIChjb21wYXJlVmVyc2lvbnMoVkVSU0lPTiwgc3VydmV5RGF0YS5wcmV2VmVyc2lvbikgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godXBkYXRlU3VydmV5U3RhdGUoe1xuICAgICAgICAgICAgICAgIGluc3RhbGxEYXRlOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgICAgICBwcmV2VmVyc2lvbjogVkVSU0lPTixcbiAgICAgICAgICAgICAgICBpc1Nob3dlZDogZmFsc2UsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAvKiA8bm9uLWZpcmVmb3g+ICovXG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmNvbW1vbi50aWQgIT09IEdBX0FDQ09VTlQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHVwZGF0ZUdhSUQoR0FfQUNDT1VOVCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogPC9ub24tZmlyZWZveD4gKi9cbiAgICAgICAgfVxuICAgICAgICB3ZWJleHRBcGkuYWN0aW9uLnNldEJhZGdlQmFja2dyb3VuZENvbG9yKHsgY29sb3I6ICcjYzUzOTI5JyB9KTtcblxuICAgICAgICBjb25zdCBsYW5nVGV4dCA9IHdlYmV4dEFwaS5pMThuLmdldE1lc3NhZ2UoJ2NoZWNrVXJsJyk7XG4gICAgICAgIHdlYmV4dEFwaS5jb250ZXh0TWVudXMucmVtb3ZlQWxsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2ViZXh0QXBpLmNvbnRleHRNZW51cy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGlkOiAnV290Q29udGV4dE1lbnUnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsYW5nVGV4dCxcbiAgICAgICAgICAgICAgICBjb250ZXh0czogWydsaW5rJ11cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgd2ViZXh0QXBpLmNvbnRleHRNZW51cy5vbkNsaWNrZWQuYWRkTGlzdGVuZXIodGhpcy5wcmVDaGVja0xpbmsuYmluZCh0aGlzKSk7XG4gICAgICAgIHdlYmV4dEFwaS53ZWJOYXZpZ2F0aW9uLm9uSGlzdG9yeVN0YXRlVXBkYXRlZC5hZGRMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICBnZXRDdXJyZW50VGFiKCkudGhlbih0YWIgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGFiLmlkICYmIHRhYi5pZCAhPT0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHdlYmV4dEFwaS50YWJzLnNlbmRNZXNzYWdlKHRhYi5pZCwgeyBhY3Rpb246IEhJU1RPUllfVVBEQVRFRCB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3ZWJleHRBcGkucnVudGltZS5sYXN0RXJyb3IpIHsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUXVlcnlEYXRhRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChldmVudCAmJiBldmVudC5kZXRhaWwgaW5zdGFuY2VvZiBBcnJheSAmJiBldmVudC5kZXRhaWwubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudFN0YXRlSGFuZGxlci5mZXRjaFJhdGluZyhldmVudC5kZXRhaWxbMl0sIGV2ZW50LmRldGFpbFsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVxdWVzdFNlcnBDb25maWcoKSB7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocmVxdWVzdFNlcnBzQ29uZigpKTtcbiAgICAgICAgdGhpcy5hbGFybXNNYW5hZ2VyLmNyZWF0ZVNlcnBSZXF1ZXN0QWxhcm0oKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZW5kTWVzc2FnZShwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgeyBzZW5kSW50ZXJuYWxBbmFseXRpY3MsIC4uLmdhUGFyYW1zIH0gPSBwYXJhbXM7XG4gICAgICAgIHRoaXMubXlFbGVtZW50LmZpcmUgJiYgdGhpcy5teUVsZW1lbnQuZmlyZShnYVBhcmFtcyk7XG4gICAgICAgIGlmIChzZW5kSW50ZXJuYWxBbmFseXRpY3MpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZEludGVybmFsQW5hbHl0aWNzRXZlbnQoZ2FQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb3BlblByZUNoZWNrKHVybCkge1xuICAgICAgICB3ZWJleHRBcGkudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZSB9LCAodGFicykgPT4ge1xuICAgICAgICAgICAgaWYgKCF0YWJzIHx8ICF0YWJzWzBdKSByZXR1cm47XG4gICAgICAgICAgICB3ZWJleHRBcGkudGFicy5zZW5kTWVzc2FnZSh0YWJzWzBdLmlkLCB7IGFjdGlvbjogUFJFX0NIRUNLLCB1cmwgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3ZWJleHRBcGkucnVudGltZS5sYXN0RXJyb3IpIHsgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByZUNoZWNrTGluayhpbmZvKSB7XG4gICAgICAgIGlmIChpbmZvLm1lbnVJdGVtSWQgIT09ICdXb3RDb250ZXh0TWVudScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgdXNlciB9ID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGlmICghdXNlciB8fCAhdXNlci5pc1ByZW1pdW1Vc2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVuUHJlQ2hlY2soKTtcbiAgICAgICAgfVxuICAgICAgICBXb3RBcGkucXVlcnkoeyBsaW5rczogW2luZm8ubGlua1VybF0gfSkudGhlbigocmF0aW5ncykgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChzYXZlUmF0aW5nKHJhdGluZ3MpKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMub3BlblByZUNoZWNrKGdldENsZWFuRG9tYWluKGluZm8ubGlua1VybCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgIHRoaXMubXlFbGVtZW50ICYmIHR5cGVvZiB0aGlzLm15RWxlbWVudC5maXJlID09PSAnZnVuY3Rpb24nICYmIHRoaXMubXlFbGVtZW50LmZpcmUoe1xuICAgICAgICAgICAgICAgIFtHQV9DQVRFR09SWV9LRVldOiAncHJlX2NoZWNrJyxcbiAgICAgICAgICAgICAgICBbR0FfQUNUSU9OX0tFWV06ICdFcnJvcicsXG4gICAgICAgICAgICAgICAgW0dBX0xBQkVMX0tFWV06IHJlYXNvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXJ0T3B0b3V0SW50ZXJ2YWwoKSB7XG4gICAgICAgIHRoaXMuYWxhcm1zTWFuYWdlci50b2dnbGVPcHRPdXRBbGFybSh0cnVlKTtcbiAgICB9XG5cbiAgICBzdGFydExlYWtNb25pdG9yaW5nSW50ZXJ2YWwoZnJvbU1lbnVUb2dnbGUpIHtcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChnZXRMZWFrRGF0YShmcm9tTWVudVRvZ2dsZSkpO1xuICAgICAgICB0aGlzLmFsYXJtc01hbmFnZXIudG9nZ2xlR2V0TGVha0RhdGFBbGFybSh0cnVlKTtcbiAgICB9XG5cbiAgICB0YWJMaXN0ZW5lcigpIHtcbiAgICAgICAgdGhpcy5nZXRBbGxUYWJzKHRydWUpO1xuICAgIH1cblxuICAgIHRhYlVwZGF0ZUxpc3RlbmVyKHRhYklkLCBjaGFuZ2VJbmZvLCB0YWIpIHtcbiAgICAgICAgaWYgKGNoYW5nZUluZm8uc3RhdHVzID09PSAnbG9hZGluZycgfHwgY2hhbmdlSW5mby5zdGF0dXMgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0QWxsVGFicygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgd2luZG93TGlzdGVuZXIod2luZG93SWQpIHtcbiAgICAgICAgd2luZG93SWQgIT09IC0xICYmIHRoaXMuZ2V0QWxsVGFicyh0cnVlKTtcbiAgICB9XG5cbiAgICB3ZWJzaXRlRXh0ZXJuYWxNZXNzYWdlTGlzdGVuZXIocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpIHtcbiAgICAgICAgY29uc3Qgd2hpdGVsaXN0ZWREb21haW5zID0gWydteXdvdC5jb20nXTtcbiAgICAgICAgY29uc3QgeyB1cmwgfSA9IHNlbmRlcjtcbiAgICAgICAgY29uc3QgZG9tYWluID0gZ2V0RG9tYWluKHVybCk7XG5cbiAgICAgICAgZm9yIChjb25zdCB3aGl0ZWxpc3RlZERvbWFpbiBvZiB3aGl0ZWxpc3RlZERvbWFpbnMpIHtcbiAgICAgICAgICAgIGlmICh3aGl0ZWxpc3RlZERvbWFpbiA9PT0gZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHsgaXNBY3RpdmU6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZW5kSW50ZXJuYWxBbmFseXRpY3NFdmVudChwYXlsb2FkKSB7XG4gICAgICAgIGNvbnN0IHsgaW50ZXJuYWxFdmVudHMgfSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5yZW1vdGVDb25maWcuZmVhdHVyZXM7XG4gICAgICAgIGlmIChpbnRlcm5hbEV2ZW50cyAmJiBpbnRlcm5hbEV2ZW50cy5lbmFibGUpIHtcbiAgICAgICAgICAgIFdvdEFwaS5zZW5kSW50ZXJuYWxBbmFseXRpY3MocGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaXJlSW5zdGFsbEV2ZW50KCkge1xuICAgICAgICBjb25zdCBoYXNGaXJlZCA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5pbnN0YWxsRXZlbnRGaXJlZDtcbiAgICAgICAgY29uc3Qgb3MgPSBnZXRPUygpO1xuXG4gICAgICAgIGlmIChoYXNGaXJlZCkge1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChzYXZlSW5zdGFsbCgpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBfLmRlbGF5KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChvcy5pbmRleE9mKCdBbmRyb2lkJykgIT09IC0xIHx8IG9zLmluZGV4T2YoJ2lPUycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godHVybk9mZlBhcmVudGFsQ29udHJvbEV4dHJhSWNvbigpKTtcbiAgICAgICAgICAgICAgICB3ZWJleHRBcGkudGFicy5jcmVhdGUoeyB1cmw6IFdFTENPTUVfVVJMIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHR1cm5PZmZQcm90ZWN0aW9uKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMub3BlblByZXNldHRpbmdzUGFnZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxNTAwKTtcblxuICAgICAgICBfLmRlbGF5KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9ICdXT1RfaW5zdGFsbGVkJztcbiAgICAgICAgICAgIHRoaXMubXlFbGVtZW50LmZpcmUgJiYgdGhpcy5teUVsZW1lbnQuZmlyZSh7XG4gICAgICAgICAgICAgICAgW0dBX0NBVEVHT1JZX0tFWV06ICdHZW5lcmFsJyxcbiAgICAgICAgICAgICAgICBbR0FfQUNUSU9OX0tFWV06IGFjdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDMwMDApO1xuXG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2F2ZUluc3RhbGwoKSk7XG4gICAgfVxuXG4gICAgc2V0Rmlyc3RSdW5EYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmZpcnN0UnVuRGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLm9uYm9hcmRpbmcuc3RlcCA9PT0gMCAmJiAoK25ldyBEYXRlKCkgLSB0aGlzLnN0b3JlLmdldFN0YXRlKCkuZmlyc3RSdW5EYXRlID49IDEwMDAgKiA2MCAqIDYwICogMjQpICYmIHRoaXMuc3RvcmUuZGlzcGF0Y2godG9OZXh0U3RlcE9uYm9hcmRpbmcoTk9UX09OQk9BUkRJTkcpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZpcnN0UnVuRGF0ZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2F2ZUZpcnN0UnVuRGF0ZShmaXJzdFJ1bkRhdGUpKTtcbiAgICB9XG5cbiAgICBzZXRFeHBlcmltZW50YWxEYXRhKCkge1xuICAgICAgICBpZiAoYnJvd3Nlck5hbWUgPT09ICdjaHJvbWUnICYmICF0aGlzLnN0b3JlLmdldFN0YXRlKCkuZmlyc3RSdW5EYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlcmltZW50YWxEYXRhID0gXy5tZXJnZSh7fSwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogZ2V0UmFuZG9tQm9vbCgpLFxuICAgICAgICAgICAgICAgIGxhc3RWZXJzaW9uOiBWRVJTSU9OXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChzYXZlRXhwZXJpbWVudGFsRGF0YShleHBlcmltZW50YWxEYXRhKSk7XG4gICAgICAgICAgICB0aGlzLmluY2x1ZGVFeHBlcmltZW50YWxGZWF0dXJlcyhleHBlcmltZW50YWxEYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluY2x1ZGVFeHBlcmltZW50YWxGZWF0dXJlcyhleHBlcmltZW50YWxEYXRhKSB7XG5cbiAgICB9XG5cbiAgICBjaGFuZ2VTaGllbGRMZXZlbHMoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgc2hvdWxkIG5vdCBvdmVycmlkZSBleGlzdGluZyB1c2VyIHNldHRpbmdzXG4gICAgICAgIGNvbnN0IG51bVNlcnBzID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnNlcnBzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaWQgPSAwOyBpZCA8IG51bVNlcnBzOyBpZCsrKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHNldFNoaWVsZHNMZXZlbChTSElFTERTX0xFVkVMX0hJR0gsIGlkKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRBbGxUYWJzKGlzRXhwZWN0ZWRJbkNhY2hlID0gZmFsc2UpIHtcbiAgICAgICAgd2ViZXh0QXBpLndpbmRvd3MuZ2V0Q3VycmVudCh7fSwgYWN0aXZlV2luZG93ID0+IHtcbiAgICAgICAgICAgIGlmICh3ZWJleHRBcGkucnVudGltZS5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGFjdGl2ZVdpbmRvdyAmJiBhY3RpdmVXaW5kb3cuZm9jdXNlZCkgfHwgY3Jvc3Nicm93c2VyTmFtZSA9PT0gJ2VkZ2UnIHx8IChuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ01hYycpICE9PSAtMSkpIHtcbiAgICAgICAgICAgICAgICB3ZWJleHRBcGkudGFicy5xdWVyeSh7fSwgKHRhYnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWJzKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2goc2F2ZVRhYnModGFicywgYWN0aXZlV2luZG93KSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSWNvbih0YWJzLCBhY3RpdmVXaW5kb3csIGlzRXhwZWN0ZWRJbkNhY2hlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0SWNvbihpY29uKSB7XG4gICAgICAgIHdlYmV4dEFwaS5hY3Rpb24uc2V0SWNvbihpY29uKTtcbiAgICAgICAgdGhpcy5jb25zZWN1dGl2ZUNhY2hlTWlzc2VzID0gMDtcbiAgICB9XG5cbiAgICB1cGRhdGVJY29uTm90aWZpY2F0aW9uKHN0YXRlLCBzaGllbGRDb2xvcikge1xuICAgICAgICBjb25zdCB7IHVzZXIsIGxlYWtNb25pdG9yaW5nLCBzZXR0aW5ncyB9ID0gc3RhdGU7XG4gICAgICAgIGxldCBiYWRnZVRleHQgPSAnJzsgLy8gRGVmYXVsdCBiYWRnZSB0ZXh0XG4gICAgICAgIGxldCBiYWRnZUNvbG9yID0gJyNjNTM5MjknOyAvLyBEZWZhdWx0IGJhZGdlIGNvbG9yXG4gICAgICAgIGlmIChbJ3llbGxvdycsICdyZWQnXS5pbmNsdWRlcyhzaGllbGRDb2xvcikpIHtcbiAgICAgICAgICAgIGJhZGdlVGV4dCA9ICchJztcbiAgICAgICAgICAgIGJhZGdlQ29sb3IgPSAnI0ZGRDkwMCc7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBicmVhY2hlcyA9IHNldHRpbmdzLmxlYWtNb25pdG9yaW5nICYmIGxlYWtNb25pdG9yaW5nICYmIGxlYWtNb25pdG9yaW5nLmJyZWFjaGVzLmZpbHRlcihiID0+ICFiLmlzRGlzbWlzc2VkKTtcbiAgICAgICAgY29uc3QgaXNCcmVhY2hlc0ZvdW5kID0gISEoYnJlYWNoZXMgJiYgYnJlYWNoZXMubGVuZ3RoKTtcbiAgICAgICAgaWYgKHVzZXIgJiYgdXNlci5pc1ByZW1pdW1Vc2VyICYmIGlzQnJlYWNoZXNGb3VuZCkge1xuICAgICAgICAgICAgYmFkZ2VUZXh0ID0gYCR7YnJlYWNoZXMubGVuZ3RofWA7XG4gICAgICAgICAgICBiYWRnZUNvbG9yID0gJyMxNjVBREEnO1xuICAgICAgICB9XG5cbiAgICAgICAgd2ViZXh0QXBpLmFjdGlvbi5zZXRCYWRnZVRleHQoeyB0ZXh0OiBiYWRnZVRleHQgfSk7XG4gICAgICAgIHdlYmV4dEFwaS5hY3Rpb24uc2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3IoeyBjb2xvcjogYmFkZ2VDb2xvciB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVJY29uKHRhYnMsIGFjdGl2ZVdpbmRvdywgaXNFeHBlY3RlZEluQ2FjaGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0b3JlLmdldFN0YXRlKCkuc2V0dGluZ3MucHJvdGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5zZXRJY29uKHsgcGF0aDogSUNPTlMuZ3JheSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdGFiIG9mIHRhYnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFiLmFjdGl2ZSAmJiB0YWIud2luZG93SWQgPT09IGFjdGl2ZVdpbmRvdy5pZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByYXRpbmdzLCB1c2VyLCByZXZpZXdzIH0gPSBzdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdCA9IGdldEVuY29kZWREb21haW4odGFiLnVybCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChob3N0ICE9PSB0aGlzLmxhc3RIb3N0TG9va2VkdXBJbkNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnNlY3V0aXZlQ2FjaGVNaXNzZXMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0SG9zdExvb2tlZHVwSW5DYWNoZSA9IGhvc3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFTVVBQT1JURURfUFJPVE9DT0xTLnRlc3QodGFiLnVybCkgfHwgY2hlY2tMb2NhbGhvc3QodGFiLnVybCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SWNvbih7IHBhdGg6IElDT05TLmdyYXksIHRhYklkOiB0YWIuaWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJhdGluZ3NbaG9zdF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXRpbmcgPSByYXRpbmdzW2hvc3RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdWlkID0gdXNlci51aWQgfHwgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJSZXZpZXcgPSByZXZpZXdzW3VpZF0gJiYgcmV2aWV3c1t1aWRdW2hvc3RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2hpZWxkQ29sb3IgPSBnZXRTaGllbGRDb2xvcihyYXRpbmcsIHVzZXJSZXZpZXcpLmNvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJY29uKHsgcGF0aDogSUNPTlNbc2hpZWxkQ29sb3JdLCB0YWJJZDogdGFiLmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJY29uTm90aWZpY2F0aW9uKHN0YXRlLCBzaGllbGRDb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXJhdGluZ3NbaG9zdF0gJiYgdGhpcy5jb25zZWN1dGl2ZUNhY2hlTWlzc2VzKysgPCBNQVhfQ09OU0VDVVRJVkVfQ0FDSEVfTUlTU0VTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFeHBlY3RlZEluQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc3VhbGx5IGhhcHBlbnMgd2hlbiB0aGUgZXh0ZW5zaW9uIGlzIGZpcnN0IGluc3RhbGxlZCBhbmQgdGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhcmUgYWxyZWFkeSBzb21lIG9wZW5lZCB0YWJzIG9yIGluIHRoZSByYXJlIGNhc2Ugb2Ygb3VyIHNlcnZlciByZXR1cm5pbmcgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRTdGF0ZUhhbmRsZXIucmV0cnlRdWVyeURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5nZXRBbGxUYWJzLmJpbmQodGhpcyksIDgwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHR1cm5PblByb3RlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godHVybk9uUHJvdGVjdGlvbigpKTtcbiAgICB9XG5cbiAgICB0dXJuT2ZmUHJvdGVjdGlvbigpIHtcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh0dXJuT2ZmUHJvdGVjdGlvbigpKTtcbiAgICB9XG5cbiAgICAvLyBnZXRzIHRoZSBzdG9yZSBzdGF0ZSBhbmQgZmlsdGVycyBvdXQga2V5c1xuICAgIGdldEZpbHRlcmVkU3RhdGUoc3RhdGUsIGZpbHRlcmVkS2V5cykge1xuICAgICAgICBjb25zdCBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMoc3RhdGUpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IG9iamVjdEtleXMuZmlsdGVyKGtleSA9PiAhZmlsdGVyZWRLZXlzLmluY2x1ZGVzKGtleSkpO1xuXG4gICAgICAgIHJldHVybiBmaWx0ZXJlZC5yZWR1Y2UoKG9iaiwga2V5KSA9PiB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHN0YXRlW2tleV07XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuXG4gICAgZ2V0Rm9udHMoKSB7XG4gICAgICAgIFdvdE5ldHdvcmsuZ2V0KEZPTlRTX1VSTClcbiAgICAgICAgICAgIC50aGVuKHhociA9PiB7XG4gICAgICAgICAgICB0aGlzLmZvbnRzU3R5bGVTaGVldCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge30pO1xuICAgIH1cblxuICAgIG9wZW5QcmVzZXR0aW5nc1BhZ2UoKSB7XG4gICAgICAgIGlmKGNyb3NzYnJvd3Nlck5hbWUgPT09ICdmaXJlZm94Jykge1xuICAgICAgICAgICAgd2ViZXh0QXBpLnRhYnMuY3JlYXRlKHsgdXJsOiBgJHtFWFRfT1BUSU5fVVJMfWAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3ZWJleHRBcGkudGFicy5jcmVhdGUoeyB1cmw6IGAke01ZV09UX09QVElOX1JPT1QgKyBFWFRfT1BUSU5fVVJMfWAgfSk7XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuXG4oZnVuY3Rpb24gc2VycCgpIHtcbiAgICBzZWxmLnlvZHVsZXMgPSBzZWxmLnlvZHVsZXMgfHwge307XG5cbiAgICBmdW5jdGlvbiBpbml0KFNlbmRSZXF1ZXN0Rm9yVGFiLCBQbG95ZGVyKSB7XG4gICAgICAgIGNvbnN0IG1vZHVsZSA9IHlvZHVsZXMuU2VycDtcbiAgICAgICAgY29uc3Qgc2VuZFJlcXVlc3RGb3JUYWIgPSBTZW5kUmVxdWVzdEZvclRhYi5pbnN0YW5jZSxcbiAgICAgICAgICAgIHBsb3lkZXIgPSBQbG95ZGVyLmluc3RhbmNlO1xuICAgICAgICBsZXQgcmVwbGFjZWRGdW5jQ2FjaGUgPSBudWxsO1xuICAgICAgICBtb2R1bGUuY2xhc3MgPSBjbGFzcyBTZXJwIHtcbiAgICAgICAgICAgIGJpbmQoKSB7XG4gICAgICAgICAgICAgICAgc2VuZFJlcXVlc3RGb3JUYWIub25CZWZvcmVQYWNrKCh0YWJJZCwgdGFiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IHRhYi5jaHJvbWVUYWIgJiYgdGFiLmNocm9tZVRhYi51cmw7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdXJsKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlUGFnZSh1cmwsIHRhYklkKS50aGVuKHIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbG95ZGVyLnVuc2hpZnRJdGVtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXJwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxpZGF0ZVBhZ2UodXJsLCB0YWJJZCkge1xuICAgICAgICAgICAgICAgIGlmICh1cmwubWF0Y2goL15odHRwczpcXC9cXC93d3dcXC5nb29nbGUoPzpcXC5cXHcrKStcXC9zZWFyY2hcXD8vZykgJiYgdXJsLmluZGV4T2YoXCImdGJtPVwiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyLCByaikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25Eb25lID0gZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgPSAhcmVzID8gZmFsc2UgOiByZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcihyZXMucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluamVjdGlvblRhcmdldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJJZDogdGFiSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5qZWN0aW9uU2NyaXB0ID0gdGhpcy5zY3JpcHRJbmplY3Rpb25Db25zdHJ1Y3RvclYzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJncyA9IE9iamVjdC5hc3NpZ24oe30sIGluamVjdGlvblRhcmdldCwgaW5qZWN0aW9uU2NyaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc2NyaXB0aW5nLmV4ZWN1dGVTY3JpcHQoYXJncywgb25Eb25lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY3JpcHRJbmplY3Rpb25Db25zdHJ1Y3RvclYzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiI3RhZHMgZGl2W2RhdGEtdGV4dC1hZF1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiI3RhZHNiIGRpdltkYXRhLXRleHQtYWRdXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiNyZXMgLmc6bm90KCNpbWFnZWJveF9iaWdpbWFnZXMpXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNpdGUsIC54MlZIQ2QuT1NyWFhiLnF6RW9VZSwgYSBkaXYgKyBkaXYgc3BhbiArIHNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJocmVmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIi5NVXhHYmQueURZTnZiLmx5THdsY1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJbcm9sZT0naGVhZGluZyddXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImgzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgZnVuYzogKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3JUb3BBZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RvckJvdHRvbUFkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yTWFpbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yQ2l0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBocmYsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjU2VsZWN0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBoM1NlbGVjdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgaDMsXG4gICAgICAgICAgICAgICAgICAgICAgICBkSXRlbVxuICAgICAgICAgICAgICAgICAgICApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlBZHMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheU1haW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNlcnBBZChzaW5nbGVBZCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUsIGhyZWYsIGNpdGUsIGRlc2NyaXB0aW9uLCBoMywgYTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYTIgPSBzaW5nbGVBZC5xdWVyeVNlbGVjdG9yKGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGgzID0gYTIucXVlcnlTZWxlY3RvcihoM1NlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IGgzLmlubmVyVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmID0gYTIuZ2V0QXR0cmlidXRlKGhyZik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0ZSA9IHNpbmdsZUFkLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JDaXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXRlID0gY2l0ZSA/IGNpdGUuaW5uZXJUZXh0IDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjT3B0aW9uID0gc2luZ2xlQWQucXVlcnlTZWxlY3RvcihkZXNjU2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gZGVzY09wdGlvbiA/IGRlc2NPcHRpb24uaW5uZXJUZXh0IDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IHsgdGl0bGUsIGhyZWYsIGRlc2NyaXB0aW9uLCBpbmRleCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaXRlKSB7IHIuY2l0ZSA9IGNpdGU7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2VycE1haW4oc2luZ2xlTWFpbiwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaHJlZiwgdGl0bGUsIGEyLCBjaXRlLCBkZXNjLCBkZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhMiA9IHNpbmdsZU1haW4ucXVlcnlTZWxlY3RvcihhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IGEyLnF1ZXJ5U2VsZWN0b3IoaDMpID8gYTIucXVlcnlTZWxlY3RvcihoMykuaW5uZXJUZXh0IDogYTIuaW5uZXJUZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWYgPSBhMi5ocmVmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdGUgPSBzaW5nbGVNYWluLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JDaXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaXRlID0gY2l0ZSA/IGNpdGUuaW5uZXJUZXh0IDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjID0gQXJyYXkuZnJvbShzaW5nbGVNYWluLnF1ZXJ5U2VsZWN0b3JBbGwoZEl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIGN1cnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3Vyci5pbm5lclRleHQubGVuZ3RoID4gYWNjLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Vyci5pbm5lclRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gZGVzYyB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0geyB0aXRsZSwgaHJlZiwgZGVzY3JpcHRpb24sIGluZGV4IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNpdGUpIHsgci5jaXRlID0gY2l0ZTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvclRvcEFkcykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheUFkcy5wdXNoKHNlcnBBZChlbCwgaW5kZXgrKykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yTWFpbikuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gc2VycE1haW4oZWwsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgJiYgci50aXRsZSAmJiByLmhyZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlNYWluLnB1c2gocik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yQm90dG9tQWRzKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5QWRzLnB1c2goc2VycEFkKGVsLCBpbmRleCsrKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVmb3JtYXQobykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG8yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IG8uaHJlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IG8udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBvLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogby5kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uY2l0ZSkgbzIuZ3JlZW5fbGluayA9IG8uY2l0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbzI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFycmF5TWFpbi5sZW5ndGggJiYgIWFycmF5QWRzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yZzogYXJyYXlNYWluLm1hcChyZWZvcm1hdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRzOiBhcnJheUFkcy5tYXAocmVmb3JtYXQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZG9jdW1lbnQuYmFzZVVSSSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgICAgICBtb2R1bGUuaW5zdGFuY2UuYmluZCgpO1xuICAgIH1cbiAgICB5b2R1bGVzLlNlcnAgPSB7IGluaXQsIGRlcHM6IFtcIlNlbmRSZXF1ZXN0Rm9yVGFiXCIsIFwiUGxveWRlclwiXSB9O1xufSkoKTtcblxuXG5leHBvcnQgZGVmYXVsdCBNYWluQXBwO1xuIiwiZXhwb3J0IGNvbnN0IFdPVF9DT05GSUcgPSB7XG4gICAgc2hvd1doYXRzTmV3Rm9yVmVyc2lvbjogJzQuMC4xMy4zMycsXG4gICAgbmV3RmVhdHVyZXM6IFsnbGVha01vbml0b3JpbmcnXVxufTtcbiIsImltcG9ydCB7IE9ORV9EQVksIFNDSEVEVUxFUl9UWVBFUywgUkVNT1RFX0NPTkZJR19LRVlTIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgcmVzZXRDb3VudGVyLCByZXNldFJlbWluZGVyIH0gZnJvbSAnLi4vYmFja2dyb3VuZC9hcHAvYWN0aW9ucyc7XG5cbmNvbnN0IGNvbmZpZ0tleVRvU2NoZWR1bGVyS2V5TWFwID0ge1xuICAgIFtSRU1PVEVfQ09ORklHX0tFWVMuTEVBS19NT05JVE9SSU5HX0hPT0tdOiBTQ0hFRFVMRVJfVFlQRVMuTEVBS19NT05JVE9SSU5HX0FEXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkUGVyZm9ybShjb25maWdLZXksIHN0YXRlKSB7XG4gICAgY29uc3QgaXNVcGdyYWRhYmxlID0gIXN0YXRlLnVzZXIgfHwgIXN0YXRlLnVzZXIuaXNQcmVtaXVtVXNlcjtcbiAgICBjb25zdCB7IG1heFByb21wdHMgPSAzIH0gPSBzdGF0ZS5yZW1vdGVDb25maWcuZmVhdHVyZXNbY29uZmlnS2V5XSB8fCB7fTtcbiAgICBjb25zdCBzY2hlZHVsZXJLZXkgPSBjb25maWdLZXlUb1NjaGVkdWxlcktleU1hcFtjb25maWdLZXldO1xuICAgIGNvbnN0IGNvdW50ZXIgPSBzdGF0ZS5jb3VudGVyc1tzY2hlZHVsZXJLZXldO1xuICAgIGNvbnN0IHJlbWluZGVyID0gc3RhdGUucmVtaW5kZXJzW3NjaGVkdWxlcktleV07XG4gICAgcmV0dXJuIGlzVXBncmFkYWJsZSAmJiBjb3VudGVyIDwgbWF4UHJvbXB0cyAmJiAhKHJlbWluZGVyICYmIHJlbWluZGVyID4gRGF0ZS5ub3coKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVOZXh0UmVtaW5kZXIoY29uZmlnS2V5LCBzdGF0ZSkge1xuICAgIGNvbnN0IHsgcHJvbXB0SW50ZXJ2YWxEYXlzID0gMiB9ID0gc3RhdGUucmVtb3RlQ29uZmlnLmZlYXR1cmVzW2NvbmZpZ0tleV0gfHwge307XG4gICAgcmV0dXJuIE1hdGgucm91bmQocHJvbXB0SW50ZXJ2YWxEYXlzICogT05FX0RBWSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTY2hlZHVsZXJzKGV4aXN0aW5nRmVhdHVyZSA9IHt9LCBmZWF0dXJlID0ge30sIHN0b3JlKSB7XG4gICAgaWYgKGZlYXR1cmUuY3ljbGVOdW1iZXIgPiBleGlzdGluZ0ZlYXR1cmUuY3ljbGVOdW1iZXIpIHtcbiAgICAgICAgY29uc3Qgc2NoZWR1bGVyS2V5ID0gY29uZmlnS2V5VG9TY2hlZHVsZXJLZXlNYXBbZmVhdHVyZS5uYW1lXTtcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2gocmVzZXRDb3VudGVyKHNjaGVkdWxlcktleSkpO1xuICAgICAgICBzdG9yZS5kaXNwYXRjaChyZXNldFJlbWluZGVyKHNjaGVkdWxlcktleSkpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgRmVhdHVyZSwgT05FX0hPVVIsIFJFTU9URV9DT05GSUdfS0VZUywgUkVNT1RFX0NPTkZJR19UWVBFUywgU1RBVElDX0ZJTEVTX1NFUlZFUlxufSBmcm9tICcuLi8uLi9zaGFyZWQvY29uc3RhbnRzJztcbmltcG9ydCB7XG4gICAgdXBkYXRlUmVtb3RlVUlDb25maWdGZWF0dXJlcywgdXBkYXRlUmVtb3RlVUlDb25maWdCeUtleSwgdXNlckRhdGFBbmFseXRpY3NIYW5kbGVyLFxufSBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IFdvdEFwaSBmcm9tICcuLi8uLi9zaGFyZWQvd290QXBpJztcbmltcG9ydCB7IHVwZGF0ZVNjaGVkdWxlcnMgfSBmcm9tICcuLi8uLi9zaGFyZWQvc2NoZWR1bGVyJztcblxuY2xhc3MgUmVtb3RlQ29uZmlnSGFuZGxlciB7XG4gICAgY29uc3RydWN0b3Ioc3RvcmUpIHtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgICAgICB0aGlzLnN5bmNXT1RDb25maWd1cmF0aW9uID0gdGhpcy5zeW5jV09UQ29uZmlndXJhdGlvbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNlbGZOYW1lID0gJ3JlbW90ZSBjb25maWcgaGFuZGxlcic7XG4gICAgICAgIHRoaXMuaXNGaXJzdEluc3RhbGwgPSB0cnVlO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXQoaXNVcGRhdGUpIHtcbiAgICAgICAgY29uc3QgeyBtZXRhIH0gPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkucmVtb3RlQ29uZmlnO1xuICAgICAgICBjb25zdCBzaG91bGRGZXRjaEltbWVkaWF0ZWx5ID0gbWV0YS5pc0RlZmF1bHRDb25maWcgfHwgaXNVcGRhdGU7XG4gICAgICAgIGNvbnN0IHNsZWVwID0gbWV0YS5yZWZyZXNoSW50ZXJ2YWxIb3VycztcbiAgICAgICAgaWYgKHNob3VsZEZldGNoSW1tZWRpYXRlbHkpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luY1dPVENvbmZpZ3VyYXRpb24oaXNVcGRhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLnN5bmNXT1RDb25maWd1cmF0aW9uLCBzbGVlcCAqIE9ORV9IT1VSLCBpc1VwZGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBnZXRDb25maWdGcm9tUmVtb3RlKCkge1xuICAgICAgICBsZXQgcmVzcG9uc2VUZXh0ID0gJyc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke1NUQVRJQ19GSUxFU19TRVJWRVJ9L3YyL3VpX2NvbmZpZy5qc29uYCwgeyBjYWNoZTogJ25vLXN0b3JlJyB9KTtcbiAgICAgICAgICAgIHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBXb3RBcGkucmVwb3J0RXJyb3IoeyBtZXNzYWdlOiByZXNwb25zZVRleHQsIHJlc3BvbnNlU3RhdHVzOiByZXNwb25zZS5zdGF0dXMsIHNvdXJjZTogdGhpcy5zZWxmTmFtZSB9KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgV290QXBpLnJlcG9ydEVycm9yKHsgbWVzc2FnZTogcmVzcG9uc2VUZXh0IHx8IChlICYmIGUubWVzc2FnZSkgfHwgJ3Vua25vd24gZXJyb3InLCBzb3VyY2U6IHRoaXMuc2VsZk5hbWUgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBnZXRJbml0aWFsVUlDb25maWcoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy4uLy4uLy4uL3Jlc291cmNlcy9sb2NhbF91aV9jb25maWdzLmpzb24nKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2VUZXh0O1xuICAgIH1cblxuICAgIGFzeW5jIHN5bmNXT1RDb25maWd1cmF0aW9uKGlzVXBkYXRlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICBsZXQgbWV0YSA9IGN1cnJlbnRTdGF0ZS5yZW1vdGVDb25maWcubWV0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRmVhdHVyZXMgPSBjdXJyZW50U3RhdGUucmVtb3RlQ29uZmlnLmZlYXR1cmVzO1xuICAgICAgICAgICAgbGV0IGNvbmZpZ0ZpbGUgPSBhd2FpdCB0aGlzLmdldENvbmZpZ0Zyb21SZW1vdGUoKTtcbiAgICAgICAgICAgIGlmICghY29uZmlnRmlsZSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZ0ZpbGUgPSBhd2FpdCB0aGlzLmdldEluaXRpYWxVSUNvbmZpZygpO1xuICAgICAgICAgICAgICAgIC8vIElmIG5vdCB0aGUgZmlyc3QgaW5zdGFsbCBvciB0aGVyZSB3YXMgYW4gZXJyb3IgbG9hZGluZyB0aGUgaW5pdGlhbCBjb25maWcgZmlsZSwgc2V0VGltb3V0LlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0ZpcnN0SW5zdGFsbCB8fCAhY29uZmlnRmlsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRmlyc3RJbnN0YWxsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5zeW5jV09UQ29uZmlndXJhdGlvbiwgbWV0YS5yZWZyZXNoSW50ZXJ2YWxIb3VycyAqIE9ORV9IT1VSLCBpc1VwZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmcmVzaEZlYXR1cmVzID0gY29uZmlnRmlsZS5mZWF0dXJlcztcbiAgICAgICAgICAgIG1ldGEgPSBjb25maWdGaWxlLm1ldGEgfHwgbWV0YTtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtlZEZvckRlbGV0aW9uID0gdGhpcy5maWx0ZXJPdXRSZW1vdmVkRmVhdHVyZXMoZXhpc3RpbmdGZWF0dXJlcywgZnJlc2hGZWF0dXJlcyk7XG4gICAgICAgICAgICBjb25zdCBtYXJrZWRGb3JVcGRhdGUgPSBPYmplY3Qua2V5cyhmcmVzaEZlYXR1cmVzKS5yZWR1Y2UoKGFjYywgbmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0ZlYXR1cmUgPSBuZXcgRmVhdHVyZShmcmVzaEZlYXR1cmVzW25hbWVdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ0ZlYXR1cmUgPSBleGlzdGluZ0ZlYXR1cmVzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmICghaXNVcGRhdGUgJiYgZXhpc3RpbmdGZWF0dXJlICYmIGV4aXN0aW5nRmVhdHVyZS52ZXJzaW9uID09PSBuZXdGZWF0dXJlLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdGZWF0dXJlICYmIG5ld0ZlYXR1cmUudHlwZSA9PT0gUkVNT1RFX0NPTkZJR19UWVBFUy5TQ0hFRFVMRVIpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2NoZWR1bGVycyhleGlzdGluZ0ZlYXR1cmUsIG5ld0ZlYXR1cmUsIHRoaXMuc3RvcmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzaG91bGRTZWxlY3QgPSAhZXhpc3RpbmdGZWF0dXJlIHx8IG5ld0ZlYXR1cmUuZm9yY2VSZXNlbGVjdDtcbiAgICAgICAgICAgICAgICBuZXdGZWF0dXJlLm9wdGlvbnMgPSBzaG91bGRTZWxlY3QgPyB0aGlzLmdldFJhbmRvbU9wdGlvbihuZXdGZWF0dXJlKSA6IHRoaXMuZ2V0VXBkYXRlZE9wdGlvbihleGlzdGluZ0ZlYXR1cmUsIG5ld0ZlYXR1cmUpO1xuICAgICAgICAgICAgICAgIGFjY1tuYW1lXSA9IG5ld0ZlYXR1cmU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godXNlckRhdGFBbmFseXRpY3NIYW5kbGVyKG1hcmtlZEZvclVwZGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaCh1cGRhdGVSZW1vdGVVSUNvbmZpZ0ZlYXR1cmVzKG1hcmtlZEZvckRlbGV0aW9uLCBtYXJrZWRGb3JVcGRhdGUpKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2godXBkYXRlUmVtb3RlVUlDb25maWdCeUtleShSRU1PVEVfQ09ORklHX0tFWVMuTUVUQSwgbWV0YSkpO1xuXG4gICAgICAgICAgICB0aGlzLmlzRmlyc3RJbnN0YWxsID0gZmFsc2U7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuc3luY1dPVENvbmZpZ3VyYXRpb24sIG1ldGEucmVmcmVzaEludGVydmFsSG91cnMgKiBPTkVfSE9VUik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIFdvdEFwaS5yZXBvcnRFcnJvcih7IG1lc3NhZ2U6IChlICYmIGUubWVzc2FnZSkgfHwgJ3Vua25vd24gZXJyb3InLCBzb3VyY2U6IHRoaXMuc2VsZk5hbWUgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNGaXJzdEluc3RhbGwgPSBmYWxzZTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5zeW5jV09UQ29uZmlndXJhdGlvbiwgbWV0YS5yZWZyZXNoSW50ZXJ2YWxIb3VycyAqIE9ORV9IT1VSLCBpc1VwZGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaWx0ZXJPdXRSZW1vdmVkRmVhdHVyZXMoZXhpc3RpbmdGZWF0dXJlcywgZnJlc2hGZWF0dXJlcykge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZXhpc3RpbmdGZWF0dXJlcykuZmlsdGVyKGtleSA9PiAhZnJlc2hGZWF0dXJlc1trZXldKTtcbiAgICB9XG5cbiAgICBnZXRSYW5kb21PcHRpb24oZmVhdHVyZSkge1xuICAgICAgICBpZiAoZmVhdHVyZS5vcHRpb25zLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZmVhdHVyZS5vcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN1bVdlaWdodHMgPSBmZWF0dXJlLm9wdGlvbnMucmVkdWNlKChhLCBiKSA9PiBhICsgYi53ZWlnaHRQZXJjZW50YWdlLCAwKTtcbiAgICAgICAgY29uc3QgcGljayA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHN1bVdlaWdodHMpO1xuICAgICAgICBsZXQgcmFuZ2UgPSAwO1xuICAgICAgICByZXR1cm4gW2ZlYXR1cmUub3B0aW9ucy5maW5kKHggPT4ge1xuICAgICAgICAgICAgcmFuZ2UgKz0geC53ZWlnaHRQZXJjZW50YWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2sgPCByYW5nZTtcbiAgICAgICAgfSldO1xuICAgIH1cblxuICAgIGdldFVwZGF0ZWRPcHRpb24oY3VycmVudEZlYXR1cmUsIG5ld0ZlYXR1cmUpIHtcbiAgICAgICAgaWYgKCFjdXJyZW50RmVhdHVyZS5vcHRpb25zIHx8ICFjdXJyZW50RmVhdHVyZS5vcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCFuZXdGZWF0dXJlLm9wdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmFuZG9tT3B0aW9uKG5ld0ZlYXR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nT3B0aW9uID0gY3VycmVudEZlYXR1cmUub3B0aW9uc1swXTtcbiAgICAgICAgY29uc3QgY3VycklkID0gZXhpc3RpbmdPcHRpb24gJiYgZXhpc3RpbmdPcHRpb24uaWQ7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRPcHRpb24gPSBuZXdGZWF0dXJlLm9wdGlvbnMuZmluZChvcCA9PiBvcC5pZCA9PT0gY3VycklkKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRPcHRpb24gPyBbdXBkYXRlZE9wdGlvbl0gOiBbXTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlbW90ZUNvbmZpZ0hhbmRsZXI7XG4iLCJpbXBvcnQgZnJlZUdsb2JhbCBmcm9tICcuL19mcmVlR2xvYmFsLmpzJztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5leHBvcnQgZGVmYXVsdCByb290O1xuIiwiaW1wb3J0IHJvb3QgZnJvbSAnLi9fcm9vdC5qcyc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5leHBvcnQgZGVmYXVsdCBTeW1ib2w7XG4iLCJpbXBvcnQgU3ltYm9sIGZyb20gJy4vX1N5bWJvbC5qcyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0UmF3VGFnO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG9iamVjdFRvU3RyaW5nO1xuIiwiaW1wb3J0IFN5bWJvbCBmcm9tICcuL19TeW1ib2wuanMnO1xuaW1wb3J0IGdldFJhd1RhZyBmcm9tICcuL19nZXRSYXdUYWcuanMnO1xuaW1wb3J0IG9iamVjdFRvU3RyaW5nIGZyb20gJy4vX29iamVjdFRvU3RyaW5nLmpzJztcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJhc2VHZXRUYWc7XG4iLCIvKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgb3ZlckFyZztcbiIsImltcG9ydCBvdmVyQXJnIGZyb20gJy4vX292ZXJBcmcuanMnO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KTtcblxuZXhwb3J0IGRlZmF1bHQgZ2V0UHJvdG90eXBlO1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzT2JqZWN0TGlrZTtcbiIsImltcG9ydCBiYXNlR2V0VGFnIGZyb20gJy4vX2Jhc2VHZXRUYWcuanMnO1xuaW1wb3J0IGdldFByb3RvdHlwZSBmcm9tICcuL19nZXRQcm90b3R5cGUuanMnO1xuaW1wb3J0IGlzT2JqZWN0TGlrZSBmcm9tICcuL2lzT2JqZWN0TGlrZS5qcyc7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNQbGFpbk9iamVjdDtcbiIsImltcG9ydCBpc1BsYWluT2JqZWN0IGZyb20gJ2xvZGFzaC1lcy9pc1BsYWluT2JqZWN0JztcbmltcG9ydCAkJG9ic2VydmFibGUgZnJvbSAnc3ltYm9sLW9ic2VydmFibGUnO1xuXG4vKipcbiAqIFRoZXNlIGFyZSBwcml2YXRlIGFjdGlvbiB0eXBlcyByZXNlcnZlZCBieSBSZWR1eC5cbiAqIEZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUuXG4gKiBJZiB0aGUgY3VycmVudCBzdGF0ZSBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS5cbiAqIERvIG5vdCByZWZlcmVuY2UgdGhlc2UgYWN0aW9uIHR5cGVzIGRpcmVjdGx5IGluIHlvdXIgY29kZS5cbiAqL1xuZXhwb3J0IHZhciBBY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogJ0BAcmVkdXgvSU5JVCdcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG4gICAqIFRoZSBvbmx5IHdheSB0byBjaGFuZ2UgdGhlIGRhdGEgaW4gdGhlIHN0b3JlIGlzIHRvIGNhbGwgYGRpc3BhdGNoKClgIG9uIGl0LlxuICAgKlxuICAgKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG4gICAqIHBhcnRzIG9mIHRoZSBzdGF0ZSB0cmVlIHJlc3BvbmQgdG8gYWN0aW9ucywgeW91IG1heSBjb21iaW5lIHNldmVyYWwgcmVkdWNlcnNcbiAgICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWR1Y2VyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBuZXh0IHN0YXRlIHRyZWUsIGdpdmVuXG4gICAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICAgKlxuICAgKiBAcGFyYW0ge2FueX0gW3ByZWxvYWRlZFN0YXRlXSBUaGUgaW5pdGlhbCBzdGF0ZS4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAgICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAgICogcHJldmlvdXNseSBzZXJpYWxpemVkIHVzZXIgc2Vzc2lvbi5cbiAgICogSWYgeW91IHVzZSBgY29tYmluZVJlZHVjZXJzYCB0byBwcm9kdWNlIHRoZSByb290IHJlZHVjZXIgZnVuY3Rpb24sIHRoaXMgbXVzdCBiZVxuICAgKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZW5oYW5jZXJdIFRoZSBzdG9yZSBlbmhhbmNlci4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAgICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuICAgKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gICAqIGlzIGBhcHBseU1pZGRsZXdhcmUoKWAuXG4gICAqXG4gICAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gICAqIGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cbiAgICovXG59O2V4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcikge1xuICB2YXIgX3JlZjI7XG5cbiAgaWYgKHR5cGVvZiBwcmVsb2FkZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZW5oYW5jZXIgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgICBwcmVsb2FkZWRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciBjdXJyZW50UmVkdWNlciA9IHJlZHVjZXI7XG4gIHZhciBjdXJyZW50U3RhdGUgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuXG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cbiAgZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KGFjdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtdXN0IGJlIHBsYWluIG9iamVjdHMuICcgKyAnVXNlIGN1c3RvbSBtaWRkbGV3YXJlIGZvciBhc3luYyBhY3Rpb25zLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gJyArICdIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/Jyk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLicpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzID0gbmV4dExpc3RlbmVycztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYnNlcnZlciAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZVN0YXRlKCkge1xuICAgICAgICAgIGlmIChvYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KGdldFN0YXRlKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBvdXRlclN1YnNjcmliZShvYnNlcnZlU3RhdGUpO1xuICAgICAgICByZXR1cm4geyB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmUgfTtcbiAgICAgIH1cbiAgICB9LCBfcmVmWyQkb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9XG5cbiAgLy8gV2hlbiBhIHN0b3JlIGlzIGNyZWF0ZWQsIGFuIFwiSU5JVFwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkIHNvIHRoYXQgZXZlcnlcbiAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG4gIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbJCRvYnNlcnZhYmxlXSA9IG9ic2VydmFibGUsIF9yZWYyO1xufSIsImltcG9ydCB7IEFjdGlvblR5cGVzIH0gZnJvbSAnLi9jcmVhdGVTdG9yZSc7XG5pbXBvcnQgaXNQbGFpbk9iamVjdCBmcm9tICdsb2Rhc2gtZXMvaXNQbGFpbk9iamVjdCc7XG5pbXBvcnQgd2FybmluZyBmcm9tICcuL3V0aWxzL3dhcm5pbmcnO1xuXG5mdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgdmFyIGFjdGlvbk5hbWUgPSBhY3Rpb25UeXBlICYmICdcIicgKyBhY3Rpb25UeXBlLnRvU3RyaW5nKCkgKyAnXCInIHx8ICdhbiBhY3Rpb24nO1xuXG4gIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4gJyArICdJZiB5b3Ugd2FudCB0aGlzIHJlZHVjZXIgdG8gaG9sZCBubyB2YWx1ZSwgeW91IGNhbiByZXR1cm4gbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC4nO1xufVxuXG5mdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSkge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBhcmd1bWVudE5hbWUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IEFjdGlvblR5cGVzLklOSVQgPyAncHJlbG9hZGVkU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlJyA6ICdwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlcic7XG5cbiAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkICcgKyAndG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG4gIH1cblxuICBpZiAoIWlzUGxhaW5PYmplY3QoaW5wdXRTdGF0ZSkpIHtcbiAgICByZXR1cm4gJ1RoZSAnICsgYXJndW1lbnROYW1lICsgJyBoYXMgdW5leHBlY3RlZCB0eXBlIG9mIFwiJyArIHt9LnRvU3RyaW5nLmNhbGwoaW5wdXRTdGF0ZSkubWF0Y2goL1xccyhbYS16fEEtWl0rKS8pWzFdICsgJ1wiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nICcgKyAoJ2tleXM6IFwiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiJyk7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdW5leHBlY3RlZEtleUNhY2hlW2tleV07XG4gIH0pO1xuXG4gIHVuZXhwZWN0ZWRLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldID0gdHJ1ZTtcbiAgfSk7XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2hhcGUocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiAnICsgJ0lmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCAnICsgJ2V4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgJyArICdub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uXFwndCB3YW50IHRvIHNldCBhIHZhbHVlIGZvciB0aGlzIHJlZHVjZXIsICcgKyAneW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IHR5cGUgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcgKyAoJ0RvblxcJ3QgdHJ5IHRvIGhhbmRsZSAnICsgQWN0aW9uVHlwZXMuSU5JVCArICcgb3Igb3RoZXIgYWN0aW9ucyBpbiBcInJlZHV4LypcIiAnKSArICduYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSAnICsgJ2N1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsICcgKyAnaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlICcgKyAnYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLCBidXQgY2FuIGJlIG51bGwuJyk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2FybmluZygnTm8gcmVkdWNlciBwcm92aWRlZCBmb3Iga2V5IFwiJyArIGtleSArICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblxuICB2YXIgdW5leHBlY3RlZEtleUNhY2hlID0gdm9pZCAwO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZSA9IHt9O1xuICB9XG5cbiAgdmFyIHNoYXBlQXNzZXJ0aW9uRXJyb3IgPSB2b2lkIDA7XG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNoYXBlKGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2hhcGVBc3NlcnRpb25FcnJvciA9IGU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gY29tYmluYXRpb24oKSB7XG4gICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgaWYgKHNoYXBlQXNzZXJ0aW9uRXJyb3IpIHtcbiAgICAgIHRocm93IHNoYXBlQXNzZXJ0aW9uRXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciB3YXJuaW5nTWVzc2FnZSA9IGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2Uoc3RhdGUsIGZpbmFsUmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKTtcbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICB3YXJuaW5nKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfa2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tfaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNbX2tleV07XG4gICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW19rZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UoX2tleSwgYWN0aW9uKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBuZXh0U3RhdGVbX2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG4gICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgfVxuICAgIHJldHVybiBoYXNDaGFuZ2VkID8gbmV4dFN0YXRlIDogc3RhdGU7XG4gIH07XG59IiwiLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmdW5jc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoYi5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xufSIsInZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmltcG9ydCBjb21wb3NlIGZyb20gJy4vY29tcG9zZSc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2RcbiAqIG9mIHRoZSBSZWR1eCBzdG9yZS4gVGhpcyBpcyBoYW5keSBmb3IgYSB2YXJpZXR5IG9mIHRhc2tzLCBzdWNoIGFzIGV4cHJlc3NpbmdcbiAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG4gKlxuICogU2VlIGByZWR1eC10aHVua2AgcGFja2FnZSBhcyBhbiBleGFtcGxlIG9mIHRoZSBSZWR1eCBtaWRkbGV3YXJlLlxuICpcbiAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuICogc3RvcmUgZW5oYW5jZXIgaW4gdGhlIGNvbXBvc2l0aW9uIGNoYWluLlxuICpcbiAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcbiAqIGFzIG5hbWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHN0b3JlIGVuaGFuY2VyIGFwcGx5aW5nIHRoZSBtaWRkbGV3YXJlLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKSB7XG4gICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpO1xuICAgICAgdmFyIF9kaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuICAgICAgdmFyIGNoYWluID0gW107XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKTtcbiAgICAgIH0pO1xuICAgICAgX2Rpc3BhdGNoID0gY29tcG9zZS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RvcmUsIHtcbiAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn0iLCJmdW5jdGlvbiBjcmVhdGVUaHVua01pZGRsZXdhcmUoZXh0cmFBcmd1bWVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLFxuICAgICAgICBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBhY3Rpb24oZGlzcGF0Y2gsIGdldFN0YXRlLCBleHRyYUFyZ3VtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbnZhciB0aHVuayA9IGNyZWF0ZVRodW5rTWlkZGxld2FyZSgpO1xudGh1bmsud2l0aEV4dHJhQXJndW1lbnQgPSBjcmVhdGVUaHVua01pZGRsZXdhcmU7XG5cbmV4cG9ydCBkZWZhdWx0IHRodW5rOyIsIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHtcbiAgICBTQVZFX1dJVE5FU1MsXG4gICAgU0FWRV9SVF9XSVRORVNTLFxuICAgIEdFTkVSQVRFX0lELFxuICAgIFNBVkVfUkVURU5USU9OX0RBWVMsXG4gICAgU0FWRV9JTlNUQUxMLFxuICAgIFNBVkVfRklSU1RfUlVOX0RBVEUsXG4gICAgQUREX1RPX1dISVRFTElTVCxcbiAgICBBRERfVE9fVEVNUExJU1QsXG4gICAgQ0xFQVJfVEVNUExJU1QsXG4gICAgUkVNT1ZFX0ZST01fV0hJVEVMSVNULFxuICAgIFNBVkVfUkFUSU5HLFxuICAgIFNBVkVfQ09NTUVOVFMsXG4gICAgU0VUX0NPTU1FTlRTX0NPVU5ULFxuICAgIExPQURJTkdfQ09NTUVOVFMsXG4gICAgQ0xFQVJfUkFUSU5HLFxuICAgIENMRUFSX0NPTU1FTlRTLFxuICAgIFNBVkVfVEFCUyxcbiAgICBBU1NJU1RBTlRfT04sXG4gICAgQVNTSVNUQU5UX09GRixcbiAgICBQUk9URUNUSU9OX09OLFxuICAgIFBST1RFQ1RJT05fT0ZGLFxuICAgIFBBUkVOVEFMX0NPTlRST0xfT04sXG4gICAgUEFSRU5UQUxfQ09OVFJPTF9PRkYsXG4gICAgR0FNQkxJTkdfQ09OVFJPTF9PTixcbiAgICBHQU1CTElOR19DT05UUk9MX09GRixcbiAgICBQQVJFTlRBTF9DT05UUk9MX0VYVFJBX0lDT05fT04sXG4gICAgUEFSRU5UQUxfQ09OVFJPTF9FWFRSQV9JQ09OX09GRixcbiAgICBTRVRfU0hJRUxEU19MRVZFTCxcbiAgICBTRVRfV0FSTklOR1NfTEVWRUwsXG4gICAgU0FWRV9TRVJQU19DT05GLFxuICAgIFRPX05FWFRfU1RFUCxcbiAgICBPVkVSX05FWFRfU1RFUCxcbiAgICBUT19QUkVWSU9VU19TVEVQLFxuICAgIE9WRVJfUFJFVklPVVNfU1RFUCxcbiAgICBSQVRFX1NBRkVUWSxcbiAgICBSQVRFX0NISUxEX1NBRkVUWSxcbiAgICBSQVRFX1NJVEUsXG4gICAgRURJVF9SRVZJRVcsXG4gICAgREVMRVRFX1JFVklFVyxcbiAgICBTQVZFX1JFVklFVyxcbiAgICBDT1VOVF9QT1BVUF9PUEVOSU5HLFxuICAgIFNBVkVfVVNFUl9UT0tFTixcbiAgICBTQVZFX1VTRVJfREFUQSxcbiAgICBTQVZFX1VTRVJfUExBTixcbiAgICBDTEVBTl9VU0VSX0RBVEEsXG4gICAgVVNFUl9MT0dPVVQsXG4gICAgRVJST1JfVVNFUl9BVVRILFxuICAgIE9GRl9SQVRFX1dJREdFVCxcbiAgICBFWFBFUklNRU5UQUxfRkVBVFVSRSxcbiAgICBUUklQTEVfTkVYVF9TVEVQLFxuICAgIFRSSVBMRV9QUkVWSU9VU19TVEVQLFxuICAgIENIRUNLX1JBVEVfV0lER0VUX0RBVEUsXG4gICAgTU9CSUxFX1RSSUdHRVJfTU9EQUwsXG4gICAgTU9CSUxFX1JBVEVfQ09VTlQsXG4gICAgVE9fTkVYVF9TVEVQX09OQk9BUkRJTkcsXG4gICAgU0VUX0FDVElWRV9UQUIsXG4gICAgTU9CSUxFX1RSSUdHRVJfTU9EQUxfUkVTRVQsXG4gICAgU0FWRV9VU0VSX1JFVklFV19GUk9NX0FQSSxcbiAgICBVUERBVEVfUkVWSUVXX1RJTUVTVEFNUCxcbiAgICBVUERBVEVfQ1RBX1NUQVRVUyxcbiAgICBVUERBVEVfQ1RBX0FQUEVBUkFOQ0UsXG4gICAgVVBEQVRFX1NVUlZFWV9TVEFURSxcbiAgICBNQUtFX1NVUlZFWV9TSE9XRUQsXG4gICAgUE9QVVBfVFlQRSxcbiAgICBVUEdSQURFX1BPUFVQLFxuICAgIFNFVF9TSE9XX1dIQVRTX05FVyxcbiAgICBTRVRfQ1VSUkVOVF9WRVJTSU9OLFxuICAgIExPQURfVFJBQ0tFUlNfTElTVF9DT01QTEVURUQsXG4gICAgQVNTSVNUQU5UX1NFVF9QT1NJVElPTixcbiAgICBQT1BVUF9CTE9DS19OT1RJRklDQVRJT05fT0ZGLFxuICAgIFBPUFVQX0JMT0NLX05PVElGSUNBVElPTl9PTixcbiAgICBQT1BVUF9CTE9DS19PRkYsXG4gICAgUE9QVVBfQkxPQ0tfT04sXG4gICAgUkVMT0FEX1RSQUNLRVJTX0RBVEFfT0ZGLFxuICAgIFJFTE9BRF9UUkFDS0VSU19EQVRBX09OLFxuICAgIFRSQUNLRVJfREVURUNURUQsXG4gICAgVVBEQVRFX1RSQUNLRVJfQUxMT1dfTElTVCxcbiAgICBXT1RfVVBHUkFERV9FVkVOVCxcbiAgICBERUxFVEVfVFJBQ0tFUl9ISVNUT1JZLFxuICAgIFNFVF9SRVZJRVdfSU5fRk9DVVMsXG4gICAgQVNTSVNUQU5UX1NFVF9FWFBBTkRFRCxcbiAgICBUT0dHTEVfQkxPQ0tfQUxMX1RSQUNLRVJTLFxuICAgIE1BUktfRklSU1RfT0ZGRVJJTkdfREFURSxcbiAgICBQSElTSElOR19XTF9BREQsXG4gICAgUEhJU0hJTkdfV0xfUkVNT1ZFLFxuICAgIFBISVNISU5HX09OLFxuICAgIFBISVNISU5HX09GRixcbiAgICBSRU1PVkVfUkVNSU5ERVIsXG4gICAgU0VUX1JFTUlOREVSLFxuICAgIElOQ1JFTUVOVF9DT1VOVEVSLFxuICAgIFNFUlBfTUFSS19MSU5LU19QRU5ESU5HLFxuICAgIFVQREFURV9VSV9DT05GSUdfRkVBVFVSRVMsXG4gICAgVVBEQVRFX1VJX0NPTkZJR19CWV9LRVksXG4gICAgQUxMX1NBRkVfQlJPV1NJTkdfT04sXG4gICAgQUxMX1NBRkVfQlJPV1NJTkdfT0ZGLFxuICAgIEFMTF9QT1BVUF9DT05UUk9MU19PTixcbiAgICBJTkNSRU1FTlRfUE9QVVBfQ09VTlRFUixcbiAgICBJTkNSRU1FTlRfRU1BSUxfQURfVklFV1MsXG4gICAgTEVBS19NT05JVE9SSU5HX09OLFxuICAgIExFQUtfTU9OSVRPUklOR19PRkYsXG4gICAgQ0xFQU5fTkVXX0ZFQVRVUkVTLFxuICAgIExFQUtfTU9OSVRPUklOR19ESVNNSVNTLFxuICAgIExFQUtfSU5GT19DT01QTEVURUQsXG4gICAgUkVTRVRfUkVNSU5ERVIsXG4gICAgRElTTUlTU19QSU5fV09UX1BPUFVQLFxuICAgIFNBVkVfVVNFUl9TT1VSQ0UsXG4gICAgVVBEQVRFX0dBX0lELFxuICAgIENMRUFSX1VTRVJfUkVWSUVXUyxcbiAgICBBTExfUE9QVVBfQ09OVFJPTFNfT0ZGLFxuICAgIExFQUtfTU9OSVRPUklOR19ESVNNSVNTX0FMRVJULFxuICAgIFJFU0VUX0NPVU5URVIsXG4gICAgRlJFRV9VU0VSX0JMT0NLRURfV0VCU0lURSxcbiAgICBUVVJOX09GRl9QT1BVUF9PTkJPQVJESU5HLFxuICAgIFVQREFURV9QT1BVUF9TQ0FOX1RJTUUsIFNBVkVfSVNfVVNFUl9UUklBTElOR1xufSBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IHtcbiAgICBNQVhfQ0FDSEVfU0laRSxcbiAgICBTVE9SRV9SQVRJTkdfUEVSSU9ELFxuICAgIFNUT1JFX0NPTU1FTlRTX1BFUklPRCwgTkVWRVJfUkVNSU5EX0FHQUlOLCBSQVRJTkdfUEVORElORywgV0FSTklOR1NfTEVWRUxfSElHSCwgV0FSTklOR1NfTEVWRUxfT0ZGXG59IGZyb20gJy4uLy4uL3NoYXJlZC9jb25zdGFudHMnO1xuaW1wb3J0IERlZmF1bHRTdGF0ZSBmcm9tICcuL2RlZmF1bHRTdGF0ZSc7XG5pbXBvcnQge2dldENsZWFuRG9tYWluLCB3ZWJleHRBcGl9IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscyc7XG5cbi8qPG5ldz4qL1xuY29uc3QgUmVkdXggPSB7Y29tYmluZVJlZHVjZXJzfTsvKjwvbmV3PiovXG5cblxuZnVuY3Rpb24gd290VHJhY2VJZChzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS53b3RUcmFjZUlkLCBhY3Rpb24pIHtcbiAgICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIGxhc3RBY3Rpb24oc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkubGFzdEFjdGlvbiwgYWN0aW9uKSB7XG4gICAgcmV0dXJuIF8ubWVyZ2Uoe30sIGFjdGlvbik7XG59XG5cbmZ1bmN0aW9uIGV4cGVyaW1lbnRhbEZlYXR1cmUoc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkuZXhwZXJpbWVudGFsRmVhdHVyZSwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgRVhQRVJJTUVOVEFMX0ZFQVRVUkU6XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgYWN0aW9uLmRhdGEpO1xuICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFwaShzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5hcGksIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFNBVkVfV0lUTkVTUzpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7XG4gICAgICAgICAgICBrZXk6IGFjdGlvbi5kYXRhLmtleSxcbiAgICAgICAgICAgIGlkOiBhY3Rpb24uZGF0YS5pZFxuICAgICAgICB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBydEFwaShzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5ydEFwaSwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0FWRV9SVF9XSVRORVNTOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgIGtleTogYWN0aW9uLmRhdGEua2V5LFxuICAgICAgICAgICAgaWQ6IGFjdGlvbi5kYXRhLmlkXG4gICAgICAgIH0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbW1vbihzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5jb21tb24sIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEdFTkVSQVRFX0lEOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgIGNpZDogYWN0aW9uLmRhdGEuaWRcbiAgICAgICAgfSk7XG4gICAgY2FzZSBVUERBVEVfR0FfSUQ6XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgdGlkOiBhY3Rpb24uZGF0YS5pZFxuICAgICAgICB9KVxuICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJldGVudGlvbkV2ZW50KHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLnJldGVudGlvbkV2ZW50LCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBTQVZFX1JFVEVOVElPTl9EQVlTOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgIHNlbnREYXlzOiBhY3Rpb24uZGF0YS5zZW50RGF5c1xuICAgICAgICB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsRXZlbnRGaXJlZChzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5pbnN0YWxsRXZlbnRGaXJlZCwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0FWRV9JTlNUQUxMOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmaXJzdFJ1bkRhdGUoc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkuZmlyc3RSdW5EYXRlLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBTQVZFX0ZJUlNUX1JVTl9EQVRFOlxuICAgICAgICByZXR1cm4gYWN0aW9uLmRhdGEuZmlyc3RSdW5EYXRlO1xuICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRhYnMoc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkudGFicywgYWN0aW9uKSB7XG4gICAgY29uc3QgX3N0YXRlID0ge307XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0FWRV9UQUJTOlxuICAgICAgICBjb25zdCBfdGFicyA9IGFjdGlvbi5kYXRhLnRhYnM7XG4gICAgICAgIGZvciAoY29uc3QgdGFiIG9mIF90YWJzKSB7XG4gICAgICAgICAgICBfc3RhdGVbdGFiLmlkXSA9IF8ubWVyZ2Uoe30sIHRhYik7XG4gICAgICAgICAgICBpZiAoYWN0aW9uLmRhdGEuYWN0aXZlV2luZG93ICYmIF9zdGF0ZVt0YWIuaWRdLmFjdGl2ZSA9PSB0cnVlICYmIF9zdGF0ZVt0YWIuaWRdLndpbmRvd0lkICE9IGFjdGlvbi5kYXRhLmFjdGl2ZVdpbmRvdy5pZCkge1xuICAgICAgICAgICAgICAgIF9zdGF0ZVt0YWIuaWRdLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgY2FzZSBTRVRfQUNUSVZFX1RBQjpcbiAgICAgICAgY29uc3QgbmV3VGFicyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHRhYklkIGluIHN0YXRlKSB7XG4gICAgICAgICAgICBuZXdUYWJzW3RhYklkXSA9IHsgLi4uc3RhdGVbdGFiSWRdLCBhY3RpdmU6IHRhYklkID09PSBhY3Rpb24uZGF0YS50YWJJZC50b1N0cmluZygpIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1RhYnM7XG4gICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gd2hpdGVsaXN0KHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLndoaXRlbGlzdCwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQUREX1RPX1dISVRFTElTVDpcbiAgICAgICAgaWYgKHN0YXRlLmluZGV4T2YoYWN0aW9uLmRhdGEuaG9zdCkgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnN0YXRlLCBhY3Rpb24uZGF0YS5ob3N0XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgY2FzZSBSRU1PVkVfRlJPTV9XSElURUxJU1Q6XG4gICAgICAgIGNvbnN0IF9zdGF0ZSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IGluIHN0YXRlKSB7XG4gICAgICAgICAgICBhY3Rpb24uZGF0YS5ob3N0ICE9IHN0YXRlW2luZGV4XSAmJiBfc3RhdGUucHVzaChzdGF0ZVtpbmRleF0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdGVtcGxpc3Qoc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkudGVtcGxpc3QsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFERF9UT19URU1QTElTVDpcbiAgICAgICAgcmV0dXJuIFsuLi5zdGF0ZSwgYWN0aW9uLmRhdGEuaG9zdF07XG4gICAgY2FzZSBDTEVBUl9URU1QTElTVDpcbiAgICAgICAgcmV0dXJuIERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS50ZW1wbGlzdDtcbiAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByYXRpbmdzKHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLnJhdGluZ3MsIGFjdGlvbikge1xuICAgIGNvbnN0IF9zdGF0ZSA9IF8ubWVyZ2Uoe30sIHN0YXRlKTtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBTRVJQX01BUktfTElOS1NfUEVORElORzpcbiAgICAgICAgY29uc3QgeyB1cmxzIH0gPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgaWYgKCF1cmxzIHx8ICF1cmxzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHVybHMuZm9yRWFjaCh1cmwgPT4ge1xuICAgICAgICAgICAgY29uc3QgaG9zdCA9IGdldENsZWFuRG9tYWluKHVybCk7XG4gICAgICAgICAgICBpZiAoaG9zdCkge1xuICAgICAgICAgICAgICAgIF9zdGF0ZVtob3N0XSA9IF9zdGF0ZVtob3N0XSB8fCBSQVRJTkdfUEVORElORztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgY2FzZSBTQVZFX1JBVElORzpcbiAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7Li4uc3RhdGUsIC4uLmFjdGlvbi5kYXRhfTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhuZXdTdGF0ZSk7XG4gICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSB2YWx1ZXM7XG4gICAgICAgIGxldCB0b29NYW55ID0gTUFYX0NBQ0hFX1NJWkUgPiBsZW5ndGggPyAwIDogbGVuZ3RoIC0gTUFYX0NBQ0hFX1NJWkU7XG4gICAgICAgIGlmICh0b29NYW55KSB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGggJiYgdG9vTWFueTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qge3RhcmdldCwgdXBkYXRlZH0gPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG5vdyAtIHVwZGF0ZWQgPiBTVE9SRV9SQVRJTkdfUEVSSU9EKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuZXdTdGF0ZVt0YXJnZXRdO1xuICAgICAgICAgICAgICAgICAgICB0b29NYW55LS1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIGNhc2UgQ0xFQVJfUkFUSU5HOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLnJhdGluZ3MpO1xuICAgIGNhc2UgU0VUX0NPTU1FTlRTX0NPVU5UOlxuICAgICAgICBjb25zdCBob3N0ID0gYWN0aW9uLmRhdGEuaG9zdDtcbiAgICAgICAgY29uc3QgY3VycmVudEhvc3REYXRhID0gc3RhdGVbYWN0aW9uLmRhdGEuaG9zdF07XG4gICAgICAgIGlmIChjdXJyZW50SG9zdERhdGEpIHtcbiAgICAgICAgICAgIGN1cnJlbnRIb3N0RGF0YS5jb21tZW50c0NvdW50ID0gYWN0aW9uLmRhdGEuY291bnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3T2JqID0ge307XG4gICAgICAgIG5ld09ialtob3N0XSA9IGN1cnJlbnRIb3N0RGF0YTtcblxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIG5ld09iaik7XG4gICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tbWVudHMoc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkuY29tbWVudHMsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFNBVkVfQ09NTUVOVFM6XG4gICAgICAgIGNvbnN0IGhvc3RuYW1lID0gT2JqZWN0LmtleXMoYWN0aW9uLmRhdGEpWzBdO1xuICAgICAgICBjb25zdCBfc3RhdGUgPSBfLm1lcmdlKHt9LCBzdGF0ZSwge2xvYWRpbmc6IGZhbHNlfSk7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhfc3RhdGUpLmxlbmd0aCA+IE1BWF9DQUNIRV9TSVpFKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhvc3QgaW4gX3N0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBfc3RhdGVbaG9zdF0udXBkYXRlZCA+PSBTVE9SRV9DT01NRU5UU19QRVJJT0QpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIF9zdGF0ZVtob3N0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3N0YXRlW2hvc3RuYW1lXSA9IHtcbiAgICAgICAgICAgIC4uLmFjdGlvbi5kYXRhW2hvc3RuYW1lXSxcbiAgICAgICAgICAgIHVwZGF0ZWQ6IERhdGUubm93KClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N0YXRlO1xuICAgIGNhc2UgQ0xFQVJfQ09NTUVOVFM6XG4gICAgICAgIGlmIChhY3Rpb24uaG9zdCkge1xuICAgICAgICAgICAgY29uc3QgX3N0YXRlID0gXy5tZXJnZSh7fSwgc3RhdGUpO1xuICAgICAgICAgICAgZGVsZXRlIF9zdGF0ZVthY3Rpb24uaG9zdF07XG4gICAgICAgICAgICByZXR1cm4gX3N0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkuY29tbWVudHMpO1xuICAgIGNhc2UgTE9BRElOR19DT01NRU5UUzpcbiAgICAgICAgRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLmNvbW1lbnRzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5jb21tZW50cyk7XG4gICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmV2aWV3cyhzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5yZXZpZXdzLCBhY3Rpb24pIHtcbiAgICBjb25zdCBfc3RhdGUgPSBfLm1lcmdlKHt9LCBzdGF0ZSk7XG4gICAgY29uc3QgaG9zdCA9IGFjdGlvbi5kYXRhICYmIGFjdGlvbi5kYXRhLmhvc3Q7XG4gICAgY29uc3QgdXNlcklkID0gKGFjdGlvbi5kYXRhICYmIChhY3Rpb24uZGF0YS51c2VySWQgfHwgYWN0aW9uLmRhdGEudWlkKSkgfHwgMTtcbiAgICBjb25zdCByYXRpbmcgPSBhY3Rpb24uZGF0YSAmJiBhY3Rpb24uZGF0YS5yYXRpbmc7XG4gICAgY29uc3QgcmV2aWV3ID0gYWN0aW9uLmRhdGEgJiYgYWN0aW9uLmRhdGEucmV2aWV3O1xuICAgIGxldCByYXRlID0gYWN0aW9uLmRhdGEgJiYgYWN0aW9uLmRhdGEucmF0ZTtcbiAgICBjb25zdCBpZCA9IGFjdGlvbi5kYXRhICYmIGFjdGlvbi5kYXRhLmlkO1xuICAgIGlmIChob3N0ICYmIHVzZXJJZCAmJiAhX3N0YXRlW3VzZXJJZF0pIHtcbiAgICAgICAgX3N0YXRlW3VzZXJJZF0gPSB7fTtcbiAgICB9XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgQ0xFQVJfVVNFUl9SRVZJRVdTOlxuICAgICAgICBpZiAoIV9zdGF0ZVt1c2VySWRdKSByZXR1cm4gc3RhdGU7XG4gICAgICAgIGRlbGV0ZSBfc3RhdGVbdXNlcklkXTtcbiAgICAgICAgcmV0dXJuIF9zdGF0ZTtcbiAgICBjYXNlIFVQREFURV9SRVZJRVdfVElNRVNUQU1QOlxuICAgICAgICBpZiAoIV9zdGF0ZVt1c2VySWRdKSByZXR1cm4gc3RhdGU7XG4gICAgICAgIGlmICghX3N0YXRlW3VzZXJJZF1baG9zdF0pIF9zdGF0ZVt1c2VySWRdW2hvc3RdID0ge307XG4gICAgICAgIF9zdGF0ZVt1c2VySWRdW2hvc3RdLnJldmlld0xhc3RVcGRhdGVUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgcmV0dXJuIF9zdGF0ZTtcbiAgICBjYXNlIFNBVkVfVVNFUl9SRVZJRVdfRlJPTV9BUEk6XG4gICAgICAgIGlmICghX3N0YXRlW2FjdGlvbi5kYXRhLnVpZF0pIF9zdGF0ZVthY3Rpb24uZGF0YS51aWRdID0ge307XG4gICAgICAgIF9zdGF0ZVthY3Rpb24uZGF0YS51aWRdW2hvc3RdID0geyAuLi5hY3Rpb24uZGF0YSB9O1xuICAgICAgICBfc3RhdGVbYWN0aW9uLmRhdGEudWlkXVtob3N0XS5yZXZpZXdMYXN0VXBkYXRlVGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgY2FzZSBTQVZFX1VTRVJfREFUQTpcbiAgICAgICAgaWYgKCFfc3RhdGVbYWN0aW9uLmRhdGEudWlkXSkge1xuICAgICAgICAgICAgX3N0YXRlW2FjdGlvbi5kYXRhLnVpZF0gPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaG9zdCBpbiBfc3RhdGVbMV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoaG9zdCA9PSBhY3Rpb24uaG9zdCkge1xuICAgICAgICAgICAgICAgICAgICBfc3RhdGVbYWN0aW9uLmRhdGEudWlkXVtob3N0XSA9IF8ubWVyZ2Uoe30sIF9zdGF0ZVsxXVtob3N0XSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfc3RhdGVbMV1baG9zdF0uc3RlcCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgZGVsZXRlIHJldmlldyBhZnRlciBnZXQgZW1wdHkgdXNlciBjb21tZW50IGZyb20gc2NvcmVjYXJkIGFmdGVyIGxvZ2luXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGlmIHVuYXV0aCB1c2VyIG1ha2UgcmF0aW5nZmxvdyBzdGVwc1xuICAgICAgICAgICAgICAgICAgICAgICAgX3N0YXRlW2FjdGlvbi5kYXRhLnVpZF1baG9zdF0ucmV2aWV3TGFzdFVwZGF0ZVRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdW5hdXRoIHVzZXIgaGFzIG5vIHJhdGluZyBmbG93IHN0ZXBzIHRoZW4gd2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgdGltZXN0YW1wIHplcm8gdG8gZ2V0IHJldml3ZXMgZGF0YSBmcm9tIHNlcnZlciB3aGVuIHVzZXIgcmVvcGVuIHBvcHVwXG4gICAgICAgICAgICAgICAgICAgICAgICBfc3RhdGVbYWN0aW9uLmRhdGEudWlkXVtob3N0XS5yZXZpZXdMYXN0VXBkYXRlVGltZXN0YW1wID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfc3RhdGVbMV1baG9zdF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2FmZXR5Q2F0ZWdvcmllczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFNhZmV0eUNhdGVnb3JpZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVwdXRhdGlvbkNhdGVnb3JpZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiAtMVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9zdGF0ZVthY3Rpb24uZGF0YS51aWRdW2hvc3RdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmV0eUNhdGVnb3JpZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRTYWZldHlDYXRlZ29yaWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcHV0YXRpb25DYXRlZ29yaWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGluZzogLTFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9zdGF0ZTtcbiAgICBjYXNlIFNBVkVfUkVWSUVXOlxuICAgICAgICBfc3RhdGVbdXNlcklkXSA9IF8ubWVyZ2UoX3N0YXRlW3VzZXJJZF0sIHJldmlldyk7XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgY2FzZSBUT19ORVhUX1NURVA6XG4gICAgICAgIF9zdGF0ZVt1c2VySWRdW2hvc3RdICYmIF9zdGF0ZVt1c2VySWRdW2hvc3RdLnN0ZXArKztcbiAgICAgICAgaWYgKF9zdGF0ZVt1c2VySWRdW2hvc3RdLnN0ZXAgPiA2KSBfc3RhdGVbdXNlcklkXVtob3N0XS5zdGVwID0gNjtcbiAgICAgICAgcmV0dXJuIF9zdGF0ZTtcbiAgICBjYXNlIFRPX1BSRVZJT1VTX1NURVA6XG4gICAgICAgIF9zdGF0ZVt1c2VySWRdW2hvc3RdICYmIF9zdGF0ZVt1c2VySWRdW2hvc3RdLnN0ZXAtLTtcbiAgICAgICAgcmV0dXJuIF9zdGF0ZTtcbiAgICBjYXNlIE9WRVJfTkVYVF9TVEVQOlxuICAgICAgICBfc3RhdGVbdXNlcklkXVtob3N0XS5zdGVwID0gX3N0YXRlW3VzZXJJZF1baG9zdF0uc3RlcCArIDI7XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgY2FzZSBPVkVSX1BSRVZJT1VTX1NURVA6XG4gICAgICAgIF9zdGF0ZVt1c2VySWRdW2hvc3RdLnN0ZXAgPSBfc3RhdGVbdXNlcklkXVtob3N0XS5zdGVwIC0gMjtcbiAgICAgICAgcmV0dXJuIF9zdGF0ZTtcbiAgICBjYXNlIFRSSVBMRV9ORVhUX1NURVA6XG4gICAgICAgIF9zdGF0ZVt1c2VySWRdW2hvc3RdLnN0ZXAgPSBfc3RhdGVbdXNlcklkXVtob3N0XS5zdGVwICsgMztcbiAgICAgICAgcmV0dXJuIF9zdGF0ZTtcbiAgICBjYXNlIFRSSVBMRV9QUkVWSU9VU19TVEVQOlxuICAgICAgICBfc3RhdGVbdXNlcklkXVtob3N0XS5zdGVwID0gX3N0YXRlW3VzZXJJZF1baG9zdF0uc3RlcCAtIDM7XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgY2FzZSBSQVRFX1NBRkVUWTpcbiAgICAgICAgaWYgKHJhdGUgPT0gLTEpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBfc3RhdGVbdXNlcklkXVtob3N0XS5zYWZldHk7XG4gICAgICAgICAgICByYXRlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9zdGF0ZVt1c2VySWRdW2hvc3RdLnNhZmV0eSA9IHJhdGU7XG4gICAgICAgICAgICBpZiAocmF0ZSA9PSB0cnVlICYmIF9zdGF0ZVt1c2VySWRdW2hvc3RdLnNhZmV0eUNhdGVnb3JpZXMuaW5kZXhPZig1MDEpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIF9zdGF0ZVt1c2VySWRdW2hvc3RdLnNhZmV0eUNhdGVnb3JpZXMucHVzaCg1MDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9zdGF0ZVt1c2VySWRdW2hvc3RdLnNhZmV0eSkge1xuICAgICAgICAgICAgICAgIF9zdGF0ZVt1c2VySWRdW2hvc3RdLnNhZmV0eUNhdGVnb3JpZXMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N0YXRlO1xuICAgIGNhc2UgUkFURV9DSElMRF9TQUZFVFk6XG4gICAgICAgIGlmIChyYXRlID09PSAtMSkge1xuICAgICAgICAgICAgZGVsZXRlIF9zdGF0ZVt1c2VySWRdW2hvc3RdLmNoaWxkU2FmZXR5O1xuICAgICAgICAgICAgcmF0ZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfc3RhdGVbdXNlcklkXVtob3N0XS5jaGlsZFNhZmV0eSA9IHJhdGU7XG4gICAgICAgICAgICBpZiAoX3N0YXRlW3VzZXJJZF1baG9zdF0uY2hpbGRTYWZldHkpIHtcbiAgICAgICAgICAgICAgICBfc3RhdGVbdXNlcklkXVtob3N0XS5jaGlsZFNhZmV0eUNhdGVnb3JpZXMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N0YXRlO1xuICAgIGNhc2UgUkFURV9TSVRFOlxuICAgICAgICBfc3RhdGVbdXNlcklkXVtob3N0XS5yYXRpbmcgPSByYXRpbmc7XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgY2FzZSBFRElUX1JFVklFVzpcbiAgICAgICAgX3N0YXRlW3VzZXJJZF1baG9zdF0uc3RlcCA9IDE7XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgY2FzZSBERUxFVEVfUkVWSUVXOlxuICAgICAgICBfc3RhdGVbdXNlcklkXVtob3N0XSA9IHtcbiAgICAgICAgICAgIHN0ZXA6IDAsXG4gICAgICAgICAgICBzYWZldHlDYXRlZ29yaWVzOiBbXSxcbiAgICAgICAgICAgIGNoaWxkU2FmZXR5Q2F0ZWdvcmllczogW10sXG4gICAgICAgICAgICByZXB1dGF0aW9uQ2F0ZWdvcmllczogW10sXG4gICAgICAgICAgICByYXRpbmc6IC0xXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfc3RhdGU7XG4gICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXNlcihzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS51c2VyLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBTQVZFX1VTRVJfVE9LRU46XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkudXNlciwgeyB0b2tlbjogYWN0aW9uLmRhdGEudG9rZW4gfSk7XG4gICAgY2FzZSBTQVZFX1VTRVJfREFUQTpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCBhY3Rpb24uZGF0YSk7XG4gICAgY2FzZSBTQVZFX1VTRVJfUExBTjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCBhY3Rpb24uZGF0YSk7XG4gICAgY2FzZSBDTEVBTl9VU0VSX0RBVEE6XG4gICAgICAgIHJldHVybiB7fTtcbiAgICBjYXNlIFVTRVJfTE9HT1VUOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLnVzZXIsIHsgaXNMb2dvdXQ6IHRydWUgfSk7XG4gICAgY2FzZSBFUlJPUl9VU0VSX0FVVEg6XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkudXNlcik7XG4gICAgY2FzZSBTQVZFX1VTRVJfU09VUkNFOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgdXNlclNvdXJjZTogYWN0aW9uLmRhdGEuc291cmNlIH0pO1xuICAgIGNhc2UgU0FWRV9JU19VU0VSX1RSSUFMSU5HOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIGFjdGlvbi5kYXRhKTtcbiAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXJwcyhzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5zZXJwcywgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0FWRV9TRVJQU19DT05GOlxuICAgICAgICByZXR1cm4gYWN0aW9uLmRhdGE7XG4gICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdHJhY2tlckJsb2NrZXJEYXRhKHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLnRyYWNrZXJCbG9ja2VyRGF0YSwgYWN0aW9uKSB7XG4gICAgZnVuY3Rpb24gZnJlc2hBbGxvd0xpc3QobGlzdCwgdmFsKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhsaXN0KS5yZWR1Y2UoKGFsbCwgbmFtZSkgPT4ge1xuICAgICAgICAgICAgYWxsW25hbWVdID0gdmFsO1xuICAgICAgICAgICAgcmV0dXJuIGFsbDtcbiAgICAgICAgfSwge30pO1xuICAgIH1cblxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIExPQURfVFJBQ0tFUlNfTElTVF9DT01QTEVURUQ6XG4gICAgICAgIGNvbnN0IGFsbG93TGlzdCA9IE9iamVjdC52YWx1ZXMoYWN0aW9uLmRhdGEpLnJlZHVjZSgoYWxsLCBjdXJyKSA9PiB7XG4gICAgICAgICAgICBhbGxbY3Vyci5uYW1lXSA9IHN0YXRlLmFsbG93TGlzdFtjdXJyLm5hbWVdICE9PSBmYWxzZTsgLy8gdW5kZWZpbmVkIGZhbGxiYWNrcyB0byB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIGFsbDtcbiAgICAgICAgfSwge30pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsIGxpc3Q6IGFjdGlvbi5kYXRhLCBhbGxvd0xpc3QsIHJlbG9hZDogdHJ1ZVxuICAgICAgICB9O1xuICAgIGNhc2UgVFJBQ0tFUl9ERVRFQ1RFRDpcbiAgICAgICAgY29uc3QgYWxyZWFkeUxpc3RlZCA9IHN0YXRlLmhpc3Rvcnkuc29tZShpdGVtID0+IGl0ZW0ubmFtZSA9PT0gYWN0aW9uLmRhdGEubmFtZVxuICAgICAgICAgICAgICAgICYmIGl0ZW0uaW5pdGlhdG9yID09PSBhY3Rpb24uZGF0YS5pbml0aWF0b3IpO1xuICAgICAgICBpZiAoYWxyZWFkeUxpc3RlZCkgcmV0dXJuIHN0YXRlO1xuXG4gICAgICAgIGNvbnN0IGhpc3RvcnkgPSBbYWN0aW9uLmRhdGEsIC4uLnN0YXRlLmhpc3RvcnldO1xuICAgICAgICBpZiAoaGlzdG9yeS5sZW5ndGggPiBzdGF0ZS5oaXN0b3J5TWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICBoaXN0b3J5LnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBoaXN0b3J5IH07XG4gICAgY2FzZSBUT0dHTEVfQkxPQ0tfQUxMX1RSQUNLRVJTOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBhbGxCbG9ja2VkOiBhY3Rpb24uZGF0YSxcbiAgICAgICAgICAgIGFsbG93TGlzdDogZnJlc2hBbGxvd0xpc3Qoc3RhdGUuYWxsb3dMaXN0LCAhYWN0aW9uLmRhdGEpLFxuICAgICAgICAgICAgcmVsb2FkOiB0cnVlXG4gICAgICAgIH07XG4gICAgY2FzZSBVUERBVEVfVFJBQ0tFUl9BTExPV19MSVNUOlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsIGFsbG93TGlzdDogeyAuLi5zdGF0ZS5hbGxvd0xpc3QsIC4uLmFjdGlvbi5kYXRhIH0sIHJlbG9hZEFsbG93TGlzdDogdHJ1ZVxuICAgICAgICB9O1xuICAgIGNhc2UgUkVMT0FEX1RSQUNLRVJTX0RBVEFfT046XG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCByZWxvYWQ6IHRydWUgfTtcbiAgICBjYXNlIFJFTE9BRF9UUkFDS0VSU19EQVRBX09GRjpcbiAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIHJlbG9hZDogZmFsc2UsIHJlbG9hZEFsbG93TGlzdDogZmFsc2UgfTtcbiAgICBjYXNlIERFTEVURV9UUkFDS0VSX0hJU1RPUlk6XG4gICAgICAgIGNvbnN0IGZpbHRlciA9IGFjdGlvbi5kYXRhO1xuICAgICAgICBpZiAoIWZpbHRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGhpc3Rvcnk6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGhpc3Rvcnk6IHN0YXRlLmhpc3RvcnkuZmlsdGVyKGZpbHRlcikgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXR0aW5ncyhzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5zZXR0aW5ncywgYWN0aW9uLCBob3N0ID0gJycpIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBBU1NJU1RBTlRfT046XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgeyBhc3Npc3RhbnQ6IHRydWUgfSk7XG4gICAgY2FzZSBBU1NJU1RBTlRfT0ZGOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgYXNzaXN0YW50OiBmYWxzZSB9KTtcbiAgICBjYXNlIFBISVNISU5HX09OOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgcGhpc2hpbmc6IHRydWUgfSk7XG4gICAgY2FzZSBQSElTSElOR19PRkY6XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgeyBwaGlzaGluZzogZmFsc2UgfSk7XG4gICAgY2FzZSBMRUFLX01PTklUT1JJTkdfT046XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgeyBsZWFrTW9uaXRvcmluZzogdHJ1ZSB9KTtcbiAgICBjYXNlIExFQUtfTU9OSVRPUklOR19PRkY6XG4gICAgICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgbGVha01vbml0b3Jpbmc6IGZhbHNlIH0pO1xuICAgIGNhc2UgQVNTSVNUQU5UX1NFVF9QT1NJVElPTjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IGFzc2lzdGFudEhhbmRsZVRvcDogYWN0aW9uLmRhdGEgfSk7XG4gICAgY2FzZSBBU1NJU1RBTlRfU0VUX0VYUEFOREVEOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgYXNzaXN0YW50RXhwYW5kZWQ6IGFjdGlvbi5kYXRhIH0pO1xuICAgIGNhc2UgUFJPVEVDVElPTl9PTjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IHByb3RlY3Rpb246IHRydWUgfSk7XG4gICAgY2FzZSBQUk9URUNUSU9OX09GRjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IHByb3RlY3Rpb246IGZhbHNlIH0pO1xuICAgIGNhc2UgUEFSRU5UQUxfQ09OVFJPTF9PTjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IHBhcmVudGFsOiB0cnVlIH0pO1xuICAgIGNhc2UgUEFSRU5UQUxfQ09OVFJPTF9PRkY6XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgeyBwYXJlbnRhbDogZmFsc2UgfSk7XG4gICAgY2FzZSBHQU1CTElOR19DT05UUk9MX09GRjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IGdhbWJsaW5nOiBmYWxzZSB9KTtcbiAgICBjYXNlIEdBTUJMSU5HX0NPTlRST0xfT046XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgeyBnYW1ibGluZzogdHJ1ZSB9KTtcbiAgICBjYXNlIFBBUkVOVEFMX0NPTlRST0xfRVhUUkFfSUNPTl9PTjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IHBhcmVudGFsRXh0cmFJY29uOiB0cnVlIH0pO1xuICAgIGNhc2UgUEFSRU5UQUxfQ09OVFJPTF9FWFRSQV9JQ09OX09GRjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IHBhcmVudGFsRXh0cmFJY29uOiBmYWxzZSB9KTtcbiAgICBjYXNlIFBPUFVQX0JMT0NLX09GRjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IGJsb2NrUG9wVXA6IGZhbHNlIH0pO1xuICAgIGNhc2UgUE9QVVBfQkxPQ0tfT046XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgeyBibG9ja1BvcFVwOiB0cnVlIH0pO1xuICAgIGNhc2UgUE9QVVBfQkxPQ0tfTk9USUZJQ0FUSU9OX09GRjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IGJsb2NrUG9wVXBOb3RpZmljYXRpb246IGZhbHNlIH0pO1xuICAgIGNhc2UgUE9QVVBfQkxPQ0tfTk9USUZJQ0FUSU9OX09OOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgYmxvY2tQb3BVcE5vdGlmaWNhdGlvbjogdHJ1ZSB9KTtcbiAgICBjYXNlIFNFVF9TSElFTERTX0xFVkVMOlxuICAgICAgICAvLyBpZiAoYWN0aW9uLmRhdGEuaWQgPT09ICdhbGwnKSB7XG4gICAgICAgIC8vICAgICBjb25zdCBfc2hpZWxkcyA9IF8ubWVyZ2Uoe30sIHN0YXRlLnNoaWVsZHMpO1xuICAgICAgICAvLyAgICAgZm9yIChjb25zdCBpZCBpbiBfc2hpZWxkcykge1xuICAgICAgICAvLyAgICAgICAgIF9zaGllbGRzW2lkXSA9IGFjdGlvbi5kYXRhLmxldmVsO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IHNoaWVsZHM6IF9zaGllbGRzIH0pO1xuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgeyBzaGllbGRzOiB7IFthY3Rpb24uZGF0YS5pZF06IGFjdGlvbi5kYXRhLmxldmVsIH0gfSk7XG5cbiAgICBjYXNlIFNFVF9XQVJOSU5HU19MRVZFTDpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IHdhcm5pbmdzOiBhY3Rpb24uZGF0YS5sZXZlbCB9KTtcbiAgICBjYXNlIFBPUFVQX1RZUEU6XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgeyBvcHRvdXRQb3B1cDogYWN0aW9uLmRhdGEub3B0b3V0UG9wdXAgfSk7XG4gICAgY2FzZSBBTExfU0FGRV9CUk9XU0lOR19PTjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IHBhcmVudGFsOiB0cnVlLCBnYW1ibGluZzogdHJ1ZSwgcGFyZW50YWxFeHRyYUljb246IHRydWUsIHdhcm5pbmdzOiBXQVJOSU5HU19MRVZFTF9ISUdIIH0pO1xuICAgIGNhc2UgQUxMX1NBRkVfQlJPV1NJTkdfT0ZGOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgcGFyZW50YWw6IGZhbHNlLCBnYW1ibGluZzogZmFsc2UsIHBhcmVudGFsRXh0cmFJY29uOiBmYWxzZSwgd2FybmluZ3M6IFdBUk5JTkdTX0xFVkVMX09GRiB9KTtcbiAgICBjYXNlIEFMTF9QT1BVUF9DT05UUk9MU19PTjpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IGJsb2NrUG9wVXA6IHRydWUsIGJsb2NrUG9wVXBOb3RpZmljYXRpb246IHRydWUgfSk7XG4gICAgY2FzZSBBTExfUE9QVVBfQ09OVFJPTFNfT0ZGOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgYmxvY2tQb3BVcDogZmFsc2UsIGJsb2NrUG9wVXBOb3RpZmljYXRpb246IGZhbHNlIH0pO1xuICAgIGNhc2UgVVBHUkFERV9QT1BVUDpcbiAgICAgICAgY29uc3QgaW5jcmVtZW50ID0gYWN0aW9uLmRhdGEuc2hvdyA/IDEgOiAwO1xuICAgICAgICBjb25zdCBuZXdVcGdyYWRlUG9wdXAgPSB7XG4gICAgICAgICAgICB1cGdyYWRlUG9wVXA6IHtcbiAgICAgICAgICAgICAgICBzaG93OiAhIWluY3JlbWVudCxcbiAgICAgICAgICAgICAgICBudW1iZXJPZlNob3c6IHN0YXRlLnVwZ3JhZGVQb3BVcC5udW1iZXJPZlNob3cgKyBpbmNyZW1lbnQsXG4gICAgICAgICAgICAgICAgZmlyc3RPZmZlcmluZ0RhdGU6IHN0YXRlLnVwZ3JhZGVQb3BVcC5maXJzdE9mZmVyaW5nRGF0ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgLi4ubmV3VXBncmFkZVBvcHVwIH07XG4gICAgY2FzZSBNQVJLX0ZJUlNUX09GRkVSSU5HX0RBVEU6XG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCB1cGdyYWRlUG9wVXA6IHsgLi4uc3RhdGUudXBncmFkZVBvcFVwLCBmaXJzdE9mZmVyaW5nRGF0ZTogRGF0ZS5ub3coKSB9IH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJhdGVVc1dpZGdldChzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5yYXRlVXNXaWRnZXQsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIENPVU5UX1BPUFVQX09QRU5JTkc6XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgeyBwb3B1cE9wZW5pbmdDb3VudGVyOiBzdGF0ZS5wb3B1cE9wZW5pbmdDb3VudGVyICsgMSB9KTtcbiAgICBjYXNlIE9GRl9SQVRFX1dJREdFVDpcbiAgICAgICAgY29uc3Qgb2ZmUmF0ZVRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBvZmZSYXRlVGltZS5zZXRNb250aChvZmZSYXRlVGltZS5nZXRNb250aCgpICsgMik7XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwgeyBvZmZSYXRlV2lkZ2V0OiB0cnVlLCBvZmZSYXRlVGltZSB9KTtcbiAgICBjYXNlIENIRUNLX1JBVEVfV0lER0VUX0RBVEU6XG4gICAgICAgIGlmIChzdGF0ZS5vZmZSYXRlVGltZSA8PSBuZXcgRGF0ZSgpKSB7XG4gICAgICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgb2ZmUmF0ZVdpZGdldDogZmFsc2UsIG9mZlJhdGVUaW1lOiAnJyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbW9iaWxlTW9kYWwoc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkubW9iaWxlTW9kYWwsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIE1PQklMRV9UUklHR0VSX01PREFMOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgbW9iaWxlTW9kYWxUcmlnZ2VyOiB0cnVlIH0pO1xuICAgIGNhc2UgTU9CSUxFX1JBVEVfQ09VTlQ6XG4gICAgICAgIGlmIChzdGF0ZS5tb2JpbGVNb2RhbFJhdGVDb3VudCA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSwge1xuICAgICAgICAgICAgICAgIG1vYmlsZU1vZGFsUmF0ZUNvdW50OiBzdGF0ZS5tb2JpbGVNb2RhbFJhdGVDb3VudCArIDEsXG4gICAgICAgICAgICAgICAgbW9iaWxlTW9kYWxUcmlnZ2VyOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlLCB7IG1vYmlsZU1vZGFsVHJpZ2dlcjogdHJ1ZSwgbW9iaWxlTW9kYWxSYXRlQ291bnQ6IDAgfSk7XG5cbiAgICBjYXNlIE1PQklMRV9UUklHR0VSX01PREFMX1JFU0VUOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHsgbW9iaWxlTW9kYWxUcmlnZ2VyOiBmYWxzZSB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbmJvYXJkaW5nKHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLm9uYm9hcmRpbmcsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFRPX05FWFRfU1RFUF9PTkJPQVJESU5HOlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUsIHtcbiAgICAgICAgICAgIHN0ZXA6IGFjdGlvbi5kYXRhLnN0ZXAgfHwgYWN0aW9uLmRhdGEuc3RlcCA9PT0gMCA/IGFjdGlvbi5kYXRhLnN0ZXAgOiBzdGF0ZS5zdGVwICsgMVxuICAgICAgICB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjdGEoc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkuY3RhLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBVUERBVEVfQ1RBX1NUQVRVUzpcbiAgICAgICAgc3RhdGUuc3RhdHVzID0gYWN0aW9uLmRhdGE7XG4gICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBzdGF0ZSk7XG4gICAgY2FzZSBVUERBVEVfQ1RBX0FQUEVBUkFOQ0U6XG4gICAgICAgIGlmIChzdGF0ZS5hcHBlYXJhbmNlID09PSAzKSB7XG4gICAgICAgICAgICBzdGF0ZS5zdGF0dXMgPSAnZG9udFNob3dBZ2Fpbic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5hcHBlYXJhbmNlKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlKTtcbiAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgc3RhdGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3VydmV5KHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLnN1cnZleSwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgVVBEQVRFX1NVUlZFWV9TVEFURTpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIGFjdGlvbi5kYXRhLm5ld1N1cnZleVN0YXRlKTtcbiAgICBjYXNlIE1BS0VfU1VSVkVZX1NIT1dFRDpcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgaXNTaG93ZWQ6IHRydWUsXG4gICAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIHN0YXRlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHZlcnNpb24oc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkudmVyc2lvbiwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIFNFVF9TSE9XX1dIQVRTX05FVzoge1xuICAgICAgICAgICAgaWYgKGFjdGlvbi5kYXRhLnNob3dXaGF0c05ldykge1xuICAgICAgICAgICAgICAgIHN0YXRlLm5ld0ZlYXR1cmVzID0gT2JqZWN0LmFzc2lnbiguLi5hY3Rpb24uZGF0YS5uZXdGZWF0dXJlcy5tYXAoayA9PiAoeyBba106IHRydWUgfSkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUud2hhdHNOZXdTaG93bkxhc3RWZXJzaW9uID0gc3RhdGUudmVyc2lvbk51bWJlcjsgLy8gYWZ0ZXIgc2hvd2luZyB0aGUgd2hhdHMgbmV3IHRoaXMgZmxhZyBpcyB0dXJuZWQgb2ZmIGJhY2tcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7Li4uc3RhdGUsIHNob3dXaGF0c05ldzogYWN0aW9uLmRhdGEuc2hvd1doYXRzTmV3IH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBDTEVBTl9ORVdfRkVBVFVSRVM6IHtcbiAgICAgICAgICAgIGNvbnN0IF9zdGF0ZSA9IHsuLi5zdGF0ZS5uZXdGZWF0dXJlc307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhfc3RhdGUpLmZvckVhY2goayA9PiBfc3RhdGVba10gPSBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gey4uLnN0YXRlLCBuZXdGZWF0dXJlczogX3N0YXRlfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFNFVF9DVVJSRU5UX1ZFUlNJT046XG4gICAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgdmVyc2lvbk51bWJlcjogYWN0aW9uLmRhdGEudmVyc2lvbk51bWJlciB9O1xuICAgICAgICBjYXNlIFdPVF9VUEdSQURFX0VWRU5UOlxuICAgICAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGlzRmlyc3RUaW1lVXNlcjogZmFsc2UgfTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxufVxuXG5mdW5jdGlvbiBmb2N1c2VkUmV2aWV3KHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLmZvY3VzZWRSZXZpZXcsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFNFVF9SRVZJRVdfSU5fRk9DVVM6XG4gICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCAuLi5hY3Rpb24uZGF0YSB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBoaXNoaW5nV2hpdGVsaXN0KHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLnBoaXNoaW5nV2hpdGVsaXN0LCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBQSElTSElOR19XTF9BREQ6XG4gICAgICAgIGNvbnN0IG5ld0FyciA9IEFycmF5LmZyb20obmV3IFNldChbLi4uc3RhdGUsIC4uLmFjdGlvbi5kYXRhXSkpO1xuICAgICAgICByZXR1cm4gbmV3QXJyLmxlbmd0aCA+IDUwID8gbmV3QXJyLnNsaWNlKDAsIDUwKSA6IG5ld0FycjtcbiAgICBjYXNlIFBISVNISU5HX1dMX1JFTU9WRTpcbiAgICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcihsaW5rID0+ICFhY3Rpb24uZGF0YS5pbmNsdWRlcyhsaW5rKSk7XG4gICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcmVtaW5kZXJzKHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLnJlbWluZGVycywgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgIGNhc2UgU0VUX1JFTUlOREVSOlxuICAgICAgICBjb25zdCB7IG5hbWUsIHRpbWUgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICBpZiAoc3RhdGVbbmFtZV0gPT09IE5FVkVSX1JFTUlORF9BR0FJTikgcmV0dXJuIHN0YXRlO1xuICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgW25hbWVdOiB0aW1lICsgRGF0ZS5ub3coKSB9O1xuICAgIGNhc2UgUkVNT1ZFX1JFTUlOREVSOlxuICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgW2FjdGlvbi5kYXRhXTogTkVWRVJfUkVNSU5EX0FHQUlOIH07XG4gICAgY2FzZSBSRVNFVF9SRU1JTkRFUjpcbiAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIFthY3Rpb24uZGF0YS5uYW1lXTogRGF0ZS5ub3coKSB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvdW50ZXJzKHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLmNvdW50ZXJzLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgSU5DUkVNRU5UX0NPVU5URVI6XG4gICAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIFtuYW1lXTogc3RhdGVbbmFtZV0rMSB9O1xuICAgICAgICBjYXNlIFJFU0VUX0NPVU5URVI6XG4gICAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgW2FjdGlvbi5kYXRhLm5hbWVdOiAwIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBsZWFrTW9uaXRvcmluZyhzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5sZWFrTW9uaXRvcmluZywgYWN0aW9uKSB7XG4gICAgY29uc3QgX3N0YXRlID0geyAuLi5zdGF0ZX1cbiAgICBjb25zdCBfYnJlYWNoZXMgPSBbLi4uX3N0YXRlLmJyZWFjaGVzXTtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgTEVBS19NT05JVE9SSU5HX0RJU01JU1M6XG4gICAgICAgICAgICBfYnJlYWNoZXMuZm9yRWFjaChpbmZvID0+IGluZm8uaXNEaXNtaXNzZWRGcm9tU2xpZGVyID0gdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgbmV3SW5mbzogZmFsc2UsIGJyZWFjaGVzOiBfYnJlYWNoZXMgfTtcbiAgICAgICAgY2FzZSBMRUFLX01PTklUT1JJTkdfRElTTUlTU19BTEVSVDpcbiAgICAgICAgICAgIGNvbnN0IGJyZWFjaCA9IF9icmVhY2hlcy5maWx0ZXIoYiA9PiBiLm5hbWUgPT09IGFjdGlvbi5kYXRhLm5hbWUpO1xuICAgICAgICAgICAgaWYoYnJlYWNoICYmIGJyZWFjaC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBicmVhY2guZm9yRWFjaChpbmZvID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW5mby5pc0Rpc21pc3NlZEZyb21TbGlkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpbmZvLmlzRGlzbWlzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBicmVhY2hlczogX2JyZWFjaGVzIH07XG4gICAgICAgIGNhc2UgTEVBS19JTkZPX0NPTVBMRVRFRDpcbiAgICAgICAgICAgIGlmKGFjdGlvbi5kYXRhLmluaXRpYXRlZCB8fCBhY3Rpb24uZGF0YS5yZXMuYnJlYWNoZXMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mbzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWNoZXM6IFsuLi5zdGF0ZS5icmVhY2hlcywgLi4uYWN0aW9uLmRhdGEucmVzLmJyZWFjaGVzXSxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFRzOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogYWN0aW9uLmRhdGEucmVzLmVtYWlsQWRkcmVzc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW90ZUNvbmZpZyhzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5yZW1vdGVDb25maWcsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFVQREFURV9VSV9DT05GSUdfQllfS0VZOlxuICAgICAgICBjb25zdCB7IGtleSwgdmFsdWUgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICByZXR1cm4gey4uLnN0YXRlLCBba2V5XTogdmFsdWUgfTtcbiAgICBjYXNlIFVQREFURV9VSV9DT05GSUdfRkVBVFVSRVM6XG4gICAgICAgIGNvbnN0IHsgZm9yRGVsZXRpb24sIGZvclVwZGF0ZSB9ICA9IGFjdGlvbi5kYXRhO1xuICAgICAgICBjb25zdCBfc3RhdGUgPSB7Li4uc3RhdGV9O1xuICAgICAgICBmb3JEZWxldGlvbi5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIF9zdGF0ZS5mZWF0dXJlc1tuYW1lXTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7Li4uX3N0YXRlLCBmZWF0dXJlczogey4uLl9zdGF0ZS5mZWF0dXJlcywgLi4uZm9yVXBkYXRlfX07XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXJwUG9wdXBDb3VudGVyKHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLnNlcnBQb3B1cENvdW50ZXIsIGFjdGlvbikge1xuICAgIGxldCBuZXdDb3VudDtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgSU5DUkVNRU5UX1BPUFVQX0NPVU5URVI6XG4gICAgICAgICAgICBuZXdDb3VudCA9IHN0YXRlICsgMTtcbiAgICAgICAgICAgIHJldHVybiBuZXdDb3VudCA9PT0gMTAwID8gMCA6IG5ld0NvdW50O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZW1haWxQcm90ZWN0aW9uKHN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCgpLmVtYWlsUHJvdGVjdGlvbiwgYWN0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIElOQ1JFTUVOVF9FTUFJTF9BRF9WSUVXUzpcbiAgICAgICAgICAgIHJldHVybiB7dGltZXNTaG93bjogc3RhdGUudGltZXNTaG93biArIDF9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcGluV290UG9wdXAoc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkucGluV290UG9wdXAsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBESVNNSVNTX1BJTl9XT1RfUE9QVVA6XG4gICAgICAgICAgICByZXR1cm4geyAuLi5zdGF0ZSwgcG9wdXBXYXNTaG93bjogdHJ1ZSB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcG9wdXBWMihzdGF0ZSA9IERlZmF1bHRTdGF0ZS5nZXREZWZhdWx0U3RhdGVPYmplY3QoKS5wb3B1cFYyLCBhY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgVFVSTl9PRkZfUE9QVVBfT05CT0FSRElORzpcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCB3YXNTaG93bjogdHJ1ZSB9XG4gICAgICAgIGNhc2UgVVBEQVRFX1BPUFVQX1NDQU5fVElNRTpcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBzY2FuVGltZTogYWN0aW9uLmRhdGEuc2NhblRpbWUgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZnJlZVVzZXJCbG9ja2VkV2Vic2l0ZUNvdW50ZXIoc3RhdGUgPSBEZWZhdWx0U3RhdGUuZ2V0RGVmYXVsdFN0YXRlT2JqZWN0KCkuZnJlZVVzZXJCbG9ja2VkV2Vic2l0ZUNvdW50ZXIsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBGUkVFX1VTRVJfQkxPQ0tFRF9XRUJTSVRFOlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlICsgMTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VycyA9IFJlZHV4LmNvbWJpbmVSZWR1Y2Vycyh7XG4gICAgbGFzdEFjdGlvbixcbiAgICBhcGksXG4gICAgcnRBcGksXG4gICAgY29tbW9uLFxuICAgIHJldGVudGlvbkV2ZW50LFxuICAgIGluc3RhbGxFdmVudEZpcmVkLFxuICAgIGZpcnN0UnVuRGF0ZSxcbiAgICB3aGl0ZWxpc3QsXG4gICAgdGVtcGxpc3QsXG4gICAgdGFicyxcbiAgICByYXRpbmdzLFxuICAgIGNvbW1lbnRzLFxuICAgIHJldmlld3MsXG4gICAgdXNlcixcbiAgICBzZXJwcyxcbiAgICBzZXR0aW5ncyxcbiAgICByYXRlVXNXaWRnZXQsXG4gICAgZXhwZXJpbWVudGFsRmVhdHVyZSxcbiAgICBtb2JpbGVNb2RhbCxcbiAgICBvbmJvYXJkaW5nLFxuICAgIGN0YSxcbiAgICBzdXJ2ZXksXG4gICAgdmVyc2lvbixcbiAgICB0cmFja2VyQmxvY2tlckRhdGEsXG4gICAgZm9jdXNlZFJldmlldyxcbiAgICBwaGlzaGluZ1doaXRlbGlzdCxcbiAgICByZW1pbmRlcnMsXG4gICAgY291bnRlcnMsXG4gICAgbGVha01vbml0b3JpbmcsXG4gICAgd290VHJhY2VJZCxcbiAgICByZW1vdGVDb25maWcsXG4gICAgc2VycFBvcHVwQ291bnRlcixcbiAgICBlbWFpbFByb3RlY3Rpb24sXG4gICAgZnJlZVVzZXJCbG9ja2VkV2Vic2l0ZUNvdW50ZXIsXG4gICAgcGluV290UG9wdXAsXG4gICAgcG9wdXBWMlxufSk7XG4iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFdvdE5ldHdvcmsgZnJvbSAnLi9uZXR3b3JrJztcblxuY2xhc3MgX1dvdEF1dGhBcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJvb3QgPSAnaHR0cHM6Ly9hdXRoLmFwaS5teXdvdC5jb20nO1xuICAgIH1cblxuICAgIGdldFVzZXIodG9rZW4pIHtcbiAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5yb290fS9tZWA7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L3BsYWluJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgV290TmV0d29yay5nZXQodXJsLCBoZWFkZXJzKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyc2VkUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRSZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkUmVzcG9uc2UgPSB7IGNvZGU6IDQwMDYsIG1lc3NhZ2U6IFwiWW91J3ZlIGJlZW4gbG9nZ2VkIG91dC4gUGxlYXNlIGxvZ2luIGFnYWluXCIgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHBhcnNlZFJlc3BvbnNlLnNjb3JlICYmIHBhcnNlU3RhdHVzKHBhcnNlZFJlc3BvbnNlLnNjb3JlKTtcblxuICAgICAgICAgICAgICAgICAgICAhcGFyc2VkUmVzcG9uc2Uucm9sZXNbNl0gJiYgc3RhdHVzICYmIChwYXJzZWRSZXNwb25zZS5yb2xlc1s2XSA9IHN0YXR1cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZFJlc3BvbnNlLnJvbGVzWzddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRSZXNwb25zZS5yb2xlc1s2XSA9IHBhcnNlZFJlc3BvbnNlLnJvbGVzWzddO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZFJlc3BvbnNlLnJvbGVzWzhdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRSZXNwb25zZS5yb2xlc1s2XSA9IHBhcnNlZFJlc3BvbnNlLnJvbGVzWzhdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZFJlc3BvbnNlLnJvbGVzWzldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRSZXNwb25zZS5yb2xlc1s2XSA9IHBhcnNlZFJlc3BvbnNlLnJvbGVzWzldO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZFJlc3BvbnNlLnJvbGVzWzEwXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkUmVzcG9uc2Uucm9sZXNbNl0gPSBwYXJzZWRSZXNwb25zZS5yb2xlc1sxMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwYXJzZWRSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAvLy8gKjxiZXRhPiovdGhpcy5wb3N0KEJFVEFfVVJMLCAge3N0YXR1czogeGhyLnN0YXR1cywgZGF0ZTogK25ldyBEYXRlKCksIHVybDogeGhyLnJlc3BvbnNlVVJMLCBlcnJvcjogcGFyc2VkUmVzcG9uc2UsIGR1cmF0aW9uOiB4aHIudGltZX0pOy8qPC9iZXRhPiovXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh7IGNvZGU6IHJlc3BvbnNlLnN0YXR1cywgbWVzc2FnZTogJ0Nhbm5vdCBnZXQgdXNlciBpbmZvJyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaChleGNlcHRpb24gPT4ge30pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gdHlwZW9mIHVzZXJuYW1lID09PSAnb2JqZWN0JyA/IHVzZXJuYW1lIDogeyB1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZCB9O1xuICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLnJvb3R9L3Rva2VuP2A7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBXb3ROZXR3b3JrLnBvc3RKc29uKHVybCwgcGFyYW1zKS50aGVuKCh4aHIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXNwb25zZSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHBhcnNlZFJlc3BvbnNlLnRva2VuO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh7IGNvZGU6IHBhcnNlZFJlc3BvbnNlLmNvZGUsIG1lc3NhZ2U6IHBhcnNlZFJlc3BvbnNlLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY2F0Y2goZXhjZXB0aW9uID0+IHt9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9nb3V0KHRva2VuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLnJvb3R9L2xvZ291dGA7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0geyAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0b2tlbiB8fCAnJ31gIH07XG4gICAgICAgICAgICBXb3ROZXR3b3JrLnBvc3RKc29uKHVybCwge30sIGhlYWRlcnMpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRva2VuKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaChleGNlcHRpb24gPT4ge30pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZWdpc3RlcihuYW1lLCBtYWlsLCBwYXNzLCBQYXNzMikge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcgPyBuYW1lIDoge1xuICAgICAgICAgICAgbmFtZTogbmFtZSwgbWFpbDogbWFpbCwgcGFzczogcGFzcywgUGFzczI6IFBhc3MyXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGRhdGEgPSBfLm1lcmdlKHt9LCBwYXJhbXMsIHsgUGFzczI6IHBhcmFtcy5QYXNzMiB8fCBwYXJhbXMucGFzcyB9KTtcbiAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5yb290fS9zaWdudXA/YDtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIFdvdE5ldHdvcmsucG9zdEpzb24odXJsLCBkYXRhKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJlc3BvbnNlID0gSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkUmVzcG9uc2Uuc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh7IGNvZGU6IHBhcnNlZFJlc3BvbnNlLmNvZGUsIG1lc3NhZ2U6IHBhcnNlZFJlc3BvbnNlLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBwYXJzZWRSZXNwb25zZS50b2tlbjtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoeyBjb2RlOiBwYXJzZWRSZXNwb25zZS5jb2RlLCBtZXNzYWdlOiBwYXJzZWRSZXNwb25zZS5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKGV4Y2VwdGlvbiA9PiB7fSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZvcmdvdCh1c2VybmFtZSkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSB0eXBlb2YgdXNlcm5hbWUgPT09ICdvYmplY3QnID8gdXNlcm5hbWUgOiB7IHVzZXJuYW1lOiB1c2VybmFtZSB9O1xuICAgICAgICBjb25zdCB1cmwgPSBgJHt0aGlzLnJvb3R9L2ZvcmdvdC1wYXNzP2A7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBXb3ROZXR3b3JrLnBvc3RKc29uKHVybCwgXy5tZXJnZSh7fSwgcGFyYW1zKSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocGFyc2VkUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHsgY29kZTogcGFyc2VkUmVzcG9uc2UuY29kZSwgbWVzc2FnZTogcGFyc2VkUmVzcG9uc2UubWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaChleGNlcHRpb24gPT4ge30pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzb2NpYWxMb2dpblVybChuZXR3b3JrKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnJvb3R9LyR7bmV0d29ya30/c291cmNlPWV4dGVuc2lvbmA7XG4gICAgfVxufVxuXG5jb25zdCBXb3RBdXRoQXBpID0gbmV3IF9Xb3RBdXRoQXBpKCk7XG5cbmV4cG9ydCBkZWZhdWx0IFdvdEF1dGhBcGk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgd2ViZXh0QXBpIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge1xuICAgIFRPR0dMRV9XT1RfU0xJREVSX1JFUVVFU1QsXG4gICAgT1BFTl9UQUJfTUVTU0FHRSxcbiAgICBTRU5EX01FU1NBR0UsXG4gICAgU0xJREVSX1dJRFRILFxuICAgIFNVUlZFWV9VUkxfMTJfMjAyMCxcbiAgICBBUFBfTVlXT1QsXG4gICAgVVBHUkFERSxcbiAgICBDT05URU5UX0NPTk5FQ1RFRCxcbiAgICBHQV9DQVRFR09SWV9LRVksXG4gICAgR0FfQUNUSU9OX0tFWSxcbiAgICBHQV9MQUJFTF9LRVksXG4gICAgSVNfREVWLFxuICAgIFdPVF9UUkFDRV9JRCxcbiAgICBVVE1fVkFSSUFCTEVTLFxuICAgIE9QRU5fSU5fQ1VSUl9UQUJfTUVTU0FHRSxcbiAgICBXT1RfUFJPRFVDVCxcbiAgICBTRVRUSU5HU19TRUNUSU9OU1xufSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbi8vIFNMSURFUlxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVdPVFNsaWRlcihtZXNzYWdlID0gJycpIHtcbiAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gd2ViZXh0QXBpLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgbmFtZTogVE9HR0xFX1dPVF9TTElERVJfUkVRVUVTVCxcbiAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHdlYmV4dEFwaS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgbmFtZTogVE9HR0xFX1dPVF9TTElERVJfUkVRVUVTVFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ0xPU0VEX1BPU0lUSU9OKCkge1xuICAgIHJldHVybiBgJHt3aW5kb3cuaW5uZXJXaWR0aH1weGA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBPUEVOX1BPU0lUSU9OKCkge1xuICAgIHJldHVybiBgY2FsYygke2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCAtIFNMSURFUl9XSURUSH1weCAtIDV2dylgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGFrZVN1cnZleSgpIHtcbiAgICB3ZWJleHRBcGkucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgIG5hbWU6IE9QRU5fVEFCX01FU1NBR0UsXG4gICAgICAgIHVybDogU1VSVkVZX1VSTF8xMl8yMDIwXG4gICAgfSk7XG59XG5cbi8vIFRSQU5TTEFUSU9OIFNIT1JUSEFORFxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShzb3VyY2UpIHtcbiAgICBpZiAoIXNvdXJjZSkgeyByZXR1cm4gJyc7IH1cbiAgICByZXR1cm4gd2ViZXh0QXBpLmkxOG4uZ2V0TWVzc2FnZShzb3VyY2UpIHx8IHNvdXJjZTtcbn1cbi8vIE1vbnRocyBhcnJheVxuY29uc3QgTU9OVEhTX0FSUiA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RGF0ZSh0aW1lc3RhbXApIHtcbiAgICAvLyBDb252ZXJ0IHRpbWVzdGFtcCB0byBtaWxsaXNlY29uZHNcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodGltZXN0YW1wKTtcblxuICAgIGNvbnN0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7Ly8gWWVhclxuICAgIGNvbnN0IG1vbnRoID0gTU9OVEhTX0FSUltkYXRlLmdldE1vbnRoKCldOy8vIE1vbnRoXG4gICAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXRlKCk7Ly8gRGF5XG5cbiAgICAvLyBEaXNwbGF5IGRhdGUgdGltZSBpbiBNTSBkZCwgeXl5eSBmb3JtYXQsIGZvciBleGFtcGxlOiBEZWNlbWJlciAxOSwgMjAwOVxuICAgIHJldHVybiBgJHttb250aH0gJHtkYXl9LCAke3llYXJ9YDtcbn1cblxuLy8gR08gVE8gU0hPUlRIQU5EXG5leHBvcnQgZnVuY3Rpb24gZ29Ub1RhYih1cmwpIHtcbiAgICB3ZWJleHRBcGkucnVudGltZS5zZW5kTWVzc2FnZSh7IG5hbWU6IE9QRU5fVEFCX01FU1NBR0UsIHVybCB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5QYWdlSW5DdXJyZW50VGFiKHVybCkge1xuICAgIHdlYmV4dEFwaS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgbmFtZTogT1BFTl9JTl9DVVJSX1RBQl9NRVNTQUdFLCB1cmwgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvcGVuSW50ZXJuYWxQYWdlKHBhZ2UpIHtcbiAgICBjb25zdCBzdXBwb3J0ZWRLbm93bkludGVybmFsUGFnZXMgPSBbJ3ByZXNldHRpbmdzJywgJ29wdGlvbnMnXTtcbiAgICBpZiAoc3VwcG9ydGVkS25vd25JbnRlcm5hbFBhZ2VzLmluY2x1ZGVzKHBhZ2UpKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IHdlYmV4dEFwaS5ydW50aW1lLmdldFVSTChgLyR7cGFnZX0uaHRtbGApO1xuICAgICAgICBvcGVuUGFnZUluQ3VycmVudFRhYih1cmwpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5TZXR0aW5nc1NlY3Rpb24oc2VjdGlvbk5hbWUpIHtcbiAgICBjb25zdCB1cmwgPSB3ZWJleHRBcGkucnVudGltZS5nZXRVUkwoYC9vcHRpb25zLmh0bWwjJHtTRVRUSU5HU19TRUNUSU9OU1tzZWN0aW9uTmFtZV19YCk7XG4gICAgb3BlblBhZ2VJbkN1cnJlbnRUYWIodXJsKTtcbn1cblxuLy8gVXBvbiB1cGdyYWRlLCBjb250ZW50IHNjcmlwdHMgb24gYWxyZWFkeSBvcGVuIHRhYnMgJ2xvb3NlJyB0aGVpciBjb25uZWN0aXZpdHkgdG8gdGhlIGJhY2tncm91bmRcbi8vIG1lYW50IHRvIGJlIGNhbGxlZCBmcm9tIHRhYnMgY29udGVudCBvbmx5XG5leHBvcnQgY29uc3QgaXNDb250ZW50U2NyaXB0Q29ubmVjdGVkID0gKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAhIShkb2N1bWVudCAmJiB3ZWJleHRBcGkucnVudGltZS5nZXRVUkwoJy8nKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcblxuLy8gU0VORF9HQVxuZXhwb3J0IGZ1bmN0aW9uIEdBKGNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsLCBzZW5kSW50ZXJuYWxBbmFseXRpY3MsIHRlc3RHcm91cCkge1xuICAgIGlmIChJU19ERVYgfHwgIWlzQ29udGVudFNjcmlwdENvbm5lY3RlZCgpKSByZXR1cm47XG4gICAgd2ViZXh0QXBpLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICBuYW1lOiBTRU5EX01FU1NBR0UsXG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgW0dBX0NBVEVHT1JZX0tFWV06IGNhdGVnb3J5IHx8ICcnLFxuICAgICAgICAgICAgW0dBX0FDVElPTl9LRVldOiBhY3Rpb24gfHwgJycsXG4gICAgICAgICAgICBbR0FfTEFCRUxfS0VZXTogbGFiZWwgfHwgJycsXG4gICAgICAgICAgICBzZW5kSW50ZXJuYWxBbmFseXRpY3MsXG4gICAgICAgICAgICB0ZXN0R3JvdXBcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW1BbGl2ZSgpIHtcbiAgICB3ZWJleHRBcGkucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgIG5hbWU6IENPTlRFTlRfQ09OTkVDVEVELFxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ29VcGdyYWRlKGNhdGVnb3J5LCBnYUFjdGlvbiwgbGFiZWwsIGNvdXBvbiA9ICcnLCB0ZXN0R3JvdXAgPSAwKSB7XG4gICAgZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoV09UX1RSQUNFX0lELm5hbWUpO1xuICAgIGNhdGVnb3J5ICYmIEdBKGNhdGVnb3J5LCBnYUFjdGlvbiwgbGFiZWwsIHRydWUsIHRlc3RHcm91cCk7XG4gICAgY29uc3QgdXRtU291cmNlID0gY2F0ZWdvcnkgJiYgYGV4LSR7Y2F0ZWdvcnl9XyR7bGFiZWx9YC5yZXBsYWNlKC8gL2csICdfJyk7XG4gICAgY29uc3Qgd290UHJvZHVjdCA9IHV0bVNvdXJjZSA/IGAmJHtXT1RfUFJPRFVDVH09JHt1dG1Tb3VyY2V9YCA6ICcnO1xuICAgIGdvVG9UYWIoYCR7QVBQX01ZV09UICsgVVBHUkFERX0ke3dvdFByb2R1Y3R9JndvdF90cmFjZT0ke3dpbmRvd1tXT1RfVFJBQ0VfSUQubmFtZV0uc2xpY2UoMyl9JHtjb3Vwb24gPyBgJmNvdXBvbj0ke2NvdXBvbn1gIDogJyd9YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzY3JhbWJsZUF2YXRhckNvbG9ycygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICB7IGJhY2tncm91bmRDb2xvcjogJyNFRUIwMTAnLCBjb2xvcjogJyNGRkZGRkYnIH0sXG4gICAgICAgIHsgYmFja2dyb3VuZENvbG9yOiAnIzJEQzhCRScsIGNvbG9yOiAnI0ZGRkZGRicgfSxcbiAgICAgICAgeyBiYWNrZ3JvdW5kQ29sb3I6ICcjOTQ4MEZGJywgY29sb3I6ICcjRkZGRkZGJyB9LFxuICAgICAgICB7IGJhY2tncm91bmRDb2xvcjogJyNGRjlBRDUnLCBjb2xvcjogJyNGRkZGRkYnIH0sXG4gICAgICAgIHsgYmFja2dyb3VuZENvbG9yOiAnIzVBQjlGRScsIGNvbG9yOiAnI0ZGRkZGRicgfVxuICAgIF0uc29ydCgoKSA9PiAoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSA/IDEgOiAtMSkpO1xufVxuXG5cbmV4cG9ydCBjb25zdCBnZXRVdG1TdHJpbmcgPSAoKSA9PiB7XG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgICBjb25zdCB1dG1QYXJhbXMgPSBbXTtcbiAgICBVVE1fVkFSSUFCTEVTLmZvckVhY2goKHZhbCkgPT4ge1xuICAgICAgICB1dG1QYXJhbXMucHVzaChgJHt2YWx9PSR7cGFyYW1zLmdldCh2YWwpIHx8ICcnfWApO1xuICAgIH0pO1xuICAgIHJldHVybiB1dG1QYXJhbXMuam9pbignJicpO1xufTtcbiIsImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge1xuICAgIExPR0lOX0FDVElPTixcbiAgICBMT0dPVVRfQUNUSU9OLFxuICAgIFJFR0lTVEVSX0FDVElPTixcbiAgICBTQVZFX1VTRVJfVE9LRU4sXG4gICAgU0FWRV9VU0VSX0RBVEEsXG4gICAgRVJST1JfVVNFUl9BVVRILFxuICAgIENMRUFOX1VTRVJfREFUQSxcbiAgICBTRVJQX1NFTkRfTElOS1NfQUNUSU9OLFxuICAgIEZPUkdPVF9BQ1RJT04sXG4gICAgREVMRVRFX1JFVklFV19BQ1RJT04sXG4gICAgR0VUX0NPTU1FTlRTX0FDVElPTixcbiAgICBHRVRfQ09NTUVOVFNfQ09VTlQsXG4gICAgR0VUX0NPTU1FTlRfQU5EX1JBVElORyxcbiAgICBBRERfQ09NTUVOVF9BQ1RJT04sXG4gICAgU0VORF9VU0VSX1JFVklFV19UT19TRVJWRVIsXG4gICAgQ0xFQVJfVVNFUl9SRVZJRVdTLFxuICAgIEdFVF9VU0VSX1BMQU4sXG4gICAgU0FWRV9VU0VSX1BMQU4sXG4gICAgQVNTSVNUQU5UX09OLFxuICAgIHNhdmVSYXRpbmcsXG4gICAgc2F2ZUNvbW1lbnRzLFxuICAgIGxvYWRpbmdDb21tZW50cyxcbiAgICBNRVNTQUdFX1VTRVJfQVVUSCxcbiAgICBzYXZlVXNlclJldmlld0Zyb21BcGksXG4gICAgZGVsZXRlUmV2aWV3LFxuICAgIHVwZGF0ZVJldmlld1RpbWVzdGFtcCxcbiAgICBMT0FEX1RSQUNLRVJTX0xJU1QsXG4gICAgbG9hZFRyYWNrZXJzTGlzdENvbXBsZXRlZCxcbiAgICBsb2FkVHJhY2tlcnNMaXN0LFxuICAgIHRvZ2dsZUJsb2NrQWxsVHJhY2tlcnMsXG4gICAgVVBEQVRFX1JFVklFVyxcbiAgICBnZXRDb21tZW50QW5kUmF0aW5nLFxuICAgIHNldENvbW1lbnRzQ291bnQsXG4gICAgT1BFTl9BRERfUkVWSUVXX0FDVElPTixcbiAgICBzZXRSZXZpZXdJbkZvY3VzLFxuICAgIHNhdmVDb21tZW50QW5kUmV2aWV3LFxuICAgIFNFTkRfUVVFUllfQUNUSU9OLFxuICAgIFNFUlBfTUFSS19MSU5LU19QRU5ESU5HLFxuICAgIEhBTkRMRV9VU0VSX0RBVEFfQU5BTFlUSUNTLFxuICAgIGdldExlYWtJbmZvQ29tcGxldGVkLCBHRVRfTEVBS19EQVRBLCBVUERBVEVfTUFJTENISU1QX1RBRywgR0VUX0lTX1VTRVJfVFJJQUxJTkcsIFNBVkVfSVNfVVNFUl9UUklBTElOR1xufSBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IFdvdEFwaSBmcm9tICcuLi8uLi9zaGFyZWQvd290QXBpJztcbmltcG9ydCB7XG4gICAgQ0FURUdPUklFU19SVUxFUyxcbiAgICBCbGFua1JldmlldyxcbiAgICBTSE9XX1RPQVNUX05PVElGSUNBVElPTixcbiAgICBTT0NJQUxfQ0FMTEJBQ0tfVVJMLFxuICAgIFNVUFBPUlRFRF9QUk9UT0NPTFMsXG4gICAgVVNFUl9EQVRBX0FOQUxZVElDUyxcbiAgICBWRVJTSU9OLFxuICAgIFNUT1JFX1JBVElOR19QRVJJT0QsXG4gICAgUkFUSU5HX1BFTkRJTkcsXG4gICAgR0FfTUFJTl9DQVRFR09SWVxufSBmcm9tICcuLi8uLi9zaGFyZWQvY29uc3RhbnRzJztcbmltcG9ydCB7XG4gICAgYnJvd3Nlck5hbWUsIGNoZWNrTG9jYWxob3N0LCBnZXRDbGVhbkRvbWFpbiwgZ2V0RW5jb2RlZERvbWFpbiwgd2ViZXh0QXBpXG59IGZyb20gJy4uLy4uL3NoYXJlZC91dGlscyc7XG5pbXBvcnQgV290QXV0aEFwaSBmcm9tICcuLi8uLi9zaGFyZWQvd290QXV0aEFwaSc7XG5pbXBvcnQgeyBHQSB9IGZyb20gJy4uLy4uL3NoYXJlZC9zdGF0ZWxlc3NGdW5jdGlvbnMnO1xuXG5mdW5jdGlvbiBmaWx0ZXJMaW5rc0JlZm9yZVNlbmQobGlua3MsIHJhdGluZ3MpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKGxpbmtzLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IGhvc3QgPSBnZXRDbGVhbkRvbWFpbihjdXJyKTtcbiAgICAgICAgY29uc3QgcmF0aW5nID0gcmF0aW5nc1tob3N0XTtcbiAgICAgICAgaWYgKCFyYXRpbmcgfHwgKHJhdGluZy51cGRhdGVkICYmIChub3cgLSByYXRpbmcudXBkYXRlZCA+PSBTVE9SRV9SQVRJTkdfUEVSSU9EKSkpIHtcbiAgICAgICAgICAgIHJhdGluZ3NbaG9zdF0gPSByYXRpbmcgfHwgUkFUSU5HX1BFTkRJTkc7XG4gICAgICAgICAgICBhY2MuYWRkKGhvc3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgbmV3IFNldCgpKSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVXNlclJldmlldyhyYXdSZXZpZXcsIHVpZCwgdGFyZ2V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29tbWVudDogcmF3UmV2aWV3LmNvbW1lbnQsXG4gICAgICAgIHNhZmV0eTogcmF3UmV2aWV3LnJhdGluZyxcbiAgICAgICAgdGFnczogcmF3UmV2aWV3LnRhZ3MsXG4gICAgICAgIGlkOiByYXdSZXZpZXcuaWQsXG4gICAgICAgIHVpZCxcbiAgICAgICAgdGFyZ2V0XG4gICAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGFsaWFzZXMgPSB7XG4gICAgW1NFTkRfVVNFUl9SRVZJRVdfVE9fU0VSVkVSXTogKGFjdGlvbikgPT4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdW5hdXRoUmV2aWV3cyB9ID0gYWN0aW9uLmRhdGE7XG4gICAgICAgICAgICBjb25zdCB1aWQgPSBfLmdldChnZXRTdGF0ZSgpLCAndXNlci51aWQnLCBudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IHJhdGluZyA9IF8uZ2V0KHVuYXV0aFJldmlld3MsICdyYXRpbmcnLCAtMSk7XG4gICAgICAgICAgICBpZiAodW5hdXRoUmV2aWV3cyAhPT0gbnVsbCAmJiByYXRpbmcgIT09IC0xICYmIHVuYXV0aFJldmlld3Muc3RlcCA+PSA0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFncyA9IFtcbiAgICAgICAgICAgICAgICAgICAgLi4uXy5nZXQodW5hdXRoUmV2aWV3cywgJ2NoaWxkU2FmZXR5Q2F0ZWdvcmllcycsIFtdKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uXy5nZXQodW5hdXRoUmV2aWV3cywgJ3JlcHV0YXRpb25DYXRlZ29yaWVzJywgW10pLFxuICAgICAgICAgICAgICAgICAgICAuLi5fLmdldCh1bmF1dGhSZXZpZXdzLCAnc2FmZXR5Q2F0ZWdvcmllcycsIFtdKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goc2F2ZUNvbW1lbnRBbmRSZXZpZXcoXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbi5kYXRhLmhvc3QsXG4gICAgICAgICAgICAgICAgICAgIF8uZ2V0KHVuYXV0aFJldmlld3MsICdjb21tZW50JywgJycpLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgIHRhZ3MsXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZyxcbiAgICAgICAgICAgICAgICAgICAgdWlkXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDE1MDApO1xuICAgIH0sXG4gICAgW0xPR0lOX0FDVElPTl06IChhY3Rpb24pID0+IChkaXNwYXRjaCkgPT4ge1xuICAgICAgICBXb3RBdXRoQXBpLmxvZ2luKGFjdGlvbi5kYXRhLnVzZXJuYW1lLCBhY3Rpb24uZGF0YS5wYXNzd29yZCkudGhlbigodG9rZW4pID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogU0FWRV9VU0VSX1RPS0VOLCBkYXRhOiB7IHRva2VuIH0gfSk7XG4gICAgICAgIH0sIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgIEdBKCdMb2dpbicsICdFcnJvcicsIHJlYXNvbi5jb2RlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogRVJST1JfVVNFUl9BVVRILCBkYXRhOiB7IGNvZGU6IHJlYXNvbi5jb2RlLCBtZXNzYWdlOiByZWFzb24ubWVzc2FnZSB9IH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIFtTQVZFX1VTRVJfVE9LRU5dOiAoYWN0aW9uKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3ZWJleHRBcGkudGFicy5xdWVyeSh7fSwgKHRhYnMgPSBbXSkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFiIG9mIHRhYnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhYi51cmwubWF0Y2goU09DSUFMX0NBTExCQUNLX1VSTCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlYmV4dEFwaS50YWJzLnJlbW92ZSh0YWIuaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgICAgICBXb3RBdXRoQXBpLmdldFVzZXIoKGFjdGlvbi5kYXRhICYmIGFjdGlvbi5kYXRhLnRva2VuKSB8fCBnZXRTdGF0ZSgpLnVzZXIudG9rZW4pLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICB3ZWJleHRBcGkudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgbGFzdEZvY3VzZWRXaW5kb3c6IHRydWUgfSwgKHRhYnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YWJzKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybCA9IF8uZ2V0KHRhYnNbMF0sICd1cmwnLCBudWxsKSB8fCBfLmZpbHRlcihnZXRTdGF0ZSgpLnRhYnMsIHsgYWN0aXZlOiB0cnVlIH0pWzBdLnVybDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9zdCA9IGdldEVuY29kZWREb21haW4odXJsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5hdXRoUmV2aWV3cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICAgICAgICBfLmdldChnZXRTdGF0ZSgpLCBgcmV2aWV3cy4xWycke2hvc3R9J11gLCBudWxsKVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBTRU5EX1VTRVJfUkVWSUVXX1RPX1NFUlZFUiwgZGF0YTogeyBob3N0LCB1bmF1dGhSZXZpZXdzIH0gfSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogU0FWRV9VU0VSX0RBVEEsIGRhdGE6IF8ubWVyZ2UoZGF0YSwgeyB0b2tlbjogYWN0aW9uLmRhdGEudG9rZW4gfSksIGhvc3QgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogR0VUX1VTRVJfUExBTiB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICBHQSgnVXNlcicsICdFcnJvcicsIHJlYXNvbi5jb2RlKTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IEVSUk9SX1VTRVJfQVVUSCwgZGF0YTogeyBjb2RlOiByZWFzb24uY29kZSwgbWVzc2FnZTogcmVhc29uLm1lc3NhZ2UgfSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgW1JFR0lTVEVSX0FDVElPTl06IChhY3Rpb24pID0+IChkaXNwYXRjaCkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBuYW1lLCBtYWlsLCBwYXNzLCBQYXNzMlxuICAgICAgICB9ID0gYWN0aW9uLmRhdGE7XG4gICAgICAgIFdvdEF1dGhBcGkucmVnaXN0ZXIobmFtZSwgbWFpbCwgcGFzcywgUGFzczIpLnRoZW4oKHRva2VuKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFNBVkVfVVNFUl9UT0tFTiwgZGF0YTogeyB0b2tlbiB9IH0pO1xuICAgICAgICAgICAgV290QXV0aEFwaS5nZXRVc2VyKHRva2VuKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBTQVZFX1VTRVJfREFUQSwgZGF0YSB9KTtcbiAgICAgICAgICAgIH0sIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICBHQSgnVXNlcicsICdFcnJvcicsIGAke3JlYXNvbi5jb2RlfSBhZnRlciByZWdpc3RlcmApO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogRVJST1JfVVNFUl9BVVRILCBkYXRhOiB7IGNvZGU6IHJlYXNvbi5jb2RlLCBtZXNzYWdlOiByZWFzb24ubWVzc2FnZSB9IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgIEdBKCdSZWdpc3RlcicsICdFcnJvcicsIHJlYXNvbi5jb2RlKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogRVJST1JfVVNFUl9BVVRILCBkYXRhOiB7IGNvZGU6IHJlYXNvbi5jb2RlLCBtZXNzYWdlOiByZWFzb24ubWVzc2FnZSB9IH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIFtMT0dPVVRfQUNUSU9OXTogKCkgPT4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCB7IHRva2VuIH0gPSBnZXRTdGF0ZSgpLnVzZXI7XG4gICAgICAgIFdvdEF1dGhBcGkubG9nb3V0KHRva2VuKS50aGVuKCgpID0+IHt9KS5jYXRjaCgoKSA9PiB7fSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IENMRUFSX1VTRVJfUkVWSUVXUywgZGF0YTogeyB1c2VySWQ6IGdldFN0YXRlKCkudXNlci51aWQgfSB9KTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogQ0xFQU5fVVNFUl9EQVRBIH0pO1xuICAgICAgICAgICAgZGlzcGF0Y2godG9nZ2xlQmxvY2tBbGxUcmFja2VycyhmYWxzZSkpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIFtGT1JHT1RfQUNUSU9OXTogKGFjdGlvbikgPT4gKGRpc3BhdGNoKSA9PiB7XG4gICAgICAgIFdvdEF1dGhBcGkuZm9yZ290KGFjdGlvbi5lbWFpbCkudGhlbigobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBNRVNTQUdFX1VTRVJfQVVUSCwgZGF0YTogeyBtZXNzYWdlIH0gfSk7XG4gICAgICAgIH0sIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgIEdBKCdGb3Jnb3QnLCAnRXJyb3InLCByZWFzb24uY29kZSk7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IEVSUk9SX1VTRVJfQVVUSCwgZGF0YTogeyBjb2RlOiByZWFzb24uY29kZSwgbWVzc2FnZTogcmVhc29uLm1lc3NhZ2UgfSB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBbR0VUX1VTRVJfUExBTl06ICgpID0+IChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICAgICAgY29uc3QgeyB1aWQsIHRva2VuIH0gPSBnZXRTdGF0ZSgpLnVzZXI7XG4gICAgICAgIFdvdEFwaS5nZXRJc1ByZW1pdW0odWlkLCB0b2tlbilcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlck5hbWUgPT09ICdzYWZhcmknKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHsgaXNQcmVtaXVtOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogU0FWRV9VU0VSX1BMQU4sIGRhdGE6IHsgaXNQcmVtaXVtVXNlcjogcmVzdWx0ID8gcmVzdWx0LmlzUHJlbWl1bSA6IGZhbHNlIH0gfSk7XG4gICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChicm93c2VyTmFtZSA9PT0gJ3NhZmFyaScpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBTQVZFX1VTRVJfUExBTiwgZGF0YTogeyBpc1ByZW1pdW1Vc2VyOiB0cnVlIH0gfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBDTEVBTl9VU0VSX0RBVEEgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9LFxuICAgIFtTRU5EX1FVRVJZX0FDVElPTl06IChhY3Rpb24pID0+IChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICAgICAgY29uc3QgeyB0YXJnZXRQYXJhbXMsIGhlYWRlcnMgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICBjb25zdCB1cmwgPSB0YXJnZXRQYXJhbXMuc3VidHJndDtcbiAgICAgICAgY29uc3QgeyByYXRpbmdzLCBzZXR0aW5ncyB9ID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYgKCFTVVBQT1JURURfUFJPVE9DT0xTLnRlc3QodXJsKSB8fCBjaGVja0xvY2FsaG9zdCh1cmwpIHx8ICFzZXR0aW5ncy5wcm90ZWN0aW9uKSByZXR1cm47XG4gICAgICAgIHRhcmdldFBhcmFtcy5saW5rcyA9IGZpbHRlckxpbmtzQmVmb3JlU2VuZCh0YXJnZXRQYXJhbXMubGlua3MsIHJhdGluZ3MpO1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFNFUlBfTUFSS19MSU5LU19QRU5ESU5HLCBkYXRhOiB7IHVybHM6IHRhcmdldFBhcmFtcy5saW5rcyB9IH0pO1xuICAgICAgICBXb3RBcGkucXVlcnkodGFyZ2V0UGFyYW1zLCBoZWFkZXJzKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHNhdmVSYXRpbmcocmVzdWx0KSk7XG4gICAgICAgIH0sIChlKSA9PiB7XG4gICAgICAgICAgICBHQSgnUVVFUlknLCAnRXJyb3InLCBlLm1lc3NhZ2UpO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIFtTRVJQX1NFTkRfTElOS1NfQUNUSU9OXTogKGFjdGlvbikgPT4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2V0dGluZ3MsIHJhdGluZ3MgfSA9IGdldFN0YXRlKCk7XG4gICAgICAgICAgICBjb25zdCB1cmxzID0gZmlsdGVyTGlua3NCZWZvcmVTZW5kKGFjdGlvbi5kYXRhLnVybHMsIHJhdGluZ3MpO1xuICAgICAgICAgICAgaWYgKCF1cmxzLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgZGlzcGF0Y2goeyB0eXBlOiBTRVJQX01BUktfTElOS1NfUEVORElORywgZGF0YTogeyB1cmxzIH0gfSk7XG4gICAgICAgICAgICBXb3RBcGkucXVlcnkoeyBsaW5rczogdXJscyB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChzYXZlUmF0aW5nKHJlc3VsdCkpO1xuICAgICAgICAgICAgfSwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBHQSgnUXVlcnknLCAnRXJyb3InLCBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIDIwMCk7IC8vIHRyeSB0byBhdm9pZCByYWNlIGNvbmRpdGlvbnNcbiAgICB9LFxuICAgIFtBRERfQ09NTUVOVF9BQ1RJT05dOiAoKSA9PiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJldmlldyA9IGdldFN0YXRlKCkuZm9jdXNlZFJldmlldztcbiAgICAgICAgR0EoR0FfTUFJTl9DQVRFR09SWSwgJ1N1Ym1pdCBSZXZpZXcnKTtcbiAgICAgICAgV290QXBpLnNlbmRDb21tZW50cyh7XG4gICAgICAgICAgICB0YXJnZXQ6IHJldmlldy50YXJnZXQsXG4gICAgICAgICAgICBjb21tZW50OiByZXZpZXcuY29tbWVudCxcbiAgICAgICAgICAgIHNhZmV0eTogcmV2aWV3LnNhZmV0eSxcbiAgICAgICAgICAgIGNhdGVnb3JpZXM6IHJldmlldy50YWdzLFxuICAgICAgICB9LCBnZXRTdGF0ZSgpLnVzZXIudG9rZW4pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goZ2V0Q29tbWVudEFuZFJhdGluZyhyZXZpZXcudGFyZ2V0KSk7XG4gICAgICAgICAgICB3ZWJleHRBcGkucnVudGltZS5zZW5kTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBTSE9XX1RPQVNUX05PVElGSUNBVElPTixcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb246ICdyZXZpZXdBZGRlZE9LJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIHdlYmV4dEFwaS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IFNIT1dfVE9BU1RfTk9USUZJQ0FUSU9OLFxuICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogJ3Jldmlld0FkZGVkRXJyb3InXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBbREVMRVRFX1JFVklFV19BQ1RJT05dOiAoYWN0aW9uKSA9PiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdWlkLCB0YXJnZXQgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICBkaXNwYXRjaChkZWxldGVSZXZpZXcodGFyZ2V0LCB1aWQpKTtcbiAgICAgICAgaWYgKGdldFN0YXRlKCkudXNlci51aWQpIHtcbiAgICAgICAgICAgIFdvdEFwaS5kZWxldGVDb21tZW50cyh0YXJnZXQsIGdldFN0YXRlKCkudXNlci50b2tlbik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIFtHRVRfQ09NTUVOVFNfQ09VTlRdOiAoYWN0aW9uKSA9PiAoZGlzcGF0Y2gpID0+IHtcbiAgICAgICAgY29uc3QgeyBob3N0IH0gPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgV290QXBpLmNvbW1lbnRzQ291bnQoaG9zdCkudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSAocmVzdWx0cyAmJiByZXN1bHRzW2hvc3RdICYmIHJlc3VsdHNbaG9zdF0uY291bnQpIHx8IDA7XG4gICAgICAgICAgICBkaXNwYXRjaChzZXRDb21tZW50c0NvdW50KGhvc3QsIGNvdW50KSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgW0dFVF9DT01NRU5UU19BQ1RJT05dOiAoYWN0aW9uKSA9PiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGhvc3QsIGxlbmd0aCwgdWlkXG4gICAgICAgIH0gPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgbGV0IG9mZnNldCA9IGFjdGlvbi5kYXRhLm9mZnNldDtcbiAgICAgICAgZGlzcGF0Y2gobG9hZGluZ0NvbW1lbnRzKGhvc3QpKTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IChzdGF0ZS5jb21tZW50c1tob3N0XSAmJiBzdGF0ZS5jb21tZW50c1tob3N0XS5kYXRhICYmIE9iamVjdC5rZXlzKHN0YXRlLmNvbW1lbnRzW2hvc3RdLmRhdGEpLmxlbmd0aCkgfHwgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIFdvdEFwaS5jb21tZW50cyhob3N0LCB1aWQsIGxlbmd0aCwgb2Zmc2V0KS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaChzYXZlQ29tbWVudHMoXy5tZXJnZShyZXN1bHRzWzBdLCByZXN1bHRzWzFdKSkpO1xuICAgICAgICB9LCAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICBHQSgnY29tbWVudHMnLCAnZXJyb3InLCByZWFzb24ubWVzc2FnZSB8fCByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIFtHRVRfQ09NTUVOVF9BTkRfUkFUSU5HXTogKGFjdGlvbikgPT4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCB7IGhvc3QgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICBjb25zdCB7IHVpZCwgdG9rZW4gfSA9IGdldFN0YXRlKCkudXNlcjtcbiAgICAgICAgY29uc3QgdXNlckxvZ2dlZCA9IHVpZCAmJiB1aWQgIT09IDE7XG4gICAgICAgIGlmICghdXNlckxvZ2dlZCkgcmV0dXJuO1xuXG4gICAgICAgIFdvdEFwaS5nZXRVc2VyUmV2aWV3KGhvc3QsIHRva2VuKS50aGVuKChkYXRhRnJvbUFwaSkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2godXBkYXRlUmV2aWV3VGltZXN0YW1wKGhvc3QsIHVpZCkpO1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdzID0gQ0FURUdPUklFU19SVUxFUy5yYXRpbmdGbG93O1xuICAgICAgICAgICAgY29uc3QgcmF0ZUFyciA9IGRhdGFGcm9tQXBpLmNhdGVnb3JpZXMgfHwgW107XG4gICAgICAgICAgICBjb25zdCByYXRpbmcgPSAoZGF0YUZyb21BcGkucmF0aW5nICYmIGRhdGFGcm9tQXBpLnJhdGluZy5zdGFycyAqIDIwKSB8fCAtMTtcbiAgICAgICAgICAgIGlmIChyYXRpbmcgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goZGVsZXRlUmV2aWV3KGhvc3QsIHVpZCkpO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHVwZGF0ZVJldmlld1RpbWVzdGFtcChob3N0LCB1aWQpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNoaWxkU2FmZXR5Q2F0ZWdvcmllcyA9IHJhdGVBcnIuZmlsdGVyKHIgPT4gci52b3RlID09PSAxICYmIGNhdGVncy5jaGlsZFNhZmV0eS5pbmNsdWRlcyhyLm5hbWUpKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJSZXZpZXdEYXRhID0ge1xuICAgICAgICAgICAgICAgIGhvc3QsXG4gICAgICAgICAgICAgICAgY29tbWVudDogZGF0YUZyb21BcGkuY29tbWVudCxcbiAgICAgICAgICAgICAgICByYXRpbmcsXG4gICAgICAgICAgICAgICAgc3RlcDogNixcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IGRhdGFGcm9tQXBpLnRpbWVzdGFtcCAvIDEwMDAsXG4gICAgICAgICAgICAgICAgY2hpbGRTYWZldHlDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHJlcHV0YXRpb25DYXRlZ29yaWVzOiByYXRlQXJyLmZpbHRlcihyID0+IHIudm90ZSA9PT0gMSAmJiBjYXRlZ3MucmVwdXRhdGlvbi5pbmNsdWRlcyhyLm5hbWUpKSxcbiAgICAgICAgICAgICAgICBzYWZldHlDYXRlZ29yaWVzOiByYXRlQXJyLmZpbHRlcihyID0+IHIudm90ZSA9PT0gMSAmJiBjYXRlZ3Muc2FmZXR5LmluY2x1ZGVzKHIubmFtZSkpLFxuICAgICAgICAgICAgICAgIGNoaWxkU2FmZXR5OiBjaGlsZFNhZmV0eUNhdGVnb3JpZXMubGVuZ3RoID09PSAwLFxuICAgICAgICAgICAgICAgIHRhZ3M6IHJhdGVBcnIubWFwKGNhdCA9PiBjYXQubmFtZSksXG4gICAgICAgICAgICAgICAgdWlkLFxuICAgICAgICAgICAgICAgIGlkOiBkYXRhRnJvbUFwaS5pZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRpc3BhdGNoKHNhdmVVc2VyUmV2aWV3RnJvbUFwaSh1c2VyUmV2aWV3RGF0YSkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIH0pO1xuICAgIH0sXG4gICAgW0xPQURfVFJBQ0tFUlNfTElTVF06ICgpID0+IChkaXNwYXRjaCkgPT4ge1xuICAgICAgICBXb3RBcGkuZ2V0VHJhY2tlcnNVcmxzKCkudGhlbigob2JqKSA9PiB7XG4gICAgICAgICAgICBkaXNwYXRjaChsb2FkVHJhY2tlcnNMaXN0Q29tcGxldGVkKG9iaikpO1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChsb2FkVHJhY2tlcnNMaXN0KCkpO1xuICAgICAgICAgICAgfSwgMTAwMCAqIDYwKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBbT1BFTl9BRERfUkVWSUVXX0FDVElPTl06IChhY3Rpb24pID0+IChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICAgICAgY29uc3QgeyB1aWQsIGRvbWFpbiB9ID0gYWN0aW9uLmRhdGE7XG5cbiAgICAgICAgY29uc3QgeyBmb2N1c2VkUmV2aWV3LCByZXZpZXdzIH0gPSBnZXRTdGF0ZSgpO1xuICAgICAgICBpZiAoZm9jdXNlZFJldmlldyAmJiBmb2N1c2VkUmV2aWV3LnNhZmV0eSA+IC0xICYmIGZvY3VzZWRSZXZpZXcudGFyZ2V0ID09PSBkb21haW4pIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHNldFJldmlld0luRm9jdXMoe1xuICAgICAgICAgICAgICAgIC4uLmZvY3VzZWRSZXZpZXcsXG4gICAgICAgICAgICAgICAgc2FmZXR5OiBhY3Rpb24uZGF0YS5zdGFycyA/IGFjdGlvbi5kYXRhLnN0YXJzICogMjAgOiBmb2N1c2VkUmV2aWV3LnNhZmV0eVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXZpZXdzW3VpZF0gJiYgcmV2aWV3c1t1aWRdW2RvbWFpbl0gJiYgcmV2aWV3c1t1aWRdW2RvbWFpbl0ucmF0aW5nID4gLTEpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHNldFJldmlld0luRm9jdXMocGFyc2VVc2VyUmV2aWV3KHJldmlld3NbdWlkXVtkb21haW5dLCB1aWQsIGRvbWFpbikpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BhdGNoKHNldFJldmlld0luRm9jdXMoe1xuICAgICAgICAgICAgLi4uQmxhbmtSZXZpZXcsXG4gICAgICAgICAgICBzYWZldHk6IGFjdGlvbi5kYXRhLnN0YXJzICogMjAsXG4gICAgICAgICAgICB0YXJnZXQ6IGRvbWFpbixcbiAgICAgICAgICAgIHVpZCxcbiAgICAgICAgfSkpO1xuICAgIH0sXG4gICAgW1VQREFURV9SRVZJRVddOiAoYWN0aW9uKSA9PiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdWlkLCBkb21haW4gfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICBjb25zdCB7IHJldmlld3MgfSA9IGdldFN0YXRlKCk7XG4gICAgICAgIGlmICghcmV2aWV3c1t1aWRdIHx8ICFyZXZpZXdzW3VpZF1bZG9tYWluXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRpc3BhdGNoKHNldFJldmlld0luRm9jdXMocGFyc2VVc2VyUmV2aWV3KHJldmlld3NbdWlkXVtkb21haW5dLCB1aWQsIGRvbWFpbikpKTtcbiAgICB9LFxuICAgIFtHRVRfTEVBS19EQVRBXTogKGFjdGlvbikgPT4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCB7IHRva2VuIH0gPSBnZXRTdGF0ZSgpLnVzZXI7XG4gICAgICAgIGlmICghdG9rZW4pIHJldHVybjtcbiAgICAgICAgY29uc3QgeyB1cGRhdGVkVHMgfSA9IGdldFN0YXRlKCkubGVha01vbml0b3Jpbmc7XG4gICAgICAgIFdvdEFwaS5nZXREYXRhTGVhayh0b2tlbiwgdXBkYXRlZFRzKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgIGRpc3BhdGNoKGdldExlYWtJbmZvQ29tcGxldGVkKHJlcywgYWN0aW9uLmluaXRpYXRlZCkpO1xuICAgICAgICAgICAgaWYgKCFhY3Rpb24uaW5pdGlhdGVkICYmIHJlcy5icmVhY2hlcyAmJiByZXMuYnJlYWNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgd2ViZXh0QXBpLmFjdGlvbi5zZXRCYWRnZVRleHQoeyB0ZXh0OiAnMScgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBbSEFORExFX1VTRVJfREFUQV9BTkFMWVRJQ1NdOiAoYWN0aW9uKSA9PiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgaXMgcmVzcG9uc2libGUgZm9yIHNlbmRpbmcgdGhlIGNsaWVudCdzIGRhdGEgdG8gdGhlIGFuYWx5dGljcyBzZXJ2ZXJcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZm9yVXBkYXRlIH0gPSBhY3Rpb24uZGF0YTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhRmVhdHVyZSA9IGZvclVwZGF0ZVtVU0VSX0RBVEFfQU5BTFlUSUNTXTtcbiAgICAgICAgICAgIGlmICh1c2VyRGF0YUZlYXR1cmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRmVhdHVyZSA9IGN1cnJlbnRTdGF0ZS5yZW1vdGVDb25maWcuZmVhdHVyZXNbVVNFUl9EQVRBX0FOQUxZVElDU107XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyckRhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyRGF0ZSA+IHVzZXJEYXRhRmVhdHVyZS5lbmREYXRlIHx8IChleGlzdGluZ0ZlYXR1cmUgJiYgKGV4aXN0aW5nRmVhdHVyZS52ZXJzaW9uID09PSB1c2VyRGF0YUZlYXR1cmUudmVyc2lvbikpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnRNZXNzYWdlID0gdXNlckRhdGFGZWF0dXJlLmV2ZW50TmFtZTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZHNUb1NlbmQgPSB1c2VyRGF0YUZlYXR1cmUuc3RhdGVGaWVsZHM7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbk51bWJlciA9IFZFUlNJT047XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBjdXJyZW50U3RhdGUudXNlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBpc1ByZW1pdW0gPSBjdXJyZW50VXNlciA/IGN1cnJlbnRVc2VyLmlzUHJlbWl1bVVzZXIgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7fTtcbiAgICAgICAgICAgICAgICBmaWVsZHNUb1NlbmQuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zW2ZpZWxkXSA9IGN1cnJlbnRTdGF0ZVtmaWVsZF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgV290QXBpLnNlbmRVc2VyRGF0YUFuYWx5dGljcyhldmVudE1lc3NhZ2UsIHZlcnNpb25OdW1iZXIsIGlzUHJlbWl1bSwgcGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgfSxcbiAgICBbVVBEQVRFX01BSUxDSElNUF9UQUddOiAoYWN0aW9uKSA9PiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IHRhZ3MgfSA9IGFjdGlvbi5kYXRhO1xuICAgICAgICAgICAgY29uc3QgeyB0b2tlbiB9ID0gZ2V0U3RhdGUoKS51c2VyO1xuICAgICAgICAgICAgV290QXBpLnVwZGF0ZU1haWxDaGltcFRhZ3ModGFncywgdG9rZW4pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG5cbiAgICAgICAgfVxuICAgIH0sXG4gICAgW0dFVF9JU19VU0VSX1RSSUFMSU5HXTogKCkgPT4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCB7IHVpZCwgdG9rZW4gfSA9IGdldFN0YXRlKCkudXNlcjtcbiAgICAgICAgV290QXBpLmdldElzVHJpYWxpbmcodWlkLCB0b2tlbilcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVHJpYWxpbmcgPSByZXN1bHQuaXNUcmlhbGluZztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kRGF0ZSA9IHJlc3VsdC5lbmREYXRlO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0geyBpc1RyaWFsaW5nOiBpc1RyaWFsaW5nLCB0cmlhbEVuZERhdGU6IGVuZERhdGUgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0geyBpc1RyaWFsaW5nOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFNBVkVfSVNfVVNFUl9UUklBTElORywgZGF0YTogZGF0YSB9KTtcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFNBVkVfSVNfVVNFUl9UUklBTElORywgZGF0YTogeyBpc1RyaWFsaW5nOiBmYWxzZSB9IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFsaWFzZXM7XG4iLCJpbXBvcnQge2FwcGx5TWlkZGxld2FyZSwgY29tcG9zZSwgY3JlYXRlU3RvcmV9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB0aHVua01pZGRsZXdhcmUgZnJvbSAncmVkdXgtdGh1bmsnO1xuaW1wb3J0IHsgcmVkdWNlcnMgfSBmcm9tICcuL3JlZHVjZXJzJztcbmltcG9ydCB7SVNfREVWfSBmcm9tICcuLi8uLi9zaGFyZWQvY29uc3RhbnRzJztcbmltcG9ydCB7YWxpYXMsIHdyYXBTdG9yZX0gZnJvbSAnd2ViZXh0LXJlZHV4JztcbmltcG9ydCB7YWxpYXNlc30gZnJvbSAnLi9hbGlhc2VzJztcbmltcG9ydCAqIGFzIHJlZHV4TG9nZ2VyIGZyb20gJ3JlZHV4LWxvZ2dlcic7XG5cbi8qIGVzbGludC1kaXNhYmxlICovXG4vKjxuZXc+Ki8gbGV0IFJlZHV4ID0ge2NvbXBvc2U6IGNvbXBvc2UsIGFwcGx5TWlkZGxld2FyZTogYXBwbHlNaWRkbGV3YXJlLCBjcmVhdGVTdG9yZTogY3JlYXRlU3RvcmV9OyAvKjwvbmV3PiovXG4vKjxuZXc+Ki8gbGV0IFJlZHV4VGh1bmsgPSB7ZGVmYXVsdDogdGh1bmtNaWRkbGV3YXJlfTsgLyo8L25ldz4qL1xuXG4vKiBlc2xpbnQtZW5hYmxlICovXG5cblxubGV0IGxhc3RTdGF0ZTtcblxuXG5jb25zdCBpbml0U3RvcmUgPSAoaW5pdGlhbFN0YXRlKSA9PiB7XG5cbiAgICBjb25zdCBtaWRkbGV3YXJlID0gW2FsaWFzKGFsaWFzZXMpLCBSZWR1eFRodW5rLmRlZmF1bHRdO1xuXG4gICAgaWYgKElTX0RFVikge1xuICAgICAgICBtaWRkbGV3YXJlLnB1c2gocmVkdXhMb2dnZXIubG9nZ2VyKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdG9yZSA9IFJlZHV4LmNyZWF0ZVN0b3JlKHJlZHVjZXJzLCBpbml0aWFsU3RhdGUsIFJlZHV4LmNvbXBvc2UoUmVkdXguYXBwbHlNaWRkbGV3YXJlKC4uLm1pZGRsZXdhcmUpKSk7XG4gICAgd3JhcFN0b3JlKHN0b3JlLCB7IHBvcnROYW1lOiAnNDg3MycgfSk7XG5cbiAgICBsYXN0U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiBzdG9yZTtcbn07XG5cbmV4cG9ydCB7IGluaXRTdG9yZSB9O1xuIiwiXG5pbXBvcnQgeyBTVE9SQUdFX1RPS0VOLCBXT1RfVFJBQ0VfSUQsIEFOQUxZVElDUyB9IGZyb20gJy4uL3NoYXJlZC9jb25zdGFudHMnO1xuaW1wb3J0IHsgd2ViZXh0QXBpLCBicm93c2VyTmFtZSwgY29tcGFyZVZlcnNpb25zIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzJztcbmltcG9ydCBEZWZhdWx0U3RhdGUgZnJvbSAnLi9hcHAvZGVmYXVsdFN0YXRlJztcbmltcG9ydCBNYWluQXBwIGZyb20gJy4vYXBwL21haW4nO1xuaW1wb3J0IHsgV09UX0NPTkZJRyB9IGZyb20gJy4vYXBwL3dvdC1jb25maWcnO1xuaW1wb3J0IHtcbiAgICBHRVRfVVNFUl9QTEFOLCBzZXRDdXJyZW50VmVyc2lvbiwgc2V0U2hvd1doYXRzTmV3LCB3b3RVcGdyYWRlXG59IGZyb20gJy4vYXBwL2FjdGlvbnMnO1xuaW1wb3J0IHsgbWVyZ2VTdGF0ZSB9IGZyb20gJy4vYXBwL2NvbW1vbi9iYWNrZ3JvdW5kVXRpbHMnO1xuaW1wb3J0IFJlbW90ZUNvbmZpZ0hhbmRsZXIgZnJvbSAnLi9hcHAvcmVtb3RlLWNvbmZpZy1oYW5kbGVyJztcbmltcG9ydCBXb3RBcGkgZnJvbSAnLi4vc2hhcmVkL3dvdEFwaSc7XG5pbXBvcnQge2luaXRTdG9yZX0gZnJvbSAnLi9hcHAvc3RvcmUnO1xuXG5cblxuY29uc3QgaGFuZGxlVmVyc2lvblVwZGF0ZXMgPSAoc3RvcmUsIGlzVXBkYXRlKSA9PiB7XG4gICAgaWYgKGlzVXBkYXRlKSB7XG4gICAgICAgIHN0b3JlLmRpc3BhdGNoKHdvdFVwZ3JhZGUoKSk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3VmVyc2lvbiA9IHdlYmV4dEFwaS5ydW50aW1lLmdldE1hbmlmZXN0KCkudmVyc2lvbjtcbiAgICBjb25zdCB7IHZlcnNpb25OdW1iZXIsIHdoYXRzTmV3U2hvd25MYXN0VmVyc2lvbiB9ID0gc3RvcmUuZ2V0U3RhdGUoKS52ZXJzaW9uO1xuICAgIGNvbnN0IHsgc2hvd1doYXRzTmV3Rm9yVmVyc2lvbiwgbmV3RmVhdHVyZXMgfSA9IFdPVF9DT05GSUc7XG4gICAgY29uc3Qgc2hvdWxkU2hvd1doYXRzTmV3ID0gaXNVcGRhdGUgJiYgY29tcGFyZVZlcnNpb25zKHNob3dXaGF0c05ld0ZvclZlcnNpb24sIHdoYXRzTmV3U2hvd25MYXN0VmVyc2lvbikgPiAwO1xuICAgIGlmIChuZXdWZXJzaW9uICE9PSB2ZXJzaW9uTnVtYmVyKSB7XG4gICAgICAgIGlmIChzaG91bGRTaG93V2hhdHNOZXcpIHtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKHNldFNob3dXaGF0c05ldyh7IHNob3dXaGF0c05ldzogdHJ1ZSwgbmV3RmVhdHVyZXMgfSkpO1xuICAgICAgICAgICAgd2ViZXh0QXBpLmFjdGlvbi5zZXRCYWRnZVRleHQoeyB0ZXh0OiAnMScgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goc2V0Q3VycmVudFZlcnNpb24obmV3VmVyc2lvbikpO1xuICAgIH1cbn07XG5cbmxldCBtYWluQXBwID0gbnVsbDtcblxuXG5sZXQgaXNJbml0ID0gZmFsc2U7XG5jb25zdCBpbml0QXBwID0gKGlzV09UVXBkYXRlKSA9PiB7XG5cbiAgICBpZiAoaXNJbml0KSByZXR1cm47XG4gICAgaXNJbml0ID0gdHJ1ZTtcblxuICAgIHdlYmV4dEFwaS5zdG9yYWdlLmxvY2FsLmdldChTVE9SQUdFX1RPS0VOLCAodmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFN0YXRlID0gRGVmYXVsdFN0YXRlLmdldERlZmF1bHRTdGF0ZU9iamVjdCh0cnVlKTtcblxuICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSB2YWx1ZVtTVE9SQUdFX1RPS0VOXSB8fCB7fTtcblxuICAgICAgICBjb25zdCBtZXJnZWRTdGF0ZSA9IG1lcmdlU3RhdGUoY3VycmVudFN0YXRlLCBkZWZhdWx0U3RhdGUpO1xuICAgICAgICBXT1RfVFJBQ0VfSUQudmFsdWUgPSBtZXJnZWRTdGF0ZS53b3RUcmFjZUlkO1xuXG4gICAgICAgIGNvbnN0IHN0b3JlID0gaW5pdFN0b3JlKG1lcmdlZFN0YXRlKTtcblxuICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIG1haW5BcHAgPSBuZXcgTWFpbkFwcChzdG9yZSwgaXNXT1RVcGRhdGUpO1xuICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goeyB0eXBlOiBHRVRfVVNFUl9QTEFOIH0pO1xuICAgICAgICAgICAgYXdhaXQgbmV3IFJlbW90ZUNvbmZpZ0hhbmRsZXIoc3RvcmUpLmluaXQoaXNXT1RVcGRhdGUpO1xuICAgICAgICAgICAgaGFuZGxlVmVyc2lvblVwZGF0ZXMoc3RvcmUsIGlzV09UVXBkYXRlKTtcbiAgICAgICAgfSwgYnJvd3Nlck5hbWUgPT09ICdmaXJlZm94JyA/IDEwMDAgOiAwKTtcbiAgICB9KTtcbn07XG5cbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncXVlcnlkYXRhJywgZXZlbnQgPT4ge1xuICAgIGlmIChtYWluQXBwKSB7XG4gICAgICAgIG1haW5BcHAub25RdWVyeURhdGFFdmVudChldmVudCk7XG4gICAgfVxufSk7XG5cbndlYmV4dEFwaS5ydW50aW1lLm9uSW5zdGFsbGVkLmFkZExpc3RlbmVyKChkZXRhaWxzKSA9PiB7XG4gICAgaW5pdEFwcChkZXRhaWxzLnJlYXNvbiA9PT0gJ3VwZGF0ZScpO1xuICAgIGNvbnN0IHZlcnNpb24gPSB3ZWJleHRBcGkucnVudGltZS5nZXRNYW5pZmVzdCgpLnZlcnNpb247XG4gICAgY29uc3Qgb3MgPSAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdNYWMnKSAhPT0gLTEpID8gJ21hYycgOiAobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCd3aW4nKSAhPT0gLTEpID8gJ3dpbmRvd3MnIDogJyc7XG4gICAgY29uc3QgZXZlbnRQYXlsb2FkID0geyBvczogb3MsIGV2ZW50U3BlY2lmaWNGaWVsZHM6IHt2ZXJzaW9uX251bWJlcjogdmVyc2lvbiwgZnVsbF91c2VyX2FnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50fX07XG5cbiAgICBpZiAoZGV0YWlscy5yZWFzb24gPT09ICdpbnN0YWxsJykge1xuICAgICAgICBXb3RBcGkuc2VuZEFuYWx5dGljc0Zyb21CYWNrZ3JvdW5kKEFOQUxZVElDUy5BTkFMWVRJQ1NfRVZFTlRfVFlQRVMuRVhURU5TSU9OX0lOU1RBTEwsIFwiXCIsXCJcIiwgZXZlbnRQYXlsb2FkKTtcbiAgICB9IGVsc2UgaWYgKGRldGFpbHMucmVhc29uID09PSAndXBkYXRlJykge1xuICAgICAgICBXb3RBcGkuc2VuZEFuYWx5dGljc0Zyb21CYWNrZ3JvdW5kKEFOQUxZVElDUy5BTkFMWVRJQ1NfRVZFTlRfVFlQRVMuRVhURU5TSU9OX1VQR1JBREUsIFwiXCIsXCJcIiwgZXZlbnRQYXlsb2FkKTtcbiAgICB9XG59KTtcblxuLy8gb24gUmVzdGFydCB0aGUgb24gaW5zdGFsbGVkICBldmVudCBub3QgZmlyZWRcbnNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGluaXRBcHAoZmFsc2UpO1xufSwgNTAwKTtcblxuY29uc3QgX3dvdFBsb3lkZXIgPSBuZXcgKGNsYXNzIF9Xb3RQbG95ZGVyQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9wbG95cyA9IFtdO1xuICAgICAgICB0aGlzLmxpbWl0ID0gMTA7XG4gICAgICAgIHRoaXMudiA9IDEuMDE7XG5cbiAgICAgICAgdGhpcy5hZGRHYXNMaXN0ZW5lcigpO1xuICAgIH1cblxuICAgIGdldE1ldGEoKSB7XG4gICAgICAgIGNvbnN0IHB5bWV0YSA9IHsgdHlwZTogJ3B5bWV0YScsIGw6IHRoaXMubGltaXQsIHY6IHRoaXMudiB9O1xuICAgICAgICBpZiAodGhpcy5nYXN2KSB7IHB5bWV0YS5nYXN2ID0gdGhpcy5nYXN2OyB9XG4gICAgICAgIHJldHVybiBweW1ldGE7XG4gICAgfVxuXG4gICAgcHVzaChwbG95KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wbG95cy5wdXNoKHBsb3kpO1xuICAgIH1cblxuICAgIHVuc2hpZnQocGxveSkge1xuICAgICAgICB0aGlzLl9wbG95cy51bnNoaWZ0KHBsb3kpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRBbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wbG95cztcbiAgICB9XG5cbiAgICB0YWtlKGxpbWl0ID0gMCkge1xuICAgICAgICBpZiAobGltaXQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRha2VBbGwoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGwoKS5zcGxpY2UoMCwgbGltaXQpO1xuICAgIH1cblxuICAgIHRha2VBbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wbG95cy5zcGxpY2UoMCwgdGhpcy5fcGxveXMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBoYXNJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bsb3lzLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgdGFrZUFuZFBhY2sobGltaXQgPSAwKSB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoW3RoaXMuZ2V0TWV0YSgpLCAuLi50aGlzLnRha2UobGltaXQpXSkpO1xuICAgIH1cblxuICAgIGxraWZ5KHR5cGVJbmZvLCBkYXRhLCBzZW5kZXIpIHtcbiAgICAgICAgY29uc3QgaXNGYXMgPSB0eXBlSW5mby50eXBlID09PSAnZmFzJztcbiAgICAgICAgY29uc3QgaXNHYXMgPSB0eXBlSW5mby50eXBlID09PSAnZ2FzJztcbiAgICAgICAgY29uc3QgdGFiSW5mbyA9IHtcbiAgICAgICAgICAgIHRpZDogc2VuZGVyLnRhYi5pZCxcbiAgICAgICAgICAgIHR1cmw6IGlzRmFzID8gdGhpcy5nZXREb21haW5OYW1lKHNlbmRlci50YWIudXJsKSA6IGRlY29kZVVSSUNvbXBvbmVudChzZW5kZXIudGFiLnVybClcbiAgICAgICAgfTtcbiAgICAgICAgZGF0YS5tZXRhID0ge1xuICAgICAgICAgICAgLi4udGFiSW5mbyxcbiAgICAgICAgICAgIHN1YnR5cGU6IHR5cGVJbmZvLnN1YnR5cGUsXG4gICAgICAgICAgICB2OiB0eXBlSW5mby52XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZvcnQgPSB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlSW5mby50eXBlLFxuICAgICAgICAgICAgZGF0YVxuICAgICAgICB9O1xuICAgICAgICBpZiAoaXNHYXMgJiYgc2VuZGVyLmZyYW1lSWQgIT09IDAgJiYgZm9ydC5kYXRhLmZzKSB7IGZvcnQuZGF0YS5mcy5wdXNoKHNlbmRlci5mcmFtZUlkKTsgfVxuICAgICAgICBpZiAoaXNGYXMgJiYgZGF0YS5lbGlkKSB7XG4gICAgICAgICAgICBjb25zdCBvbCA9IHRoaXMuZ2V0QWxsKClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGUgPT4gZS50eXBlID09PSAnZmFzJyAmJiBlLmRhdGEuZWxpZCA9PT0gZGF0YS5lbGlkKVswXTtcbiAgICAgICAgICAgIGlmIChvbCkgT2JqZWN0LmFzc2lnbihvbC5kYXRhLCBkYXRhKTtcbiAgICAgICAgICAgIGVsc2UgdGhpcy5wdXNoKGZvcnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wdXNoKGZvcnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkR2FzTGlzdGVuZXIoKSB7XG4gICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlR2FzQ29uZmlnVmVyc2lvbicsIGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLmdhc3YpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdhc3YgPSBlLmRldGFpbC5nYXN2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59KSgpO1xuXG5cblxuKGZ1bmN0aW9uIG5vb3BlbmVyKCkge1xuICAgIHNlbGYueW9kdWxlcyA9IHNlbGYueW9kdWxlcyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGluaXQoVGFibGlzdCwgQ29udGVudFR5cGVIZWxwZXIpIHtcbiAgICAgICAgY29uc3QgbW9kdWxlID0geW9kdWxlcy5Ob29wZW5lcjtcbiAgICAgICAgY29uc3QgdGFibGlzdCA9IFRhYmxpc3QuaW5zdGFuY2UsXG4gICAgICAgICAgICBjb250ZW50VHlwZUhlbHBlciA9IENvbnRlbnRUeXBlSGVscGVyLmluc3RhbmNlO1xuICAgICAgICBtb2R1bGUuY2xhc3MgPSBjbGFzcyBOb29wZW5lciB7XG4gICAgICAgICAgICBoYW5kbGVSZXF1ZXN0KHJlcXVlc3QsIHNlbmRlcikge1xuICAgICAgICAgICAgICAgIGlmICghY29udGVudFR5cGVIZWxwZXIuaXNWYWxpZFJlcXVlc3QocmVxdWVzdCwgJ21lc3NhZ2VfdHlwZScsICdyZWwnKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVsLCBiYWNrZ3JvdW5kIH0gPSByZXF1ZXN0LFxuICAgICAgICAgICAgICAgIHRhYiA9IHRhYmxpc3QuZ2V0QnlJZChzZW5kZXIudGFiLmlkKTtcbiAgICAgICAgICAgICAgICBpZiAocmVsIGluc3RhbmNlb2YgQXJyYXkgJiYgcmVsLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFiLnNldFJlbHR5cGUocmVsKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbC5mb3JFYWNoKHIgPT4gdGFiLmFkZE1ldGEocikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VGFiUmVsdHlwZShldmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9lTmFtZSA9ICd1cG5hYmxhJztcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnRUeXBlSGVscGVyLmlzVmFsaWRSZXF1ZXN0KGV2ZW50LCAndHlwZScsIF9lTmFtZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgIWNvbnRlbnRUeXBlSGVscGVyLmlzVmFsaWREZXRhaWxzKGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYWIgPSB0YWJsaXN0LmdldEJ5SWQoZXZlbnQuZGV0YWlsLnRhYklkKSxcbiAgICAgICAgICAgICAgICAgICAgb3BlbmVyVGFiID0gdGFibGlzdC5nZXRCeUlkKGV2ZW50LmRldGFpbC5vcGVuZXJJZCksXG4gICAgICAgICAgICAgICAgICAgIHJlbHR5cGUgPSBvcGVuZXJUYWIgJiYgb3BlbmVyVGFiLmdldFJlbHR5cGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhYiAmJiByZWx0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWx0eXBlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbHR5cGUuZm9yRWFjaChyID0+IGN1cnJlbnRUYWIuYWRkTWV0YShyKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFiLmFkZE1ldGEocmVsdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3BlbmVyVGFiLmNsZWFyUmVsdHlwZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZExpc3RlbmVycygpIHtcbiAgICAgICAgICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIodGhpcy5oYW5kbGVSZXF1ZXN0LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigndXBuYWJsYScsIHRoaXMuc2V0VGFiUmVsdHlwZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbW9kdWxlLmluc3RhbmNlID0gbmV3IG1vZHVsZS5jbGFzcygpO1xuICAgICAgICBtb2R1bGUuaW5zdGFuY2UuYWRkTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIHlvZHVsZXMuTm9vcGVuZXIgPSB7IGluaXQsIGRlcHM6IFtcIlRhYmxpc3RcIiwgXCJDb250ZW50VHlwZUhlbHBlclwiXSB9O1xufSkoKTtcblxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=