class SerpPopupFooter extends React.Component{constructor(e){super(e),this.props=e}onManageClick(){const e=this.props.user.isPremiumUser;GA("Search Popup","Manage",e?"Premium User":"Free User");const t=webextApi.runtime.getURL("/options.html#"+SETTINGS_SECTIONS.safeSearch);e?goToTab(MY_DASHBOARD_URL+"?wot_source=search"):goToTab(t)}getStatusText(e,t,s){const o=this.props.isLeakMonitoringOn;if(e){if(s&&o){let e=translate("issuesFound").replace("%ISSUES%",t);return 1===t&&(e=e.replace("issues","issue")),e}return translate("browserProtected")}return translate("browserNotProtected")}getStatusClass(e,t){return e?t?" breached":" protected":""}render(){var e=this.props;const t=e.user,s=e.breaches,o=e.inBottomOfPage,r=t.isPremiumUser,a=s.filter(e=>!e.isDismissed),n=!(!a||!a.length);return React.createElement("div",{className:"serp-popup-footer"+(o?" wot_popup_bottom_of_screen":"")},React.createElement("div",{className:"serp-popup-footer__status"+this.getStatusClass(r,n)},React.createElement("div",{className:"circle"}),React.createElement("div",null,this.getStatusText(r,a.length,n))),React.createElement("div",{className:"serp-popup-footer__cta",onClick:()=>this.onManageClick()},translate("manage")))}}function mapStateToProps(e,t){const s=e.ratings[t.info.host];return{commentsCount:s?s.commentsCount:void 0,user:e.user,breaches:e.leakMonitoring.breaches,isLeakMonitoringOn:e.settings.leakMonitoring}}SerpPopupFooter.propTypes={info:React.PropTypes.object.isRequired,inBottomOfPage:React.PropTypes.bool},SerpPopupFooter=ReactRedux.connect(mapStateToProps)(SerpPopupFooter);