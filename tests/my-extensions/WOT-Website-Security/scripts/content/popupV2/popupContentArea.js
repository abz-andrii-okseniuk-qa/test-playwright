class PopupContentArea extends React.Component{constructor(e){super(e),this.popupAnalytics=this.popupAnalytics.bind(this),this.openDashboard=this.openDashboard.bind(this),this.safetyMetadata={[SAFE]:{aboveTitle:"securityScore",title:"trustedSite",className:""},[SUSPICIOUS]:{aboveTitle:"securityRiskDetected",title:"suspiciousSite",className:"wot-suspicious"},[NOT_SAFE]:{aboveTitle:"securityRiskDetected",title:"untrustedSite",className:"wot-not-safe"},[UNKNOWN]:{aboveTitle:"securityScore",title:"unknownSite",className:"wot-unknown"}}}componentDidMount(){this.popupAnalytics(ANALYTICS.ANALYTICS_EVENT_TYPES.POPUP_V2.EXTENSION_POPUP_VIEW)}popupAnalytics(e){let t="";switch(this.props.info.safety){case SAFE:t="Green";break;case SUSPICIOUS:t="Orange";break;case NOT_SAFE:t="Red";break;case UNKNOWN:default:t="Gray"}const a={eventSpecificFields:{website_status:t}};WotApi.sendAnalyticsFromBackground(e,"","",a)}onReviewsLinkClick(){const e=this.props.info.commentsCount;e&&e>0?this.openScorecard():this.addReview()}openScorecard(){const e={[WOT_PRODUCT]:"readMoreReviews"};this.popupAnalytics(ANALYTICS.ANALYTICS_EVENT_TYPES.POPUP_V2.EXTENSION_READ_REVIEWS_CLICK),webextApi.runtime.sendMessage({name:OPEN_TAB_MESSAGE,url:buildUrl(SCORECARD_PAGE_URL+this.props.info.host,e)})}addReview(){const e=this.props.user.uid;e&&this.props.newReivew(e,this.props.info.host),window.parent.postMessage({type:OPEN_ADD_REVIEW},"*")}openDashboard(){this.popupAnalytics(ANALYTICS.ANALYTICS_EVENT_TYPES.POPUP_V2.EXTENSION_MANAGE_PROTECTION_CLICK),goToTab(MY_DASHBOARD_LINK+"?wot_source=popup")}openTrackersPage(e){const t=e?ANALYTICS.ANALYTICS_EVENT_TYPES.POPUP_V2.EXTENSION_MANAGE_TRACKER_CLICK:ANALYTICS.ANALYTICS_EVENT_TYPES.POPUP_V2.EXTENSION_BLOCK_TRACKER_CLICK;this.popupAnalytics(t),goToTab(webextApi.runtime.getURL("/options.html#"+SETTINGS_SECTIONS.digitalTrackingProtection))}render(){var e=this.props.info;const t=e.host,a=e.faviconUrl,s=e.safety,o=e.childSafety,i=e.commentsCount;var n=this.props.trackerBlockerData;const c=n.totalCount,p=n.blockedCount>0,r=+this.props.info.rating,l=+this.props.info.confidence;const u=getRatingStarsAndColor(r,l).stars,m=this.safetyMetadata[s||UNKNOWN],E=o===NOT_SAFE;return React.createElement("div",{className:"wot-popup-content-area"},React.createElement("div",{className:"wot-popup-content-area_top-container"},React.createElement("img",{className:"wot-popup-content-area_top-container_logo",src:a}),React.createElement("div",{className:"wot-popup-content-area_top-container_host-name"},t)),React.createElement("div",{className:"wot-popup-rating-container"},React.createElement("div",{className:"wot-popup-rating-container_top"},React.createElement("div",{className:"wot-popup-trusted-badge "+m.className}),React.createElement("div",{className:"wot-popup-trusted-text"},translate(m.title)),E&&React.createElement(SvgIcon,{className:"wot-popup-18-icon",svg:"18+_filled.svg"})),React.createElement("div",{className:"wot-popup-rating-container_main"},React.createElement("div",{className:"wot-popup-rating-text"},((r||0)/20).toFixed(1)),React.createElement("div",{className:"wot-popup-stars-container"},u)),void 0===i?React.createElement(LottieAnimation,{animationName:"popup-reviews-count.json"}):React.createElement("div",{className:"wot-popup-read-reviews-cta",onClick:this.onReviewsLinkClick.bind(this)},translate(0===i?"addReview":"readReviews"))),React.createElement("div",{className:"wot-popup-trackers-container"},React.createElement("div",{className:"wot-popup-trackers-number-container"},!p&&c>0&&React.createElement("div",{className:"wot-popup-trackers-alert"}),React.createElement("div",{className:"wot-popup-trackers-number "+(!p&&c>0?"orange":"")},c)),React.createElement("div",{className:"wot-popup-trackers-subtitle"},p?translate("trackersBlocked"):translate("servicesTrackingYou")),React.createElement("div",{className:"wot-popup-trackers-cta",onClick:()=>{this.openTrackersPage(p)}},p?translate("manage"):translate("blockTrackers"))),React.createElement(PopupInformationSection,{user:this.props.user,leakMonitoring:this.props.leakMonitoring,popupV2:this.props.popupV2,settings:this.props.settings,getIsUserTrialing:this.props.getIsUserTrialing,popupAnalytics:this.popupAnalytics}),React.createElement("div",{className:"wot-popup-cta-button",onClick:this.openDashboard},React.createElement("div",{className:"wot-popup-cta-text"},translate("manageProtection")),React.createElement("img",{className:"wot-popup-cta-icon",src:webextApi.runtime.getURL("/images/PopupV2/whiteArrow.svg")})))}}