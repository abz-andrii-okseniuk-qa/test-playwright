class PopupInformationSection extends React.Component{constructor(t){super(t),this.props.getIsUserTrialing(),this.contentMap={normal:{title:translate("browserSecured"),subtitle:`${translate("lastScanned")}: ${translate("justNow")}`,imageSrc:"scanOk"},leaksFound:{title:translate("newDataLeaksFound"),ctaText:translate("checkLeaks"),imageSrc:"scanAlert",ctaAction:()=>{this.props.popupAnalytics(ANALYTICS.ANALYTICS_EVENT_TYPES.POPUP_V2.EXTENSION_CHECK_LEAKS_CLICK),goToTab(webextApi.runtime.getURL("/options.html#"+SETTINGS_SECTIONS.identityProtection))}},freeUser:{title:translate("browserNotProtected"),ctaText:translate("activateProtection"),imageSrc:"upgradeDiamond",ctaAction:()=>{this.props.popupAnalytics(ANALYTICS.ANALYTICS_EVENT_TYPES.POPUP_V2.EXTENSION_ACTIVATE_PROTECTION_CLICK),goToTab(MY_DASHBOARD_LINK+"?wot_pm=true")}}}}getLastScanLabel(t){t=new Date(t);const e=new Date,a=Math.abs(e.getTime()-t.getTime()),n=Math.floor(Math.abs(a)/1e3);let i=Math.floor(n/60);const o=Math.floor(i/60);return i%=60,o>1?i>1?translate("hoursMinutesAgo").replace("%1%",""+o).replace("%2%",""+i):translate("hoursAgo").replace("%1%",""+o):1===o?i>1?translate("hourMinutesAgo").replace("%2%",""+i):translate("hourAgo"):i>1?translate("minutesAgo").replace("%1%",""+i):1===i?translate("minuteAgo"):translate("justNow")}daysLeftInTrial(t){const e=t.isTrialing,a=t.trialEndDate,n=(new Date).getTime();if(e){const t=new Date(a).getTime(),e=Math.abs(t-n);return Math.ceil(e/ONE_DAY)}return-1}render(){var t=this.props;const e=t.user,a=t.leakMonitoring,n=t.popupV2,i=t.settings,o=e.isPremiumUser,r=i.leakMonitoring&&a&&a.breaches.filter(t=>!t.isDismissed),s=!(!r||!r.length),c=this.daysLeftInTrial(e),l=o&&c<=POPUP_FREE_TRAIL_END_ALERT_DAYS_BEFORE&&c>0;let p=this.contentMap.normal,m="",u="";return o?s?(p=this.contentMap.leaksFound,p.title=p.title.replace("%1%",""+r.length),m="orangeNotification"):p.subtitle=`${translate("lastScanned")}: ${this.getLastScanLabel(n.scanTime)}`:(p=this.contentMap.freeUser,m="redNotification"),l&&(m="orangeNotification",u=translate("freeTrialEndend").replace("%2%",""+c)),React.createElement("div",{className:"wot-popup-information-container"},React.createElement("div",{className:"wot-popup-information-image-container "+m},React.createElement("img",{className:"wot-popup-information-image",src:webextApi.runtime.getURL(`/images/PopupV2/${p.imageSrc}.svg`)})),React.createElement("div",{className:"wot-popup-information-text-container"},React.createElement("div",{className:"wot-popup-information-title"},p.title),p.ctaText&&React.createElement("div",{className:"wot-popup-information-cta",onClick:p.ctaAction},p.ctaText),l&&React.createElement("div",{className:"wot-popup-information-trial-alert"},u),p.subtitle&&React.createElement("div",{className:"wot-popup-information-subtitle"},p.subtitle)))}}